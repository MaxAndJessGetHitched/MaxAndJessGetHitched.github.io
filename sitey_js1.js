function onDialogCommitted(n,t,i,r){OperationsManager.beginAtomicBatch(!1,"Change "+n.elementType.title+" items");OperationsManager.addRememberSectionsLayoutOperation(n);var e=r.itemsData,u=r.template,s=r.itemsFields,h=r.itemsMap,o=i.currentTemplate,f=i.currentItemsInfo;u&&(o&&u.id===o.id||(u.structures&&(u=$.deepCloneObject(u)),o?n.replaceTemplate(u,{fieldName:n.elementType.itemName}):n.replaceTemplate(u,{fieldName:n.elementType.itemName,templateName:"New Template"})));e&&(f!==null&&f!==undefined&&$.defaultEqualityComparer(e,f.currentData)&&$.defaultEqualityComparer(h,f.itemsMap)||n.setPropertyValue("dataInfo",{currentData:e,itemsMap:h}));s&&t.updateItemFields(s);OperationsManager.endAtomicBatch()}function regiterDataSourceItems(){DataSourcesManager.registerDataSourceItemFields([{isEditable:!1,name:"index",type:"index",iconClass:"sprite-icon sprite-tool-category-text",getElementTypeName:function(n){return n?ElementsTypes.freeText.name:ElementsTypes.label.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[ElementsTypes.label.name,ElementsTypes.freeText.name])},getContentType:function(){return DataSourceItemsData.Text},getDefaultValue:function(){return 1},initialPropertiesValues:{Default:{text:"1",horizontalAlign:HorizontalAlignment.Centered,verticalAlignment:VerticalAlignment.Centered,fontSize:12,sizeAndPosition:{width:60,height:25},order:102,backgroundColor:"transparent"}},title:"Index",isTarget:$.returnFalse,isText:$.returnTrue},{isEditable:!1,name:"date",type:"date",iconClass:"sprite-icon sprite-tool-category-text",getElementTypeName:function(){return ElementsTypes.date.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.Date},getDefaultValue:function(){return 1},initialPropertiesValues:{Default:{horizontalAlign:HorizontalAlignment.Centered,verticalAlignment:VerticalAlignment.Centered,namedTextStyle:NamedTextStyles.HeadingS,fontSize:null,font:null,fontColor:null,sizeAndPosition:{width:130,height:30}},page:{namedTextStyle:NamedTextStyles.HeadingS,fontSize:null,font:null,fontColor:null}},title:"Date",isTarget:$.returnFalse,isText:$.returnTrue},{isEditable:!0,name:"image",type:"image",iconClass:"sprite-icon sprite-tool-category-images",getElementTypeName:function(){return ElementsTypes.image.name},convertValueToFieldValue:function(n,t){return $.quickExtend({},t,{imageUrl:n})},convertFieldValueToValue:function(n){return n?n.imageUrl:n},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.Image},getDefaultValue:$.returnUndefined,initialPropertiesValues:{Default:{imageUrl:DesignerManager.getDefaultImage()}},title:"Image",isTarget:$.returnTrue,isText:$.returnFalse},{isEditable:!0,name:"icon",type:"icon",convertValueToFieldValue:function(n,t){return $.quickExtend({},t,{imageUrl:n})},convertFieldValueToValue:function(n){return n?n.imageUrl:n},iconClass:"sprite-icon sprite-tool-category-images",getElementTypeName:function(){return ElementsTypes.image.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.Icon},getDefaultValue:$.returnUndefined,initialPropertiesValues:{Default:{imageUrl:DesignerManager.getDefaultIcon()}},title:"Icon",isTarget:$.returnFalse,isText:$.returnFalse},{isEditable:!0,name:"fontIcon",type:"fontIcon",iconClass:"sprite-icon sprite-tool-category-images",getElementTypeName:function(){return ElementsTypes.Icon.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.FontIcon},getDefaultValue:function(){return{collectionName:"public-font-icons",iconName:"user"}},initialPropertiesValues:{Default:{iconReference:{collectionName:"public-font-icons",iconName:"user"}}},title:"Icon",isTarget:$.returnTrue,isText:$.returnFalse},{isEditable:!0,name:"title",type:"title",iconClass:"sprite-icon sprite-tool-category-text",getElementTypeName:function(n){return n?ElementsTypes.freeText.name:ElementsTypes.label.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[ElementsTypes.label.name,ElementsTypes.freeText.name])},getContentType:function(){return DataSourceItemsData.Text},getDefaultValue:$.returnEmptyString,initialPropertiesValues:{page:{namedTextStyle:NamedTextStyles.PageTitle,fontSize:null,font:null,fontColor:null}},title:"Title",isTarget:$.returnTrue,isText:$.returnTrue},{isEditable:!0,name:"description",type:"description",iconClass:"sprite-icon sprite-tool-category-text",getElementTypeName:function(n){return n?ElementsTypes.freeText.name:ElementsTypes.label.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[ElementsTypes.label.name,ElementsTypes.freeText.name])},getDefaultValue:$.returnEmptyString,initialPropertiesValues:{Default:{text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut ",horizontalAlign:HorizontalAlignment.Centered,verticalAlignment:VerticalAlignment.Centered,fontSize:13,sizeAndPosition:{width:220,height:60},order:103,backgroundColor:"transparent"},page:{namedTextStyle:NamedTextStyles.BodyM,fontSize:null,font:null,fontColor:null}},title:"Description",getContentType:function(){return DataSourceItemsData.TextArea},isTarget:$.returnTrue,isText:$.returnTrue},{isEditable:!0,name:"content",type:"content",iconClass:"sprite-icon sprite-tool-category-text",getElementTypeName:function(){return ElementsTypes.RichContent.name},supportElementContentBinding:function(n){return n===this.getElementTypeName()},getDefaultValue:$.returnEmptyString,title:"Rich Content",getContentType:function(){return DataSourceItemsData.Content},isTarget:$.returnTrue,isText:$.returnTrue},{isEditable:!0,name:"alt",type:"alt",getContentType:function(){return DataSourceItemsData.Alt},supportElementContentBinding:$.returnFalse,getDefaultValue:$.returnEmptyString,title:"Alt Tag",isTarget:$.returnTrue,isText:$.returnTrue},{isEditable:!0,name:"video",type:"video",iconClass:"sprite-icon sprite-tool-category-video",getElementTypeName:function(){return ElementsTypes.VideoPlayer.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.Video},getDefaultValue:$.returnUndefined,initialPropertiesValues:{Default:{videoType:DesignerManager.VideosIds[0].videoType,videoId:DesignerManager.VideosIds[0].videoId}},title:"Video",isTarget:$.returnTrue,isText:$.returnFalse},{isEditable:!1,name:"paypal",type:"paypal",iconClass:"sprite-icon sprite-tool-category-video",getElementTypeName:function(){return ElementsTypes.paypalButton.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.PayPal},title:"PayPal Button",isTarget:$.returnFalse,isText:$.returnFalse},{isEditable:!0,name:"input",type:"input",getElementTypeName:function(){return ElementsTypes.TextInputField.name},supportElementContentBinding:function(n){return ArrayUtils.contains(n,[this.getElementTypeName()])},getContentType:function(){return DataSourceItemsData.TextInput},title:"Text Input",isTarget:$.returnFalse,isText:$.returnFalse},{isEditable:!0,name:"link",type:"link",supportElementContentBinding:$.returnFalse,getContentType:function(){return DataSourceItemsData.Link},getDefaultValue:$.returnUndefined,title:"Link",isTarget:function(n){return n!==ElementsTypes.MenuButton&&n!==ElementsTypes.Menu},isText:$.returnFalse}])}function caclulateFixedSize(n,t,i){var r,e=i.calculatedMaxSize,u=i.calculatedFixedSize,f;return r=$.isFunction(n)?n(u,t):n,r.width=r.width!==undefined?Math.floor(r.width):undefined,r.height=r.height!==undefined?Math.floor(r.height):undefined,f=t.getInstance().getItemMainParent(),u&&(f.isBlock()||f.isFillHorizontal()||!r.width&&r.width!==0)&&(r.width=u.width),u&&(f.isFillVertical()||!r.height&&r.height!==0)&&(r.height=u.height),r.width>e.width&&(r.width=e.width),r}function $instance(n){if(n===null)return null;if(n){if(typeof n=="object"&&n._isInstance_)return n;if(typeof n=="string"||typeof n=="string")return ElementsManager.getInstanceByID(n)}return ElementsManager.getInstanceData(n)}function initializeDefaultSkins(){DefaultSkinsTypes[ElementsTypes.skinImageElement.name]={type:SkinsType.Hierarchy,hierarchy:{structures:[{type:ElementsTypes.skinHierarchyBox.name,elementProperties:{sizeAndPosition:{width:100,height:100,top:0,left:0}}}]}};DefaultSkinsTypes[ElementsTypes.SkinButtonElement.name]={type:SkinsType.Hierarchy,hierarchy:{structures:[{type:ElementsTypes.skinHierarchyBox.name,elementProperties:{sizeAndPosition:{width:100,height:100,top:0,left:0}}}]}}}function canRedropTo(n){var t=this;return n.isDescendantOf(t)?!0:!1}var Theme={ComboBox:{Light:"scrollbar-2-theme fields-set-1"}},ErrorHandler,PrototypeUtils,JSON,DeferredObject,OperationsQueue,WzPublicIcons,TextBoxTypes,Scope,OperationsBatch,PathUtils,Browser,BrowserVersion,CollectionUtils,ArrayUtils,ExtensionUtils,StringBuilder,StatesGroups,QuickStates,ToggleButtonStates,LayoutHelper,ImagesLoader,Dialog,DictionaryUtils,PanelAppearance,PanelsManager,Panels,Base64,GradientStopsTypes,ContextValue,PoolingController,ObservableObject,TransitionOrder,RemoteSettings,FontDetect,StateBinding,BindingManager,DataArrangements,DropDownNavigationDesktopPanel,CommonAssets,PropertiesBindingTypes,NavigationDuringTransitionBehaviour,BackgroundType,LineHeightUnit,RichContentFormatting,MenuDataViewPreText,PagesMenuDataViewPreText,SectionMenuDataViewPreText,TagCloudTypes,PostListTypes,VideoGalleryViewPreText,GalleyDataViewPreText,SocialIconsViewPreText,SocialSharingViewPreText,DataListViewPreText,FormDataViewPreText,ButtonsGroupViewPreText,ButtonsGroupTypes,ExternalAppElementBuilder,ButtonActions,InstanceController,InstanceControllerManager,DesignToolsManager,DesignTools;
/*!
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){function ri(n){if(!("length"in n)||n.length===undefined)return!1;var t=n.length,r=i.type(n);return r==="function"||i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n&&"length"in n}function ui(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if(typeof t=="string"){if(re.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return i.inArray(n,t)>=0!==r})}function hr(n,t){do n=n[t];while(n&&n.nodeType!==1);return n}function ee(n){var t=fi[n]={};return i.each(n.match(h)||[],function(n,i){t[i]=!0}),t}function cr(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",a,!1),n.removeEventListener("load",a,!1)):(u.detachEvent("onreadystatechange",a),n.detachEvent("onload",a))}function a(){(u.addEventListener||event.type==="load"||u.readyState==="complete")&&(cr(),i.ready())}function yr(n,t,r){if(r===undefined&&n.nodeType===1){var u="data-"+t.replace(vr,"-$1").toLowerCase();if(r=n.getAttribute(u),typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:ar.test(r)?i.parseJSON(r):r}catch(f){}i.data(n,t,r)}else r=undefined}return r}function ei(n){for(var t in n)if((t!=="data"||!i.isEmptyObject(n[t]))&&t!=="toJSON")return!1;return!0}function pr(n,t,r,u){if(i.acceptData(n)){var s,e,h=i.expando,l=n.nodeType,o=l?i.cache:n,f=l?n[h]:n[h]&&h;if(f&&o[f]&&(u||o[f].data)||r!==undefined||typeof t!="string")return f||(f=l?n[h]=c.pop()||i.guid++:h),o[f]||(o[f]=l?{}:{toJSON:i.noop}),(typeof t=="object"||typeof t=="function")&&(u?o[f]=i.extend(o[f],t):o[f].data=i.extend(o[f].data,t)),e=o[f],u||(e.data||(e.data={}),e=e.data),r!==undefined&&(e[i.camelCase(t)]=r),typeof t=="string"?(s=e[t],s==null&&(s=e[i.camelCase(t)])):s=e,s}}function wr(n,t,u){if(i.acceptData(n)){var e,s,h=n.nodeType,f=h?i.cache:n,o=h?n[i.expando]:i.expando;if(f[o]){if(t&&(e=u?f[o]:f[o].data,e)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in e)?t=[t]:(t=i.camelCase(t),t=t in e?[t]:t.split(" ")),s=t.length;s--;)delete e[t[s]];if(u?!ei(e):!i.isEmptyObject(e))return}(u||(delete f[o].data,ei(f[o])))&&(h?i.cleanData([n],!0):r.deleteExpando||f!=f.window?delete f[o]:f[o]=null)}}}function vt(){return!0}function it(){return!1}function dr(){try{return u.activeElement}catch(n){}}function gr(n){var i=nu.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function f(n,t){var e,u,s=0,r=typeof n.getElementsByTagName!==o?n.getElementsByTagName(t||"*"):typeof n.querySelectorAll!==o?n.querySelectorAll(t||"*"):undefined;if(!r)for(r=[],e=n.childNodes||n;(u=e[s])!=null;s++)!t||i.nodeName(u,t)?r.push(u):i.merge(r,f(u,t));return t===undefined||t&&i.nodeName(n,t)?i.merge([n],r):r}function we(n){oi.test(n.type)&&(n.defaultChecked=n.checked)}function eu(n,t){return i.nodeName(n,"table")&&i.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function ou(n){return n.type=(i.find.attr(n,"type")!==null)+"/"+n.type,n}function su(n){var t=ve.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function li(n,t){for(var u,r=0;(u=n[r])!=null;r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function hu(n,t){if(t.nodeType===1&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;f<o;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function be(n,t){var u,e,f;if(t.nodeType===1){if(u=t.nodeName.toLowerCase(),!r.noCloneEvent&&t[i.expando]){f=i._data(t);for(e in f.events)i.removeEvent(t,e,f.handle);t.removeAttribute(i.expando)}u==="script"&&t.text!==n.text?(ou(t).text=n.text,su(t)):u==="object"?(t.parentNode&&(t.outerHTML=n.outerHTML),r.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):u==="input"&&oi.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):u==="option"?t.defaultSelected=t.selected=n.defaultSelected:(u==="input"||u==="textarea")&&(t.defaultValue=n.defaultValue)}}function cu(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function yt(n){var r=u,t=ai[n];return t||(t=cu(n,r),t!=="none"&&t||(ot=(ot||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=(ot[0].contentWindow||ot[0].contentDocument).document,r.write(),r.close(),t=cu(n,r),ot.detach()),ai[n]=t),t}function au(n,t){return{get:function(){var i=n();if(i!=null){if(i){delete this.get;return}return(this.get=t).apply(this,arguments)}}}}function pu(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=yu.length;i--;)if(t=yu[i]+r,t in n)return t;return u}function wu(n,t){for(var f,r,o,e=[],u=0,s=n.length;u<s;u++)(r=n[u],r.style)&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||f!=="none"||(r.style.display=""),r.style.display===""&&et(r)&&(e[u]=i._data(r,"olddisplay",yt(r.nodeName)))):(o=et(r),(f&&f!=="none"||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;u<s;u++)(r=n[u],r.style)&&(t&&r.style.display!=="none"&&r.style.display!==""||(r.style.display=t?e[u]||"":"none"));return n}function bu(n,t,i){var r=no.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function ku(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+w[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+w[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+w[e]+"Width",!0,f))):(o+=i.css(n,"padding"+w[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+w[e]+"Width",!0,f)));return o}function du(n,t,u){var o=!0,f=t==="width"?n.offsetWidth:n.offsetHeight,e=k(n),s=r.boxSizing&&i.css(n,"boxSizing",!1,e)==="border-box";if(f<=0||f==null){if(f=d(n,t,e),(f<0||f==null)&&(f=n.style[t]),pt.test(f))return f;o=s&&(r.boxSizingReliable()||f===n.style[t]);f=parseFloat(f)||0}return f+ku(n,t,u||(s?"border":"content"),o,e)+"px"}function e(n,t,i,r,u){return new e.prototype.init(n,t,i,r,u)}function nf(){return setTimeout(function(){rt=undefined}),rt=i.now()}function kt(n,t){var r,i={height:n},u=0;for(t=t?1:0;u<4;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function tf(n,t,i){for(var u,f=(st[t]||[]).concat(st["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function fo(n,t,u){var f,a,p,v,s,w,h,b,l=this,y={},o=n.style,c=n.nodeType&&et(n),e=i._data(n,"fxshow");u.queue||(s=i._queueHooks(n,"fx"),s.unqueued==null&&(s.unqueued=0,w=s.empty.fire,s.empty.fire=function(){s.unqueued||w()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--;i.queue(n,"fx").length||s.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(u.overflow=[o.overflow,o.overflowX,o.overflowY],h=i.css(n,"display"),b=h==="none"?i._data(n,"olddisplay")||yt(n.nodeName):h,b==="inline"&&i.css(n,"float")==="none"&&(r.inlineBlockNeedsLayout&&yt(n.nodeName)!=="inline"?o.zoom=1:o.display="inline-block"));u.overflow&&(o.overflow="hidden",r.shrinkWrapBlocks()||l.always(function(){o.overflow=u.overflow[0];o.overflowX=u.overflow[1];o.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],ro.exec(a)){if(delete t[f],p=p||a==="toggle",a===(c?"hide":"show"))if(a==="show"&&e&&e[f]!==undefined)c=!0;else continue;y[f]=e&&e[f]||i.style(n,f)}else h=undefined;if(i.isEmptyObject(y))(h==="none"?yt(n.nodeName):h)==="inline"&&(o.display=h);else{e?"hidden"in e&&(c=e.hidden):e=i._data(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;i._removeData(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=tf(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start=f==="width"||f==="height"?1:0))}}function eo(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function rf(n,t,r){var e,o,s=0,l=bt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=rt||nf(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:rt||nf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(eo(h,u.opts.specialEasing);s<l;s++)if(e=bt[s].call(u,n,h,u.opts),e)return e;return i.map(h,tf,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function af(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(h)||[];if(i.isFunction(r))while(u=e[f++])u.charAt(0)==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function vf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===bi;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ki(n,t){var u,r,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ao(n,t,i){for(var o,e,u,f,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(f in s)if(s[f]&&s[f].test(e)){r.unshift(f);break}if(r[0]in i)u=r[0];else{for(f in i){if(!r[0]||n.converters[f+" "+r[0]]){u=f;break}o||(o=f)}u=u||o}if(u)return u!==r[0]&&r.unshift(u),i[u]}function vo(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function di(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||po.test(n)?u(n,i):di(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)di(n+"["+f+"]",t[f],r,u)}function pf(){try{return new n.XMLHttpRequest}catch(t){}}function go(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function wf(n){return i.isWindow(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1}var c=[],l=c.slice,ir=c.concat,ii=c.push,rr=c.indexOf,ct={},df=ct.toString,tt=ct.hasOwnProperty,r={},ur="1.11.2",i=function(n,t){return new i.fn.init(n,t)},gf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^-ms-/,te=/-([\da-z])/gi,ie=function(n,t){return t.toUpperCase()},p,or,sr,h,fi,lt,o,lr,ar,vr,ot,ai,uf,ef,of,gt,gi,ti,nr,tr,bf,kf;i.fn=i.prototype={jquery:ur,constructor:i,selector:"",length:0,toArray:function(){return l.call(this)},get:function(n){return n!=null?n<0?this[n+this.length]:this[n]:l.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ii,sort:c.sort,splice:c.splice};i.extend=i.fn.extend=function(){var r,e,t,f,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[u]||{},u++),typeof n=="object"||i.isFunction(n)||(n={}),u===c&&(n=this,u--);u<c;u++)if((o=arguments[u])!=null)for(f in o)(t=o[f],n!==t)&&(h&&t&&(i.isPlainObject(t)||(e=i.isArray(t)))?(r=n[f],e?(e=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(ur+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray||function(n){return i.type(n)==="array"},isWindow:function(n){return n!=null&&n==n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)+1>=0},isEmptyObject:function(n){for(var t in n)return!1;return!0},isPlainObject:function(n){var t;if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!tt.call(n,"constructor")&&!tt.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}if(r.ownLast)for(t in n)return tt.call(n,t);for(t in n);return t===undefined||tt.call(n,t)},type:function(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?ct[df.call(n)]||"object":typeof n},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(ne,"ms-").replace(te,ie)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ri(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(gf,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(ri(Object(n))?i.merge(r,typeof n=="string"?[n]:n):ii.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(rr)return rr.call(t,n,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,t){for(var r=+t.length,i=0,u=n.length;i<r;)n[u++]=t[i++];if(r!==r)while(t[i]!==undefined)n[u++]=t[i++];return n.length=u,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ri(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return ir.apply([],f)},guid:1,proxy:function(n,t){var u,r,f;return(typeof t=="string"&&(f=n[t],t=n,n=f),!i.isFunction(n))?undefined:(u=l.call(arguments,2),r=function(){return n.apply(t||this,u.concat(l.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},now:function(){return+new Date},support:r});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ct["[object "+t+"]"]=t.toLowerCase()});p=function(n){function r(n,t,i,r){var p,s,a,c,w,y,d,v,nt,g;if((t?t.ownerDocument||t:h)!==o&&k(t),t=t||o,i=i||[],c=t.nodeType,typeof n!="string"||!n||c!==1&&c!==9&&c!==11)return i;if(!r&&l){if(c!==11&&(p=hr.exec(n)))if(a=p[1]){if(c===9)if(s=t.getElementById(a),s&&s.parentNode){if(s.id===a)return i.push(s),i}else return i;else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&et(t,s)&&s.id===a)return i.push(s),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((a=p[3])&&u.getElementsByClassName)return b.apply(i,t.getElementsByClassName(a)),i}if(u.qsa&&(!e||!e.test(n))){if(v=d=f,nt=t,g=c!==1&&n,c===1&&t.nodeName.toLowerCase()!=="object"){for(y=ft(n),(d=t.getAttribute("id"))?v=d.replace(cr,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",w=y.length;w--;)y[w]=v+vt(y[w]);nt=dt.test(n)&&ti(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return oi(n.replace(lt,"$1"),t,i,r)}function gt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function c(n){return n[f]=!0,n}function v(n){var t=o.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ni(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function wi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function tt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ti(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function bi(){}function vt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function ii(n,t,i){var r=t.dir,u=i&&r==="parentNode",e=ki++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[a,e];if(o){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,o))return!0}else while(t=t[r])if(t.nodeType===1||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===a&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ri(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function vr(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}function yt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function ui(n,t,i,r,u,e){return r&&!r[f]&&(r=ui(r)),u&&!u[f]&&(u=ui(u,e)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||vr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?yt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=yt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=yt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function fi(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ii(function(n){return n===o},c,!0),a=ii(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[ii(ri(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return ui(i>1&&ri(e),i>1&&vt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(lt,"$1"),u,i<r&&fi(n.slice(i,r)),r<s&&fi(n=n.slice(r)),r<s&&vt(n))}e.push(u)}return ri(e)}function yr(n,i){var u=i.length>0,f=n.length>0,e=function(e,s,h,c,l){var y,d,w,k=0,v="0",g=e&&[],p=[],nt=ht,tt=e||f&&t.find.TAG("*",l),it=a+=nt==null?1:Math.random()||.1,rt=tt.length;for(l&&(ht=s!==o&&s);v!==rt&&(y=tt[v])!=null;v++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(a=it)}u&&((y=!w&&y)&&k--,e&&g.push(y))}if(k+=v,u&&v!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(e){if(k>0)while(v--)g[v]||p[v]||(p[v]=gi.call(c));p=yt(p)}b.apply(c,p);l&&!e&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(a=it,ht=nt),g};return u?c(e):e}var it,u,t,st,ei,ft,pt,oi,ht,w,rt,k,o,s,l,e,d,ct,et,f="sizzle"+1*new Date,h=n.document,a=0,ki=0,si=gt(),hi=gt(),ci=gt(),wt=function(n,t){return n===t&&(rt=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,b=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},bt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi=ut.replace("w","w#"),yi="\\["+i+"*("+ut+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vi+"))|)"+i+"*\\]",kt=":("+ut+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+yi+")*)|.*)\\)|)",tr=new RegExp(i+"+","g"),lt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),ir=new RegExp("^"+i+"*,"+i+"*"),rr=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),ur=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),fr=new RegExp(kt),er=new RegExp("^"+vi+"$"),at={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut.replace("w","w*")+")"),ATTR:new RegExp("^"+yi),PSEUDO:new RegExp("^"+kt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+bt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},or=/^(?:input|select|textarea|button)$/i,sr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dt=/[+~]/,cr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},pi=function(){k()};try{b.apply(g=ai.call(h.childNodes),h.childNodes);g[h.childNodes.length].nodeType}catch(pr){b={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};ei=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};k=r.setDocument=function(n){var a,c,r=n?n.ownerDocument||n:h;return r===o||r.nodeType!==9||!r.documentElement?o:(o=r,s=r.documentElement,c=r.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",pi,!1):c.attachEvent&&c.attachEvent("onunload",pi)),l=!ei(r),u.attributes=v(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=v(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=ot.test(r.getElementsByClassName),u.getById=v(function(n){return s.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&l){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):u.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(l)return t.getElementsByClassName(n)},d=[],e=[],(u.qsa=ot.test(r.querySelectorAll))&&(v(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\f]' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&e.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||e.push("\\["+i+"*(?:value|"+bt+")");n.querySelectorAll("[id~="+f+"-]").length||e.push("~=");n.querySelectorAll(":checked").length||e.push(":checked");n.querySelectorAll("a#"+f+"+*").length||e.push(".#.+[+~]")}),v(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&e.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||e.push(":enabled",":disabled");n.querySelectorAll("*,:x");e.push(",.*:")})),(u.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&v(function(n){u.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",kt)}),e=e.length&&new RegExp(e.join("|")),d=d.length&&new RegExp(d.join("|")),a=ot.test(s.compareDocumentPosition),et=a||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},wt=a?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,i&1||!u.sortDetached&&t.compareDocumentPosition(n)===i)?n===r||n.ownerDocument===h&&et(h,n)?-1:t===r||t.ownerDocument===h&&et(h,t)?1:w?nt(w,n)-nt(w,t):0:i&4?-1:1}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return wi(n,t)}else return n===r?-1:t===r?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===h?-1:e[u]===h?1:0},r)};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==o&&k(n),t=t.replace(ur,"='$1']"),u.matchesSelector&&l&&(!d||!d.test(t))&&(!e||!e.test(t)))try{var i=ct.call(n,t);if(i||u.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(f){}return r(t,o,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==o&&k(n),et(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==o&&k(n);var f=t.attrHandle[i.toLowerCase()],r=f&&di.call(t.attrHandle,i.toLowerCase())?f(n,i,!l):undefined;return r!==undefined?r:u.attributes||!l?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,w=!u.sortStable&&n.slice(0),n.sort(wt),rt){while(r=n[i++])r===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return w=null,n};st=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=r.selectors={cacheLength:50,createPseudo:c,match:at,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return at.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=si[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&si(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var v,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),v=k[n]||[],y=v[0]===a&&v[1],l=v[0]===a&&v[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[a,y,l];break}}else if(d&&(v=(t[f]||(t[f]={}))[n])&&v[0]===a)l=v[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[a,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=nt(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:c(function(n){var t=[],r=[],i=pt(n.replace(lt,"$1"));return i[f]?c(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:c(function(n){return function(t){return r(n,t).length>0}}),contains:c(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===o.activeElement&&(!o.hasFocus||o.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return sr.test(n.nodeName)},input:function(n){return or.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[i<0?i+t:i]}),even:tt(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=lr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=ar(it);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=hi[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=ir.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=rr.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(lt," ")}),u=u.slice(e.length));for(o in t.filter)(f=at[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):hi(n,h).slice(0)},pt=r.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=fi(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,yr(e,u));i.selector=n}return i},oi=r.select=function(n,i,r,f){var s,e,o,a,v,c=typeof n=="function"&&n,h=!f&&ft(n=c.selector||n);if(r=r||[],h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(o=e[0]).type==="ID"&&u.getById&&i.nodeType===9&&l&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(e.shift().value.length)}for(s=at.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(f=v(o.matches[0].replace(y,p),dt.test(e[0].type)&&ti(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&vt(e),!n)return b.apply(r,f),r;break}}}return(c||pt(n,h))(f,i,!l,r,dt.test(n)&&ti(i.parentNode)||i),r},u.sortStable=f.split("").sort(wt).join("")===f,u.detectDuplicates=!!rt,k(),u.sortDetached=v(function(n){return n.compareDocumentPosition(o.createElement("div"))&1}),v(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ni("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),u.attributes&&v(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ni("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),v(function(n){return n.getAttribute("disabled")==null})||ni(bt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=p;i.expr=p.selectors;i.expr[":"]=i.expr.pseudos;i.unique=p.uniqueSort;i.text=p.getText;i.isXMLDoc=p.isXML;i.contains=p.contains;var fr=i.expr.match.needsContext,er=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,re=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,r=[],u=this,f=u.length;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<f;t++)if(i.contains(u[t],this))return!0}));for(t=0;t<f;t++)i.find(n,u[t],r);return r=this.pushStack(f>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ui(this,n||[],!1))},not:function(n){return this.pushStack(ui(this,n||[],!0))},is:function(n){return!!ui(this,typeof n=="string"&&fr.test(n)?i(n):n||[],!1).length}});var ft,u=n.document,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,fe=i.fn.init=function(n,t){var r,f;if(!n)return this;if(typeof n=="string"){if(r=n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3?[null,n,null]:ue.exec(n),r&&(r[1]||!t)){if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),er.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(f=u.getElementById(r[2]),f&&f.parentNode){if(f.id!==r[2])return ft.find(n);this.length=1;this[0]=f}return this.context=u,this.selector=n,this}return!t||t.jquery?(t||ft).find(n):this.constructor(t).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?typeof ft.ready!="undefined"?ft.ready(n):n(i):(n.selector!==undefined&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};fe.prototype=i.fn;ft=i(u);or=/^(?:parents|prev(?:Until|All))/;sr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var f=[],u=n[t];u&&u.nodeType!==9&&(r===undefined||u.nodeType!==1||!i(u).is(r));)u.nodeType===1&&f.push(u),u=u[t];return f},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;t<u;t++)if(i.contains(this,r[t]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=fr.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return hr(n,"nextSibling")},prev:function(n){return hr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(sr[n]||(f=i.unique(f)),or.test(n)&&(f=f.reverse())),this.pushStack(f)}});h=/\S+/g;fi={};i.Callbacks=function(n){n=typeof n=="string"?fi[n]||ee(n):i.extend({},n);var o,u,h,f,e,c,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&e<f;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;(function e(r){i.each(r,function(r,u){var f=i.type(u);f==="function"?n.unique&&s.has(u)||t.push(u):u&&u.length&&f!=="string"&&e(u)})})(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(u<=f&&f--,u<=e&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!!(t&&t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=undefined,this},disabled:function(){return!t},lock:function(){return r=undefined,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return t&&(!h||r)&&(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=l.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?l.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!u.body)return setTimeout(i.ready);(i.isReady=!0,n!==!0&&--i.readyWait>0)||(lt.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready")))}}});i.ready.promise=function(t){if(!lt)if(lt=i.Deferred(),u.readyState==="complete")setTimeout(i.ready);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",a,!1),n.addEventListener("load",a,!1);else{u.attachEvent("onreadystatechange",a);n.attachEvent("onload",a);var r=!1;try{r=n.frameElement==null&&u.documentElement}catch(e){}r&&r.doScroll&&function f(){if(!i.isReady){try{r.doScroll("left")}catch(n){return setTimeout(f,50)}cr();i.ready()}}()}return lt.promise(t)};o=typeof undefined;for(lr in i(r))break;r.ownLast=lr!=="0";r.inlineBlockNeedsLayout=!1;i(function(){var f,t,n,i;(n=u.getElementsByTagName("body")[0],n&&n.style)&&(t=u.createElement("div"),i=u.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==o&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",r.inlineBlockNeedsLayout=f=t.offsetWidth===3,f&&(n.style.zoom=1)),n.removeChild(i))}),function(){var n=u.createElement("div");if(r.deleteExpando==null){r.deleteExpando=!0;try{delete n.test}catch(t){r.deleteExpando=!1}}n=null}();i.acceptData=function(n){var t=i.noData[(n.nodeName+" ").toLowerCase()],r=+n.nodeType||1;return r!==1&&r!==9?!1:!t||t!==!0&&n.getAttribute("classid")===t};ar=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;vr=/([A-Z])/g;i.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ei(n)},data:function(n,t,i){return pr(n,t,i)},removeData:function(n,t){return wr(n,t)},_data:function(n,t,i){return pr(n,t,i,!0)},_removeData:function(n,t){return wr(n,t,!0)}});i.fn.extend({data:function(n,t){var f,u,e,r=this[0],o=r&&r.attributes;if(n===undefined){if(this.length&&(e=i.data(r),r.nodeType===1&&!i._data(r,"parsedAttrs"))){for(f=o.length;f--;)o[f]&&(u=o[f].name,u.indexOf("data-")===0&&(u=i.camelCase(u.slice(5)),yr(r,u,e[u])));i._data(r,"parsedAttrs",!0)}return e}return typeof n=="object"?this.each(function(){i.data(this,n)}):arguments.length>1?this.each(function(){i.data(this,n,t)}):r?yr(r,n,i.data(r,n)):undefined},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,t,r){var u;if(n)return t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue");i._removeData(n,r)})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var r,f=1,e=i.Deferred(),u=this,o=this.length,s=function(){--f||e.resolveWith(u,[u])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";o--;)r=i._data(u[o],n+"queueHooks"),r&&r.empty&&(f++,r.empty.add(s));return s(),e.promise(t)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=["Top","Right","Bottom","Left"],et=function(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)},b=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=r==null;if(i.type(r)==="object"){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(u!==undefined&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;s<c;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e},oi=/^(?:checkbox|radio)$/i;(function(){var t=u.createElement("input"),n=u.createElement("div"),i=u.createDocumentFragment();if(n.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",r.leadingWhitespace=n.firstChild.nodeType===3,r.tbody=!n.getElementsByTagName("tbody").length,r.htmlSerialize=!!n.getElementsByTagName("link").length,r.html5Clone=u.createElement("nav").cloneNode(!0).outerHTML!=="<:nav><\/:nav>",t.type="checkbox",t.checked=!0,i.appendChild(t),r.appendChecked=t.checked,n.innerHTML="<textarea>x<\/textarea>",r.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,i.appendChild(n),n.innerHTML="<input type='radio' checked='checked' name='t'/>",r.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,r.noCloneEvent=!0,n.attachEvent&&(n.attachEvent("onclick",function(){r.noCloneEvent=!1}),n.cloneNode(!0).click()),r.deleteExpando==null){r.deleteExpando=!0;try{delete n.test}catch(f){r.deleteExpando=!1}}})(),function(){var t,i,f=u.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(r[t+"Bubbles"]=i in n)||(f.setAttribute(i,"t"),r[t+"Bubbles"]=f.attributes[i].expando===!1);f=null}();var si=/^(?:input|select|textarea)$/i,oe=/^key/,se=/^(?:mouse|pointer|contextmenu)|click/,br=/^(?:focusinfocus|focusoutblur)$/,kr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,r,u,f){var w,y,b,p,s,c,l,a,e,k,d,v=i._data(n);if(v){for(r.handler&&(p=r,r=p.handler,f=p.selector),r.guid||(r.guid=i.guid++),(y=v.events)||(y=v.events={}),(c=v.handle)||(c=v.handle=function(n){return typeof i!==o&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(c.elem,arguments):undefined},c.elem=n),t=(t||"").match(h)||[""],b=t.length;b--;)(w=kr.exec(t[b])||[],e=d=w[1],k=(w[2]||"").split(".").sort(),e)&&(s=i.event.special[e]||{},e=(f?s.delegateType:s.bindType)||e,s=i.event.special[e]||{},l=i.extend({type:e,origType:d,data:u,handler:r,guid:r.guid,selector:f,needsContext:f&&i.expr.match.needsContext.test(f),namespace:k.join(".")},p),(a=y[e])||(a=y[e]=[],a.delegateCount=0,s.setup&&s.setup.call(n,u,k,c)!==!1||(n.addEventListener?n.addEventListener(e,c,!1):n.attachEvent&&n.attachEvent("on"+e,c))),s.add&&(s.add.call(n,l),l.handler.guid||(l.handler.guid=r.guid)),f?a.splice(a.delegateCount++,0,l):a.push(l),i.event.global[e]=!0);n=null}},remove:function(n,t,r,u,f){var y,o,s,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(h)||[""],p=t.length;p--;){if(s=kr.exec(t[p])||[],e=k=s[1],w=(s[2]||"").split(".").sort(),!e){for(e in a)i.event.remove(n,e+t[p],r,u,!0);continue}for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],s=s[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],(f||k===o.origType)&&(!r||r.guid===o.guid)&&(!s||s.test(o.namespace))&&(!u||u===o.selector||u==="**"&&o.selector)&&(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(t,r,f,e){var l,a,o,p,c,h,w,y=[f||u],s=tt.call(t,"type")?t.type:t,v=tt.call(t,"namespace")?t.namespace.split("."):[];if((o=h=f=f||u,f.nodeType!==3&&f.nodeType!==8)&&!br.test(s+i.event.triggered)&&(s.indexOf(".")>=0&&(v=s.split("."),s=v.shift(),v.sort()),a=s.indexOf(":")<0&&"on"+s,t=t[i.expando]?t:new i.Event(s,typeof t=="object"&&t),t.isTrigger=e?2:3,t.namespace=v.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=f),r=r==null?[t]:i.makeArray(r,[t]),c=i.event.special[s]||{},e||!c.trigger||c.trigger.apply(f,r)!==!1)){if(!e&&!c.noBubble&&!i.isWindow(f)){for(p=c.delegateType||s,br.test(p+s)||(o=o.parentNode);o;o=o.parentNode)y.push(o),h=o;h===(f.ownerDocument||u)&&y.push(h.defaultView||h.parentWindow||n)}for(w=0;(o=y[w++])&&!t.isPropagationStopped();)t.type=w>1?p:c.bindType||s,l=(i._data(o,"events")||{})[t.type]&&i._data(o,"handle"),l&&l.apply(o,r),l=a&&o[a],l&&l.apply&&i.acceptData(o)&&(t.result=l.apply(o,r),t.result===!1&&t.preventDefault());if(t.type=s,!e&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(y.pop(),r)===!1)&&i.acceptData(f)&&a&&f[s]&&!i.isWindow(f)){h=f[a];h&&(f[a]=null);i.event.triggered=s;try{f[s]()}catch(b){}i.event.triggered=undefined;h&&(f[a]=h)}return t.result}},dispatch:function(n){n=i.event.fix(n);var e,f,t,r,o,s=[],h=l.call(arguments),c=(i._data(this,"events")||{})[n.type]||[],u=i.event.special[n.type]||{};if(h[0]=n,n.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,n)!==!1){for(s=i.event.handlers.call(this,n,c),e=0;(r=s[e++])&&!n.isPropagationStopped();)for(n.currentTarget=r.elem,o=0;(t=r.handlers[o++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,f=((i.event.special[t.origType]||{}).handle||t.handler).apply(r.elem,h),f!==undefined&&(n.result=f)===!1&&(n.preventDefault(),n.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,n),n.result}},handlers:function(n,t){var f,e,u,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||n.type!=="click"))for(;r!=this;r=r.parentNode||this)if(r.nodeType===1&&(r.disabled!==!0||n.type!=="click")){for(u=[],o=0;o<s;o++)e=t[o],f=e.selector+" ",u[f]===undefined&&(u[f]=e.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(e);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},fix:function(n){if(n[i.expando])return n;var e,o,s,r=n.type,f=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=se.test(r)?this.mouseHooks:oe.test(r)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||u),n.target.nodeType===3&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var i,e,r,f=t.button,o=t.fromElement;return n.pageX==null&&t.clientX!=null&&(e=n.target.ownerDocument||u,r=e.documentElement,i=e.body,n.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),n.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!n.relatedTarget&&o&&(n.relatedTarget=o===n.target?t.toElement:o),n.which||f===undefined||(n.which=f&1?1:f&2?3:f&4?2:0),n}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==dr()&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){if(this===dr()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(i.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=u.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]===o&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?vt:it):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:it,isPropagationStopped:it,isImmediatePropagationStopped:it,preventDefault:function(){var n=this.originalEvent;(this.isDefaultPrevented=vt,n)&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;(this.isPropagationStopped=vt,n)&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=vt;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});r.submitBubbles||(i.event.special.submit={setup:function(){if(i.nodeName(this,"form"))return!1;i.event.add(this,"click._submit keypress._submit",function(n){var r=n.target,t=i.nodeName(r,"input")||i.nodeName(r,"button")?r.form:undefined;t&&!i._data(t,"submitBubbles")&&(i.event.add(t,"submit._submit",function(n){n._submit_bubble=!0}),i._data(t,"submitBubbles",!0))})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){if(i.nodeName(this,"form"))return!1;i.event.remove(this,"._submit")}});r.changeBubbles||(i.event.special.change={setup:function(){if(si.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(i.event.add(this,"propertychange._change",function(n){n.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1);i.event.simulate("change",this,n,!0)})),!1;i.event.add(this,"beforeactivate._change",function(n){var t=n.target;si.test(t.nodeName)&&!i._data(t,"changeBubbles")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"changeBubbles",!0))})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),!si.test(this.nodeName)}});r.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var r=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var u=this.ownerDocument||this,f=i._data(u,t);f||u.addEventListener(n,r,!0);i._data(u,t,(f||0)+1)},teardown:function(){var u=this.ownerDocument||this,f=i._data(u,t)-1;f?i._data(u,t,f):(u.removeEventListener(n,r,!0),i._removeData(u,t))}}});i.fn.extend({on:function(n,t,r,u,f){var o,e;if(typeof n=="object"){typeof t!="string"&&(r=r||t,t=undefined);for(o in n)this.on(o,t,r,n[o],f);return this}if(r==null&&u==null?(u=t,r=t=undefined):u==null&&(typeof t=="string"?(u=r,r=undefined):(u=r,r=t,t=undefined)),u===!1)u=it;else if(!u)return this;return f===1&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=it),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var nu="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",he=/ jQuery\d+="(?:null|\d+)"/g,tu=new RegExp("<(?:"+nu+")[\\s/>]","i"),hi=/^\s+/,iu=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ru=/<([\w:]+)/,uu=/<tbody/i,ce=/<|&#?\w+;/,le=/<(?:script|style|link)/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,fu=/^$|\/(?:java|ecma)script/i,ve=/^true\/(.*)/,ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,s={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:r.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},pe=gr(u),ci=pe.appendChild(u.createElement("div"));s.optgroup=s.option;s.tbody=s.tfoot=s.colgroup=s.caption=s.thead;s.th=s.td;i.extend({clone:function(n,t,u){var e,c,s,o,h,l=i.contains(n.ownerDocument,n);if(r.html5Clone||i.isXMLDoc(n)||!tu.test("<"+n.nodeName+">")?s=n.cloneNode(!0):(ci.innerHTML=n.outerHTML,ci.removeChild(s=ci.firstChild)),(!r.noCloneEvent||!r.noCloneChecked)&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(e=f(s),h=f(n),o=0;(c=h[o])!=null;++o)e[o]&&be(c,e[o]);if(t)if(u)for(h=h||f(n),e=e||f(s),o=0;(c=h[o])!=null;o++)hu(c,e[o]);else hu(n,s);return e=f(s,"script"),e.length>0&&li(e,!l&&f(n,"script")),e=h=c=null,s},buildFragment:function(n,t,u,e){for(var c,o,b,h,p,w,a,k=n.length,v=gr(t),l=[],y=0;y<k;y++)if(o=n[y],o||o===0)if(i.type(o)==="object")i.merge(l,o.nodeType?[o]:o);else if(ce.test(o)){for(h=h||v.appendChild(t.createElement("div")),p=(ru.exec(o)||["",""])[1].toLowerCase(),a=s[p]||s._default,h.innerHTML=a[1]+o.replace(iu,"<$1><\/$2>")+a[2],c=a[0];c--;)h=h.lastChild;if(!r.leadingWhitespace&&hi.test(o)&&l.push(t.createTextNode(hi.exec(o)[0])),!r.tbody)for(o=p==="table"&&!uu.test(o)?h.firstChild:a[1]==="<table>"&&!uu.test(o)?h:0,c=o&&o.childNodes.length;c--;)i.nodeName(w=o.childNodes[c],"tbody")&&!w.childNodes.length&&o.removeChild(w);for(i.merge(l,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=v.lastChild}else l.push(t.createTextNode(o));for(h&&v.removeChild(h),r.appendChecked||i.grep(f(l,"input"),we),y=0;o=l[y++];)if((!e||i.inArray(o,e)===-1)&&(b=i.contains(o.ownerDocument,o),h=f(v.appendChild(o),"script"),b&&li(h),u))for(c=0;o=h[c++];)fu.test(o.type||"")&&u.push(o);return h=null,v},cleanData:function(n,t){for(var u,s,f,e,a=0,h=i.expando,l=i.cache,v=r.deleteExpando,y=i.event.special;(u=n[a])!=null;a++)if((t||i.acceptData(u))&&(f=u[h],e=f&&l[f],e)){if(e.events)for(s in e.events)y[s]?i.event.remove(u,s):i.removeEvent(u,s,e.handle);l[f]&&(delete l[f],v?delete u[h]:typeof u.removeAttribute!==o?u.removeAttribute(h):u[h]=null,c.push(f))}}});i.fn.extend({text:function(n){return b(this,function(n){return n===undefined?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(n))},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=eu(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=eu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,e=n?i.filter(n,this):this,u=0;(r=e[u])!=null;u++)t||r.nodeType!==1||i.cleanData(f(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&li(f(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++){for(n.nodeType===1&&i.cleanData(f(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return b(this,function(n){var t=this[0]||{},u=0,e=this.length;if(n===undefined)return t.nodeType===1?t.innerHTML.replace(he,""):undefined;if(typeof n=="string"&&!le.test(n)&&(r.htmlSerialize||!tu.test(n))&&(r.leadingWhitespace||!hi.test(n))&&!s[(ru.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(iu,"<$1><\/$2>");try{for(;u<e;u++)t=this[u]||{},t.nodeType===1&&(i.cleanData(f(t,!1)),t.innerHTML=n);t=0}catch(o){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(f(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=ir.apply([],n);var h,u,c,o,v,s,e=0,l=this.length,p=this,w=l-1,a=n[0],y=i.isFunction(a);if(y||l>1&&typeof a=="string"&&!r.checkClone&&ae.test(a))return this.each(function(i){var r=p.eq(i);y&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(s=i.buildFragment(n,this[0].ownerDocument,!1,this),h=s.firstChild,s.childNodes.length===1&&(s=h),h)){for(o=i.map(f(s,"script"),ou),c=o.length;e<l;e++)u=s,e!==w&&(u=i.clone(u,!0,!0),c&&i.merge(o,f(u,"script"))),t.call(this[e],u,e);if(c)for(v=o[o.length-1].ownerDocument,i.map(o,su),e=0;e<c;e++)u=o[e],fu.test(u.type||"")&&!i._data(u,"globalEval")&&i.contains(v,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval((u.text||u.textContent||u.innerHTML||"").replace(ye,"")));s=h=null}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ii.apply(f,u.get());return this.pushStack(f)}});ai={},function(){var n;r.shrinkWrapBlocks=function(){if(n!=null)return n;n=!1;var t,i,r;if(i=u.getElementsByTagName("body")[0],i&&i.style)return t=u.createElement("div"),r=u.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),typeof t.style.zoom!==o&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(u.createElement("div")).style.width="5px",n=t.offsetWidth!==3),i.removeChild(r),n}}();var lu=/^margin/,pt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),k,d,ke=/^(top|right|bottom|left)$/;n.getComputedStyle?(k=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)},d=function(n,t,r){var e,o,s,u,f=n.style;return r=r||k(n),u=r?r.getPropertyValue(t)||r[t]:undefined,r&&(u!==""||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),pt.test(u)&&lu.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),u===undefined?u:u+""}):u.documentElement.currentStyle&&(k=function(n){return n.currentStyle},d=function(n,t,i){var o,f,e,r,u=n.style;return i=i||k(n),r=i?i[t]:undefined,r==null&&u&&u[t]&&(r=u[t]),pt.test(r)&&!ke.test(t)&&(o=u.left,f=n.runtimeStyle,e=f&&f.left,e&&(f.left=n.currentStyle.left),u.left=t==="fontSize"?"1em":r,r=u.pixelLeft+"px",u.left=o,e&&(f.left=e)),r===undefined?r:r+""||"auto"}),function(){function c(){var i,r,f,t;(r=u.getElementsByTagName("body")[0],r&&r.style)&&(i=u.createElement("div"),f=u.createElement("div"),f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(f).appendChild(i),i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,h=!0,n.getComputedStyle&&(o=(n.getComputedStyle(i,null)||{}).top!=="1%",s=(n.getComputedStyle(i,null)||{width:"4px"}).width==="4px",t=i.appendChild(u.createElement("div")),t.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",i.style.width="1px",h=!parseFloat((n.getComputedStyle(t,null)||{}).marginRight),i.removeChild(t)),i.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",t=i.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",e=t[0].offsetHeight===0,e&&(t[0].style.display="",t[1].style.display="none",e=t[0].offsetHeight===0),r.removeChild(f))}var t,f,l,o,s,e,h;(t=u.createElement("div"),t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",l=t.getElementsByTagName("a")[0],f=l&&l.style,f)&&(f.cssText="float:left;opacity:.5",r.opacity=f.opacity==="0.5",r.cssFloat=!!f.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",r.clearCloneStyle=t.style.backgroundClip==="content-box",r.boxSizing=!1,i.extend(r,{reliableHiddenOffsets:function(){return e==null&&c(),e},boxSizingReliable:function(){return s==null&&c(),s},pixelPosition:function(){return o==null&&c(),o},reliableMarginRight:function(){return h==null&&c(),h}}))}();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var vi=/alpha\([^)]*\)/i,de=/opacity\s*=\s*([^)]*)/,ge=/^(none|table(?!-c[ea]).+)/,no=new RegExp("^("+at+")(.*)$","i"),to=new RegExp("^([+-])=("+at+")","i"),io={position:"absolute",visibility:"hidden",display:"block"},vu={letterSpacing:"0",fontWeight:"400"},yu=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=d(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:r.cssFloat?"cssFloat":"styleFloat"},style:function(n,t,u,f){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=pu(c,s)),e=i.cssHooks[t]||i.cssHooks[s],u!==undefined){if(h=typeof u,h==="string"&&(o=to.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),u==null||u!==u)return;if(h!=="number"||i.cssNumber[s]||(u+="px"),r.clearCloneStyle||u!==""||t.indexOf("background")!==0||(c[t]="inherit"),!e||!("set"in e)||(u=e.set(n,u,f))!==undefined)try{c[t]=u}catch(l){}}else return e&&"get"in e&&(o=e.get(n,!1,f))!==undefined?o:c[t]}},css:function(n,t,r,u){var s,f,e,o=i.camelCase(t);return(t=i.cssProps[o]||(i.cssProps[o]=pu(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=d(n,t,u)),f==="normal"&&t in vu&&(f=vu[t]),r===""||r)?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return ge.test(i.css(n,"display"))&&n.offsetWidth===0?i.swap(n,io,function(){return du(n,t,u)}):du(n,t,u)},set:function(n,u,f){var e=f&&k(n);return bu(n,u,f?ku(n,t,f,r.boxSizing&&i.css(n,"boxSizing",!1,e)==="border-box",e):0)}}});r.opacity||(i.cssHooks.opacity={get:function(n,t){return de.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+t*100+")":"",f=u&&u.filter||r.filter||"";(r.zoom=1,(t>=1||t==="")&&i.trim(f.replace(vi,""))===""&&r.removeAttribute&&(r.removeAttribute("filter"),t===""||u&&!u.filter))||(r.filter=vi.test(f)?f.replace(vi,e):f+" "+e)}});i.cssHooks.marginRight=au(r.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},d,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};lu.test(n)||(i.cssHooks[n+t].set=bu)});i.fn.extend({css:function(n,t){return b(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=k(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return wu(this,!0)},hide:function(){return wu(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){et(this)?i(this).show():i(this).hide()})}});i.Tween=e;e.prototype={constructor:e,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=e.propHooks[this.prop];return n&&n.get?n.get(this):e.propHooks._default.get(this)},run:function(n){var t,r=e.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}};e.prototype.init.prototype=e.prototype;e.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=e.prototype.init;i.fx.step={};var rt,wt,ro=/^(?:toggle|show|hide)$/,gu=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),uo=/queueHooks$/,bt=[fo],st={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),u=gu.exec(t),e=u&&u[3]||(i.cssNumber[n]?"":"px"),r=(i.cssNumber[n]||e!=="px"&&+s)&&gu.exec(i.css(f.elem,n)),o=1,h=20;if(r&&r[3]!==e){e=e||r[3];u=u||[];r=+s||1;do o=o||".5",r=r/o,i.style(f.elem,n,r+e);while(o!==(o=f.cur()/s)&&o!==1&&--h)}return u&&(r=f.start=+r||+s||0,f.unit=e,f.end=u[1]?r+(u[1]+1)*u[2]:+u[2]),f}]};i.Animation=i.extend(rf,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],st[r]=st[r]||[],st[r].unshift(t)},prefilter:function(n,t){t?bt.unshift(n):bt.push(n)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(et).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=rf(this,i.extend({},n),e);(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,t,r){var u=function(n){var t=n.stop;delete n.stop;t(r)};return typeof n!="string"&&(r=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=n!=null&&n+"queueHooks",e=i.timers,f=i._data(this);if(t)f[t]&&f[t].stop&&u(f[t]);else for(t in f)f[t]&&f[t].stop&&uo.test(t)&&u(f[t]);for(t=e.length;t--;)e[t].elem===this&&(n==null||e[t].queue===n)&&(e[t].anim.stop(r),o=!1,e.splice(t,1));(o||!r)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.stop&&e.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(kt(t,!0),n,i,u)}});i.each({slideDown:kt("show"),slideUp:kt("hide"),slideToggle:kt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=i.timers,t=0;for(rt=i.now();t<n.length;t++)r=n[t],r()||n[t]!==r||n.splice(t--,1);n.length||i.fx.stop();rt=undefined};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){wt||(wt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(wt);wt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n,t,f,i,e;t=u.createElement("div");t.setAttribute("className","t");t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";i=t.getElementsByTagName("a")[0];f=u.createElement("select");e=f.appendChild(u.createElement("option"));n=t.getElementsByTagName("input")[0];i.style.cssText="top:1px";r.getSetAttribute=t.className!=="t";r.style=/top/.test(i.getAttribute("style"));r.hrefNormalized=i.getAttribute("href")==="/a";r.checkOn=!!n.value;r.optSelected=e.selected;r.enctype=!!u.createElement("form").enctype;f.disabled=!0;r.optDisabled=!e.disabled;n=u.createElement("input");n.setAttribute("value","");r.input=n.getAttribute("value")==="";n.value="t";n.setAttribute("type","radio");r.radioValue=n.value==="t"}();uf=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;this.nodeType===1&&(u=f?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":i.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==undefined)?r:(r=u.value,typeof r=="string"?r.replace(uf,""):r==null?"":r):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,u=n.selectedIndex,f=n.type==="select-one"||u<0,h=f?null:[],c=f?u+1:s.length,e=u<0?c:f?u:0;e<c;e++)if(t=s[e],(t.selected||e===u)&&(r.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),f)return o;h.push(o)}return h},set:function(n,t){for(var f,r,u=n.options,o=i.makeArray(t),e=u.length;e--;)if(r=u[e],i.inArray(i.valHooks.option.get(r),o)>=0)try{r.selected=f=!0}catch(s){r.scrollHeight}else r.selected=!1;return f||(n.selectedIndex=-1),u}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};r.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});var ut,ff,v=i.expr.attrHandle,yi=/^(?:checked|selected)$/i,g=r.getSetAttribute,dt=r.input;i.fn.extend({attr:function(n,t){return b(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2){if(typeof n.getAttribute===o)return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?ff:ut)),r!==undefined)if(r===null)i.removeAttr(n,t);else return u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:(n.setAttribute(t,r+""),r);else return u&&"get"in u&&(f=u.get(n,t))!==null?f:(f=i.find.attr(n,t),f==null?undefined:f)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(h);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)?dt&&g||!yi.test(r)?n[u]=!1:n[i.camelCase("default-"+r)]=n[u]=!1:i.attr(n,r,""),n.removeAttribute(g?r:u)},attrHooks:{type:{set:function(n,t){if(!r.radioValue&&t==="radio"&&i.nodeName(n,"input")){var u=n.value;return n.setAttribute("type",t),u&&(n.value=u),t}}}}});ff={set:function(n,t,r){return t===!1?i.removeAttr(n,r):dt&&g||!yi.test(r)?n.setAttribute(!g&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=v[t]||i.find.attr;v[t]=dt&&g||!yi.test(t)?function(n,t,i){var u,f;return i||(f=v[t],v[t]=u,u=r(n,t,i)!=null?t.toLowerCase():null,v[t]=f),u}:function(n,t,r){if(!r)return n[i.camelCase("default-"+t)]?t.toLowerCase():null}});dt&&g||(i.attrHooks.value={set:function(n,t,r){if(i.nodeName(n,"input"))n.defaultValue=t;else return ut&&ut.set(n,t,r)}});g||(ut={set:function(n,t,i){var r=n.getAttributeNode(i);return r||n.setAttributeNode(r=n.ownerDocument.createAttribute(i)),r.value=t+="",i==="value"||t===n.getAttribute(i)?t:void 0}},v.id=v.name=v.coords=function(n,t,i){var r;if(!i)return(r=n.getAttributeNode(t))&&r.value!==""?r.value:null},i.valHooks.button={get:function(n,t){var i=n.getAttributeNode(t);if(i&&i.specified)return i.value},set:ut.set},i.attrHooks.contenteditable={set:function(n,t,i){ut.set(n,t===""?!1:t,i)}},i.each(["width","height"],function(n,t){i.attrHooks[t]={set:function(n,i){if(i==="")return n.setAttribute(t,"auto"),i}}}));r.style||(i.attrHooks.style={get:function(n){return n.style.cssText||undefined},set:function(n,t){return n.style.cssText=t+""}});ef=/^(?:input|select|textarea|button|object)$/i;of=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return b(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=undefined;delete this[n]}catch(t){}})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2)return o=e!==1||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):ef.test(n.nodeName)||of.test(n.nodeName)&&n.href?0:-1}}}});r.hrefNormalized||i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}});r.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});r.enctype||(i.propFix.enctype="encoding");gt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,e=0,c=this.length,l=typeof n=="string"&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(l)for(o=(n||"").match(h)||[];e<c;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(gt," "):" "),r){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,e=0,c=this.length,l=arguments.length===0||typeof n=="string"&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(l)for(o=(n||"").match(h)||[];e<c;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(gt," "):""),r){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var r=typeof n;return typeof t=="boolean"&&r==="string"?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(r==="string")for(var t,f=0,u=i(this),e=n.match(h)||[];t=e[f++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else(r===o||r==="boolean")&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(gt," ").indexOf(i)>=0)return!0;return!1}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}});var pi=i.now(),wi=/\?/,oo=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;i.parseJSON=function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t+"");var f,r=null,u=i.trim(t+"");return u&&!i.trim(u.replace(oo,function(n,t,i,u){return(f&&t&&(r=0),r===0)?n:(f=i||t,r+=!u-!i,"")}))?Function("return "+u)():i.error("Invalid JSON: "+t)};i.parseXML=function(t){var r,u;if(!t||typeof t!="string")return null;try{n.DOMParser?(u=new DOMParser,r=u.parseFromString(t,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(t))}catch(f){r=undefined}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var nt,y,so=/#.*$/,sf=/([?&])_=[^&]*/,ho=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,co=/^(?:GET|HEAD)$/,lo=/^\/\//,hf=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,cf={},bi={},lf="*/".concat("*");try{y=location.href}catch(ns){y=u.createElement("a");y.href="";y=y.href}nt=hf.exec(y.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:y,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":lf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ki(ki(n,i.ajaxSettings),t):ki(i.ajaxSettings,n)},ajaxPrefilter:af(cf),ajaxTransport:af(bi),ajax:function(n,t){function w(n,t,s,h){var v,it,nt,y,w,c=t;e!==2&&(e=2,k&&clearTimeout(k),l=undefined,b=h||"",u.readyState=n>0?4:0,v=n>=200&&n<300||n===304,s&&(y=ao(r,u,s)),y=vo(r,y,u,v),v?(r.ifModified&&(w=u.getResponseHeader("Last-Modified"),w&&(i.lastModified[f]=w),w=u.getResponseHeader("etag"),w&&(i.etag[f]=w)),n===204||r.type==="HEAD"?c="nocontent":n===304?c="notmodified":(c=y.state,it=y.data,nt=y.error,v=!nt)):(nt=c,(n||!c)&&(c="error",n<0&&(n=0))),u.status=n,u.statusText=(t||c)+"",v?g.resolveWith(o,[it,c,u]):g.rejectWith(o,[u,c,nt]),u.statusCode(p),p=undefined,a&&d.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:nt]),tt.fireWith(o,[u,c]),a&&(d.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(t=n,n=undefined);t=t||{};var s,c,f,b,k,a,l,v,r=i.ajaxSetup({},t),o=r.context||r,d=r.context&&(o.nodeType||o.jquery)?i(o):i.event,g=i.Deferred(),tt=i.Callbacks("once memory"),p=r.statusCode||{},it={},rt={},e=0,ut="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(e===2){if(!v)for(v={};t=ho.exec(b);)v[t[1].toLowerCase()]=t[2];t=v[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return e===2?b:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=rt[i]=rt[i]||n,it[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(e<2)for(t in n)p[t]=[p[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||ut;return l&&l.abort(t),w(0,t),this}};if(g.promise(u).complete=tt.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||y)+"").replace(so,"").replace(lo,nt[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(h)||[""],r.crossDomain==null&&(s=hf.exec(r.url.toLowerCase()),r.crossDomain=!!(s&&(s[1]!==nt[1]||s[2]!==nt[2]||(s[3]||(s[1]==="http:"?"80":"443"))!==(nt[3]||(nt[1]==="http:"?"80":"443"))))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=i.param(r.data,r.traditional)),vf(cf,r,t,u),e===2)return u;a=i.event&&r.global;a&&i.active++==0&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!co.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(wi.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=sf.test(f)?f.replace(sf,"$1_="+pi++):f+(wi.test(f)?"&":"?")+"_="+pi++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+lf+"; q=0.01":""):r.accepts["*"]);for(c in r.headers)u.setRequestHeader(c,r.headers[c]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||e===2))return u.abort();ut="abort";for(c in{success:1,error:1,complete:1})u[c](r[c]);if(l=vf(bi,r,t,u),l){u.readyState=1;a&&d.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(k=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;l.send(it,w)}catch(ft){if(e<2)w(-1,ft);else throw ft;}}else w(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=undefined),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0||!r.reliableHiddenOffsets()&&(n.style&&n.style.display||i.css(n,"display"))==="none"};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var yo=/%20/g,po=/\[\]$/,yf=/\r?\n/g,wo=/^(?:submit|button|image|reset|file)$/i,bo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():t==null?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(t===undefined&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)di(r,n[r],t,f);return u.join("&").replace(yo,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&bo.test(this.nodeName)&&!wo.test(n)&&(this.checked||!oi.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(yf,"\r\n")}}):{name:t.name,value:r.replace(yf,"\r\n")}}).get()}});i.ajaxSettings.xhr=n.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&pf()||go()}:pf;var ko=0,ni={},ht=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in ni)ni[n](undefined,!0)}),r.cors=!!ht&&"withCredentials"in ht,ht=r.ajax=!!ht,ht&&i.ajaxTransport(function(n){if(!n.crossDomain||r.cors){var t;return{send:function(r,u){var e,f=n.xhr(),o=++ko;if(f.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(e in n.xhrFields)f[e]=n.xhrFields[e];n.mimeType&&f.overrideMimeType&&f.overrideMimeType(n.mimeType);n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(e in r)r[e]!==undefined&&f.setRequestHeader(e,r[e]+"");f.send(n.hasContent&&n.data||null);t=function(r,e){var s,c,h;if(t&&(e||f.readyState===4))if(delete ni[o],t=undefined,f.onreadystatechange=i.noop,e)f.readyState!==4&&f.abort();else{h={};s=f.status;typeof f.responseText=="string"&&(h.text=f.responseText);try{c=f.statusText}catch(l){c=""}s||!n.isLocal||n.crossDomain?s===1223&&(s=204):s=h.text?200:404}h&&u(s,c,h,f.getAllResponseHeaders())};n.async?f.readyState===4?setTimeout(t):f.onreadystatechange=ni[o]=t:t()},abort:function(){t&&t(undefined,!0)}}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)}),i.ajaxTransport("script",function(n){if(n.crossDomain){var t,r=u.head||i("head")[0]||u.documentElement;return{send:function(i,f){t=u.createElement("script");t.async=!0;n.scriptCharset&&(t.charset=n.scriptCharset);t.src=n.url;t.onload=t.onreadystatechange=function(n,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||f(200,"success"))};r.insertBefore(t,r.firstChild)},abort:function(){if(t)t.onload(undefined,!0)}}}}),gi=[],ti=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=gi.pop()||i.expando+"_"+pi++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ti.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp")return f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+f):t.jsonp!==!1&&(t.url+=(wi.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,gi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=undefined}),"script"}),i.parseHTML=function(n,t,r){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(r=t,t=!1);t=t||u;var f=er.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},nr=i.fn.load,i.fn.load=function(n,t,r){if(typeof n!="string"&&nr)return nr.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e,n.length)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=undefined):t&&typeof t=="object"&&(s="POST"),f.length>0&&i.ajax({url:n,type:s,dataType:"html",data:t}).done(function(n){o=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,o||[n.responseText,t,n])}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},tr=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};l==="static"&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=(l==="absolute"||l==="fixed")&&i.inArray("auto",[s,c])>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));t.top!=null&&(f.top=t.top-u.top+h);t.left!=null&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var t,f,u={top:0,left:0},r=this[0],e=r&&r.ownerDocument;if(e)return(t=e.documentElement,!i.contains(t,r))?u:(typeof r.getBoundingClientRect!==o&&(u=r.getBoundingClientRect()),f=wf(e),{top:u.top+(f.pageYOffset||t.scrollTop)-(t.clientTop||0),left:u.left+(f.pageXOffset||t.scrollLeft)-(t.clientLeft||0)})},position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||tr;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||tr})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r=/Y/.test(t);i.fn[n]=function(u){return b(this,function(n,u,f){var e=wf(n);if(f===undefined)return e?t in e?e[t]:e.document.documentElement[u]:n[u];e?e.scrollTo(r?i(e).scrollLeft():f,r?f:i(e).scrollTop()):n[u]=f},n,u,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=au(r.pixelPosition,function(n,r){if(r)return r=d(n,t),pt.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||typeof u!="boolean"),o=r||(u===!0||f===!0?"margin":"border");return b(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:t.nodeType===9?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):u===undefined?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:undefined,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),bf=n.jQuery,kf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=kf),t&&n.jQuery===i&&(n.jQuery=bf),i},typeof t===o&&(n.jQuery=n.$=i),i});ErrorHandler=new function(){function u(t){return t._errorWrapped||(t._errorWrapped=function(){if(n)try{return t.apply(this,arguments)}catch(r){i.notifyError(r)}else return t.apply(this,arguments)}),t._errorWrapped}var i=this,t,r=!1,n=!0;this.enableWrappedError=function(){n=!0};this.disableWrappedError=function(){n=!1};this.isEnabledWrappedError=function(){return n};this.activate=function(){r=!0};this.wrapWithNotify=function(n){return r&&n?u(n):n};this.setErrorCallback=function(n){t=n};this.activateWindowErrorNotifier=function(n,t){window.onerror=function(r,u,f,e,o){if(n&&!n.apply(this,arguments)){t&&t(r,u,f,e,o);return}i.notifyError(o||r)}};this.notifyError=function(n){t?t(n):console.error(n)}},function(n){n.eachEntry=function(n,t){for(var i in n)if(t(i,n[i])===!1)break;return n};n.mapEntry=function(n,t){var r=[],i;for(var u in n)i=t(n[u],u),i!==undefined&&r.push(i);return r};n.eachItem=function(n,t){for(var r=n.length,i=0;i<r;i++)if(t(i,n[i])===!1)break;return n};n.mapItem=function(n,t){for(var u=[],r,f=n.length,i=0;i<f;i++)r=t(n[i],i),r!==undefined&&u.push(r);return u};n.getIndexOfElementInArray=function(t,i,r){var f,u;if(r=r?r:n.defaultEqualityComparer,i)for(f=i.length,u=0;u<f;u++)if(r(i[u],t))return u;return-1};n.arraysEqual=function(t,i,r){var f,e,u;if(r=n.quickExtend({valueFunction:n.identity,equalityComparer:n.referencesEqualityComparer},r),f=r.valueFunction,e=r.equalityComparer,!t||!i)return t===i;if(t.length!==i.length)return!1;for(u=0;u<t.length;u++)if(!e(f(t[u]),f(i[u])))return!1;return!0};n.reverseArray=function(t,i){var u,r;for(i=n.valueOrDefault(i,n.identity),u=[],r=t.length-1;r>=0;r--)u.push(i(t[r]));return u};n.flattenStructure=function(t,i){var l,s,o;i=n.quickExtend({subTreeOpener:undefined,subTreeCloser:undefined,childrenGetter:function(n){return n.children}},i);for(var h=i.subTreeOpener,c=i.subTreeCloser,a=i.childrenGetter,u,e=[],f=[],r=t.length-1;r>=0;r--)e.push(t[r]);for(l={},s={};e.length>0;)if(u=e.pop(),f.push(u),u!==s&&(o=a(u),o&&o.length>0))for(h!==undefined&&f.push(l),c!==undefined&&e.push(s),r=o.length-1;r>=0;r--)e.push(o[r]);if(h!==undefined||c!==undefined)for(r=0;r<f.length;r++)u=f[r],u===l&&(f[r]=h),u===s&&(f[r]=c);return f};n.findDuplications=function(t,i){return n.grep(n.countItems(t,i),function(n){return n.count>1})};n.getInValidItems=function(t,i){var r=[];return i=i?i:n.returnTrue,n.each(t,function(n,t){var u=i(t);u||r.push(t)}),r};n.countItems=function(t,i){var r={};return n.each(t,function(n,t){var f=i(t),u=r[f];u?u.count++:(u={item:t,count:1,value:f},r[f]=u)}),n.getValues(r)};n.oneOfValues=function(t,i){return n.inArray(t,i)>=0};n.removeSortedArrayDuplicates=function(n){for(var i,u,r=[],t=0;t<n.length;t++)i=n[t],u=n[t+1],i!==u&&r.push(i);return r};n.binarySearch=function(n,t){for(var r=0,u=n.length-1,i,f;r<=u;)if(i=(r+u)/2|0,f=n[i],f<t)r=i+1;else if(f>t)u=i-1;else return i;return-1};n.binarySearchGreater=function(n,t){for(var i=0,u=n.length,r;i!==u;)r=Math.floor((i+u)/2),n[r]<=t?i=r+1:u=r;return i>=n.length?-1:i};n.binarySearchLower=function(n,t){for(var i=0,u=n.length,r;i!==u;)r=Math.ceil((i+u)/2),n[r]>=t?u=r-1:i=r;return i<0?-1:i};n.binaryRangeSearch=function(t,i,r){var f=n.binarySearchGreater(t,i-1),u;return f!==-1?(u=n.binarySearchLower(t,r+1),u!==-1?t.slice(f,u+1):[]):[]};n.binarySearchClosest=function(t,i,r){var u,f,e,o;return r===undefined&&(r=!1),u=t[n.binarySearchGreater(t,i-1)],f=t[n.binarySearchLower(t,i+1)],u===undefined?f:f===undefined?u:(e=Math.abs(i-f),o=Math.abs(i-u),e===o?r?f:u:e<o?f:u)};n.groupBy=function(t,i){var r={};return n.eachItem(t,function(n,t){var f=i(t),u=r[f];u===undefined&&(u=[],r[f]=u);u.push(t)}),r};n.max=function(t,i,r){var u=-1,f=undefined;return i=n.valueOrDefault(i,n.identity),n.eachItem(t,function(n,t){var e=i(t,n),o;o=f?r?r(e,u)>0:e>u:!0;o&&(u=e,f=t)}),{value:u,item:f}};n.min=function(t,i,r){var u=-1,f=undefined;return i=n.valueOrDefault(i,n.identity),n.eachItem(t,function(n,t){var e=i(t,n),o;o=f?r?r(e,u)<0:e<u:!0;o&&(u=e,f=t)}),{value:u,item:f}};n.extractFieldValue=function(t,i){return n.map(t,function(n){return n[i]})};n.minItem=function(t,i,r){return n.min(t,i,r).item};n.maxItem=function(t,i,r){return n.max(t,i,r).item};n.minValue=function(t,i,r){return n.min(t,i,r).value};n.maxValue=function(t,i,r){return n.max(t,i,r).value};n.fn.min=function(t){var i=-1,r=undefined;return n(this).each(function(){var u=t(n(this));(!r||u<i)&&(i=u,r=n(this))}),{value:i,element:r}};n.fn.max=function(t){var i=-1,r=undefined;return n(this).each(function(){var u=t.call(n(this),n(this));(!r||u>i)&&(i=u,r=n(this))}),{value:i,element:r}};n.fn.all=function(t){var i=!0;return n(this).each(function(){if(!t.call(n(this)))return i=!1,!1}),i};n.allTheSame=function(t,i){if(t.length<2)return!0;var r=i(t[0]);return n.all(t,function(n){return i(n)===r})};n.getIfAllTheSame=function(t,i){if(t.length===0)return undefined;var r=i(t[0]),u=n.all(t,function(n){return i(n)===r});return u?r:!1};n.findFirst=function(t,i){i=n.valueOrDefault(i,n.returnTrue);var r=undefined;return n.each(t,function(n,t){if(i.call(t,n,t))return r=t,!1}),r};n.all=function(t,i){var r=!0;return n.eachItem(t,function(n,t){if(!i.call(t,t))return r=!1,!1}),r};n.common=function(n,t){for(var u,i=undefined,r=0;r<n.length;r++){if(u=t(n[r]),i!==undefined&&u!==i)return undefined;i=u}return i};n.fn.any=function(t){var i=!1;return n(this).each(function(){if(t.call(n(this)))return i=!0,!1}),i};n.any=function(n,t,i){var r,u;for(i===undefined&&(i=0),r=i;r<n.length;r++)if(u=n[r],t.call(u,u))return!0;return!1};n.generateRange=function(n,t){for(var r=[],i=n;i<=t;i++)r.push(i);return r};n.sum=function(t,i,r){var f,u,e;for(i=n.valueOrDefault(i,n.identity),f=n.valueOrDefault(r,0),u=0;u<t.length;u++)e=t[u],f+=i.call(e,e);return f};n.fn.sum=function(t,i){return n.sum(this,t,i)}}(jQuery),function(n){n.migrateMute=!0}(jQuery);
/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
(function(n,t,i){function r(i){var r=t.console;e[i]||(e[i]=!0,n.migrateWarnings.push(i),r&&r.warn&&!n.migrateMute&&(r.warn("JQMIGRATE: "+i),n.migrateTrace&&r.trace&&r.trace()))}function o(t,i,u,f){if(Object.defineProperty)try{Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(f),u},set:function(n){r(f);u=n}});return}catch(e){}n._definePropertyBroken=!0;t[i]=u}var e={},l,a;n.migrateWarnings=[];!n.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active");n.migrateTrace===i&&(n.migrateTrace=!0);n.migrateReset=function(){e={};n.migrateWarnings.length=0};document.compatMode==="BackCompat"&&r("jQuery is not compatible with Quirks Mode");var s=n("<input/>",{size:1}).attr("size")&&n.attrFn,h=n.attr,d=n.attrHooks.value&&n.attrHooks.value.get||function(){return null},g=n.attrHooks.value&&n.attrHooks.value.set||function(){return i},nt=/^(?:input|button)$/i,tt=/^[238]$/,it=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,rt=/^(?:checked|selected)$/i;n.attr=function(t,u,f,e){var o=u.toLowerCase(),c=t&&t.nodeType;return e&&(h.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!tt.test(c)&&(s?u in s:n.isFunction(n.fn[u])))?n(t)[u](f):(u==="type"&&f!==i&&nt.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!n.attrHooks[o]&&it.test(o)&&(n.attrHooks[o]={get:function(t,r){var u,f=n.prop(t,r);return f===!0||typeof f!="boolean"&&(u=t.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():i},set:function(t,i,r){var u;return i===!1?n.removeAttr(t,r):(u=n.propFix[r]||r,u in t&&(t[u]=!0),t.setAttribute(r,r.toLowerCase())),r}},rt.test(o)&&r("jQuery.fn.attr('"+o+"') may use property instead of attribute")),h.call(n,t,u,f))};n.attrHooks.value={get:function(n,t){var i=(n.nodeName||"").toLowerCase();return i==="button"?d.apply(this,arguments):(i!=="input"&&i!=="option"&&r("jQuery.fn.attr('value') no longer gets properties"),t in n?n.value:null)},set:function(n,t){var i=(n.nodeName||"").toLowerCase();if(i==="button")return g.apply(this,arguments);i!=="input"&&i!=="option"&&r("jQuery.fn.attr('value', val) no longer sets properties");n.value=t}};var f,u,c=n.fn.init,ut=n.parseJSON,ft=/^([^<]*)(<[\w\W]+>)([^>]*)$/;n.fn.init=function(t,i,u){var f=i,e;return t&&typeof t=="string"&&!n.isPlainObject(f)&&(e=ft.exec(n.trim(t)))&&e[0]&&(t.charAt(0)!=="<"&&r("$(html) HTML strings must start with '<' character"),e[3]&&r("$(html) HTML text after last tag is ignored"),e[0].charAt(0)==="#"&&(r("HTML string cannot start with a '#' character"),n.error("JQMIGRATE: Invalid selector string (XSS)")),f&&f.context&&(f=f.context),n.parseHTML)?c.call(this,n.parseHTML(e[2],f,!0),f,u):c.apply(this,arguments)};n.fn.init.prototype=n.fn;n.parseJSON=function(n){return!n&&n!==null?(r("jQuery.parseJSON requires a valid JSON string"),null):ut.apply(this,arguments)};n.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};n.browser||(f=n.uaMatch(navigator.userAgent),u={},f.browser&&(u[f.browser]=!0,u.version=f.version),u.chrome?u.webkit=!0:u.webkit&&(u.safari=!0),n.browser=u);o(n,"browser",n.browser,"jQuery.browser is deprecated");n.sub=function(){function t(n,i){return new t.fn.init(n,i)}n.extend(!0,t,this);t.superclass=this;t.fn=t.prototype=this();t.fn.constructor=t;t.sub=this.sub;t.fn.init=function(r,u){return u&&u instanceof n&&!(u instanceof t)&&(u=t(u)),n.fn.init.call(this,r,u,i)};t.fn.init.prototype=t.fn;var i=t(document);return r("jQuery.sub() is deprecated"),t};n.ajaxSetup({converters:{"text json":n.parseJSON}});l=/\/(java|ecma)script/i;a=n.fn.andSelf||n.fn.addBack;n.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),a.apply(this,arguments)};n.clean||(n.clean=function(t,i,u,f){i=i||document;i=!i.nodeType&&i[0]||i;i=i.ownerDocument||i;r("jQuery.clean() is deprecated");var o,e,h,c,s=[];if(n.merge(s,n.buildFragment(t,i).childNodes),u)for(h=function(n){if(!n.type||l.test(n.type))return f?f.push(n.parentNode?n.parentNode.removeChild(n):n):u.appendChild(n)},o=0;(e=s[o])!=null;o++)n.nodeName(e,"script")&&h(e)||(u.appendChild(e),typeof e.getElementsByTagName!="undefined"&&(c=n.grep(n.merge([],e.getElementsByTagName("script")),h),s.splice.apply(s,[o+1,0].concat(c)),o+=c.length));return s});var et=n.event.add,ot=n.event.remove,st=n.event.trigger,ht=n.fn.toggle,v=n.fn.live,y=n.fn.die,p="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",w=new RegExp("\\b(?:"+p+")\\b"),b=/(?:^|\s)hover(\.\S+|)\b/,k=function(t){return typeof t!="string"||n.event.special.hover?t:(b.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(b,"mouseenter$1 mouseleave$1"))};n.event.props&&n.event.props[0]!=="attrChange"&&n.event.props.unshift("attrChange","attrName","relatedNode","srcElement");n.event.dispatch&&o(n.event,"handle",n.event.dispatch,"jQuery.event.handle is undocumented and deprecated");n.event.add=function(n,t,i,u,f){n!==document&&w.test(t)&&r("AJAX events should be attached to document: "+t);et.call(this,n,k(t||""),i,u,f)};n.event.remove=function(n,t,i,r,u){ot.call(this,n,k(t)||"",i,r,u)};n.fn.error=function(){for(var i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];return(r("jQuery.fn.error() is deprecated"),n.splice(0,0,"error"),i)?this.bind.apply(this,n):(this.triggerHandler.apply(this,n),this)};n.fn.toggle=function(t,i){if(!n.isFunction(t)||!n.isFunction(i))return ht.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var u=arguments,e=t.guid||n.guid++,f=0,o=function(i){var r=(n._data(this,"lastToggle"+t.guid)||0)%f;return n._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),u[r].apply(this,arguments)||!1};for(o.guid=e;f<u.length;)u[f++].guid=e;return this.click(o)};n.fn.live=function(t,i,u){if(r("jQuery.fn.live() is deprecated"),v)return v.apply(this,arguments);n(this.context).on(t,this.selector,i,u);return this};n.fn.die=function(t,i){return(r("jQuery.fn.die() is deprecated"),y)?y.apply(this,arguments):(n(this.context).off(t,this.selector||"**",i),this)};n.event.trigger=function(n,t,i,u){return i||w.test(n)||r("Global events are undocumented and deprecated"),st.call(this,n,t,i||document,u)};n.each(p.split("|"),function(t,i){n.event.special[i]={setup:function(){var t=this;return t!==document&&(n.event.add(document,i+"."+n.guid,function(){n.event.trigger(i,null,t,!0)}),n._data(this,i,n.guid++)),!1},teardown:function(){return this!==document&&n.event.remove(document,i+"."+n._data(this,i)),!1}}})})(jQuery,window);PrototypeUtils=new function(){this.IsInitializing=!1;this.getArgumentNames=function(n){var t=n.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return t.length==1&&!t[0]?[]:t};this.requiresSuperMethod=function(n){var t=n.toString(),i=t.indexOf(")",9);return i>=0?t.lastIndexOf("$super",i)>=0:!1}},function(){function r(n,t){var e=n.prototype,u=n.superclass,i,r,f;for(i in t)r=t[i],f=u[i],e[i]=typeof r=="function"&&typeof u[i]=="function"&&PrototypeUtils.requiresSuperMethod(r)?function(n,t){return function(i,r,u,f,e){var o=this,s=function(t,i,r,u,f){return n.call(o,t,i,r,u,f)};return t.call(this,s,i,r,u,f,e)}}(f,r):r;return n}var n=typeof n!="undefined"&&!n.profile,t,i;window.Class=function(){};t=!1;i=Class.extend=function(u,f){function p(n,i,r,u,f){var e=this.init;!t&&e&&e.call(this,n,i,r,u,f)}var v=this.prototype,c,y,s,l,h,o,a,e;if(PrototypeUtils.IsInitializing=!0,t=!0,c=new this,PrototypeUtils.IsInitializing=!1,t=!1,n)for(y in f)if(s=f[y],typeof s=="function"&&(l=PrototypeUtils.getArgumentNames(s).length,l>5&&!(l===6&&PrototypeUtils.requiresSuperMethod(s))))throw new Error("support only 5 arguments");for(h in f)o=f[h],a=v[h],c[h]=typeof o=="function"&&typeof a=="function"&&PrototypeUtils.requiresSuperMethod(o)?function(n,t){return function(i,r,u,f,e){var o=this,s=function(t,i,r,u,f){return n.call(o,t,i,r,u,f)};return t.call(this,s,i,r,u,f,e)}}(a,o):o;return e=n?new Function("return function "+u+"(arg1, arg2, arg3, arg4, arg5) { var init = this.init; if ( !PrototypeUtils.IsInitializing && init ) { init.call(this, arg1, arg2, arg3, arg4, arg5); } }").call(this):p,e.prototype=c,e.prototype.constructor=e,e.extend=i,e.superclass=v,e.extendPrototype=function(n){return r(e,n)},e}}(),function(n,t,i){typeof define=="function"&&define.amd?define(["../../jquery"],function(r){return i(r,n,t),r.mobile}):i(n.jQuery,n,t)}(this,document,function(n,t,i){(function(n,t,i,r){function a(n){while(n&&typeof n.originalEvent!="undefined")n=n.originalEvent;return n}function wt(t,i){var u=t.type,e,o,c,f,s,l,v,h,y;if(t=n.Event(t),t.type=i,e=t.originalEvent,o=n.event.props,u.search(/^(mouse|click)/)>-1&&(o=yt),e)for(v=o.length,f;v;)f=o[--v],t[f]=e[f];if(u.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),u.search(/^touch/)!==-1&&(c=a(e),u=c.touches,s=c.changedTouches,l=u&&u.length?u[0]:s&&s.length?s[0]:r,l))for(h=0,y=tt.length;h<y;h++)f=tt[h],t[f]=l[f];return t}function p(t){for(var i={},r,u;t;){r=n.data(t,o);for(u in r)r[u]&&(i[u]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function bt(t,i){for(var r;t;){if(r=n.data(t,o),r&&(!i||r[i]))return t;t=t.parentNode}return null}function kt(){c=!1}function ut(){c=!0}function dt(){s=0;v.length=0;k=!1;ut()}function gt(){kt()}function nt(){ft();h=setTimeout(function(){h=0;dt()},n.vmouse.resetTimerDuration)}function ft(){h&&(clearTimeout(h),h=0)}function e(t,i,r){var u;return(r&&r[t]||!r&&bt(i.target,t))&&(u=wt(i,t),n(i.target).trigger(u)),u}function et(t){var r=n.data(t.target,w),i;k||s&&s===r||(i=e("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function ot(t){var o=a(t).touches,r,i,u;o&&o.length===1&&(r=t.target,i=p(r),i.hasVirtualBinding&&(s=pt++,n.data(r,w,s),ft(),gt(),f=!1,u=a(t).touches[0],it=u.pageX,rt=u.pageY,e("vmouseover",t,i),e("vmousedown",t,i)))}function st(n){c||(f||e("vmousecancel",n,p(n.target)),f=!0,nt())}function ht(t){if(!c){var i=a(t).touches[0],o=f,r=n.vmouse.moveDistanceThreshold,u=p(t.target);f=f||Math.abs(i.pageX-it)>r||Math.abs(i.pageY-rt)>r;f&&!o&&e("vmousecancel",t,u);e("vmousemove",t,u);nt()}}function ct(n){if(!c){ut();var t=p(n.target),i,r;e("vmouseup",n,t);f||(i=e("vclick",n,t),i&&i.isDefaultPrevented()&&(r=a(n).changedTouches[0],v.push({touchID:s,x:r.clientX,y:r.clientY}),k=!0));e("vmouseout",n,t);f=!1;nt()}}function lt(t){var i=n.data(t,o),r;if(i)for(r in i)if(i[r])return!0;return!1}function at(){}function ni(t){var i=t.substr(1);return{setup:function(){lt(this)||n.data(this,o,{});var r=n.data(this,o);r[t]=!0;u[t]=(u[t]||0)+1;u[t]===1&&y.bind(i,et);n(this).bind(i,at);d&&(u.touchstart=(u.touchstart||0)+1,u.touchstart===1&&y.bind("touchstart",ot).bind("touchend",ct).bind("touchmove",ht).bind("scroll",st))},teardown:function(){--u[t];u[t]||y.unbind(i,et);d&&(--u.touchstart,u.touchstart||y.unbind("touchstart",ot).unbind("touchmove",ht).unbind("touchend",ct).unbind("scroll",st));var r=n(this),f=n.data(this,o);f&&(f[t]=!1);r.unbind(i,at);lt(this)||r.removeData(o)}}}var o="virtualMouseBindings",w="virtualTouchID",b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),tt="clientX clientY pageX pageY screenX screenY".split(" "),vt=n.event.mouseHooks?n.event.mouseHooks.props:[],yt=n.event.props.concat(vt),u={},h=0,it=0,rt=0,f=!1,v=[],k=!1,c=!1,d="addEventListener"in i,y=n(i),pt=1,s=0,g,l;for(n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},l=0;l<b.length;l++)n.event.special[b[l]]=ni(b[l]);d&&i.addEventListener("click",function(t){var f=v.length,e=t.target,o,s,i,r,u,h;if(f)for(o=t.clientX,s=t.clientY,g=n.vmouse.clickDistanceThreshold,i=e;i;){for(r=0;r<f;r++)if(u=v[r],h=0,i===e&&Math.abs(u.x-o)<g&&Math.abs(u.y-s)<g||n.data(i,w)===u.touchID){t.preventDefault();t.stopPropagation();return}i=i.parentNode}},!0)})(n,t,i),function(n){n.mobile={}}(n),function(n){var t={touch:"ontouchend"in i};n.mobile.support=n.mobile.support||{};n.extend(n.support,t);n.extend(n.mobile.support,t)}(n),function(n,t,r){function f(t,i,u,f){var e=u.type;u.type=i;f?n.event.trigger(u,r,t):n.event.dispatch.call(t,u);u.type=e}var u=n(i),e=n.mobile.support.touch,s="touchmove scroll",h=e?"touchstart":"mousedown",c=e?"touchend":"mouseup",o=e?"touchmove":"mousemove";n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};n.attrFn&&(n.attrFn[i]=!0)});n.event.special.scrollstart={enabled:!0,setup:function(){function u(n,r){t=r;f(i,t?"scrollstart":"scrollstop",n)}var i=this,e=n(i),t,r;e.bind(s,function(i){n.event.special.scrollstart.enabled&&(t||u(i,!0),clearTimeout(r),r=setTimeout(function(){u(i,!1)},50))})},teardown:function(){n(this).unbind(s)}};n.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var i=this,r=n(i),t=!1;r.bind("vmousedown",function(e){function o(){clearTimeout(c)}function s(){o();r.unbind("vclick",l).unbind("vmouseup",o);u.unbind("vmousecancel",s)}function l(n){s();t||h!==n.target?t&&n.preventDefault():f(i,"tap",n)}if(t=!1,e.which&&e.which!==1)return!1;var h=e.target,c;r.bind("vmouseup",o).bind("vclick",l);u.bind("vmousecancel",s);c=setTimeout(function(){n.event.special.tap.emitTapOnTaphold||(t=!0);f(i,"taphold",n.Event("taphold",{target:h}))},n.event.special.tap.tapholdThreshold)})},teardown:function(){n(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");u.unbind("vmousecancel")}};n.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(n){var u=t.pageXOffset,f=t.pageYOffset,i=n.clientX,r=n.clientY;return n.pageY===0&&Math.floor(r)>Math.floor(n.pageY)||n.pageX===0&&Math.floor(i)>Math.floor(n.pageX)?(i=i-u,r=r-f):(r<n.pageY-f||i<n.pageX-u)&&(i=n.pageX-u,r=n.pageY-f),{x:i,y:r}},start:function(t){var r=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=n.event.special.swipe.getLocation(r);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:n(t.target)}},stop:function(t){var r=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=n.event.special.swipe.getLocation(r);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,i,r,u){if(i.time-t.time<n.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistanceThreshold){var e=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return f(r,"swipe",n.Event("swipe",{target:u,swipestart:t,swipestop:i}),!0),f(r,e,n.Event(e,{target:u,swipestart:t,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var i,r=this,f=n(r),t={};i=n.data(this,"mobile-events");i||(i={length:0},n.data(this,"mobile-events",i));i.length++;i.swipe=t;t.start=function(i){if(!n.event.special.swipe.eventInProgress){n.event.special.swipe.eventInProgress=!0;var e,s=n.event.special.swipe.start(i),h=i.target,f=!1;t.move=function(t){s&&!t.isDefaultPrevented()&&(e=n.event.special.swipe.stop(t),f||(f=n.event.special.swipe.handleSwipe(s,e,r,h),f&&(n.event.special.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-e.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())};t.stop=function(){f=!0;n.event.special.swipe.eventInProgress=!1;u.off(o,t.move);t.move=null};u.on(o,t.move).one(c,t.stop)}};f.on(h,t.start)},teardown:function(){var i,t;i=n.data(this,"mobile-events");i&&(t=i.swipe,delete i.swipe,i.length--,i.length===0&&n.removeData(this,"mobile-events"));t&&(t.start&&n(this).off(h,t.start),t.move&&u.off(o,t.move),t.stop&&u.off(c,t.stop))}};n.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)},teardown:function(){n(this).unbind(i)}}})}(n,this)});window.Modernizr=function(n,t,i){function v(n){h.cssText=n}function ct(n,t){return v(p.join(n+";")+(t||""))}function s(n,t){return typeof n===t}function d(n,t){return!!~(""+n).indexOf(t)}function ht(n,t){var u,r;for(u in n)if(r=n[u],!d(r,"-")&&h[r]!==i)return t=="pfx"?r:!0;return!1}function lt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:s(u,"function")?u.bind(r||t):u;return!1}function e(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+it.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?ht(u,t):(u=(n+" "+rt.join(r+" ")+r).split(" "),lt(u,t,i))}function at(){r.input=function(i){for(var r=0,u=i.length;r<u;r++)l[i[r]]=!!(i[r]in f);return l.list&&(l.list=!!(t.createElement("datalist")&&n.HTMLDataListElement)),l}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));r.inputtypes=function(n){for(var u=0,r,e,s,h=n.length;u<h;u++)f.setAttribute("type",e=n[u]),r=f.type!=="text",r&&(f.value=nt,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&f.style.WebkitAppearance!==i?(o.appendChild(f),s=t.defaultView,r=s.getComputedStyle&&s.getComputedStyle(f,null).WebkitAppearance!=="textfield"&&f.offsetHeight!==0,o.removeChild(f)):/^(search|tel)$/.test(e)||(r=/^(url|email)$/.test(e)?f.checkValidity&&f.checkValidity()===!1:f.value!=nt)),ft[n[u]]=!!r;return ft}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r={},o=t.documentElement,c="modernizr",g=t.createElement(c),h=g.style,f=t.createElement("input"),nt=":)",vt={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),tt="Webkit Moz O ms",it=tt.split(" "),rt=tt.toLowerCase().split(" "),ut={svg:"http://www.w3.org/2000/svg"},u={},ft={},l={},et=[],w=et.slice,a,ot=function(n,i,r,u){var l,a,h,v,f=t.createElement("div"),s=t.body,e=s||t.createElement("body");if(parseInt(r,10))while(r--)h=t.createElement("div"),h.id=u?u[r]:c+(r+1),f.appendChild(h);return l=["&#173;",'<style id="s',c,'">',n,"<\/style>"].join(""),f.id=c,(s?f:e).innerHTML+=l,e.appendChild(f),s||(e.style.background="",e.style.overflow="hidden",v=o.style.overflow,o.style.overflow="hidden",o.appendChild(e)),a=i(f,n),s?f.parentNode.removeChild(f):(e.parentNode.removeChild(e),o.style.overflow=v),!!a},st=function(){function r(r,u){u=u||t.createElement(n[r]||"div");r="on"+r;var f=r in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=s(u[r],"function"),s(u[r],"undefined")||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),b={}.hasOwnProperty,k,y;k=s(b,"undefined")||s(b.call,"undefined")?function(n,t){return t in n&&s(n.constructor.prototype[t],"undefined")}:function(n,t){return b.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=w.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(w.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(w.call(arguments)))},r});u.canvas=function(){var n=t.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))};u.postmessage=function(){return!!n.postMessage};u.hashchange=function(){return st("hashchange",n)&&(t.documentMode===i||t.documentMode>7)};u.history=function(){return!!(n.history&&history.pushState)};u.rgba=function(){return v("background-color:rgba(150,255,150,.5)"),d(h.backgroundColor,"rgba")};u.backgroundsize=function(){return e("backgroundSize")};u.borderradius=function(){return e("borderRadius")};u.boxshadow=function(){return e("boxShadow")};u.textshadow=function(){return t.createElement("div").style.textShadow===""};u.opacity=function(){return ct("opacity:.55"),/^0.55$/.test(h.opacity)};u.cssanimations=function(){return e("animationName")};u.cssgradients=function(){var n="background-image:";return v((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+p.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),d(h.backgroundImage,"gradient")};u.csstransforms=function(){return!!e("transform")};u.csstransforms3d=function(){var n=!!e("perspective");return n&&"webkitPerspective"in o.style&&ot("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){n=t.offsetLeft===9&&t.offsetHeight===3}),n};u.csstransitions=function(){return e("transition")};u.svg=function(){return!!t.createElementNS&&!!t.createElementNS(ut.svg,"svg").createSVGRect};u.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==ut.svg};for(y in u)k(u,y)&&(a=y.toLowerCase(),r[a]=u[y](),et.push((r[a]?"":"no-")+a));return r.input||at(),r.addTest=function(n,t){if(typeof n=="object")for(var u in n)k(n,u)&&r.addTest(u,n[u]);else{if(n=n.toLowerCase(),r[n]!==i)return r;t=typeof t=="function"?t():t;typeof enableClasses!="undefined"&&enableClasses&&(o.className+=" "+(t?"":"no-")+n);r[n]=t}return r},v(""),g=f=null,r._version="2.8.3",r._prefixes=p,r._domPrefixes=rt,r._cssomPrefixes=it,r.hasEvent=st,r.testProp=function(n){return ht([n])},r.testAllProps=e,r.testStyles=ot,r.prefixed=function(n,t,i){return t?e(n,t,i):e(n,"pfx")},r}(this,this.document),function(n){function r(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}}var t={},i=r(navigator.userAgent);i.browser&&(t[i.browser]=!0,t.version=i.version);t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0);n.addTest("pointerevents",function(){var i=document.createElement("div"),n=i.style;return n.cssText="pointer-events:auto",(!t.msie||parseInt(t.version)>10)&&n.pointerEvents==="auto"});n.addTest("layerforwarding",function(){var t=document.createElement("div"),i=t.style;return i.cssText="pointer-events:auto",n.pointerevents||document.elementFromPoint!==undefined});n.addTest("ie9lessmode",function(){return!!t.msie&&parseInt(t.version)<9});n.addTest("ie8lessmode",function(){return!!t.msie&&parseInt(t.version)<8});n.addTest("ie7mode",function(){return!!t.msie&&parseInt(t.version)===7})}(Modernizr);
/**
* @preserve HTML5 Shiv prev3.7.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
*/
(function(n,t){function p(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function c(){var n=r.elements;return typeof n=="string"?n.split(" "):n}function o(n){var t=h[n[s]];return t||(t={},e++,n[s]=e,h[e]=t),t}function l(n,r,u){if(r||(r=t),i)return r.createElement(n);u||(u=o(r));var f;return f=u.cache[n]?u.cache[n].cloneNode():y.test(n)?(u.cache[n]=u.createElem(n)).cloneNode():u.createElem(n),f.canHaveChildren&&!v.test(n)&&!f.tagUrn?u.frag.appendChild(f):f}function w(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||o(n);for(var f=r.frag.cloneNode(),u=0,e=c(),s=e.length;u<s;u++)f.createElement(e[u]);return f}function b(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?l(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function a(n){n||(n=t);var u=o(n);return!r.shivCSS||f||u.hasCSS||(u.hasCSS=!!p(n,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),i||b(n,u),n}var u=n.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,y=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,s="_html5shiv",e=0,h={},i,r;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";f="hidden"in n;i=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(r){f=!0;i=!0}})();r={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:u.shivCSS!==!1,supportsUnknownElements:i,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:a,createElement:l,createDocumentFragment:w};n.html5=r;a(t)})(this,document);typeof JSON=="undefined"&&(JSON={},function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var s,l,h,a,v=n,c,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i));typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,c=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,s=0;s<a;s+=1)c[s]=u(s,e)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));else for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),f.lastIndex=0,f.test(n)&&(n=n.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}());var SimpleEventBinding=function(){return Class.extend("SimpleEventBinding",{init:function(n,t){this.bindingName=n;this.event=t},unbind:function(){this.event.unbind(this.bindingName)},addToCollection:function(n){n.add(this)}})}(),SimpleEvent=function(){function e(n,t,i,r){return t=""+t,u(n,t,i,r),new SimpleEventBinding(t,n)}function u(n,t,i,r){var f=n._counter===0,u=n._callbacks;f||r===!0?n._counter++:u[t]===undefined&&n._counter++;u[t]=i}function s(t,i,r,f,e){var o=t._eventsMap[i];o===undefined&&(o=n.create(),t._eventsMap[i]=o);u(o,f,r,e);t._callbacksMap[f]=o}var v=1,r=1,i=!1,n={},t=Class.extend("SimpleEventController",{init:function(){this.id=v++;this._callbacks={};this._counter=0},bind:function(n,t){var i=!1;return t===undefined&&(t=r++,i=!0),e(this,t,n,i)},bindAndExecute:function(n,t){var i=this.bind(n,t);return n(),i},one:function(n,t){var i=this.bind(function(t,r,u,f,e){i.unbind();n.call(this,t,r,u,f,e)},t);return i},bindUntil:function(t,i){var r=this.bind(i);n.one(t,function(){r.unbind()});return r},namedBind:function(n,t){return e(this,n,t,!1)},createEventListener:function(t,i){return n.createEventListener(this,t,i)},hasNameBinding:function(n){return!!this._callbacks[n]},fire:function(n,t,r,u,f,e){var o,h,s,c;if(this._counter!==0){o=this._callbacks;h=i?$.quickExtend({},o):o;for(s in h)(!i||o[s])&&(c=h[s].call(n,t,r,u,f,e),c===!0&&this.unbind(s))}},fireNew:function(n,t,r,u,f){var e,s,o,h;if(this._counter!==0){e=this._callbacks;s=i?$.quickExtend({},e):e;for(o in s)(!i||e[o])&&(h=s[o](n,t,r,u,f),h===!0&&this.unbind(o))}},unbind:function(n){if(n!==undefined)if(typeof n=="object")n.unbind();else{var t=this._callbacks,i=t[n];i&&(delete t[n],this._counter--)}}}),o,h,c,f,l,a;return i=function(){var n=new t,i,r=0,u=function(){if(r++,i.unbind(),r>1)throw new Error;i=n.bind(u)};i=n.bind(u);try{return n.fireNew(),!1}catch(f){return!0}}(),n.create=function(){return new t},o=Class.extend("SimpleNamedEvents",{init:function(){this._eventsMap={};this._callbacksMap={}},fire:function(n,t,i,r,u,f,e){var o=this._eventsMap[n];o!==undefined&&o.fire(t,i,r,u,f,e)},fireNew:function(n,t,i,r,u,f){var e=this._eventsMap[n];e!==undefined&&e.fireNew(t,i,r,u,f)},bind:function(n,t,i){var u=!1;return i===undefined&&(i=""+r++,u=!0),s(this,n,t,i,u),new SimpleEventBinding(i,this)},one:function(n,t){var i=this.bind(n,function(n,r,u,f,e){i.unbind();t.call(this,n,r,u,f,e)})},unbind:function(n){n&&n.bindingName&&(n=n.bindingName);var t=this._callbacksMap[n];t!==undefined&&(t.unbind(n),delete this._callbacksMap[n])},bindAndExecute:function(n,t,i){var r=this.bind(n,t,i);return t(),r}}),n.createNamedEvents=function(){return new o},h=Class.extend("SimpleEventListenersGroup",{init:function(){this._eventListeners=[]},add:function(n){this._eventListeners.push(n)},clear:function(){this.deactivateAll();this._eventListeners=[]},activateAll:function(){for(var t=this._eventListeners,n=0;n<t.length;n++)t[n].activate()},activateAndExecuteAll:function(){for(var t=this._eventListeners,n=0;n<t.length;n++)t[n].activateAndExecute()},deactivateAll:function(){for(var t=this._eventListeners,n=0;n<t.length;n++)t[n].deactivate()},disposeAll:function(){for(var t=this._eventListeners,n=0;n<t.length;n++)t[n].dispose()}}),n.createEventListenersGroup=function(){return new h},c=Class.extend("SimpleEventBindingUtil",{init:function(n,t){this._eventSelectors=$.asArray(n);this._isActive=!1;this._callback=t},setEventSource:function(t,i){return this.removeCurrentSource(),t&&(this._currentEventSource=t,this._currentEventListener=n.createEventListener($.map(this._eventSelectors,function(n){return $.isFunction(n)?n(t):t[n]}),this._callback),this._isActive&&(this._currentEventListener.activate(),i&&this._callback())),this},getEventSource:function(){return this._currentEventSource},removeCurrentSource:function(){this._currentEventListener&&this._currentEventListener.deactivate();delete this._currentEventListener;delete this._currentEventSource},activate:function(){this._isActive=!0;this._currentEventListener&&this._currentEventListener.activate()},activateAndExecute:function(){this._isActive=!0;this._currentEventListener&&(this._currentEventListener.activate(),this._callback())},deactivate:function(){this._isActive=!1;this._currentEventListener&&this._currentEventListener.deactivate()}}),n.createEventBinding=function(n,t){return new c(n,t)},f=Class.extend("SimpleEventListener",{init:function(n,t,i){i=$.quickExtend({activationCallback:$.noop,deactivationCallback:$.noop},i);this._options=i;this._isDisposed=!1;this._callback=t;this._simpleEvents=$.asArray(n)},activate:function(){var i,n,f;if(this._isDisposed)throw new Error("Trying activate a disposed event listener");if(!this._bindings){this._options.activationCallback();var e=this._simpleEvents,h=this._bindings=[],o=this._callback;for(i=0;i<e.length;i++)n=e[i],f=""+r++,n instanceof t?u(n,f,o,!0):s(n.event,n.name,o,f),h.push(f)}return this},activateAndExecute:function(){return this._bindings||(this.activate(),this._callback()),this},dispose:function(){this.deactivate();this._isDisposed=!0},deactivate:function(){var f=this._bindings,r,n,i,u;if(f){for(r=this._simpleEvents,n=0;n<r.length;n++)i=r[n],u=f[n],i instanceof t?i.unbind(u):i.event.unbind(u);delete this._bindings;this._options.deactivationCallback()}},toggleActivation:function(n,t){t=$.valueOrDefault(t,!1);n?t?this.activateAndExecute():this.activate():this.deactivate()},addToGroup:function(n){return n.add(this),this}}),n.createEventListener=function(n,t,i){return new f(n,t,i)},l=f.extend("SimplePostponedEventListener",{init:function($super,n,t,i){var r=this;$super(n,function(){r._isPostponed?r._firedWhenDeactivated=!0:r._actualCallback()},i);r._actualCallback=t;r._firedWhenDeactivated=!1;r._isPostponed=!1},postponeEvents:function(){this._isPostponed=!0},unPostponeEvents:function(){this._isPostponed=!1;this._firedWhenDeactivated&&(this._actualCallback(),this._firedWhenDeactivated=!1)}}),n.createPostponedEventListener=function(n,t,i){return new l(n,t,i)},a=Class.extend("SimpleBindingsCollection",{init:function(){this._bindings=[]},add:function(n){this._bindings.push(n)},unbindAll:function(){for(var t=this._bindings,n=0;n<t.length;n++)t[n].unbind();this._bindings=[]}}),n.createBindingsCollection=function(){return new a},n.bind=function(n,i,r){var e,f,o,u,s,h;for(n=$.asArray(n),e=[],f=0;f<n.length;f++){if(u=n[f],u instanceof t)o=u.bind(i,r);else{if(s=u.event,h=u.name,!s||!h)throw new Error("Bad event selector.");o=s.bind(h,i,r)}e.push({bindingID:o,eventSelector:u})}return e},n.bindAndExecute=function(t,i,r){var u=n.bind(t,i,r);return i(),u},n.unbind=function(n){var i,u,o;if(n)for(i=0;i<n.length;i++){var f=n[i],e=f.bindingID,r=f.eventSelector;if(r instanceof t)r.unbind(e);else{if(u=r.namedEvents,o=r.eventName,!u||!o)throw new Error("Bad event selector.");u.unbind(e)}}},n.one=function(t,i){var r=n.bind(t,function(t,u,f,e,o){n.unbind(r);i.call(this,t,u,f,e,o)});return r},n}(),__extends=function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r};(function(n){function e(t){var u={},r,i;for(r in t)i=t[r],i!==undefined&&(u[r]=i!==null&&typeof i=="object"?n.isArray(i)?o(i):e(i):i);return u}function o(t){for(var i,u=t.length,f=new Array(u),r=0;r<u;r++)i=t[r],i!==undefined&&(f[r]=i!==null&&typeof i=="object"?n.isArray(i)?o(i):e(i):i);return f}var h=0,c={},r=[],t=0,u=!0,l=undefined,f,i,s;n.identity=function(n){return n};n.getRandom=function(n,t){return Math.floor(Math.random()*(t+1)+n)};n.quickParseHTML=function(n){return f||(f=document.createDocumentFragment(),i=document.createElement("div"),f.appendChild(i)),i.innerHTML=n,i.childNodes};n.parseHtmlAsJQuery=function(t){return n(n.parseHTML(t))};n.toCamelCase=function(n,t){return t=t!==undefined?t:!1,n=n.replace(/-\w/g,function(n){return n[1].toUpperCase()}),t&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n};n.getRootWindow=function(){return window.parent?window.parent:window};n.getRootDocument=function(){var t=document;try{t=n.getRootWindow().document}catch(i){}return n(t)};n.getGlobalEventBindingsTarget=function(){var i=n.getRootDocument(),t=n(document);return t.is(i)||t.pushElements(i),t};n.fn.onceAny=function(t,i){var r=n(this),u=n.weakID(".b");t=n.map(n.trim(t).replace(/\s+/g," ").split(" "),function(n){return n+u}).join(" ");r.on(t,function(n){return r.off(u),i(n)});return this};n.repeatWithInterval=function(t,i,r){r=n.quickExtend({stepCallback:n.noop,completeCallback:n.noop,abortCallback:n.noop,finishCallback:n.noop},r);var s=r.stepCallback,h=r.completeCallback,c=r.abortCallback,e=r.finishCallback,u=t,f=!1,o=setInterval(function(){u--;s(u);u===0&&(clearInterval(o),h(),e(),f=!0)},i);return{abort:function(){f||(clearInterval(o),c(),e(),f=!0)}}};n.performLoop=function(n,t,i){for(var r=n;r<=t;r++)i(r,n,t)};n.tryParseJSON=function(n){try{return JSON.parse(n)}catch(t){return undefined}};n.activationFunction=function(n){n.activate()};n.noopWithCallback=function(n){n()};n.contextIdentity=function(){return this};n.asArray=function(t){return t===null||t===undefined?[]:n.isArray(t)?t:[t]};n.evaluateDeferrableValue=function(t){return n.isFunction(t)?t():t};n.oppositeFunction=function(n){return function(){return!n.apply(this,arguments)}};n.undefinedFunction=function(n){return n===undefined};n.undefinedOrNullFunction=function(n){return n===undefined||n===null};n.returnTrue=function(){return!0};n.returnFalse=function(){return!1};n.returnNull=function(){return null};n.returnUndefined=n.noop;n.returnZero=function(){return 0};n.returnOne=function(){return 1};n.returnTransparent=function(){return"transparent"};n.returnZeroSize=function(){return{width:0,height:0}};n.returnEmptyBorderObject=function(){return{top:0,left:0,bottom:0,right:0}};n.returnEmptyRoundnessObject=function(){return{topLeft:0,bottomLeft:0,topRight:0,bottomRight:0}};n.returnBlackBorderObject=function(){return n.convertValueToObject("Black",["top","left","bottom","right"])};n.returnEmptyString=function(){return""};n.returnEmptyObject=function(){return{}};n.returnEmptyArray=function(){return[]};n.returnValue=function(n){return n};n.returnNotValue=function(n){return!n};n.returnFixedValue=function(n){return function(){return n}};n.defaultIdFunction=function(n){return n.id};n.defaultSetIdFunction=function(n,t){n.id=t};n.defaultIndexFunction=function(n){return n.index};n.defaultNameFunction=function(n){return n.name};n.defaultOffset=function(){return{left:0,top:0}};n.defaultSize=function(){return{width:0,height:0}};n.buildArray=function(n,t){for(var r=[],i=0;i<n;i++)r.push(t(i));return r};n.argsProxy=function(n,t){return function(i,r,u,f,e){return n.call(t,i,r,u,f,e)}};n.firstArgProxy=function(n,t){return function(i,r,u,f,e){return n(t,i,r,u,f,e)}};n.quickExtend=function(n){var t=n,e,i,r,u,f;for(t===undefined&&(t={}),e=arguments.length,i=1;i<e;i++){r=arguments[i];for(u in r)f=r[u],f!==undefined&&(t[u]=f)}return t};n.deepCloneObject=function(t){return t===undefined||t===null||typeof t!="object"?t:n.isArray(t)?o(t):e(t)};n.getSign=function(t,i){return t<0?-1:t>0?1:n.valueOrDefault(i,0)};n.parseFontFamilyFromStyleValue=function(n){var t=/^['"]?([^'"]+)['"]?$/i.exec(n);return t?t[1]:undefined};n.readWrite=function(n,t,i){for(var f=[],u,e=n.length,o,r=0;r<e;r++)o=n[r],u=t(o),f.push({item:o,result:u});for(e=f.length,r=0;r<e;r++)u=f[r],i(u.item,u.result)};n.fn.findUsedClasses=function(t){var r=n.map(t,function(n){return"."+n}).join(","),i={};return this.find(r).each(function(){for(var t=this.className.split(/\s+/),n=0;n<t.length;n++)i[t[n]]=!0}),n.grep(t,function(n){return!!i[n]})};n.fn.findUsedInlineStyles=function(t){var i={};return this.find("[style]").each(function(){var r=n(this).prop("style")[n.camelCase(t)];!r||(i[""+r]=!0)}),n.getKeys(i)};n.fn.onPartHover=function(n,t,i){this.on("mouseenter",n,t).on("mouseleave",n,i)};n.fn.quickHide=function(){return this.addClass("state-hidden")};n.fn.quickShow=function(){return this.removeClass("state-hidden")};n.fn.toggleDisplayedState=function(n){return n?this.removeClass("state-hidden").addClass("state-displayed"):this.removeClass("state-displayed").addClass("state-hidden")};n.fn.quickToggle=function(t,i){var r=this;return t=n.valueOrCalculate(t,function(){return r.hasClass("state-hidden")}),t?r.quickShow():r.quickHide(),t&&i&&i(),r};n.fn.chooseClass=function(n,t,i){return this.toggleClass(t,n).toggleClass(i,!n)};n.fn.quickDisable=function(){return this.removeClass("state-enabled").addClass("state-disabled")};n.fn.quickEnable=function(){return this.removeClass("state-disabled").addClass("state-enabled")};n.fn.quickToggleEnabled=function(n){return n?this.quickEnable():this.quickDisable(),this};n.fn.selectInStructure=function(t){return this.is(t)?this:n(t,this)};n.fn.hasInlineStyle=function(t){return!!this.prop("style")[n.camelCase(t)]};n.fn.getInlineStyleText=function(t){if(this.hasInlineStyle(t)){var r=this[0].style.cssText,u=new RegExp(t+"\\s*:\\s*([^;]*)\\s*;"),i=u.exec(r);return i===null?undefined:n.trim(i[1])}return undefined};n.fn.caret=function(){var o=n.browser.msie,t,i,u,f,r,e;return o?(f=document.selection,this[0].tagName.toLowerCase()!="textarea"?(r=this.val(),t=f.createRange().duplicate(),t.moveEnd("character",r.length),i=t.text==""?r.length:r.lastIndexOf(t.text),t=f.createRange().duplicate(),t.moveStart("character",-r.length),u=t.text.length):(t=f.createRange(),e=t.duplicate(),e.moveToElementText(this[0]),e.setEndPoint("EndToEnd",t),i=e.text.length-t.text.length,u=i+t.text.length)):(i=this[0].selectionStart,u=this[0].selectionEnd),{start:i,end:u}};n.normalizeToRange=function(n,t,i){return Math.max(t,Math.min(i,n))};n.isBetween=function(n,t,i){return n===undefined?!1:n>=t&&n<=i};n.joinPaths=function(n,t){return n.lastIndexOf("/")===n.length-1&&(n=n.substr(0,n.length-1)),t.indexOf("/")===0&&(t=t.substr(1,n.length-1)),n+"/"+t};n.assertRange=function(n,t,i){if(n<t||n>i)throw new Error("Value should be in range [{0},{1}]".format(t,i));};n.formatDate=function(t){return"{0}-{1}-{2} {3}:{4}".format(n.getFixedLengthInteger(t.getDate(),2),n.getFixedLengthInteger(t.getMonth(),2),n.getFixedLengthInteger((""+t.getFullYear()).substring(2),2),n.getFixedLengthInteger(t.getHours(),2),n.getFixedLengthInteger(t.getMinutes(),2))};n.getFixedLengthInteger=function(n,t){for(var i=""+n,r=[],u=0;u<t-i.length;u++)r.push("0");return r.join("")+i};n.wrapMethod=function(n,t){return t(n)};n.hookBeforeMethod=function(n,t){return function(){t.apply(this,arguments);n&&n.apply(this,arguments)}};n.hookAfterMethod=function(n,t){return function(){n&&n.apply(this,arguments);t.apply(this,arguments)}};n.arrayFuncToJquery=function(t){return function(){return n(t.apply(this,arguments))}};n.getQueryStringParams=function(){return n.parseQueryString(window.location.search.substring(1))};n.generateQueryString=function(t){var i=[];return n.eachEntry(t,function(n,t){t!==undefined&&i.push(n+"="+t)}),i.join("&")};n.parseQueryString=function(n){n||(n="");n.charAt(0)==="#"&&(n=n.substr(1));n.charAt(0)==="!"&&(n=n.substr(1));var t={};return n.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(n,i,r,u){t[i]=u}),t};n.valueOrDefaultArray=function(n,t){var i,r;if(n===null||n===undefined)for(i=0;i<t.length;i++)if(r=t[i],r!==null&&r!==undefined)return r;return n};n.valueOrDefault=function(n,t){return n===undefined||n===null?t:n};n.fieldValueOrDefault=function(t,i,r){var u=undefined;return t!==undefined&&(u=t[i]),n.valueOrDefault(u,r)};n.executeIfValue=function(n,t,i){n!==null&&n!==undefined&&t(n,i)};n.valueOrCalculate=function(n,t){return n===null||n===undefined?t():n};n.isValue=function(n){return n!==null&&n!==undefined};n.NaNOrDefault=function(n,t){return isNaN(n)?t:n};n.weakID=function(t){t=n.valueOrDefault(t,"weak");var i=c[t];return i===undefined&&(i=0),c[t]=i+1,t+i};n.createWeakIdGenerator=function(){var n=-1;return{next:function(){return n++,"id"+n}}};n.getIndexClasses=function(n,t){var i=[];return n===0?i.push("first"):i.push("not-first"),n===t?i.push("last"):i.push("not-last"),n%2==0?i.push("even"):i.push("odd"),i.join(" ")};n.fn.applyIndexesClasses=function(){var t=this.length-1;return this.each(function(i){n(this).removeClass("first not-first last not-last even odd").addClass(n.getIndexClasses(i,t))})};n.createRange=function(t,i,r){for(var u=[],f=t;f<=i;f++)u.push(f);return r?n.map(u,r):u};n.uniqueID=function(){return h++,n.now()+h};n.fn.assignElementID=function(){var t=n(this).attr("id");return t||(t=n.uniqueID(),n(this).attr("id",t)),t};n.filterKeys=function(t,i){return n.map(t,function(n){return n[i]})};n.beginInvoke=function(n){window.setTimeout(n,0)};n.beginInvokeWithTimeOut=function(t,i,r){i?t():(r=n.valueOrDefault(r,0),window.setTimeout(t,r))};n.fn.hasAncestor=function(t){return n(this).closest(t).length>0};n.fn.findAndSelf=function(n){return this.filter(n).add(this.find(n))};n.fn.onTextInputTriggered=function(n){return this.bind("input change",function(){n()}).bind("keydown paste",function(){setTimeout(function(){n()})})};n.unite=function(){for(var r,f,t,u=[],e=arguments.length,i=0;i<e;i++)for(r=n(arguments[i]),f=r.length,t=0;t<f;t++)u.push(r[t]);return n(u)};n.uniteArrays=function(){for(var i,u,n,r=[],f=arguments.length,t=0;t<f;t++)for(i=arguments[t],u=i.length,n=0;n<u;n++)r.push(i[n]);return r};n.quickIntersect=function(n,t){for(var o,u,s,f,c,h=[],i,r={},e=0;e<n.length;e++)for(o=n[e],u=0;u<o.length;u++)f=o[u],s=t?t(f):f,i=r[s],i===undefined?(i={item:f,count:1},r[s]=i):i.count++;for(c in r)i=r[c],i.count===n.length&&h.push(i.item);return h};n.adjustFraction=function(n,t){var i=Math.pow(10,t),r=Math.pow(10,1);return Math.floor(n*r*i/r)/i};n.calculateMeanValue=function(n,t,i,r,u){var f=u-r,e=(n-t)/(i-t);return f*e+r};n.fn.pushElements=function(t,i){var u,r;if(t===undefined)return this;for(u=n(t,i),r=0;r<u.length;r++)this.push(u[r]);return this};n.fn.pushToElementsCollection=function(n){return n.pushElements(this),this};n.fn.splice=[].splice;n.fn.preventBrowserBehaviour=function(t){t=n.valueOrDefault(t,n.returnTrue);var i=this,r={},u=!0,f=n.uniqueID();return i.bind("mousedown."+f,function(r){var f=r.target;if(u&&!n(f).is("html")&&!n(f).is(":input")&&t(f)){n.preventBrowserBehaviourCallback(r);i.bind("mousemove.preventBrowser",n.preventBrowserBehaviourCallback);n(document).one("mouseup",function(){i.unbind(".preventBrowser")})}}),n.quickExtend(r,{toggleEnable:function(n){u=n},clear:function(){i.unbind("mousedown."+f)}}),r};n.preventBrowserBehaviourCallback=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1};n.sameElements=function(n,t){return n===undefined||t===undefined?n===t:n[0]===t[0]};n.addAjaxErrorHandler=function(t){t===undefined&&(t=n.returnFalse);r.push(t)};n.handleAjaxError=function(n,t,i){for(var e,u=!1,f=0;f<r.length&&!u;f++)e=r[f],u=e(n,t,function(){i(n)});u||i(n)};n.fn.makeUnselectable=function(){(n.browser.msie||n.browser.opera)&&this.find(":not(:input)").andSelf().each(function(){this.unselectable="on"})};n.fn.markLastChild=function(t){return n(this).children().last().addClass(t),this};n.fn.markFirstChild=function(t){return n(this).children().first().addClass(t),this};n.getScreenSize=function(){var t=1024,i=768;try{t=n.valueOrDefault(screen.availWidth,1024);i=n.valueOrDefault(screen.availHeight,768)}catch(r){}return{width:t,height:i}};n.validateHtmlTag=function(n){return/^[a-zA-Z][a-zA-Z0-9]*$/.test(n)?!0:!1};n.setAjaxDelay=function(n){t=n};n.toggleAjaxAvailable=function(n,t){u=n;l=t};n.setAjaxOptions=function(n,i){t=n;u=i};s={link:!0,meta:!0};n.getLocationOrigin=function(){return window.location.protocol+"//"+window.location.host};n.addHtmlCodeToTheHead=function(n){var i=[],u=document.getElementsByTagName("head")[0],r=document.createElement("div"),f=document.createElement("div"),t;for(r.innerHTML=n;t=r.firstChild;)t.tagName&&s[t.tagName.toLowerCase()]===!0?(u.appendChild(t),i.push(t)):f.appendChild(t);return i};n.isJQueryObject=function(t){return t&&t instanceof n};n.isHtmlCodeToTheHeadValid=function(n){var i=document.createElement("div"),r=document.createElement("div"),t;for(i.innerHTML=n.trim(" ");t=i.firstChild;){if(!t.tagName&&/[^\s]/.test(t.textContent)||t.tagName&&s[t.tagName.toLowerCase()]!==!0)return!1;r.appendChild(t)}return!0};n.addStyle=function(t){var i=document.createElement("style"),r;return i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i),r=document.createTextNode(t),i.styleSheet?i.styleSheet.cssText=r.nodeValue:(i.innerHTML="",i.appendChild(r)),n(i)};n.ajaxJason=function(i,r,f,e,o,s){function b(){if(!u)return o(Exception.create(Exceptions.UnknownError,n.valueOrDefault(l,"Server Not Available"))),{abort:n.noop};var t=n.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:i+"/"+r,data:JSON.stringify(f),dataType:"json"});return h=n.Deferred(),t.done(ErrorHandler.wrapWithNotify(function(t){n.isPlainObject(t)&&t.__protocol__=="asynchronous"&&t.progress!==100?(s(t.progress),h.notify(t.progress),k(t)):e?(t=n.isPlainObject(t)&&t.d!==undefined?t.d:t,e(t),h.resolve(t)):h.resolve(t)})).fail(ErrorHandler.wrapWithNotify(function(t){var i;try{i=JSON.parse(t.responseText)}catch(r){}i||(i=Exception.create(Exceptions.UnknownError,t));n.handleAjaxError(i,function(){n.ajaxJason.apply(p,v)},o);h.reject(t)})),h.promise()}function k(t){setTimeout(function(){n.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/"+t.services+"/"+t.action,data:JSON.stringify({id:t.id}),dataType:"json",success:ErrorHandler.wrapWithNotify(function(n){s(n.progress);n.progress>0&&n.progress<100?(h.notify(n.progress),k(n)):n.progress==100?(h.notify(n.progress),setTimeout(function(){e(n);h.resolve(n)},1e3)):(h.reject(n.response),o(n))})})},1e3)}var a,v,c,p,h,y,w;for(o=n.valueOrDefault(o,n.noop),a=arguments.length,v=new Array(a),c=0;c<a;c++)v[c]=arguments[c];return p=this,h={},t?(w=window.setTimeout(function(){y=b()},t),{abort:function(){y?y.abort():window.clearTimeout(w)}}):b()};n.getFieldOrFunctionValue=function(t,i){return t&&i?n.isFunction(i)?i(t):t[i]:undefined};n.evaluateWhenFunction=function(t,i,r,u,f,e){return t?n.isFunction(t)?t(i,r,u,u,f,e):t:t};n.use=function(){var t=arguments.length,i,n;if(t>=2)for(i=arguments[t-1],n=0;n<t-1;n++)i(arguments[n])};n.duplicateArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i};n.modulo=function(n,t){if(n>=t)return n%t;if(n<0){var i=n%t;return t+i}return n};n.divideNoReminder=function(n,t){var i=n/t;return i>0?Math.floor(i):Math.ceil(i)};n.generateHashURL=function(t,i){var r=[];return n.eachEntry(i,function(n,t){(t||t=="")&&r.push(n+"="+t)}),t+"#!"+r.join("&")};n.isPrintableChar=function(n){return n>47&&n<58||n==32||n==13||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223};n.whenResults=function(t){return n.when.apply(this,t)};n.createPolling=function(t,i){i=n.valueOrDefault(i,0);var r={isActive:!1},u=function(){r.timeoutID=setTimeout(function(){t.call(r);r.isActive&&u()},r.interval)};return n.quickExtend(r,{setDefaultInterval:function(t){i=n.valueOrDefault(t,0)},start:function(t){return r.isActive=!0,r.interval=n.valueOrDefault(t,i),u(),r},stop:function(){return r.isActive=!1,clearTimeout(r.timeoutID),r},poll:function(){r.isActive&&(t.call(r),clearTimeout(r.timeoutID),u())}})}})(jQuery),function(n){n.fn.toggleLayerEventsCatching=function(n){this.toggleClass("catchLayerEvents",n)};n.fn.toggleLayerEventsForwarding=function(t,i){if(i=n.quickExtend({supportedEvents:["click","mousedown","mouseup"]},i),Modernizr.layerforwarding)if(Modernizr.pointerevents)this.toggleClass("forwardLayerEvents",t);else{var r=this;t?n.eachItem(i.supportedEvents,function(t,i){r.bind(i+".layerEvents",function(t){var i,u,f;n(t.target).hasAncestor(".catchLayerEvents",!0)||(i=n.getMouseOffset(t),r.addClass("testLayerForwarding"),u=document.elementFromPoint(i.left,i.top),r.removeClass("testLayerForwarding"),f=n.quickExtend({},t),f.target=u,n(u).trigger(f),t.stopPropagation())})}):this.unbind(".layerEvents")}return this}}(jQuery);DeferredObject=Class.extend("DeferredObject",{init:function(n){this._callback=n},get:function(){var t=this._callback,n;return t?(n=t(),this._value=n,delete this._callback,n):this._value}});DeferredObject.create=function(n){return new DeferredObject(n)};var Initializer=new function(){this.create=function(n){var t=!1;return{execute:function(){t||(t=!0,n.apply(this,arguments))}}}},CachedObject=new function(){this.create=function(n){var t=undefined;return{get:function(i){return(t===undefined&&(t=n()),i!==undefined)?t[i]:t},invalidate:function(){t=undefined}}}},ByRef=Class.extend("ByRef",{init:function(n){this._value=n},setValue:function(n){this._value=n},getValue:function(){return this._value}}),FlagsObserverStates={AllTrue:1,AllFalse:2,SomeTrue:3,SomeFalse:4,AllTrueNonEmpty:5,AllFalseNonEmpty:6,SomeTrueNonEmpty:7,SomeFalseNonEmpty:8},ConditionalFlagsTypes={ConditionalPositive:1,ConditionalNegative:2},ObservableFlag=function(){function u(n){var t=n.notSetFlags.isEmpty(),i=n.setFlags.isEmpty();(n.allSet!==t||n.allNotSet!==i)&&(n.allNotSet=i,n.allSet=t,n.valueChangedEvent.fireNew(),n.options.stateChangeCallback.call(n))}var t=Class.extend("AbstractObservableFlag",{init:function(n,t){var i=$.weakID(),r=n+i;this.options=t;this.id=i;this.name=r},unbindElementState:function(n){var r=this,t=n.data("boundFlags"),i;t&&(i=t[r.id],i!==undefined&&(i(),delete t[r.id]))},bindElementState:function(n,t){var i=this,r,u;t=$.quickExtend({stateToggledValue:i._defaultStateToggledValue(),stateType:StatesTypes.Enabling,className:undefined,stateChangeCallback:$.noop,withBinding:$.activationFunction},t);r=n.data("boundFlags");r===undefined&&(r={},n.data("boundFlags",r));u=i.valueChangedEvent.bindAndExecute(function(){var r=i.isValue(t.stateToggledValue);if(t.stateChangeCallback(r,i.name),t.className)n.toggleClass(t.className,r);else switch(t.stateType){case StatesTypes.Displaying:n.addDisplayingStates().toggleDisplayed(r,i.name);break;case StatesTypes.Enabling:n.addDisablingStates().toggleEnable(r,i.name);break;case StatesTypes.Visibility:n.addVisibilityStates().toggleVisibility(r,i.name)}});r[i.id]=function(){i.valueChangedEvent.unbind(u);switch(t.stateType){case StatesTypes.Displaying:n.addDisplayingStates().toggleDisplayed(!0,i.name);break;case StatesTypes.Enabling:n.addDisablingStates().toggleEnable(!0,i.name);break;case StatesTypes.Visibility:n.addVisibilityStates().toggleVisibility(!0,i.name)}}},bindToggleButton:function(n,t){function u(){var u=i.isValue(t.stateToggledValue);r=!0;n.toggleToggled(u);r=!1}t=$.quickExtend({stateToggledValue:undefined,reason:undefined,valueSettingFunction:undefined,valueWhenToggled:!0},t);var i=this,r=!1;n.toggled(function(){r||(t.valueSettingFunction?t.valueSettingFunction.call(i,n.isToggled(),t.reason):i.setValue(n.isToggled()?t.valueWhenToggled:!t.valueWhenToggled,t.reason))});i.valueChangedEvent.bindAndExecute(u)}}),i=t.extend("BasicObservableFlag",{init:function($super,n,t){t=$.quickExtend({valueChangeCallback:$.noop},t);$super("Flag",t);this._currentValue=n;this.valueChangedEvent=SimpleEvent.create();this.afterValueChangedEvent=SimpleEvent.create()},getValue:function(){return this._currentValue},setValue:function(n){this._currentValue!==n&&(this._currentValue=n,this.notifyValueChanged(n))},toggle:function(n){n===undefined?this.setValue(!this.getValue()):this.setValue(n)},notifyValueChanged:function(n,t){var i=this;i.valueChangedEvent.fireNew(n,t);i.options.valueChangeCallback(n,t);i.afterValueChangedEvent.fireNew(n,t)},setTrue:function(){this.setValue(!0)},set:function(){this.setValue(!0)},setFalse:function(){this.setValue(!1)},reset:function(){this.setValue(!1)},isTrue:function(){return this.getValue()===!0},isFalse:function(){return!this.isTrue()},isValue:function(n){return this.getValue()===n},bindToFlag:function(n,t){t=$.quickExtend({when:!0,set:!0},t);var i=this;return n.valueChangedEvent.bindAndExecute(function(){i.setValue(n.getValue()===t.when?t.set:!t.set,n.id)}),i},bindToFlagsObserver:function(n,t){t=$.quickExtend({when:FlagsStates.AllTrue,set:!0},t);var i=this;n.valueChangedEvent.bindAndExecute(function(){i.setValue(n.isValue(t.when)?t.set:!t.set,n.id)})},once:function(n,t,i){return this.getValue()===n?(t(),{unbind:$.noop}):this.valueChangedEvent.one(t,i)},onceTrue:function(n,t){return this.once(!0,n,t)},onceFalse:function(n,t){return this.once(!1,n,t)},_defaultStateToggledValue:$.returnTrue}),r=i.extend("ConditionalObservableFlag",{init:function($super,n,t){$super(n?!0:!1,t);this._conditions=Dictionary.create();this._isConditionalPositive=n},resetConditions:function(n,t){this._conditions.clear();var i=this._currentValue!==this._isConditionalPositive;this._currentValue=this._isConditionalPositive;n&&i&&(t=$.valueOrDefault(t,"Reset"),this.notifyValueChanged(this._isConditionalPositive,t))},setValue:function(n,t){var i=this,r=i._conditions,u;t=$.valueOrDefault(t,"Default");n?i._isConditionalPositive?r.removeField(t):r.setField(t,!0):i._isConditionalPositive?r.setField(t,!0):r.removeField(t);u=r.isEmpty()?i._isConditionalPositive:!i._isConditionalPositive;i._currentValue!==u&&(i._currentValue=u,i.notifyValueChanged(u,t))},setTrue:function(n){this.setValue(!0,n)},set:function(n){this.setValue(!0,n)},setFalse:function(n){this.setValue(!1,n)},reset:function(n){this.setValue(!1,n)}}),f=t.extend("FlagsObserver",{init:function($super,n){n=$.quickExtend({stateChangeCallback:$.noop,observedFlags:undefined},n);$super("FlagsObs",n);this.observedFlagsInfo=[];this.setFlags=Dictionary.create();this.notSetFlags=Dictionary.create();this.valueChangedEvent=SimpleEvent.create();this.allSet=undefined;this.allNotSet=undefined;n.observedFlags!==undefined&&this.setObservedFlags(n.observedFlags)},setObservedFlags:function(n){for(var t=this,i=0;i<t.observedFlagsInfo.length;i++){var r=t.observedFlagsInfo[i],u=r.observableFlag,f=r.bindingID;u.valueChangedEvent.unbind(f)}t.observedFlagsInfo=[];t.setFlags.clear();t.notSetFlags.clear();t.addObservedFlags(n)},addObservedFlags:function(n){n=$.asArray(n);var t=this,i=t.setFlags,r=t.notSetFlags;$.eachItem(n,function(n,f){f.isTrue()?i.setField(f.id,!0):r.setField(f.id,!0);t.observedFlagsInfo.push({observableFlag:f,bindingID:f.valueChangedEvent.bind(function(n){n?(r.removeField(f.id),i.setField(f.id,!0)):(i.removeField(f.id),r.setField(f.id,!0));u(t)})})});u(t)},allTrue:function(){return this.allSet},allFalse:function(){return this.allNotSet},someTrue:function(){return!this.allNotSet},someFalse:function(){return!this.allSet},someOfValue:function(n){return n?this.someTrue():this.someFalse()},allOfValue:function(n){return n?this.allTrue():this.allFalse()},hasSetFlags:function(){return!this.allNotSet},isValue:function(n){switch(n){case FlagsObserverStates.AllTrue:return this.allTrue();case FlagsObserverStates.AllFalse:return this.allFalse();case FlagsObserverStates.SomeFalse:return this.someFalse();case FlagsObserverStates.SomeTrue:return this.someTrue();case FlagsObserverStates.AllTrueNonEmpty:return this.allTrue()&&this.observedFlagsInfo.length>0;case FlagsObserverStates.AllFalseNonEmpty:return this.allFalse()&&this.observedFlagsInfo.length>0;case FlagsObserverStates.SomeFalseNonEmpty:return this.someFalse()&&this.observedFlagsInfo.length>0;case FlagsObserverStates.SomeTrueNonEmpty:return this.someTrue()&&this.observedFlagsInfo.length>0}},setValue:function(n,t){for(var r=this.observedFlagsInfo,i=0;i<r.length;i++)r[i].observableFlag.setValue(n,t)},_defaultStateToggledValue:function(){return FlagsObserverStates.AllTrue}}),n={};return n.createConditionalPositive=function(n){return new r(!0,n)},n.createConditionalNegative=function(n){return new r(!1,n)},n.createConditional=function(t,i){switch(t){case ConditionalFlagsTypes.ConditionalNegative:return n.createConditionalNegative(i);case ConditionalFlagsTypes.ConditionalPositive:return n.createConditionalPositive(i);default:return console.warn("Unknown conditional flag was requested for creation."),undefined}},n.create=function(n,t){return new i(n,t)},n.createFlagsObserver=function(n){return new f(n)},n}();(function(n){n.fn.bindStateToFlag=function(t,i){return t.bindElementState(n(this),i),this};n.fn.unbindStateFromFlag=function(t){return t.unbindElementState(n(this)),this};n.fn.bindButtonToFlag=function(t,i){return t.bindToggleButton(n(this),i),this};n.fn.bindClassToFlag=function(t,i){i=n.quickExtend({className:undefined,alternativeClass:undefined,when:!0,partsSelector:undefined,valueChangeCallback:n.noop},i);var u=i.className,f=i.alternativeClass,h=i.when,e=i.partsSelector,o=i.valueChangeCallback,r=n(this),s=ContextValue.createContextClass({getTarget:function(){if(e){var t=n([]);return t.pushElements(r),t.pushElements(n(e,r)),t}return r}});return t.valueChangedEvent.bindAndExecute(function(){t.getValue()===h?(s.set(u),o(u)):(s.set(f),o(f))})}})(jQuery);OperationsQueue=new function(){this.createCancelableQueue=function(n){function r(r,u,f){var e={startCallback:u,errorCallback:f,runWhenFinished:function(n){e.startCallback=n.asyncOperation;e.errorCallback=n.asyncOperation},asyncOperation:function(){t.pendingOperation=e;n.startOperationCallback();r(function(){delete t.pendingOperation;i||(e.startCallback.apply(this,arguments),n.finishOperationCallback())},function(){delete t.pendingOperation;i||(e.errorCallback.apply(this,arguments),n.finishOperationCallback())})}};return e}n=$.extend({startOperationCallback:$.noop,finishOperationCallback:$.noop},n);var i=!1,t={executeOperation:function(n,i,u){var f=r(n,i,u);t.pendingOperation?t.pendingOperation.runWhenFinished(f):f.asyncOperation()},dispose:function(){i=!0}};return t}};typeof Global=="undefined"&&(Global={IsMobileClient:!1});Global.IsDesigner!==undefined&&(Global.IsDesigner=!!Global.IsDesigner);Global.AutoSaveTime=12e4;Global.IsExplorerMode=$.browser.msie&&parseInt($.browser.version)<9;Global.AnimationDirections={Left:"left",Right:"right",Up:"up",Down:"down"};Global.MinPropertyZindex=2e3;Global.MinExternalAppPropertyZindex=3e3;Global.Flags={IsDuringResizing:ObservableFlag.create(!1)};Global.Events={NavigableTabChanged:SimpleEvent.create(),NavigationFinished:SimpleEvent.create(),LastEventOnInitiailizatGlobal:SimpleEvent.create(),ElementRemoving:SimpleEvent.create(),ChildElementRemoved:SimpleEvent.create(),ElementsAdded:SimpleEvent.create(),ElementsAdding:SimpleEvent.create(),ContainerChanging:SimpleEvent.create(),ContainerChanged:SimpleEvent.create(),DuplicateFinished:SimpleEvent.create(),DuplicateStarted:SimpleEvent.create(),HieararchyChanged:SimpleEvent.create(),CustomStyleChanged:SimpleEvent.create(),ConnectionAdded:SimpleEvent.create(),ConnectionRemoved:SimpleEvent.create(),ConnectionUpdated:SimpleEvent.create(),ConnectionRemoving:SimpleEvent.create(),ConnectionAdding:SimpleEvent.create(),ElementDraggingStart:SimpleEvent.create(),ElementDraggingStoped:SimpleEvent.create(),ElementResizingStart:SimpleEvent.create(),ElementResizingStop:SimpleEvent.create(),ElementResizingHappend:SimpleEvent.create(),VideoAdded:SimpleEvent.create(),NewVideoAdded:SimpleEvent.create(),SectionSizeChanged:SimpleEvent.create()};Global.Priorities={ImportantElementsEndAction:1010,ImportantElementsStartAction:990,ImportantElementsMiddleAction:1e3,MediumElementsEndAction:1010,MediumElementsStartAction:990,MediumElementsMiddleAction:1e3,RegularElementsEndAction:1010,RegularElementsStartAction:990,RegularElementsMiddleAction:1e3,ChangePageAction:2e3,OpenPopupAction:3e3,ClosePopupAction:3010};Global.Keys={ESC:27,Enter:13,Ctrl:17,Shift:16,Delete:46,Left:37,Up:38,Right:39,Down:40,Plus:107,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118},function(){function n(){for(var n=65;n<=90;n++)Global.Keys[String.fromCharCode(n)]=n;for(n=0;n<=9;n++)Global.Keys["NUM"+n]=48+n}n()}();window.console||(console={});console.log=console.log||function(){};console.warn=console.warn||function(){};console.error=console.error||function(){};console.info=console.info||function(){};console.assert=console.assert||function(){};console.logAndMeasure=console.time?function(n){console.log(n+" (Start)");console.time(n)}:function(){};console.time=console.time||function(){};console.timeEnd=console.timeEnd||function(){};var AssetsStorageServers={Remote:0,Local:1,AzureBlob:2,Application:3,Amazon:4,Service:5,Google:6},AssetsCategories={StockImages:1,Textures:2,Icons:3,AdminImages:4,UserFlash:21,UserSound:22,UserDocuments:23,UserImages:100,FacebookImages:5,LinkedImages:6},AssetsTypes={Image:1,Video:2,Flash:3,Sound:4,Document:5,Font:6,App:7,Site:8},AssetsManager=new function(){function n(n){switch(n){case AssetsTypes.Image:return"images";case AssetsTypes.Video:return"video";case AssetsTypes.Flash:return"flash";case AssetsTypes.Sound:return"sound";case AssetsTypes.Document:return"documents";case AssetsTypes.Font:return"fonts";case AssetsTypes.App:return"apps";case AssetsTypes.Site:return"sites";default:return""}}this.getUserAssetsFolder=function(t,i,r){return Settings.UserStorageUrlsMap[i].format(r)+n(t)+"/"};this.getPublicAssetsFolder=function(t,i){return Settings.WebzaiStorageUrlsMap[i]+n(t)+"/"};this.isImagesAssetsCategory=function(n){switch(n){case AssetsCategories.StockImages:case AssetsCategories.Textures:case AssetsCategories.Icons:case AssetsCategories.AdminImages:case AssetsCategories.UserImages:case AssetsCategories.FacebookImages:case AssetsCategories.LinkedImages:return!0;default:return!1}};this.isUserAssetsCategory=function(n){switch(n){case AssetsCategories.UserFlash:case AssetsCategories.UserDocuments:case AssetsCategories.UserImages:case AssetsCategories.UserSound:case AssetsCategories.LinkedImages:return!0;default:return!1}};this.isExternalAssetsCategory=function(n){switch(n){case AssetsCategories.FacebookImages:return!0;default:return!1}};this.createAssetsCollectionAttributes=function(n){var t=ObservableFlag.createConditionalPositive(),i=ObservableFlag.createConditionalPositive();return AssetsManager.isExternalAssetsCategory(n)?t.setFalse():AssetsManager.isUserAssetsCategory(n)||t.bindToFlag(DesignerManager.AdvancedEditingOptions,{when:!0,set:!0}),n===AssetsCategories.LinkedImages&&i.setFalse(),{isEditable:t,canMoveAssetsFrom:i}};this.resolveImageUrlBasedOnLayout=function(n,t,i,r){return!n||typeof n=="string"?n:(r=$.valueOrCalculate(r,function(){return n.imageWidth!==undefined&&n.imageHeight!==undefined?{width:n.imageWidth,height:n.imageHeight}:undefined}),AssetsManager.resolveImageUrl(n,function(){switch(i){case ImageBoxLayout.Original:case ImageBoxLayout.Tile:case ImageBoxLayout.TileHorizontally:case ImageBoxLayout.TileVertically:return!1}return r?ImageBoxUtil.calculateImageSizeInLayout(r,i,t):t}))};this.resolveImageUrl=function(n,t){var i,r,f,u;return n&&typeof n!="string"?n.imagePath===undefined?undefined:(i=n.imagePath,n.storageServer===AssetsStorageServers.Local&&n.scaledVersions===undefined&&(n.scaledVersions=[{size:200,suffix:"_200"},{size:400,suffix:"_400"},{size:600,suffix:"_600"},{size:800,suffix:"_800"},{size:1e3,suffix:"_1000"}]),t&&n.scaledVersions&&($.isFunction(t)&&(t=t()),t&&(r=$.grep(n.scaledVersions,function(n){return n.size>=Math.max(t.width,t.height)}),r.length>0&&(f=$.minItem(r,function(n){return n.size}),u=$.splitFileName(i),i=u.fileName+f.suffix+u.extension))),AssetsManager.resolveAssetUrl({storageServer:$.valueOrDefault(n.storageServer,AssetsStorageServers.Remote),ownerID:n.ownerID,fileName:i,assetType:AssetsTypes.Image,title:n.title})):n};this.getImageInfoForSaving=function(n){return n=$.extractKeys(n,["id","imagePath","thumbPath","ownerID","storageServer","preferedLayout","scaledVersions","imageWidth","imageHeight"]),n.thumbPath===n.imagePath&&(n.thumbPath=undefined),n};this.resolveFontUrl=function(n){return AssetsManager.resolveAssetUrl({storageServer:n.storageServer,ownerID:n.ownerID,assetType:AssetsTypes.Font,fileName:n.fileNamePrefix})};this.resolveAssetUrl=function(t){var i="",u=t.fileName,r;return t.storageServer===AssetsStorageServers.Amazon?(r=n(t.assetType),r=$.capitalizeFirstLetter(r),i="http://s3.amazonaws.com/Webzai_"+r+"/"):t.storageServer===AssetsStorageServers.Service?i=Settings.ServiceAddress+n(t.assetType)+"/":t.storageServer===AssetsStorageServers.Application?i=PathUtils.combinePaths(Settings.ApplicationRoot,"assets",n(t.assetType)):t.storageServer!==AssetsStorageServers.Remote&&(i=AssetsManager.getAssetsFolder(t.ownerID,t.storageServer,t.assetType),u=$.mapItem(u.split("/"),function(n){return encodeURIComponent(n)}).join("/")),PathUtils.combinePaths(i,u)};this.getAssetsFolder=function(n,t,i){return n!==null?AssetsManager.getUserAssetsFolder(i,t,n):AssetsManager.getPublicAssetsFolder(i,t)};this.createApplicationAsset=function(n,t){return n===AssetsTypes.Image?{imagePath:t,ownerID:null,storageServer:AssetsStorageServers.Application}:{assetType:n,fileName:t,ownerID:null,storageServer:AssetsStorageServers.Application}}},Logger=new function(){function t(t){var i=n.get();return i?i==="all"||t.toLowerCase()===i.toLowerCase():!1}var n=DeferredObject.create(function(){return $.getQueryStringParams().log});this.createLoggerFor=function(n,i){var r={debug:$.noop,info:$.noop,warn:$.noop,error:$.noop};return t(n)&&(i=$.valueOrDefault(i,n),r=$.extend(r,{debug:function(n){console.log(i+" - "+($.isFunction(n)?n():n))},info:function(n){console.info(i+" - "+($.isFunction(n)?n():n))},warn:function(n){console.warn(i+" - "+($.isFunction(n)?n():n))},error:function(n){console.error(i+" - "+($.isFunction(n)?n():n))}})),r}},AppProfiler={profile:$.noop,count:$.noop,time:$.noop,timeEnd:$.noop,resetReadWriteTimer:$.noop,profileEnd:$.noop,informOnReadOperation:$.noop,informOnWriteOperation:$.noop};SelectionArea={beginUpdateBatch:$.noop,endUpdateBatch:$.noop};DesignerManager={getDefaultImage:$.noop,getDefaultIcon:$.noop,DefaultTexts:{description:""},VideosIds:["1"]};var OperationsManager={beginAtomicBatch:$.noop,endAtomicBatch:$.noop,disable:$.noop,disableOperationsRecording:$.noop,enableOperationsRecording:$.noop,disableUndo:$.noop,enableUndo:$.noop,isInUndoRedoState:$.returnFalse,finishPrevBatch:$.noop},NamingManager={allocateName:$.noop},SelectionManager={disable:$.noop,enable:$.noop,enableSelecting:$.noop,disableSelecting:$.noop},CommandsManager={UpdateBatch:{start:$.noop,finish:$.noop}},Viewer=new function(){function t(){$.callRootFunction("onViewerReady");Global.IsMobileClient&&($("body").removeClass("state-loading-mobile-viewer"),$("#mobile-loading-screen").remove())}function i(){var n,t;return n=typeof SiteStructure=="string"?JSON.parse(SiteStructure):SiteStructure,t=typeof DBSiteMetaData=="undefined"?{}:DBSiteMetaData,n=$.extend({masterPages:undefined,listsInformation:{}},n,t.siteStructureInformation),n.pagesStructure=$.extend({pagesData:undefined,pagesHierarchies:undefined},n.pagesStructure,t.pagesStructureInformation),n.pagesStructure.pages=n.pagesStructure.pages?n.pagesStructure.pages:{},$.extend(n.pagesStructure.pages,PagesStructures),$.each(PagesStructures,function(t,i){n.pagesStructure.pages[t]=typeof i=="string"?JSON.parse(i):i}),$.each(MasterPagesStructures,function(t,i){typeof i=="string"?$.extend(n.masterPages[t],JSON.parse(i)):$.extend(n.masterPages[t],i)}),n}function r(t){n=$.extend({themes:undefined,pagesStructure:undefined,dataSources:undefined,masterPages:undefined},t);var i=$("#body-element");i.empty();Global.OffsetAncestor=$('<div id="offset-anchor"><\/div>').appendTo(i);AppProfiler.profile("Viewer Initialization 2");DataSourcesManager.initialize();LimitationsManager.initialize();ViewManager.initialize();PageManager.initializeMinPageHeightRule();PropertiesManager.initialize();PositionManager.initialize();MobileVersionViewManager.initialize();PageManager.constructPagesHierarchy(n.pagesStructure);OrderManager.initialize();InstancePoolingManager.initialize();SiteViewportManager.initialize();FontIconsManager.initialize();PositionManager.enableMouseOver();PrivacyPolicyBar.initialize();Global.IsMobileView&&MobileVersionViewManager.initializeMobileForViewer();AppProfiler.profileEnd();UrlManager.handleUrlChange(!0);i.scroll(function(){PositionManager.invalidatePositioningRootOffset()});Global.Events.LastEventOnInitiailizatGlobal.fireNew()}var n;this.initialize=function(){var n;n=Global.IsNewStructure?i():JSON.parse(GroupStructure);AppProfiler.profile("Viewer Initialization");ReadWriteController.initialize(RenderingCoordinator);EditorManager.initialize();ContentPushingManager.initialize();AppsManager.initialize();ElementsModel.initialize();SiteManager.initialize(SiteInformation);FontsManager.initialize(n.fonts);MasterPagesManager.initialize(n.masterPages);PageManager.initialize(n.pagesStructure);SiteManager.setSiteSettings(n.siteSettings);ThemeColorsManager.initialize();ThemeFontsManager.initialize();TextStyleManager.initialize();UrlManager.initialize();ListsManager.initialize(n.listsInformation);SectionsManager.initialize();AppProfiler.profileEnd();$(document).ready(function(){var i=$("body").addClass("preview-mode site-viewer");i.addClass("pc");Global.IsMobileClient?i.addClass("mobile-client"):i.addClass("pc-client");r(n);t()})}};
/*!
 * jQuery UI Effects 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||function(n,t){function u(t,i){var r;do{if(r=(n.curCSS||n.css)(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return n.color.parse(r)}function f(){var i,r,u;if(n.support.rgba===t){i=document.getElementsByTagName("script")[0];r=i.style.color;try{i.style.color="rgba(1,5,13,0.44)"}catch(f){}u=i.style.color!=r;i.style.color=r;n.support.rgba=u}return n.support.rgba}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}function r(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects[t]?!0:!1}n.effects={};n.eachItem(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=n.color.parse(t.end),t.colorInit=!0);t.elem.style[i]=f()?"rgba("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+","+Math.max(Math.min(parseFloat(t.pos*(t.end[3]-t.start[3])+t.start[3]),1),0)+")":"rgb("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+")"}});n.extend(n.effects,{version:"1.8.22",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;try{r.id}catch(f){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")=="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.eachItem(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),u.css(i).show()},removeWrapper:function(t){var r,i=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(r=t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus(),r):t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(t){var u=i.apply(this,arguments),r={options:u[1],duration:u[2],callback:u[3]},f=r.options.mode,e=n.effects[t];return n.fx.off||!e?f?this[f](r.duration,r.callback):this.each(function(){r.callback&&r.callback.call(this)}):e.call(this,r)},_show:n.fn.show,show:function(n){if(r(n))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:n.fn.hide,hide:function(n){if(r(n))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(r(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var u=i.apply(this,arguments);return u[1].mode="toggle",this.effect.apply(this,u)},cssUnit:function(t){var i=this.css(t),r=[];return n.eachItem(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}});n.easing.jswing=n.easing.swing;n.extend(n.easing,{def:"easeOutQuad",swing:function(t,i,r,u,f){return n.easing[n.easing.def](t,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*(i/=f)*i*((e+1)*i-e)+r},easeOutBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*((i=i/f-1)*i*((e+1)*i+e)+1)+r},easeInOutBack:function(n,i,r,u,f,e){return(e==t&&(e=1.70158),(i/=f/2)<1)?u/2*i*i*(((e*=1.525)+1)*i-e)+r:u/2*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)+r},easeInBounce:function(t,i,r,u,f){return u-n.easing.easeOutBounce(t,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,u,f){return i<f/2?n.easing.easeInBounce(t,i*2,0,u,f)*.5+r:n.easing.easeOutBounce(t,i*2-f,0,u,f)*.5+u*.5+r}})}(jQuery);
/*!
 * jQuery UI Effects Drop 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(n){n.effects.drop=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right","opacity"],r=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"left",s;n.effects.save(i,h);i.show();var c=n.effects.createWrapper(i),f=u=="up"||u=="down"?"top":"left",e=u=="up"||u=="left"?"pos":"neg",o=t.options.distance||(f=="top"?i.outerHeight(!0)/2:i.outerWidth(!0)/2);r=="show"&&i.css("opacity",0).css(f,e=="pos"?-o:o);s={opacity:r=="show"?1:0};s[f]=(r=="show"?e=="pos"?"+=":"-=":e=="pos"?"-=":"+=")+o;i.animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,always:function(){r=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);c.remove();t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}})(jQuery);
/*!
 * jQuery UI Effects Fade 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(n){n.effects.fade=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}})(jQuery);
/*!
 * jQuery UI Effects Highlight 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(n){n.effects.highlight=function(t){return this.queue(function(){var i=n(this),u=["backgroundImage","backgroundColor","opacity"],r=n.effects.setMode(i,t.options.mode||"show"),f={backgroundColor:i.css("backgroundColor")};r=="hide"&&(f.opacity=0);n.effects.save(i,u);i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(f,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide();n.effects.restore(i,u);r!="show"||n.support.opacity||this.style.removeAttribute("filter");t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}})(jQuery);
/*!
 * jQuery UI Effects Scale 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(n){n.effects.scale=function(t){return this.queue(function(){var i=n(this),r=n.extend(!0,{},t.options),u=n.effects.setMode(i,t.options.mode||"effect"),o=parseInt(t.options.percent,10)||(parseInt(t.options.percent,10)==0?0:u=="hide"?0:100),s=t.options.direction||"both",h=t.options.origin,f,e;u!="effect"&&(r.origin=h||["middle","center"],r.restore=!0);f={height:i.height(),width:i.width()};i.from=t.options.from||(u=="show"?{height:0,width:0}:f);e={y:s!="horizontal"?o/100:1,x:s!="vertical"?o/100:1};i.to={height:f.height*e.y,width:f.width*e.x};t.options.fade&&(u=="show"&&(i.from.opacity=0,i.to.opacity=1),u=="hide"&&(i.from.opacity=1,i.to.opacity=0));r.from=i.from;r.to=i.to;r.mode=u;i.effect("size",r,t.duration,t.callback);i.dequeue()})};n.effects.size=function(t){return this.queue(function(){var i=n(this),f=["position","top","bottom","left","right","width","height","overflow","opacity"],v=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],c=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=n.effects.setMode(i,t.options.mode||"effect"),l=t.options.restore||!1,s=t.options.scale||"both",y=t.options.origin,u={height:i.height(),width:i.width()},h,r;i.from=t.options.from||u;i.to=t.options.to||u;y&&(h=n.effects.getBaseline(y,u),i.from.top=(u.height-i.from.height)*h.y,i.from.left=(u.width-i.from.width)*h.x,i.to.top=(u.height-i.to.height)*h.y,i.to.left=(u.width-i.to.width)*h.x);r={from:{y:i.from.height/u.height,x:i.from.width/u.width},to:{y:i.to.height/u.height,x:i.to.width/u.width}};(s=="box"||s=="both")&&(r.from.y!=r.to.y&&(f=f.concat(e),i.from=n.effects.setTransition(i,e,r.from.y,i.from),i.to=n.effects.setTransition(i,e,r.to.y,i.to)),r.from.x!=r.to.x&&(f=f.concat(o),i.from=n.effects.setTransition(i,o,r.from.x,i.from),i.to=n.effects.setTransition(i,o,r.to.x,i.to)));(s=="content"||s=="both")&&r.from.y!=r.to.y&&(f=f.concat(c),i.from=n.effects.setTransition(i,c,r.from.y,i.from),i.to=n.effects.setTransition(i,c,r.to.y,i.to));n.effects.save(i,l?f:v);i.show();n.effects.createWrapper(i);i.css("overflow","hidden").css(i.from);(s=="content"||s=="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(c),o=o.concat(["marginLeft","marginRight"]),a=f.concat(e).concat(o),i.find("*[width]").each(function(){var i=n(this),u;l&&n.effects.save(i,a);u={height:i.height(),width:i.width()};i.from={height:u.height*r.from.y,width:u.width*r.from.x};i.to={height:u.height*r.to.y,width:u.width*r.to.x};r.from.y!=r.to.y&&(i.from=n.effects.setTransition(i,e,r.from.y,i.from),i.to=n.effects.setTransition(i,e,r.to.y,i.to));r.from.x!=r.to.x&&(i.from=n.effects.setTransition(i,o,r.from.x,i.from),i.to=n.effects.setTransition(i,o,r.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.options.easing,function(){l&&n.effects.restore(i,a)})}));i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i.to.opacity===0&&i.css("opacity",i.from.opacity);p=="hide"&&i.hide();n.effects.restore(i,l?f:v);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}})(jQuery);
/*!
 * jQuery UI Effects Slide 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(n){n.effects.slide=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right"],f=n.effects.setMode(i,t.options.mode||"show"),u=t.options.direction||"left",s;n.effects.save(i,h);i.show();n.effects.createWrapper(i).css({overflow:"hidden"});var e=u=="up"||u=="down"?"top":"left",o=u=="up"||u=="left"?"pos":"neg",r=t.options.distance||(e=="top"?i.outerHeight(!0):i.outerWidth(!0));f=="show"&&i.css(e,o=="pos"?isNaN(r)?"-"+r:-r:r);s={};s[e]=(f=="show"?o=="pos"?"+=":"-=":o=="pos"?"-=":"+=")+r;i.animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){f=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}})(jQuery);
/*!
 * jQuery UI Effects Transfer 1.8.22
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(n){n.effects.transfer=function(t){return this.queue(function(){var i=n(this),r=n(t.options.to),u=r.offset(),e={top:u.top,left:u.left,height:r.innerHeight(),width:r.innerWidth()},f=i.offset(),o=n('<div class="ui-effects-transfer"><\/div>').appendTo(document.body).addClass(t.options.className).css({top:f.top,left:f.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(e,t.duration,t.options.easing,function(){o.remove();t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}})(jQuery);WzPublicIcons={name:"public-font-icons",fontClass:"public-icons",icons:{"-18273612831":{code:"e600"},set255:{code:"e601"},set2552:{code:"e602"},set2553:{code:"e603"},set2554:{code:"e604"},"address-book_1":{code:"e605"},"address-book_2":{code:"e606"},"airplane-125161651":{code:"e607"},"airplane-128612983":{code:"e608"},"alarm-clock":{code:"e609"},"alarm-clock-235":{code:"e60a"},"alarm-clock-19284691264":{code:"e60b"},anchor:{code:"e60c"},android:{code:"e60d"},"angle-double-down":{code:"e60e"},"angle-double-left":{code:"e60f"},"angle-double-right":{code:"e610"},"angle-double-up":{code:"e611"},"angle-down":{code:"e612"},"angle-left":{code:"e613"},"angle-right":{code:"e614"},"angle-up":{code:"e615"},"antena-2847239":{code:"e616"},apple:{code:"e617"},archive:{code:"e618"},"arrow-234523":{code:"e619"},"arrow-19824371924":{code:"e61a"},"arrow-chart-192834612":{code:"e61b"},"arrow-chart-1928346127":{code:"e61c"},"arrow-circle-down":{code:"e61d"},"arrow-circle-left":{code:"e61e"},"arrow-circle-o-down":{code:"e61f"},"arrow-circle-o-left":{code:"e620"},"arrow-circle-o-right":{code:"e621"},"arrow-circle-o-up":{code:"e622"},"arrow-circle-right":{code:"e623"},"arrow-circle-up":{code:"e624"},"arrow-down":{code:"e625"},"arrow-left":{code:"e626"},"arrow-right":{code:"e627"},"arrows-87644":{code:"e628"},"arrows-298479283":{code:"e629"},"arrows-2397462394":{code:"e62a"},"arrows-293784623946":{code:"e62b"},"arrows-81978461976491241":{code:"e62c"},"arrow-up":{code:"e62d"},asterisk:{code:"e62e"},automobile:{code:"e62f"},avatar_1:{code:"e630"},avatar_2:{code:"e631"},"axe-hatchet-23423":{code:"e632"},backward:{code:"e633"},ball:{code:"e634"},"ball-2937856":{code:"e635"},ballbath:{code:"e636"},"ball-disc-123512512":{code:"e637"},"bandaid-83274532":{code:"e638"},bank_2:{code:"e639"},"bank-193847129":{code:"e63a"},"basket-1213123":{code:"e63b"},"battery-23525":{code:"e63c"},"battery-21354151":{code:"e63d"},"beach-3245":{code:"e63e"},"beach-chair-9183719283":{code:"e63f"},"bed-0986":{code:"e640"},"bed-9887934879":{code:"e641"},beer:{code:"e642"},behance:{code:"e643"},"behance-square":{code:"e644"},bell:{code:"e645"},bell_1:{code:"e646"},"bell-235":{code:"e647"},"bell-1414":{code:"e648"},"bell-7246":{code:"e649"},"bell-92184y91846":{code:"e64a"},"bell-o":{code:"e64b"},bicycle:{code:"e64c"},bicycle_chain:{code:"e64d"},bicycle_chair:{code:"e64e"},binders:{code:"e64f"},"binders-folders-23423":{code:"e650"},binoculars:{code:"e651"},"binoculars-723645812354":{code:"e652"},"bird-128368976512":{code:"e653"},birds_1:{code:"e654"},birds_2:{code:"e655"},birds_3:{code:"e656"},birds_4:{code:"e657"},birds_5:{code:"e658"},birds_6:{code:"e659"},bitbucket:{code:"e65a"},"boat-2346":{code:"e65b"},"boat-234213414":{code:"e65c"},"boat-sail-128371923":{code:"e65d"},"boat-sea":{code:"e65e"},"boat-sea-1":{code:"e65f"},"boat-sea-1-287345":{code:"e660"},"boat-sea-8273648":{code:"e661"},"boat-ship-21978461289734612879":{code:"e662"},bomb:{code:"e663"},book:{code:"e664"},book_1:{code:"e665"},book_2:{code:"e666"},"book-19283y192":{code:"e667"},"book-162347":{code:"e668"},"book-88267637":{code:"e669"},"book-2837453278":{code:"e66a"},"book-19874612946":{code:"e66b"},bookmark:{code:"e66c"},"bookmark-o":{code:"e66d"},"bridge-1928346":{code:"e66e"},briefcase:{code:"e66f"},briefcase_2:{code:"e670"},bug:{code:"e671"},building:{code:"e672"},building_2:{code:"e673"},"building-2452":{code:"e674"},"building-19843619":{code:"e675"},"building-123819238":{code:"e676"},"building-139846192":{code:"e677"},"building-120387687612":{code:"e678"},"building-o":{code:"e679"},bullhorn:{code:"e67a"},bullseye:{code:"e67b"},"business-12938y1923":{code:"e67c"},"business-2234141":{code:"e67d"},"business-1341241241":{code:"e67e"},cab:{code:"e67f"},calander:{code:"e680"},"calander-2362":{code:"e681"},"calander-21352":{code:"e682"},"calander-2984692":{code:"e683"},"calander-123415151":{code:"e684"},"calander-1923869761":{code:"e685"},"calander-19283619823":{code:"e686"},"calander-21048176491":{code:"e687"},calculator:{code:"e688"},"calculator-187361983":{code:"e689"},"calculator-234876129":{code:"e68a"},"calculator-10982698213":{code:"e68b"},"calculator-1928347198736912":{code:"e68c"},calendar:{code:"e68d"},calendar_1:{code:"e68e"},calendar_2:{code:"e68f"},"calendar-o":{code:"e690"},camera:{code:"e691"},camera_1:{code:"e692"},"camera-37432":{code:"e693"},"camera-235236":{code:"e694"},"camera-25236272":{code:"e695"},"camera-1412414141":{code:"e696"},"camera-1983719873":{code:"e697"},"camera-1093481094710":{code:"e698"},"camera-23904876213946":{code:"e699"},"camera-2948762394867239":{code:"e69a"},"camera-2047231904723984792":{code:"e69b"},"camera-retro":{code:"e69c"},"car-8798792387":{code:"e69d"},"car-87987923876":{code:"e69e"},"car-879782378872387":{code:"e69f"},"car-bus-23512521":{code:"e6a0"},"car-bus-van-1983719031":{code:"e6a1"},"card-28470242":{code:"e6a2"},"card-989823489":{code:"e6a3"},"card-2938467293845":{code:"e6a4"},"card-2398472946792342":{code:"e6a5"},"cart-183yu19381":{code:"e6a6"},"cart-2394862934":{code:"e6a7"},"car-taxi":{code:"e6a8"},"car-taxi-23746239846":{code:"e6a9"},"car-truck-197846129":{code:"e6aa"},"cart-shopping-12984691":{code:"e6ab"},"case-91824y9184791":{code:"e6ac"},"case-19726412":{code:"e6ad"},"case-235235621":{code:"e6ae"},"case-901286978y4":{code:"e6af"},"case-12938719023":{code:"e6b0"},"case-9889348799874":{code:"e6b1"},"case-12394876194619":{code:"e6b2"},"case-018741284791284":{code:"e6b3"},"cell-phone-9187369128":{code:"e6b4"},certificate:{code:"e6b5"},certificate_2:{code:"e6b6"},chain:{code:"e6b7"},"chair-1234123":{code:"e6b8"},"chart-1928371":{code:"e6b9"},"chart-graph-1238691":{code:"e6ba"},"chart-graph-9861298756":{code:"e6bb"},check:{code:"e6bc"},"check-circle":{code:"e6bd"},"check-circle-o":{code:"e6be"},"check-square-o":{code:"e6bf"},"chef-cook-239846":{code:"e6c0"},"chevron-circle-down":{code:"e6c1"},"chevron-circle-left":{code:"e6c2"},"chevron-circle-right":{code:"e6c3"},"chevron-circle-up":{code:"e6c4"},"chevron-down":{code:"e6c5"},"chevron-left":{code:"e6c6"},"chevron-right":{code:"e6c7"},"chevron-up":{code:"e6c8"},chicken1242:{code:"e6c9"},child:{code:"e6ca"},"clip-187451":{code:"e6cb"},"clip-1289746128":{code:"e6cc"},"clip-29384692334":{code:"e6cd"},"clipboard-194381y6397860":{code:"e6ce"},"clipboard-14141241":{code:"e6cf"},"clipboard-19836791":{code:"e6d0"},"clipboard-102869865":{code:"e6d1"},clock_1:{code:"e6d2"},clock_2:{code:"e6d3"},"clock-12974619":{code:"e6d4"},"clock-20387209":{code:"e6d5"},"clock-123879086124":{code:"e6d6"},"clock-912846912641":{code:"e6d7"},"clock-o":{code:"e6d8"},"clock-time-154151":{code:"e6d9"},cloud:{code:"e6da"},"cloud-125":{code:"e6db"},"cloud-219834612":{code:"e6dc"},"cloud-893877347":{code:"e6dd"},"cloud-2198346127":{code:"e6de"},"cloud-237562387562":{code:"e6df"},"cloud-download":{code:"e6e0"},"cloud-download-12412":{code:"e6e1"},"cloud-upload-12412":{code:"e6e2"},"clubs-1273461289":{code:"e6e3"},cny:{code:"e6e4"},codex:{code:"e6e5"},"codex-235":{code:"e6e6"},"codex-2348y2395678293":{code:"e6e7"},"codex-12273417253":{code:"e6e8"},coffee:{code:"e6e9"},"coffee-tea-drink-hot-878723788732":{code:"e6ea"},cog:{code:"e6eb"},cog_1:{code:"e6ec"},comment:{code:"e6ed"},"comment-252":{code:"e6ee"},"comment-28345245":{code:"e6ef"},"comment-215662151":{code:"e6f0"},"comment-89236496234":{code:"e6f1"},"comment-23048721047210":{code:"e6f2"},"comment-o":{code:"e6f3"},comments:{code:"e6f4"},"comments-2362462":{code:"e6f5"},"comments-28375275":{code:"e6f6"},"comments-92186491264":{code:"e6f7"},"comments-2038471086901":{code:"e6f8"},"comments-2038472946792":{code:"e6f9"},"comments-o":{code:"e6fa"},compass:{code:"e6fb"},compass_1:{code:"e6fc"},"compass-12425":{code:"e6fd"},"compass-28645265":{code:"e6fe"},"compass-82345823":{code:"e6ff"},"compass-237861298":{code:"e700"},compress:{code:"e701"},computer_1:{code:"e702"},"computer-1251551651651":{code:"e703"},"computer-1983y12936129":{code:"e704"},"computer-2135421":{code:"e705"},"computer-123816931":{code:"e706"},"computer-12843719834":{code:"e707"},"computer-192387461936":{code:"e708"},"computer-money-19286987512":{code:"e709"},"contact-125235235":{code:"e70a"},"contact-7672354234":{code:"e70b"},"contact-71264817254":{code:"e70c"},"conversation-bubbles_1":{code:"e70d"},copy:{code:"e70e"},"copyrights-8776545":{code:"e70f"},"copyrights-233452517":{code:"e710"},"credit-card":{code:"e711"},"crossed-eye-1241":{code:"e712"},crosshairs:{code:"e713"},"crosshairs-24652":{code:"e714"},cube:{code:"e715"},cubes:{code:"e716"},"cup-128735":{code:"e717"},"currency-19836911":{code:"e718"},"currency-money-dollar19836911":{code:"e719"},cutlery:{code:"e71a"},dashboard:{code:"e71b"},database:{code:"e71c"},desktop:{code:"e71d"},digg:{code:"e71e"},disc:{code:"e71f"},disc_1:{code:"e720"},"disc-23523w":{code:"e721"},"disc-98567":{code:"e722"},"dish-food-2346":{code:"e723"},"disk-13861931":{code:"e724"},"disk-1928367129":{code:"e725"},dollar:{code:"e726"},"dollar-8764":{code:"e727"},download:{code:"e728"},"download-arrow-11297836":{code:"e729"},dribbble:{code:"e72a"},"drill-tools":{code:"e72b"},"drink-1":{code:"e72c"},"drink-cup-234241":{code:"e72d"},"drink-cup-2147512841":{code:"e72e"},dropbox:{code:"e72f"},"earth-globe-15165161":{code:"e730"},"earth-globe-151651618":{code:"e731"},edit:{code:"e732"},"ellipsis-h":{code:"e733"},"ellipsis-v":{code:"e734"},employee_2:{code:"e735"},employees_2:{code:"e736"},envelope:{code:"e737"},envelope_1:{code:"e738"},"envelope-o":{code:"e739"},etsy:{code:"e73a"},euro:{code:"e73b"},"euro-858":{code:"e73c"},"euro-66253427":{code:"e73d"},"exclamation-circle":{code:"e73e"},expand:{code:"e73f"},eye:{code:"e740"},"eye-214":{code:"e741"},"eye-38756387":{code:"e742"},"eye-crossed-23453245":{code:"e743"},"eye-slash":{code:"e744"},facebook:{code:"e745"},"facebook-square":{code:"e746"},"fast-backward":{code:"e747"},"fast-backward-2356235123":{code:"e748"},"fast-backward-23562351234574":{code:"e749"},"fast-forward":{code:"e74a"},"fast-forward-2356235123":{code:"e74b"},"fast-forward-2356235123868":{code:"e74c"},fax:{code:"e74d"},female:{code:"e74e"},file:{code:"e74f"},"file-9978367363":{code:"e750"},"file-997836736367":{code:"e751"},"file-code-o":{code:"e752"},"file-excel-o":{code:"e753"},"file-movie-o":{code:"e754"},"file-o":{code:"e755"},"file-page-2352352352":{code:"e756"},"file-pdf-o":{code:"e757"},"file-photo-o":{code:"e758"},"file-powerpoint-o":{code:"e759"},"files-29846723":{code:"e75a"},"files-274627451":{code:"e75b"},"files-8273564821":{code:"e75c"},"files-9837649586":{code:"e75d"},"file-sound-o":{code:"e75e"},"file-text":{code:"e75f"},"file-text-o":{code:"e760"},"file-word-o":{code:"e761"},"file-zip-o":{code:"e762"},film:{code:"e763"},film_1:{code:"e764"},"film-12423":{code:"e765"},"film-910283710":{code:"e766"},"film-192843612946":{code:"e767"},"film-198736917633":{code:"e768"},"fins-123y129":{code:"e769"},"fins-184619284691":{code:"e76a"},fire:{code:"e76b"},"fire-flame-1297346128273":{code:"e76c"},flag:{code:"e76d"},"flag-14124":{code:"e76e"},"flag-726424652":{code:"e76f"},"flag-18946194691":{code:"e770"},"flag-91276389712653":{code:"e771"},"flag-checkered":{code:"e772"},"flag-o":{code:"e773"},flash:{code:"e774"},flask:{code:"e775"},flickr:{code:"e776"},flip_flop:{code:"e777"},"flip_flop-286354832":{code:"e778"},folder:{code:"e779"},"folder-235":{code:"e77a"},"folder-7647":{code:"e77b"},"folder-23862386":{code:"e77c"},"folder-open":{code:"e77d"},"folders-2414":{code:"e77e"},"folders-198236y192346912":{code:"e77f"},"folders-1928746192":{code:"e780"},"folders-1234124512541":{code:"e781"},"folders-129847198476912":{code:"e782"},"folders-1984712928734912":{code:"e783"},"fork-knife":{code:"e784"},"fork-knife-spoon-187236":{code:"e785"},"fork-spoon-13123123":{code:"e786"},forward:{code:"e787"},"frame-128437194":{code:"e788"},"frown-o":{code:"e789"},"gas-297384y92146y":{code:"e78a"},gbp:{code:"e78b"},gear:{code:"e78c"},"gear-23423":{code:"e78d"},"gear-766474":{code:"e78e"},"gear-298462914":{code:"e78f"},gears:{code:"e790"},"gears-82742":{code:"e791"},"gears-88367636":{code:"e792"},"gears-129387192391":{code:"e793"},gift:{code:"e794"},git:{code:"e795"},github:{code:"e796"},"github-square":{code:"e797"},"git-square":{code:"e798"},gittip:{code:"e799"},glass:{code:"e79a"},"glasses-128371283":{code:"e79b"},"glassess-12983169":{code:"e79c"},globe:{code:"e79d"},globe_1:{code:"e79e"},globe_2:{code:"e79f"},globe_3:{code:"e7a0"},"globe-1927436":{code:"e7a1"},"globe-237562338":{code:"e7a2"},"globe-187721877823":{code:"e7a3"},"globe-98892187978123":{code:"e7a4"},"globe-921649146914619":{code:"e7a5"},"globe-wireframe_1":{code:"e7a6"},"google-plus":{code:"e7a7"},"google-plus-square":{code:"e7a8"},"google-share-298364":{code:"e7a9"},gps_1:{code:"e7aa"},"graph-19823619723":{code:"e7ab"},"graph-129846129846":{code:"e7ac"},"graph-chart-123412341":{code:"e7ad"},"graph-chart-2938476923":{code:"e7ae"},"graph-chart-2938476923767":{code:"e7af"},group:{code:"e7b0"},hair_8:{code:"e7b1"},"hair-14141":{code:"e7b2"},"hair-beard-14912746":{code:"e7b3"},"hair-beard-14912746254":{code:"e7b4"},"hair-dryer-325225":{code:"e7b5"},"Hammer-27352325":{code:"e7b6"},"Hammer-234567898":{code:"e7b7"},"hand-1023871923":{code:"e7b8"},"hand-o-down":{code:"e7b9"},"hand-o-left":{code:"e7ba"},"hand-o-right":{code:"e7bb"},"hand-o-up":{code:"e7bc"},"hands-145141":{code:"e7bd"},handshake:{code:"e7be"},"handshake-1283761923":{code:"e7bf"},"hat-874t2745":{code:"e7c0"},"hat-8328754862":{code:"e7c1"},headphones:{code:"e7c2"},"headphones-123":{code:"e7c3"},"headphones-1283719038":{code:"e7c4"},"headphones-1293461293691":{code:"e7c5"},heart:{code:"e7c6"},heart_1:{code:"e7c7"},"heart-2347":{code:"e7c8"},"heart-2355":{code:"e7c9"},"heart-2374823":{code:"e7ca"},"heart-o":{code:"e7cb"},"hexagon-192741":{code:"e7cc"},home:{code:"e7cd"},"hourglass-287452":{code:"e7ce"},"hourglass-6546546":{code:"e7cf"},house_1:{code:"e7d0"},"house-27432784":{code:"e7d1"},"house-92746184":{code:"e7d2"},"house-123712683":{code:"e7d3"},"house-1948671946":{code:"e7d4"},"house-19286976512":{code:"e7d5"},"house-991028394710":{code:"e7d6"},"house-8293746189412":{code:"e7d7"},html5:{code:"e7d8"},"icecream-2352":{code:"e7d9"},"ice-cream-28347752":{code:"e7da"},info_1:{code:"e7db"},"info-2342":{code:"e7dc"},"info-circle":{code:"e7dd"},"information-234715":{code:"e7de"},instagram:{code:"e7df"},institution:{code:"e7e0"},key:{code:"e7e1"},"key-124124":{code:"e7e2"},"lamp-127361":{code:"e7e3"},laptop:{code:"e7e4"},laptop_2:{code:"e7e5"},leaf:{code:"e7e6"},legal:{code:"e7e7"},"lemon-o":{code:"e7e8"},"life-bouy":{code:"e7e9"},"light-bolb-23542":{code:"e7ea"},"light-bolb-235215":{code:"e7eb"},"light-bolb-2937846":{code:"e7ec"},lightbulb_2:{code:"e7ed"},"lightbulb-o":{code:"e7ee"},"lightning-1978236912":{code:"e7ef"},line_thin_11:{code:"e7f0"},link_1:{code:"e7f1"},"link-21525":{code:"e7f2"},"link-28374525":{code:"e7f3"},"link-1864918264":{code:"e7f4"},linkedin:{code:"e7f5"},"linkedin-square":{code:"e7f6"},"links-9238471948":{code:"e7f7"},linux:{code:"e7f8"},"list-ul":{code:"e7f9"},lock:{code:"e7fa"},"lock-12412":{code:"e7fb"},"lock-8984774":{code:"e7fc"},"lock-198736912":{code:"e7fd"},"lock-92816491264":{code:"e7fe"},"lock-2984692836492":{code:"e7ff"},magic:{code:"e800"},magnet:{code:"e801"},"magnifiying-glass-124134":{code:"e802"},"magnifiying-glass-19487198461924":{code:"e803"},"magnifying-glass_1":{code:"e804"},"magnifying-glass-12487":{code:"e805"},"magnifying-glass-1212341":{code:"e806"},"magnifying-glass-zoom-237864982":{code:"e807"},"mail-1264":{code:"e808"},"mail-23423":{code:"e809"},"mail-8847646":{code:"e80a"},"mail-14512412":{code:"e80b"},"mail-29384762":{code:"e80c"},"mail-298461239":{code:"e80d"},"mail-9233865729":{code:"e80e"},"mail-9999988766":{code:"e80f"},"mail-28374562384":{code:"e810"},"mail-210384792345":{code:"e811"},"mail-29184691246912":{code:"e812"},"mail-forward":{code:"e813"},male:{code:"e814"},"man-23472094":{code:"e815"},"man-238472934":{code:"e816"},"man-835629568":{code:"e817"},"man-2975629756":{code:"e818"},"man-98843877347":{code:"e819"},"man-21984671946912":{code:"e81a"},"man-money-128391283":{code:"e81b"},"man-woman-86576":{code:"e81c"},map_1:{code:"e81d"},"map-marker":{code:"e81e"},"map-marker-214214":{code:"e81f"},"map-marker-2345235":{code:"e820"},"map-marker-21421541":{code:"e821"},marker_1:{code:"e822"},medal_2:{code:"e823"},"medal-prize-reward-83746823":{code:"e824"},"meh-o":{code:"e825"},microphone:{code:"e826"},microphone_1:{code:"e827"},"microphone-1243":{code:"e828"},"microphone-19283691":{code:"e829"},"microphone-19182643916":{code:"e82a"},"microphone-192837198367":{code:"e82b"},microscope_2:{code:"e82c"},minus:{code:"e82d"},"minus-12486129":{code:"e82e"},"minus-circle":{code:"e82f"},"mobile-phone":{code:"e830"},"mobile-phone-12342515":{code:"e831"},"mobile-phone-cell-197361931":{code:"e832"},money:{code:"e833"},"money-1983461":{code:"e834"},"money-123812931":{code:"e835"},"money-1923861923":{code:"e836"},"money-2649234242":{code:"e837"},"money-12387619831":{code:"e838"},"money-18741934691243":{code:"e839"},"money-exchange-64754":{code:"e83a"},"money-phone-12836913":{code:"e83b"},"moon-o":{code:"e83c"},"mortar-board":{code:"e83d"},music:{code:"e83e"},music_1:{code:"e83f"},"music-player-298429":{code:"e840"},"music-player-1398127693123":{code:"e841"},"mute-sound-213847619":{code:"e842"},navicon:{code:"e843"},navigation2:{code:"e844"},"next-prev-9187634912":{code:"e845"},"next-prev-91876349127":{code:"e846"},"no-smoking-877367636773":{code:"e847"},"no-swimming-19283791":{code:"e848"},"note-87":{code:"e849"},"note-2352":{code:"e84a"},"note-8787":{code:"e84b"},"note-9564":{code:"e84c"},"note-986454":{code:"e84d"},"note-book_2":{code:"e84e"},openid:{code:"e84f"},"orange-2374y29":{code:"e850"},"page-1028761993":{code:"e851"},"page-1283649163912":{code:"e852"},"page-1286947874929":{code:"e853"},"page-17346128345612":{code:"e854"},"page-1286947874929346":{code:"e855"},pagelines:{code:"e856"},"pages-2342":{code:"e857"},palette_2:{code:"e858"},"palm-tree":{code:"e859"},"palm-tree-2346923764":{code:"e85a"},paperclip:{code:"e85b"},"pasta-275623":{code:"e85c"},pause:{code:"e85d"},paw:{code:"e85e"},pen_paper:{code:"e85f"},"pen-19836912":{code:"e860"},"pen-91786417924":{code:"e861"},"pen-19837198371903":{code:"e862"},"pen-97127668712768":{code:"e863"},"pen-1097107340912341":{code:"e864"},pencil:{code:"e865"},pencil_2:{code:"e866"},people_1:{code:"e867"},people_2:{code:"e868"},people_3:{code:"e869"},people_4:{code:"e86a"},people_5:{code:"e86b"},people_6:{code:"e86c"},people_8:{code:"e86d"},people_16:{code:"e86e"},people_17:{code:"e86f"},people_18:{code:"e870"},people_19:{code:"e871"},people_20:{code:"e872"},people_21:{code:"e873"},people_22:{code:"e874"},people_23:{code:"e875"},people_24:{code:"e876"},people_25:{code:"e877"},people_26:{code:"e878"},people_27:{code:"e879"},people_28:{code:"e87a"},people_29:{code:"e87b"},people_30:{code:"e87c"},people_31:{code:"e87d"},people_32:{code:"e87e"},people_33:{code:"e87f"},people_34:{code:"e880"},"people-1241515":{code:"e881"},"people-12836912":{code:"e882"},"people-123123123":{code:"e883"},"people-123876129":{code:"e884"},"people-1028679861":{code:"e885"},"people-12938719231":{code:"e886"},"person-23423542":{code:"e887"},"person-28126931":{code:"e888"},"person-123981273":{code:"e889"},"person-231412414":{code:"e88a"},"person-1028369875612":{code:"e88b"},phone:{code:"e88c"},phone_1:{code:"e88d"},"phone-12315":{code:"e88e"},"phone-234214":{code:"e88f"},"phone-192386912312":{code:"e890"},"phone-192836196384":{code:"e891"},"phone-986189776523":{code:"e892"},"phone-78872376876823":{code:"e893"},"phone-book_2":{code:"e894"},"phone-sms-998877":{code:"e895"},"phone-square":{code:"e896"},photo:{code:"e897"},picasa:{code:"e898"},"picture-photo-frame-129873461":{code:"e899"},"pie-chart-1927y193":{code:"e89a"},"pie-chart-2341414124":{code:"e89b"},"piggi-bank-1983619":{code:"e89c"},"piggie-bank-12938169":{code:"e89d"},"pin-1631793":{code:"e89e"},"pin-928376492":{code:"e89f"},"pin-948612941":{code:"e8a0"},pinterest:{code:"e8a1"},"pinterest-square":{code:"e8a2"},plane:{code:"e8a3"},play:{code:"e8a4"},"play-1983712983":{code:"e8a5"},"play-circle-o":{code:"e8a6"},"plug-129834719834":{code:"e8a7"},plumber_1:{code:"e8a8"},plumber_2:{code:"e8a9"},plumber_3:{code:"e8aa"},plumber_5:{code:"e8ab"},plumber_6:{code:"e8ac"},plus:{code:"e8ad"},"plus-12847129":{code:"e8ae"},"plus-circle":{code:"e8af"},"plus-square":{code:"e8b0"},"pool-827346":{code:"e8b1"},power:{code:"e8b2"},"power-1":{code:"e8b3"},"power-23423414":{code:"e8b4"},"power-82735482":{code:"e8b5"},"power-on-off-24525":{code:"e8b6"},"present-1238176931":{code:"e8b7"},"price-tag-4871047019":{code:"e8b8"},"price-tag-21938467129":{code:"e8b9"},print:{code:"e8ba"},"printer-234215":{code:"e8bb"},"printer-12948671294":{code:"e8bc"},"printer-981273461298":{code:"e8bd"},profile_2:{code:"e8be"},"puzzle-piece":{code:"e8bf"},"pyramid-12419":{code:"e8c0"},"question-circle":{code:"e8c1"},"question-mark12414":{code:"e8c2"},"quote-left":{code:"e8c3"},"quote-right":{code:"e8c4"},"rain-124817":{code:"e8c5"},"rain-clouds-10943710":{code:"e8c6"},"recycle-cycle-arrows-8765":{code:"e8c7"},reddit:{code:"e8c8"},"reddit-square":{code:"e8c9"},renren:{code:"e8ca"},"restaurant-menu":{code:"e8cb"},"restriction-not-allowed-883478747":{code:"e8cc"},"reward-prize-19283719":{code:"e8cd"},ringswedding:{code:"e8ce"},"rings-wedding-34567":{code:"e8cf"},rocket:{code:"e8d0"},rss:{code:"e8d1"},"rss-square":{code:"e8d2"},"rzor-234214":{code:"e8d3"},"satellite-875334567":{code:"e8d4"},"scale-1487109":{code:"e8d5"},school_1:{code:"e8d6"},school_2:{code:"e8d7"},school_3:{code:"e8d8"},school_4:{code:"e8d9"},"school_5-microscope":{code:"e8da"},"school_6-light-bolb":{code:"e8db"},"school_7-house":{code:"e8dc"},"school_8-book":{code:"e8dd"},"school_9-computer":{code:"e8de"},"school_10-book":{code:"e8df"},"school_11-bus":{code:"e8e0"},"school_13-paint-pallete":{code:"e8e1"},school_14:{code:"e8e2"},"school_15-scissors":{code:"e8e3"},"school_16-football":{code:"e8e4"},"school_17-apple":{code:"e8e5"},"school_18-board":{code:"e8e6"},"school_19-books":{code:"e8e7"},"school_20-book":{code:"e8e8"},"school_21-calculator":{code:"e8e9"},"school_22-notebook":{code:"e8ea"},"school_23-globe":{code:"e8eb"},"school_24-diploma":{code:"e8ec"},"school_25-ruler":{code:"e8ed"},"school_26-hat-graduation":{code:"e8ee"},"school_27-book-library":{code:"e8ef"},"school_28-book":{code:"e8f0"},"school_29-book":{code:"e8f1"},"school_30-case":{code:"e8f2"},"school_31-book":{code:"e8f3"},"school_112-tablet":{code:"e8f4"},"scissors-1412":{code:"e8f5"},"scissors-1412521":{code:"e8f6"},"scissors-23412342":{code:"e8f9"},"scissors-2364923462":{code:"e8fa"},"scooba-29384623194":{code:"e8fb"},"screen-2533":{code:"e8fc"},"screen-8756235":{code:"e8fd"},"screen-298461941":{code:"e8fe"},"screen-3163971623":{code:"e8ff"},search:{code:"e900"},"search-minus":{code:"e901"},"search-plus":{code:"e902"},send:{code:"e903"},"send-o":{code:"e904"},"share-alt":{code:"e905"},"share-alt-square":{code:"e906"},shield:{code:"e907"},"ship-boat-23525":{code:"e908"},"shop-197836192":{code:"e909"},"shopping-cart":{code:"e90a"},"shopping-cart-1928346129":{code:"e90b"},"shovel-1i7461":{code:"e90c"},"shrimp-seafood":{code:"e90d"},sign:{code:"e90e"},signal:{code:"e90f"},"sign-arrows-25256235":{code:"e910"},"sign-in":{code:"e911"},"sign-post-938346914691":{code:"e912"},sinaweibo:{code:"e913"},sitemap:{code:"e914"},skype:{code:"e915"},slack:{code:"e916"},"smile-o":{code:"e917"},"smoking-254213523523":{code:"e918"},"smoking-cigarette-2421421":{code:"e919"},"smoking-cigarette-24214213":{code:"e91a"},"snorkel-198346193":{code:"e91b"},"snow-clouds-21938476129":{code:"e91c"},soundcloud:{code:"e91d"},"sound-mute":{code:"e91e"},"sound-mute-2374682374":{code:"e91f"},"sound-waves-12381":{code:"e920"},"soup-283745":{code:"e921"},"space-shuttle":{code:"e922"},"spade-23845238645":{code:"e923"},"speaker-1208698075":{code:"e924"},"speaker-1923691236":{code:"e925"},"speech-bubbles_2":{code:"e926"},spoon:{code:"e927"},star:{code:"e928"},"star-o":{code:"e929"},"stars-235235":{code:"e92a"},"stars-129846194":{code:"e92b"},steak:{code:"e92c"},"steak-2645232":{code:"e92d"},stethoscope:{code:"e92e"},stop:{code:"e92f"},"student-123639813":{code:"e930"},stumbleupon:{code:"e931"},suitcase:{code:"e932"},"suit-case-235235235":{code:"e933"},"sun-2736483":{code:"e934"},"sun-8746646":{code:"e935"},"sun-28745254":{code:"e936"},"sun-98189237":{code:"e937"},"sun-clouds-18347y12":{code:"e938"},"sun-o":{code:"e939"},"swimming-19283791":{code:"e93a"},tablet:{code:"e93b"},tablet_2:{code:"e93c"},"tablet-21417451":{code:"e93d"},"tablet-1234812739":{code:"e93e"},"tablet-1827364182973":{code:"e93f"},tag:{code:"e940"},"tag-230472034":{code:"e941"},"tag-2987462468274":{code:"e942"},tags:{code:"e943"},"target-97129874691":{code:"e944"},"target-190286398612":{code:"e945"},team_2:{code:"e946"},tennis:{code:"e947"},tennis_1:{code:"e948"},"tent-273525":{code:"e949"},"tent-8736482":{code:"e94a"},"text-bubble_1":{code:"e94b"},th:{code:"e94c"},"th-large":{code:"e94d"},"th-list":{code:"e94e"},"thumbs-o-down":{code:"e94f"},"thumbs-o-up":{code:"e950"},"thumb-tack":{code:"e951"},ticket:{code:"e952"},"tie-1928376129":{code:"e953"},times:{code:"e954"},"times-circle":{code:"e955"},"times-circle-o":{code:"e956"},"tool-2523523":{code:"e957"},"tool-24141414":{code:"e958"},"toolbox-18276346":{code:"e959"},"Tools_1-screwdriver-wranch":{code:"e95a"},Tools_2:{code:"e95b"},Tools_3:{code:"e95c"},"Tools_4-drill":{code:"e95d"},"Tools_5-paint-brush":{code:"e95e"},"Tools_6-brush-paint":{code:"e95f"},"Tools_7-hammer-23498":{code:"e960"},Tools_8:{code:"e961"},Tools_9:{code:"e962"},"Tools_10-shovel":{code:"e963"},"Tools_11-wranch":{code:"e964"},"Tools_12-screwdriver":{code:"e965"},"Tools_13-scissors":{code:"e966"},"Tools_14-knife":{code:"e967"},"Tools_15-pencil":{code:"e968"},Tools_16:{code:"e969"},Tools_17:{code:"e96a"},Tools_18:{code:"e96b"},"Tools_19-plunger":{code:"e96c"},"Tools_20-leak":{code:"e96d"},"Tools_21-saw":{code:"e96e"},"Tools_22-hose":{code:"e96f"},Tools_23:{code:"e970"},"Tools_24-sink":{code:"e971"},"Tools_25-shower":{code:"e972"},Tools_26:{code:"e973"},"Tools_27-tub-bath":{code:"e974"},"Tools_28-car-van":{code:"e975"},"Tools_30-plunger-toilet":{code:"e976"},"Tools_31-toolbox":{code:"e977"},"Tools_32-plunger":{code:"e978"},Tools_33:{code:"e979"},"Tools_34-screw":{code:"e97a"},"Tools_35-saw":{code:"e97b"},"Tools_36-wranch":{code:"e97c"},"Tools_37-hammer":{code:"e97d"},"Tools_38-hammer":{code:"e97e"},Tools_39:{code:"e97f"},Tools_40:{code:"e980"},Tools_41:{code:"e981"},Tools_42:{code:"e982"},Tools_45:{code:"e983"},tooth_1:{code:"e984"},tooth_2:{code:"e985"},tooth_3:{code:"e986"},tooth_4:{code:"e987"},tooth_5:{code:"e988"},tooth_6:{code:"e989"},tooth_7:{code:"e98a"},tooth_8:{code:"e98b"},tooth_9:{code:"e98c"},tooth_10:{code:"e98d"},tooth_11:{code:"e98e"},tooth_12:{code:"e98f"},tooth_13:{code:"e990"},tooth_14:{code:"e991"},tooth_15:{code:"e992"},tooth_16:{code:"e993"},"trash-bin-12412":{code:"e994"},"trash-bin-25251":{code:"e995"},"trash-bin-8823787349":{code:"e996"},tree:{code:"e997"},"tree-23252352":{code:"e998"},"trees-12412":{code:"e999"},"trees-99887554":{code:"e99a"},tripadvisor:{code:"e99b"},"trolly-764545":{code:"e99c"},trophy:{code:"e99d"},truck:{code:"e99e"},"truck-19872369128":{code:"e99f"},"truck-car-2362":{code:"e9a0"},truphy:{code:"e9a1"},tumblr:{code:"e9a2"},"tumblr-square":{code:"e9a3"},"tv-204585":{code:"e9a4"},"tv-2138474":{code:"e9a5"},twitter:{code:"e9a6"},twitter2:{code:"e9a7"},"twitter-square":{code:"e9a8"},umbrella:{code:"e9a9"},"umbrella-8758":{code:"e9aa"},"umbrella-274621874821":{code:"e9ab"},unlock:{code:"e9ac"},upload:{code:"e9ad"},user:{code:"e9ae"},"user-md":{code:"e9af"},"via--contact-19283671923":{code:"e9b0"},"video-camera":{code:"e9b1"},"video-camera-234986":{code:"e9b2"},"video-camera-3246262":{code:"e9b3"},"video-camera-21412412":{code:"e9b4"},"video-camera-1028371093":{code:"e9b5"},"vimeo-2342":{code:"e9b6"},"vimeo-square":{code:"e9b7"},vine:{code:"e9b8"},vk:{code:"e9b9"},"volume-12312312":{code:"e9ba"},"volume-down":{code:"e9bb"},"volume-off":{code:"e9bc"},"volume-up":{code:"e9bd"},"warning-sign-1927846192":{code:"e9be"},wechat:{code:"e9bf"},weibo:{code:"e9c0"},wheelchair:{code:"e9c1"},"wifi-signal-124514124":{code:"e9c2"},"wifi-signal-1283464192":{code:"e9c3"},windows:{code:"e9c4"},"wine-8377328":{code:"e9c5"},"wine-glass":{code:"e9c6"},"wine-glasses":{code:"e9c7"},"woman-128371209":{code:"e9c8"},"wranch-821451":{code:"e9c9"},"wranch-283748723":{code:"e9ca"},wrench:{code:"e9cb"},wrench_1:{code:"e9cc"},"yen-234":{code:"e9cd"},youtube:{code:"e9ce"},"youtube-square":{code:"e9cf"},"zoom-magnifying-glass":{code:"e9d0"},"zoom-spying-glass-1827358172":{code:"e9d1"}}},function(n){function o(t,r){if(!n(r.target).hasAncestor(t.$handle)){var u=n.getMouseOffset(r),e=t.$slideArea.offset();t.options.orientation==="vertical"?t.$handle.css("top",u.top-e.top):t.$handle.css("left",u.left-e.left);f(t);i(t)}}function s(t,i){n(i.target).parents().andSelf().hasClass("attached-widget")||DraggingBehaviours.Draggable.startDragging({$element:n(this),event:i,onDrag:function(n,i){f(t,r(t)?i.position.top:i.position.left)},onStart:function(){t.$element.addClass("state-active");t.$handle.addClass("state-active");t.isActive=!0},onEnd:function(){t.$element.removeClass("state-active");t.$handle.removeClass("state-active");t.isActive=!1},behaviourOptions:{axis:r(t)?"y":"x",containment:"parent"}})}function h(t){var i=t.options.orientation==="vertical",r=t.options.showScrollButtons,u=n([]);u.pushElements(t.$element);r&&u.pushElements(t.$scrollDown).pushElements(t.$scrollUp);u.toggleClass("horizontal",!i);u.toggleClass("vertical",i);i&&r&&t.$body.css({top:t.$scrollUp.outerHeight(),bottom:t.$scrollDown.outerHeight()});!i&&r&&t.$body.css({left:t.$scrollUp.outerWidth(),right:t.$scrollDown.outerWidth()});r&&(t.$scrollUp.css({left:0,right:i?0:"",top:0,bottom:i?"":0}),t.$scrollDown.css({left:i?0:"",right:0,top:i?"":0,bottom:0}))}function u(n){var r=n.options.orientation==="vertical",t;n.range=n.options.max-n.options.min;t=!n.options.autoHide||n.range>0;n.isVisible.setValue(t);t&&(n.$handle.toggleDisplayed(n.range>0),n.size=r?n.$slideArea.height():n.$slideArea.width(),n.handleSize=Math.min(Math.max(n.size-n.range,n.options.handleMinSize),n.size),n.handleRange=n.size-n.handleSize,n.handleStep=n.range/n.handleRange,i(n))}function t(t,i){return i=n.valueOrDefault(i,t.options.value),i=Math.max(Math.min(i,t.options.max),t.options.min),t.options.value!==i?(t.options.value=i,t.valueChangedEvent.fireNew(),!0):!1}function i(n){var t=n.range>0;t&&ReadWriteController.requestIndpendentWriteOperation(function(){var t=n.options.orientation==="vertical";t?(n.$handle.css({width:""}),n.$handle.outerHeight(n.handleSize)):(n.$handle.css({height:""}),n.$handle.outerWidth(n.handleSize));n.$handle.css({top:t?n.options.value/n.handleStep:"",left:t?"":n.options.value/n.handleStep})},"refreshHandle")}function r(n){return n.options.orientation==="vertical"}function f(n,i){i===undefined&&(i=r(n)?n.$handle.css("top"):n.$handle.css("left"));t(n,parseFloat(i)*n.handleStep)}var e=Class.extend("ScrollBarController",{init:function(i,r){r=n.extend({reactToSlideAreaClick:!1,scrollDownClass:undefined,scrollUpClass:undefined,scrollBarClass:undefined,showScrollButtons:!1,autoHide:!0,orientation:"vertical",min:0,max:100,handleMinSize:20,value:0},r);var f=this;this.id=n.weakID();this.$element=i;this.valueChangedEvent=SimpleEvent.create();this.isVisible=ObservableFlag.createConditionalPositive({valueChangeCallback:function(n,t){f.$element.toggleDisplayed(n,t)}});this.range=undefined;this.size=undefined;this.handleSize=undefined;this.handleStep=undefined;this.options=r;i.addClass("scrollbar widget positioned").addDisplayingStates().addClass(f.options.scrollBarClass);r.showScrollButtons&&(f.$scrollUp=n("<div class='scroll-up scroll-button'><\/div>").css("position","absolute").appendTo(i).makeSimpleButton().addClass(f.options.scrollUpClass).mouseHold(function(){t(f,f.options.value-1,!0)}),f.$scrollDown=n("<div class='scroll-down scroll-button'><\/div>").css("position","absolute").appendTo(i).makeSimpleButton().addClass(f.options.scrollDownClass).mouseHold(function(){t(f,f.options.value+1,!0)}));f.$body=n("<div class='scrollbar-body'><\/div>").css("position","absolute").appendTo(i);f.$slideArea=n("<div class='slide-area'><\/div>").css("position","absolute").appendTo(f.$body);r.reactToSlideAreaClick&&f.$slideArea.mousedown(function(n){o.call(this,f,n)});f.$handle=n("<div class='scrollbar-handle' style='position: absolute'><\/div>").makeSimpleButton().addDisplayingStates().mousedown(function(n){s.call(this,f,n)}).appendTo(f.$slideArea);h(this);u(this)},setValue:function(n){var r=t(this,n);r&&i(this)},getValue:function(){return this.options.value},attachWidget:function(n,t,i){n.addClass("attached-widget").appendTo(this.$handle).positionHorizontally(t).positionVertically(i)},connectToScrollable:function(t){var i=this,r;return n.isPlainObject(t)||t instanceof ScrollableController||(t=n(t).getScrollableController()),r=i.connectedScrollable,r&&(r.refreshedEvent.unbind(i.id),r.scrollingEvent.unbind(i.id),i.valueChangedEvent.unbind("scrollableConnection")),i.connectedScrollable=t,SimpleEvent.bind([t.refreshedEvent,t.scrollingEvent],function(){i.isActive||i.refresh()},i.id),i.valueChangedEvent.bind(function(){i.updatingScrollBarValue||t.scrollToOffset(i.getValue(),!1,n.noop,i.options.orientation)},"scrollableConnection"),i.refresh(),i},refresh:function(){var i=this,r=i.connectedScrollable,f;r&&(i.updatingScrollBarValue=!0,f=i.options.orientation,n.quickExtend(i.options,{min:0,max:r.getMaxScrollOffset(f)}),t(i,r.getScrollOffset(f)),i.updatingScrollBarValue=!1);u(i)}});n.fn.scrollBar=function(t){var i=n(this).data("widget-scrollbar");return i===undefined&&(i=new e(n(this),t),n(this).data("widget-scrollbar",i)),i}}(jQuery);TextBoxTypes={Text:1,Integer:2,Float:3,Date:4},function(n){function u(n,t,i,r){var f=t||window.event,o=f.keyCode||f.which,s=String.fromCharCode(o),e,u;(o==13||t.charCode!==0)&&(e=n.$textInput.caret(),u=n.$textInput.val(),u=u.substring(0,e.start)+s+u.substring(e.end,u.length),(i&&!i.test(s)||r&&!r.test(u))&&(f.returnValue=!1,f.preventDefault&&f.preventDefault()))}function f(t,i){function e(){r.openAsDropPanel({contextClass:"text-box-auto-complete",appendTo:i.appendTo,relativeTo:t.$element,closeCallback:function(){f.deactivate()},positioningFunction:n.buildPositioningFunction().beforePositioning(function(){n(this).outerWidth(t.$element.outerWidth())}).alignHorizontally(Side.Left,Side.Left).alignVertically(Side.Top,Side.Bottom)});u.setFilter(function(i){var r=n.trim(t.getText()).toLowerCase();return n.grep(i,function(t){return n.trim(t.item).toLowerCase().indexOf(r)>=0})});f.activate()}var r=GenericListPanel.createSelectionListDropPanel({items:i.values,maxHeight:200,selectionCallback:function(n){t.setText(n)}}),u,f;r.$element.preventBrowserBehaviour();u=r.itemsList;f=SimpleEvent.createEventListener(t.textInputTriggeredEvent,function(){u.refilter()});t.$textInput.mousedown(function(){e()});t._isFocused.valueChangedEvent.bind(function(n){n||r.requestDeactivation()})}function t(n){var t=n.$textInput.val(),u=n._options.textProcessing,r;u&&(r=u(t),r!==t&&(n.$textInput.val(r),t=r));n.observableCurrentText.setValue(t)&&(i(n),e(n),n._showLabel&&(n.$textInput.val()!=""?n.$textBoxLabel.toggleVisibility(!1,"Content"):n.$textBoxLabel.toggleVisibility(!0,"Content")))}function e(n){var t=n.$textInput.val();n.textChangedEvent.fireNew(t);n._options.textChangedCallback.call(n,t)}function i(n){var f=n._isValid,r,i,u,t;if(n._failedValidations=[],r=n.getText(),n._options.validateEmptyText||r!=="")for(i=0;i<n._validationFunctions.length;i++)u=n._validationFunctions[i],u.call(n,r)||n._failedValidations.push(u);t=n._isValid=n._failedValidations.length===0;f!==t&&(n._options.validationChangedCallback.call(n,t),n.validationChangedEvent.fireNew(t),n._options.addValidationClasses&&(n.$element.toggleClass("state-valid",t),n.$element.toggleClass("state-invalid",!t)))}function o(n){var t=n.getText();switch(n._options.textBoxType){case TextBoxTypes.Text:return t;case TextBoxTypes.Integer:return parseInt(t,10);case TextBoxTypes.Float:return parseFloat(t)}}var r=Class.extend("TextBoxController",{init:function(r,e){var v,s,c,h,k,d,y,tt,l,p,it,rt,ut,g;e=n.quickExtend({textBoxClass:undefined,labelText:undefined,hideLabelOnFocus:!0,textBoxType:TextBoxTypes.Text,allowNegativeNumbers:!0,textTransform:n.identity,textChangedCallback:n.noop,validationChangedCallback:n.noop,focusChangedCallback:n.noop,validationFunctions:[],validateEmptyText:!1,addValidationClasses:!0,addResetButton:!1,autoComplete:!1,inputPrefix:undefined,isBlock:!1,restrictToCharacters:!1,restrictToPattern:!1,pasteProcessing:!1,textProcessing:!1,maxChars:undefined,readOnly:!1,lowerCaseOnly:!1},e);var a=e.autoComplete,w=e.restrictToCharacters,b=e.restrictToPattern,nt=e.pasteProcessing;e.validationFunctions=n.asArray(e.validationFunctions);v=e.labelText!==undefined;s=r.addClass("text-box-input");s.wrap("<span class='text-box'><\/span>");c=s.parent().addClass(e.textBoxClass).addDisablingStates().toggleEnable(!0);s.wrap("<span class='text-box-input-wrapper'><\/span>");a&&(a=n.extend({appendTo:c,values:[]},a));e.isBlock&&c.addClass("block");e.lowerCaseOnly&&s.addClass("lower-case");e.maxChars&&s.attr("maxLength",e.maxChars);e.readOnly&&s.attr("readOnly",!0);h=this;e.addResetButton&&(d=n("<span class='right-block text-box-buttons'><\/span>").appendTo(c),n("<span class='height-normalizer'><\/span>").appendTo(d),k=n("<span class='reset-text-box-button vertically-centered'><\/span>").appendTo(d).makeSimpleButton().addDisplayingStates().buttonClick(function(){h.clear()}),c.addClass("with-reset-button"));y=e.validationFunctions.clone();e.textBoxType===TextBoxTypes.Float&&y.push(TextValidation.validateFloat);tt=y.clone();l=s.attr("id");l||(l=n.uniqueID(),s.attr("id",l));v&&(p=n("<label class='text-box-label' for='"+l+"'><\/label>").addVisibilityStates().text(e.labelText).appendTo(c));e.textBoxType===TextBoxTypes.Float||e.textBoxType===TextBoxTypes.Integer?s.makeNumericInput({allowDecimalPoint:e.textBoxType===TextBoxTypes.Float,allowNegativeNumbers:e.allowNegativeNumbers}):(w||b)&&(w&&(it=XRegExp(w)),b&&(rt=XRegExp(b)),s.keypress(function(n){u(h,n,it,rt)}));nt&&s.bind("paste",function(){setTimeout(function(){var n=s.val();s.val(nt(n))},0)});s.onTextInputTriggered(function(){h.textInputTriggeredEvent.fireNew();t(h)}).focus(function(){v&&e.hideLabelOnFocus&&p.toggleVisibility(!1,"Focused")}).blur(function(){v&&e.hideLabelOnFocus&&p.toggleVisibility(!0,"Focused")});s.is("textarea")||s.keydown(function(n){n.which===KeyCodes.Enter&&h.enterPressed.fireNew()});ut=ObservableFlag.createConditionalPositive({valueChangeCallback:function(n){n?s.removeAttr("disabled"):s.attr("disabled","true");c.toggleEnable(n)}});g=ObservableFlag.create(!1,{valueChangeCallback:function(n){e.focusChangedCallback.call(h,n);h.focusChangedEvent.fireNew(n);var t=o(h);!n&&h.isNumeric()&&isNaN(t)&&h.setValue(0)}});this._textInputID=l;this._options=e;this._failedValidations=tt;this._validationFunctions=y;this._showLabel=v;this._isFocused=g;this._isEnabled=ut;this.$element=c;this.$textInput=s;this.$textBoxLabel=p;this.enterPressed=SimpleEvent.create();this.textChangedEvent=SimpleEvent.create();this.textInputTriggeredEvent=SimpleEvent.create();this.validationChangedEvent=SimpleEvent.create();this.focusChangedEvent=SimpleEvent.create();this.observableCurrentText=ObservableObject.create(s.val());a&&f(this,a);i(this);c.trackFocus({stateChangeCallback:function(n){g.setValue(n==="state-focused")}});k&&h.textChangedEvent.bindAndExecute(function(){k.toggleDisplayed(h.getText()!=="")});e.inputPrefix&&h.addInputPrefix(e.inputPrefix)},addLeftDecorator:function(t){this._$leftDecorators||(this._$leftDecorators=n("<span class='block float-left inline-decorators'><span class='height-normalizer'><\/span><\/span>").prependTo(this.$element));t.appendTo(this._$leftDecorators);this._$floatClear||(this._$floatClear=n("<span class='float-clear'><\/span>").appendTo(this.$element))},addRightDecorator:function(t){this._$rightDecorators||(this._$rightDecorators=n("<span class='block float-right inline-decorators'><span class='height-normalizer'><\/span><\/span>").prependTo(this.$element));t.appendTo(this._$rightDecorators);this._$floatClear||(this._$floatClear=n("<span class='float-clear'><\/span>").appendTo(this.$element))},addInputPrefix:function(t){this.$element.addClass("with-input-prefix");n("<label class='text-box-input-prefix inline-block float-left' for='{1}'>{0}<\/label>".format(t,this._textInputID)).prependTo(this.$element);this._$floatClear||(this._$floatClear=n("<span class='float-clear'><\/span>").appendTo(this.$element))},setInputPrefix:function(t){this.$element.is(".with-input-prefix")?n(".text-box-input-prefix",this.$element).text(t):this.addInputPrefix(t)},attachLabel:function(t){return n(t).attr("for",this._textInputID),this},getText:function(){return this._options.textTransform(this.$textInput.val())},setText:function(n){return this.$textInput.val(n),t(this,!1),this},clear:function(){this.setText("")},setValue:function(n){n===null||n===undefined?this.setText(""):(this._isFocused.isFalse()||n!==this.getValue())&&this.setText(n.toString())},getValue:function(){var t=this.getText(),n;switch(this._options.textBoxType){case TextBoxTypes.Text:case TextBoxTypes.Date:return t;case TextBoxTypes.Integer:return n=parseInt(t,10),isNaN(n)?0:n;case TextBoxTypes.Float:return n=parseFloat(t),isNaN(n)?0:n}},enable:function(n){this._isEnabled.setValue(!0,n)},disable:function(n){this._isEnabled.setValue(!1,n)},toggleEnable:function(n,t){n?this.enable(t):this.disable(t)},focus:function(){this.$textInput.focus()},blur:function(){this.$textInput.blur()},isNumeric:function(){return this._options.textBoxType===TextBoxTypes.Integer||this._options.textBoxType===TextBoxTypes.Float},isValid:function(){return this._isValid},addFilteringSupport:function(t,i){var r=this,u;i=n.extend({valueSelector:n.identity},i);u=i.valueSelector;t.setFilter(function(t){var i=n.trim(r.getText()).toLowerCase();return i===""?t:n.grep(t,function(t){return n.trim(u(t.item)).toLowerCase().indexOf(i)>=0})});r.textInputTriggeredEvent.bind(function(){t.refilter()})}});n.fn.textBox=function(n){return new r(this,n)}}(jQuery);Scope=function(){var n=Class.extend("Scope",{init:function(n){n=$.quickExtend({beforeFinishingCallback:$.noop,finishCallback:$.noop,startCallback:$.noop},n);this._beforeFinishingCallback=n.beforeFinishingCallback;this._startCallback=n.startCallback;this._finishCallback=n.finishCallback;this._count=0},getCounter:function(){return this._count},setCounter:function(n){this._count=n},start:function(){this._count===0&&this._startCallback();this._count++},finish:function(){this._count===1&&this._beforeFinishingCallback();this._count--;this._count===0&&this._finishCallback()},isActive:function(){return this._count>0}});return n.create=function(t){return new n(t)},n}(),function(n){n.defaultIdComparer=function(n,t){return n!==undefined&&t!==undefined&&n.id==t.id};n.createArrayEqualityComparer=function(n){return function(t,i){if(t===undefined||i===undefined||t===null||i===null)return t===i;if(t.length!==i.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],i[r]))return!1;return!0}};n.diffObjectKeys=function(t,i,r){var f,e,u;if(t===i)return{};if(!i)return r&&r.setValue(!0),n.quickExtend({},t);f={};e=!1;for(u in i)t&&t.hasOwnProperty(u)&&n.defaultEqualityComparer(t[u],i[u])||(f[u]=i[u],e=!0);return e&&r&&r.setValue(!0),f};n.defaultEqualityComparer=function(t,i){var e=typeof t,s=typeof i,u,o,r,f;if(e!==s)return!1;if(n.isArray(t)){if(t.length!==i.length)return!1;for(r=0;r<t.length;r++)if(!n.defaultEqualityComparer(t[r],i[r]))return!1;return!0}if(e==="object"&&n.isPlainObject(t)){if(u=n.getKeys(t),o=n.getKeys(i),u.length!==o.length)return!1;for(r=0;r<u.length;r++)if(f=u[r],!n.defaultEqualityComparer(t[f],i[f]))return!1;return!0}return t===i};n.createFieldsEqualityComparer=function(n,t){return function(i,r){var f,u;if(i===undefined||r===undefined||i===null||r===null)return i===r;for(f=0;f<n.length;f++)if((u=n[f],t&&t[u]&&!t[u](i[u],r[u]))||i[u]!==r[u])return!1;return!0}};n.referencesEqualityComparer=function(n,t){return n===t};n.nullLastComparer=function(n,t){return n===null||n===undefined?1:t===null||t===undefined?-1:n-t};n.nullFirstComparer=function(n,t){return n===null||n===undefined?-1:t===null||t===undefined?1:n-t};n.alphaNumericCompare=function(n,t){for(var f,e,r=n.split(/(\d+)/),u=t.split(/(\d+)/),o=Math.min(r.length,u.length),i=0;i<o;i++)if(r[i]!==u[i])return f=Number(r[i]),e=Number(u[i]),f==r[i]&&e==u[i]?f-e:r[i]>u[i]?1:-1;return r.length-u.length};n.createArraySetsEqualityComparer=function(t){return t=n.valueOrDefault(t,n.identity),function(n,i){if(n&&i){if(n.length!==i.length)return!1;for(var u={},r=0;r<n.length;r++)u[t(n[r])]=!0;for(r=0;r<i.length;r++)if(!u[t(i[r])])return!1;return!0}return n===i}};n.defaultArrayEqualityComparer=n.createArrayEqualityComparer(n.referencesEqualityComparer);n.defaultArraySetsEqualityComparer=n.createArraySetsEqualityComparer(n.identity)}(jQuery);var EqualityComparers={SizeEqualityComparer:$.createFieldsEqualityComparer(["width","height"])},swfobject=function(){function v(){var i,r,n;if(!c){try{i=t.getElementsByTagName("body")[0].appendChild(h("span"));i.parentNode.removeChild(i)}catch(u){return}for(c=!0,r=w.length,n=0;n<r;n++)w[n]()}}function yt(n){c?n():w[w.length]=n}function pt(n){if(typeof r.addEventListener!=i)r.addEventListener("load",n,!1);else if(typeof t.addEventListener!=i)t.addEventListener("load",n,!1);else if(typeof r.attachEvent!=i)ui(r,"onload",n);else if(typeof r.onload=="function"){var u=r.onload;r.onload=function(){u();n()}}else r.onload=n}function gt(){lt?ni():it()}function ni(){var o=t.getElementsByTagName("body")[0],u=h(f),r,e;u.setAttribute("type",p);r=o.appendChild(u);r?(e=0,function(){if(typeof r.GetVariable!=i){var t=r.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),n.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(e<10){e++;setTimeout(arguments.callee,10);return}o.removeChild(u);r=null;it()}()):it()}function it(){var y=s.length,r,t,h,c,v;if(y>0)for(r=0;r<y;r++){var f=s[r].id,e=s[r].callbackFn,o={success:!1,id:f};if(n.pv[0]>0){if(t=u(f),t)if(!g(s[r].swfVersion)||n.wk&&n.wk<312)if(s[r].expressInstall&&ut()){h={};h.data=s[r].expressInstall;h.width=t.getAttribute("width")||"0";h.height=t.getAttribute("height")||"0";t.getAttribute("class")&&(h.styleclass=t.getAttribute("class"));t.getAttribute("align")&&(h.align=t.getAttribute("align"));var p={},a=t.getElementsByTagName("param"),w=a.length;for(c=0;c<w;c++)a[c].getAttribute("name").toLowerCase()!="movie"&&(p[a[c].getAttribute("name")]=a[c].getAttribute("value"));ft(h,p,f,e)}else ti(t),e&&e(o);else l(f,!0),e&&(o.success=!0,o.ref=rt(f),e(o))}else l(f,!0),e&&(v=rt(f),v&&typeof v.SetVariable!=i&&(o.success=!0,o.ref=v),e(o))}}function rt(n){var r=null,t=u(n),e;return t&&t.nodeName=="OBJECT"&&(typeof t.SetVariable!=i?r=t:(e=t.getElementsByTagName(f)[0],e&&(r=e))),r}function ut(){return!d&&g("6.0.65")&&(n.win||n.mac)&&!(n.wk&&n.wk<312)}function ft(f,e,o,s){var c,v,l,a;d=!0;nt=s||null;at={success:!1,id:o};c=u(o);c&&(c.nodeName=="OBJECT"?(y=et(c),k=null):(y=c,k=o),f.id=ht,(typeof f.width==i||!/%$/.test(f.width)&&parseInt(f.width,10)<310)&&(f.width="310"),(typeof f.height==i||!/%$/.test(f.height)&&parseInt(f.height,10)<137)&&(f.height="137"),t.title=t.title.slice(0,47)+" - Flash Player Installation",v=n.ie&&n.win?"ActiveX":"PlugIn",l="MMredirectURL="+r.location.toString().replace(/&/g,"%26")+"&MMplayerType="+v+"&MMdoctitle="+t.title,typeof e.flashvars!=i?e.flashvars+="&"+l:e.flashvars=l,n.ie&&n.win&&c.readyState!=4&&(a=h("div"),o+="SWFObjectNew",a.setAttribute("id",o),c.parentNode.insertBefore(a,c),c.style.display="none",function(){c.readyState==4?c.parentNode.removeChild(c):setTimeout(arguments.callee,10)}()),ot(f,e,o))}function ti(t){if(n.ie&&n.win&&t.readyState!=4){var i=h("div");t.parentNode.insertBefore(i,t);i.parentNode.replaceChild(et(t),i);t.style.display="none",function(){t.readyState==4?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(et(t),t)}function et(t){var u=h("div"),e,i,o,r;if(n.win&&n.ie)u.innerHTML=t.innerHTML;else if(e=t.getElementsByTagName(f)[0],e&&(i=e.childNodes,i))for(o=i.length,r=0;r<o;r++)i[r].nodeType==1&&i[r].nodeName=="PARAM"||i[r].nodeType==8||u.appendChild(i[r].cloneNode(!0));return u}function ot(t,r,e){var v,y=u(e),w,o,k,a,c,s,l;if(n.wk&&n.wk<312)return v;if(y)if(typeof t.id==i&&(t.id=e),n.ie&&n.win){w="";for(o in t)t[o]!=Object.prototype[o]&&(o.toLowerCase()=="data"?r.movie=t[o]:o.toLowerCase()=="styleclass"?w+=' class="'+t[o]+'"':o.toLowerCase()!="classid"&&(w+=" "+o+'="'+t[o]+'"'));k="";for(a in r)r[a]!=Object.prototype[a]&&(k+='<param name="'+a+'" value="'+r[a]+'" />');y.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+w+">"+k+"<\/object>";b[b.length]=t.id;v=u(t.id)}else{c=h(f);c.setAttribute("type",p);for(s in t)t[s]!=Object.prototype[s]&&(s.toLowerCase()=="styleclass"?c.setAttribute("class",t[s]):s.toLowerCase()!="classid"&&c.setAttribute(s,t[s]));for(l in r)r[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"&&ii(c,l,r[l]);y.parentNode.replaceChild(c,y);v=c}return v}function ii(n,t,i){var r=h("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)}function wt(t){var i=u(t);i&&i.nodeName=="OBJECT"&&(n.ie&&n.win?(i.style.display="none",function(){i.readyState==4?ri(t):setTimeout(arguments.callee,10)}()):i.parentNode.removeChild(i))}function ri(n){var t=u(n),i;if(t){for(i in t)typeof t[i]=="function"&&(t[i]=null);t.parentNode.removeChild(t)}}function u(n){var i=null;try{i=t.getElementById(n)}catch(r){}return i}function h(n){return t.createElement(n)}function ui(n,t,i){n.attachEvent(t,i);a[a.length]=[n,t,i]}function g(t){var r=n.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?!0:!1}function bt(r,u,o,s){var a,c,l;n.ie&&n.mac||(a=t.getElementsByTagName("head")[0],a)&&(c=o&&typeof o=="string"?o:"screen",s&&(e=null,tt=null),e&&tt==c||(l=h("style"),l.setAttribute("type","text/css"),l.setAttribute("media",c),e=a.appendChild(l),n.ie&&n.win&&typeof t.styleSheets!=i&&t.styleSheets.length>0&&(e=t.styleSheets[t.styleSheets.length-1]),tt=c),n.ie&&n.win?e&&typeof e.addRule==f&&e.addRule(r,u):e&&typeof t.createTextNode!=i&&e.appendChild(t.createTextNode(r+" {"+u+"}")))}function l(n,t){if(vt){var i=t?"visible":"hidden";c&&u(n)?u(n).style.visibility=i:bt("#"+n,"visibility:"+i)}}function kt(n){var t=/[\\\"<>\.;]/.exec(n)!=null;return t&&typeof encodeURIComponent!=i?encodeURIComponent(n):n}var i="undefined",f="object",st="Shockwave Flash",dt="ShockwaveFlash.ShockwaveFlash",p="application/x-shockwave-flash",ht="SWFObjectExprInst",ct="onreadystatechange",r=window,t=document,o=navigator,lt=!1,w=[gt],s=[],b=[],a=[],y,k,nt,at,c=!1,d=!1,e,tt,vt=!0,n=function(){var l=typeof t.getElementById!=i&&typeof t.getElementsByTagName!=i&&typeof t.createElement!=i,e=o.userAgent.toLowerCase(),s=o.platform.toLowerCase(),a=s?/win/.test(s):/win/.test(e),v=s?/mac/.test(s):/mac/.test(e),y=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,h=!+"\v1",u=[0,0,0],n=null,c;if(typeof o.plugins!=i&&typeof o.plugins[st]==f)n=o.plugins[st].description,!n||typeof o.mimeTypes!=i&&o.mimeTypes[p]&&!o.mimeTypes[p].enabledPlugin||(lt=!0,h=!1,n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),u[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10),u[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10),u[2]=/[a-zA-Z]/.test(n)?parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof r.ActiveXObject!=i)try{c=new ActiveXObject(dt);c&&(n=c.GetVariable("$version"),n&&(h=!0,n=n.split(" ")[1].split(","),u=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]))}catch(w){}return{w3:l,pv:u,wk:y,ie:h,win:a,mac:v}}(),fi=function(){n.w3&&((typeof t.readyState!=i&&t.readyState=="complete"||typeof t.readyState==i&&(t.getElementsByTagName("body")[0]||t.body))&&v(),c||(typeof t.addEventListener!=i&&t.addEventListener("DOMContentLoaded",v,!1),n.ie&&n.win&&(t.attachEvent(ct,function(){t.readyState=="complete"&&(t.detachEvent(ct,arguments.callee),v())}),r==top&&function(){if(!c){try{t.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}v()}}()),n.wk&&function(){if(!c){if(!/loaded|complete/.test(t.readyState)){setTimeout(arguments.callee,0);return}v()}}(),pt(v)))}(),ei=function(){n.ie&&n.win&&window.attachEvent("onunload",function(){for(var r,i,u,f,e=a.length,t=0;t<e;t++)a[t][0].detachEvent(a[t][1],a[t][2]);for(r=b.length,i=0;i<r;i++)wt(b[i]);for(u in n)n[u]=null;n=null;for(f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(t,i,r,u){if(n.w3&&t&&i){var f={};f.id=t;f.swfVersion=i;f.expressInstall=r;f.callbackFn=u;s[s.length]=f;l(t,!1)}else u&&u({success:!1,id:t})},getObjectById:function(t){if(n.w3)return rt(t)},embedSWF:function(t,r,u,e,o,s,h,c,a,v){var y={success:!1,id:r};n.w3&&!(n.wk&&n.wk<312)&&t&&r&&u&&e&&o?(l(r,!1),yt(function(){var n,b,p,k,w,d;if(u+="",e+="",n={},a&&typeof a===f)for(b in a)n[b]=a[b];if(n.data=t,n.width=u,n.height=e,p={},c&&typeof c===f)for(k in c)p[k]=c[k];if(h&&typeof h===f)for(w in h)typeof p.flashvars!=i?p.flashvars+="&"+w+"="+h[w]:p.flashvars=w+"="+h[w];if(g(o))d=ot(n,p,r),n.id==r&&l(r,!0),y.success=!0,y.ref=d;else{if(s&&ut()){n.data=s;ft(n,p,r,v);return}l(r,!0)}v&&v(y)})):v&&v(y)},switchOffAutoHideShow:function(){vt=!1},ua:n,getFlashPlayerVersion:function(){return{major:n.pv[0],minor:n.pv[1],release:n.pv[2]}},hasFlashPlayerVersion:g,createSWF:function(t,i,r){return n.w3?ot(t,i,r):undefined},showExpressInstall:function(t,i,r,u){n.w3&&ut()&&ft(t,i,r,u)},removeSWF:function(t){n.w3&&wt(t)},createCSS:function(t,i,r,u){n.w3&&bt(t,i,r,u)},addDomLoadEvent:yt,addLoadEvent:pt,getQueryParamValue:function(n){var r=t.location.search||t.location.hash,u,i;if(r){if(/\?/.test(r)&&(r=r.split("?")[1]),n==null)return kt(r);for(u=r.split("&"),i=0;i<u.length;i++)if(u[i].substring(0,u[i].indexOf("="))==n)return kt(u[i].substring(u[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(d){var t=u(ht);t&&y&&(t.parentNode.replaceChild(y,t),k&&(l(k,!0),n.ie&&n.win&&(y.style.display="block")),nt&&nt(at));d=!1}}}}(),YoutubeHelper=new function(){function f(){i||(i=!0,o())}function e(n){var i,r,f;n=$.extend({},n);i=n.videoID;r=n.isHtml5;delete n.videoID;delete n.isHtml5;var u=document.location,e=u.protocol,t=u.port;return t&&(t=":"+t),f=$.generateQueryString($.quickExtend(n,{enablejsapi:1,html5:r?1:undefined,origin:encodeURIComponent(e+"//"+document.domain+t)})),"https://www.youtube.com/embed/{0}?{1}".format(i,f)}function u(n){var t=n.$iframe;n.player=new YT.Player(t[0],{events:{onReady:function(t){t.target===n.player&&n.player.getPlayerState!==undefined&&(n.isReady=!0,n.playerReadyEvent.fireNew())}}})}function o(){var t=document.createElement("script"),n;t.src="https://www.youtube.com/iframe_api";n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function s(n){try{n.player&&(n.isReady=!1,n.player.destroy(),delete n.player)}catch(t){console.warn("youtube unload error - ")}}function h(n){return{controls:n.controls,isHtml5:n.isHtml5,controls:n.controls,loop:n.loop,playlist:n.playlist,wmode:n.wmode,enablejsapi:n.enablejsapi,origin:n.origin,videoID:n.videoID}}var i=!1,r=!1,n=[],t;window.onYouTubeIframeAPIReady=function(){r=!0;for(var t=0;t<n.length;t++)u(n[t]);n=[]};this.supportsHTML5=function(){return t===undefined&&(t=!!document.createElement("video").canPlayType),t};this.createPlayer=function(t){t=$.quickExtend({videoID:undefined,isHtml5:YoutubeHelper.supportsHTML5(),createIframe:$.noop,shouldLoad:!1},t);var o=!1,c=t.$container,l=t.createIframe,i={options:t,playerReadyEvent:SimpleEvent.create(),isReady:!1,$iframe:undefined,load:function(){return o||(i.isReady=!1,o=!0,f(),r?u(i):n.push(i)),i},whenReady:function(n){if(i.isReady)n.call(i.player,i);else i.playerReadyEvent.one(function(){n.call(i.player,i)})},call:function(n){for(var r=arguments.length-1,u=new Array(r),t=0;t<r;t++)u[t]=arguments[t+1];return i.whenReady(function(){this[n].apply(this,u)}),i},setOptions:function(n){i.options=$.extend({},i.options,n);n.shouldLoad&&i.reload()},toggleInitilized:function(n){o=n},isInitialized:function(){return o},reload:function(){var n,t;try{n=i.$iframe;n&&n.remove();t=h(i.options);n=l().attr("src",e(t));n.appendTo(c);i.$iframe=n;i.isReady&&i.player.destroy();o&&(o=!1,i.load())}catch(r){console.warn("video reload error - ")}},appendTo:function(n){return i.$iframe.appendTo(n),i},detach:function(){return i.$iframe.detach(),i},setLoop:function(n){i.call("setLoop",n)},play:function(){i.player.playVideo()},pause:function(){i.player.pauseVideo()},seekToBeginning:function(){var n=i.player.getDuration();i.player.seekTo(n-n,!0)},stopVideo:function(){i.pause();i.seekToBeginning()},getPlayerState:function(){if(i.player)return i.player.getPlayerState()},unloadPlayer:function(){s(i)}};return i.setOptions(t),i};this.getVideoImageUrl=function(n,t){$.ajax({type:"GET",statusCode:{404:function(){console.log("getJSON request failed! Page not found");t("error")}},url:"https://www.googleapis.com/youtube/v3/videos?id="+n+"&key=AIzaSyCS64OKEUmF4EvonWHNRC31cSDsz8npqhM&part=snippet,contentDetails&callback=?",dataType:"jsonp",success:function(n){if(n.items[0]){var i=n.items[0].snippet.thumbnails.high.url;t(i)}else t("error")},error:function(n,i,r){console.log("getJSON request failed! "+i+": "+r);t("error")}})};this.checkVideoExists=function(n,t){$.ajax({type:"GET",statusCode:{404:function(){console.log("getJSON request failed! Page not found");t("error")}},url:"https://www.googleapis.com/youtube/v3/videos?id="+n+"&key=AIzaSyCS64OKEUmF4EvonWHNRC31cSDsz8npqhM&part=snippet,contentDetails&callback=?",dataType:"jsonp",success:function(n){n.items[0]?t(!0):t(!1)},error:function(n,i,r){console.log("getJSON request failed! "+i+": "+r);t(!1)}})}},VimeoPlayerStates={Unstarted:-1,Ended:0,Playing:1,Paused:2,Buffering:3,Cued:5},VimeoHelper=new function(){function o(){t||(t=!0,h())}function s(n,t){var i,r;return n=$.extend({},n),i=n.videoID,delete n.videoID,r=$.generateQueryString({api:1,player_id:t}),"//player.vimeo.com/video/{0}?{1}".format(i,r)}function r(n){var i=n.$iframe,t=!1;$.browser.msie&&$.browser.version!=="11.0"&&(t=!0);n.player=$f(i[0]);n.player.addEvent("ready",function(){t?((n.ie8Counter===0||n.ie8Counter%2==0)&&e(n,t),n.ie8Counter+=1):e(n,t)})}function h(){var t=document.createElement("script"),n,i;t.src="http://f.vimeocdn.com/js/froogaloop2.min.js";n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);i=setInterval(function(){typeof $f!="undefined"&&(window.onVimeoIframeAPIReady(),clearInterval(i))},50)}function u(n){n.player&&(n.isReady=!1,n.playerState=VimeoPlayerStates.Unstarted,n.player.removeEvent("ready"),n.player.removeEvent("pause"),n.player.removeEvent("play"),n.player.removeEvent("finish"),$(n.player.element).remove(),delete n.player,t=!1,i=!1)}function f(n){n.isLoop&&(n.seekToBeginning(),setTimeout(function(){n.play()},1e3))}function e(n,t){n.isReady=!0;n.player.addEvent("pause",function(){n.player&&n.player.api("getDuration",function(i){var r=i;n.player.api("getCurrentTime",function(i){r-i==0?(n.playerState=VimeoPlayerStates.Ended,t&&f(n)):n.playerState=VimeoPlayerStates.Paused})})});n.player.addEvent("finish",function(){n.playerState=VimeoPlayerStates.Ended;t&&f(n)});n.player.addEvent("play",function(){n.playerState=VimeoPlayerStates.Playing});n.playerReadyEvent.fire()}function c(n,t,i){$.getJSON(t,null,function(n){var t=n[0].thumbnail_large;t=t.substring(0,t.lastIndexOf("_")+1);t=t+"1024.jpg";i(t)}).fail(function(n,t,r){console.log("getJSON request failed! "+t+": "+r);i("error")})}function l(n,t,i){$.ajax({type:"GET",timeout:800,statusCode:{404:function(){console.log("getJSON request failed! Page not found");i("error")}},url:t,data:null,dataType:"jsonp",success:function(n){if(n){var t=n[0].thumbnail_large;t=t.substring(0,t.lastIndexOf("_")+1);t=t+"1024.jpg";i(t)}else i("error")},error:function(n,t,r){console.log("getJSON request failed! "+t+": "+r);i("error")}})}var t=!1,i=!1,n=[];window.onVimeoIframeAPIReady=function(){i=!0;for(var t=0;t<n.length;t++)r(n[t]);n=[]};this.createPlayer=function(t){t=$.quickExtend({videoID:undefined,createIframe:$.noop,$container:undefined},t);var e=!1,h=t.$container,c=t.createIframe,f={options:t,$iframe:undefined,playerState:VimeoPlayerStates.Unstarted,playerReadyEvent:SimpleEvent.create(),isReady:!1,isLoop:!1,ie8Counter:0,playerId:"vimeo-id-"+t.instanceId,thumbnailUrl:"",load:function(){return e||(f.isReady=!1,e=!0,o(),i?r(f):n.push(f)),f},whenReady:function(n){if(f.isReady)n.call(f.player,f);else f.playerReadyEvent.one(function(){n.call(f.player,f)})},call:function(n){for(var i=arguments.length-1,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t+1];return f.whenReady(function(){this.api(n,r)}),f},setOptions:function(n){f.options=$.extend({},f.options,n);n.shouldLoad&&f.reload()},toggleInitilized:function(n){e=n},reload:function(){var n,i;try{n=f.$iframe;n&&n.remove();i=t.playerId;n=c().attr("src",s(f.options,i));n.data("elementId",f.options.elementId);n.attr("id",i);n.appendTo(h);f.$iframe=n;f.isReady&&u(f);e&&(e=!1,f.load())}catch(r){console.warn("video reload error - ")}},play:function(){f.call("play")},pause:function(){f.call("pause")},setLoop:function(n){f.isLoop=n;(!$.browser.msie||parseInt($.browser.version)>10)&&f.call("setLoop",n)},seekToBeginning:function(){f.call("seekTo",0)},stopVideo:function(){f.call("unload")},getPlayerState:function(){return f.playerState},unloadPlayer:function(){u(f)}};return f.setOptions(t),f};this.getVideoImageUrl=function(n,t){var i="https://vimeo.com/api/v2/video/{0}.json&callback=getImageCallback".format(n);!$.browser.msie||parseInt($.browser.version)>10?c(n,i,t):l(n,i,t)};this.checkVideoExists=function(n,t){!$.browser.msie||parseInt($.browser.version)>10?$.getJSON("https://vimeo.com/api/v2/video/{0}.json&callback=getImageCallback".format(n),null,function(n){n&&t(!0)}).fail(function(n,i,r){console.log("getJSON request failed! "+i+": "+r);t(!1)}):$.ajax({type:"GET",timeout:2e3,statusCode:{404:function(){console.log("getJSON request failed! Page not found");t(!1)}},url:"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+n+"&callback=checkVideoCallback(false)",dataType:"jsonp",success:function(n){n?t(!0):t(!1)},error:function(n,i,r){console.log("getJSON request failed! "+i+": "+r);t(!1)}})}},GoogleMapTypes={Hybrid:"hybrid",Roadmap:"roadmap",Satellite:"satellite",Terrain:"terrain"},GoogleMapHelper=new function(){function e(){if(!i){i=!0;var n=document.createElement("script");n.type="text/javascript";n.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=onGoogleMapAPIReady";document.body.appendChild(n)}}function f(n){if(n=$.extend({},n),n){var t=n.center;$.isArray(t)&&(n.center=new google.maps.LatLng(t[0],t[1]))}return n}function n(n){return $.isArray(n)?new google.maps.LatLng(n[0],n[1]):n}var i=!1,t=[],r=!1,u;window.onGoogleMapAPIReady=function(){r=!0;var n=t;t=[];$.each(n,function(n,t){t()})};this.Geocoder=DeferredObject.create(function(){var i={},t={withGeocoder:function(n){t.geocoder?n(t.geocoder):GoogleMapHelper.useGoogleMapAPI(function(){t.geocoder=new google.maps.Geocoder;n(t.geocoder)})},geocode:function(n,i,r){i=$.valueOrDefault(i,$.noop);r=$.valueOrDefault(r,$.noop);t.withGeocoder(function(t){t.geocode({address:n},function(n,t){t==google.maps.GeocoderStatus.OK?i(n):r()})})},reverseGeocoding:function(r,u,f){u=$.valueOrDefault(u,$.noop);f=$.valueOrDefault(f,$.noop);r=n(r);var e=i[r.toString()];e?u(e):t.withGeocoder(function(n){n.geocode({latLng:r},function(n,t){if(t==google.maps.GeocoderStatus.OK){var e=n[0];e=e?e.formatted_address:r.toString();i[r.toString()]=e;u(e)}else f(t)})})}};return t});this.latLngToArray=function(n){return[n.lat(),n.lng()]};this.getMapAddress=function(t,i){GoogleMapHelper.useGoogleMapAPI(function(){t=n(t);GoogleMapHelper.Geocoder.get().reverseGeocoding(t,function(n){i(n)},function(){i(t)})})};this.setCurrentAddress=function(n){u=n};this.getCurrentAddress=function(){return u};this.buildContentString=function(n,t){return'<div id="content"><div id="siteNotice"><\/div>'+'<h1 id="firstHeading" class="firstHeading">{0}<\/h1>'.format(n)+'<div id="bodyContent">'+t+"<\/div><\/div>"};this.useGoogleMapAPI=function(n){r?n():(e(),t.push(n))};this.createMap=function(t,i){function a(){$.each(u.getItems(),function(n,t){t.setMap(null)});o={};u.clear()}function p(n,t){n&&(u.updateItemFields(n.name,{icon:t}),e.fireNew())}function w(n,t){GoogleMapHelper.Geocoder.get().reverseGeocoding(t,function(t){n.title=t;e.fireNew()},function(){n.title=t;e.fireNew()})}function v(t,i){t=$.extend({position:undefined,name:undefined,title:undefined,customIconUrl:undefined,icon:undefined},t);i=$.valueOrDefault(i,$.noop);r.withMap(function(r){var f=n($.valueOrCalculate(t.position,function(){return r.getCenter()})),c=f.toString();if(o[c])i(undefined);else{var s=t.name,e=t.title,l=t.icon,h=function(){s===undefined&&(s=$.uniqueID());var n=new google.maps.Marker({name:s,position:f,map:r,title:e,draggable:!1,icon:l});Global.IsDesigner&&(n.draggable=!0,google.maps.event.addListener(n,"dragend",function(){var t=n.getPosition(),i=SelectionManager.getSelectedInstance();i.updateMarkerPosition(n,GoogleMapHelper.latLngToArray(t))}));u.put(n);o[c]=n;i(n)};e===undefined?GoogleMapHelper.Geocoder.get().reverseGeocoding(f,function(n){e=n;h()},function(){e=f.toString();h()}):h()}})}i=$.extend({center:[46.578498,2.457275],zoom:8},i);var r={},s=[],u=new ObservableCollection({idFunction:function(n){return n.name}}),o={},h=ObservableObject.create(undefined,{equalityComparer:function(n,t){return n===undefined||t===undefined?n===t:n===null||t===null?n===t:n.toString()===t.toString()}}),y=ObservableObject.create(),c=ObservableObject.createNumerical(),l=ObservableObject.create(),e=SimpleEvent.create();return GoogleMapHelper.useGoogleMapAPI(function(){var n=new google.maps.Map(t[0],f(i)),u;r.map=n;u=s;s=[];$.each(u,function(t,i){i(n)});google.maps.event.addListener(n,"center_changed",function(){h.setValue(n.getCenter())});h.setValue(n.getCenter());google.maps.event.addListener(n,"zoom_changed",function(){c.setValue(n.getZoom())});google.maps.event.addListener(n,"maptypeid_changed",function(){l.setValue(n.getMapTypeId())});c.setValue(n.getZoom())}),$.extend(r,{$element:t,markers:u,markersChangedEvent:e,currentCenter:h,currentZoom:c,mapTypeId:l,streetViewPositioner:y,withMap:function(n){r.map?n(r.map):s.push(n)},setOptions:function(n){r.withMap(function(t){t.setOptions(f(n))})},setZoom:function(n){r.withMap(function(t){t.setZoom(n)})},setCenter:function(t){r.withMap(function(i){i.setCenter(n(t));GoogleMapHelper.getMapAddress(t,function(n){GoogleMapHelper.setCurrentAddress(n)})})},getCenter:function(n){r.withMap(function(t){n(t.getCenter())})},getMapTypeId:function(n){r.withMap(function(t){n(t.getMapTypeId())})},panTo:function(n){r.withMap(function(t){t.panTo(n)})},updateMarkerPosition:function(n,t){w(n,t)},setMarkerIcon:function(n,t){p(n,t)},addMarker:function(n,t){t=$.valueOrDefault(t,$.noop);v(n,function(n){t(n);n&&e.fireNew()})},removeMarker:function(n){typeof n=="string"&&(n=u.getItem(n));n&&(n.setMap(null),u.remove(n.name),delete o[n.position.toString()],e.fireNew())},clearMarkers:function(){a();e.fireNew()},getMarkersInfo:function(){var n={};return $.each(u.getItems(),function(t,i){var r=i.position;n[t]={name:i.name,title:i.title,icon:i.icon,position:[r.lat(),r.lng()]}}),n},setMarkers:function(n,t){t=$.valueOrDefault(t,$.noop);r.withMap(function(){a();$.each(n,function(n,t){v(t)});t();e.fireNew()})},refreshSize:function(){r.map&&google.maps.event.trigger(r.map,"resize")}}),r}},TrackingCategories={Conversion:"Conversion",Editor:"Editor",Usability:"Usability",SiteManagement:"SiteManagement",Blog:"Blog",SiteStatus:"SiteStatus",Mobile:"Mobile",Help:"Help",Errors:"Errors",Commands:"Commands"},TrackingActions={NotSavedSite:"NotSavedSite",SaveFirstTime:"SaveFirstTime",ResetTemplate:"ResetTemplate",CreateNewSite:"CreateNewSite",Save:"Save",Publish:"Publish",Upgrade:"Upgrade",FinishPreview:"FinishPreview",Preview:"Preview",MobileEditing:"MobileEditing",Help:"Help",PreferencesButton:"PreferencesButton",Undo:"Undo",Redo:"Redo",Stats:"Stats",MobileSettingsPanel:"MobileSettingsPanel",MobileLayoutPanel:"MobileLayoutPanel",Error:"Error",VoodoError:"VoodoError",UnknownError:"UnknownError",CKEDITORError:"CKEDITORError",UpgradeDialogOpened:"UpgradeDialogOpened",Login:"Login",SignUp:"SignUp",CreateBlog:"CreateBlog",ManagePosts:"ManagePosts",CreatePost:"CreatePost",RemoveBlog:"RemoveBlog",SavePost:"SavePost",ChangePostStatus:"ChangePostStatus",EditPostAdvancedOptions:"EditPostAdvancedOptions",WidgetAdded:"WidgetAdded",Add:"Add",Design:"Design",Pages:"Pages",Blog:"Blog",Manage:"Manage",ManageSites:"ManageSites",UploadImage:"UploadImage",UploadFlash:"UploadFlash",UploadDocument:"UploadDocument",isPremium:"isPremium",ChangeFavicon:"ChangeFavicon",DeleteFavicon:"DeleteFavicon",SavedSiteSettings:"SavedSiteSettings",SavedSocialSettings:"SavedSocialSettings",AddSection:"AddSection",AddSectionButton:"AddSectionButton",PageBackgroundButton:"PageBackgroundButton",ColorsButton:"ColorsButton",TextStylesButton:"TextStylesButton",ChangeColorsPallets:"ChangeColorsPallets",ApplyColorsPallets:"ApplyColorsPallets",FontsButton:"FontsButton",EditNavigationMode:"EditNavigationMode"};(function(n){function t(){return!(typeof ga=="undefined"||typeof DevMode!="undefined"||!ga)}function i(){return!(typeof __insp=="undefined"||typeof DevMode!="undefined"||!__insp)}function r(){return!(typeof _aaq=="undefined"||typeof DevMode!="undefined"||!_aaq)}n.fn.bindToTrackingEvent=function(t){var i=this;return i.bind("click",function(){n.triggerTrackingEvent(t)}),i};n.triggerTrackingEvent=function(t){n.triggerGoogleEvent(t);n.triggerInspectletEvent(t);n.triggerEvergageEvent(t)};n.triggerErrorEvent=function(r){var e,u,f;try{e=new Date;e=e.toUTCString();u=n.uniqueID();t()&&ga("send","exception",{exDescription:u+" "+r.action,exFatal:!1,appName:r.stackTrace});i()&&(f={},f[r.action]="errorId -"+u+": date -"+e+": siteid - "+SiteManager.getSiteID(),f.errorDescription="errorId -"+u+":"+r.stackTrace,f.errorId=u,__insp.push(["tagSession",f]))}catch(o){}};n.fn.bindToGoogleEvent=function(i){i=n.extend({category:window.location.pathname,action:"deafaultAction",label:undefined,value:undefined},i);var r=this;return t()&&r.bind("click",function(){n.triggerGoogleEvent(i)}),r};n.fn.bindToToInspectletEvent=function(t){var r=this;return i()&&t&&r.bind("click",function(){n.triggerInspectletEvent(t)}),r};n.triggerGoogleEvent=function(i){if(i=n.extend({category:window.location.pathname,action:"deafaultAction",label:undefined,value:undefined},i),t())try{ga("send","event",i.category,i.action,i.label,i.value)}catch(r){}};n.triggerPageViewChange=function(n){t()&&ga("send","pageview",n)};n.triggerInspectletEvent=function(t){if(i()&&t&&t.action)try{var r={};r[t.action]=n.valueOrDefault(t.tagValue,!0);__insp.push(["tagSession",r])}catch(u){}};n.triggerEvergageEvent=function(n){if(r()&&n&&n.action)try{_aaq.push(["setCustomField",n.action,n.tagValue,"request"])}catch(t){}};n.identifyUserWithInspectlet=function(){if(i())try{var n=WebzaiController.getCurrentUserName();n&&__insp.push(["identify",n])}catch(t){}};n.identifyUserWithEvergage=function(){if(r())try{var n=WebzaiController.getCurrentUserName();n&&_aaq.push(["setUser",n])}catch(t){}}})(jQuery),function(n){n.fn.scrollToFixed=function(t){function s(){o.setValue(a()>l-t.distance)}function a(){var n,t;return f[0]===window?(t=document.compatMode&&document.compatMode!="BackCompat"?document.documentElement:document.body,n=document.all?t.scrollTop:window.pageYOffset):n=f[0].scrollTop,n}var h=n.uniqueID();t=n.extend({fixedClass:"scroll-fixed",unfixedClass:"scroll-unfixed",fixedCallback:n.noop,unfixedCallback:n.noop,distance:0,startPosition:undefined,$scrollablePane:n(window),getScrollingSize:function(){return i.offset().top},getTopPositionWhenFixed:function(){return 0}},t);var u={},i=this,r,f=t.$scrollablePane,c=t.getScrollingSize,v=t.getTopPositionWhenFixed,e=!1,o=ObservableFlag.create(undefined,{valueChangeCallback:function(u){if(!e){if(e=!0,t.fixedClass&&i.toggleClass(t.fixedClass,u),t.unfixedClass&&i.toggleClass(t.unfixedClass,!u),u){t.fixedCallback();r=t.startPosition?t.startPosition:i.css("top");var f=n("<div><\/div>").css("height",i.outerHeight());i.wrap(f);i.css("top",v()+t.distance)}else t.unfixedCallback(),r!==undefined&&(i.unwrap(),i.css("top",r),r=undefined);e=!1}}}),l=c();return f.bind("scroll."+h,function(){s()}),n.extend(u,{$element:i,isFixed:o,unbind:function(){f.unbind("scroll."+h);o.setValue(!1)},refresh:function(){l=c()+a();s()},pushTo:function(n){return n.push(u),u}}),s(),u}}(jQuery);OperationsBatch=function(){function u(n,t){t.batchFinishingStartedCallback();t.batchFinishCallback();o(n);n.finishedEvent.fireNew();t.batchFinishingCompletedCallback();n.afterFinishedEvent.fireNew()}function f(t){n[t.name]===undefined&&(n[t.name]={controller:t,index:i},i++)}function e(t){n[t.name]!==undefined&&(delete n[t.name],i--)}function r(n,t,i,r){for(var f,e={event:n,batches:t,args:r,condition:i},o=n.id,u=0;u<t.length;u++)f=t[u],f.pendingEvents[o]=e}function o(n){var s=n.pendingEvents,u=[],i,t,f,r,e,h,o;for(f in s)if(i=s[f],r=i.batches,$.all(r,function(n){return!n.isActive()}))for(u.push(i),t=0;t<r.length;t++)delete r[t].pendingEvents[f];for(e=n._operations,n._operationNames={},n._operations=[],t=0;t<u.length;t++)i=u[t],(!i.condition||i.condition())&&i.event.fireNew(i.args);for(h=e.length,t=0;t<h;t++)o=e[t],o===undefined?console.log("Skipping scheduled operation since its missing in the array"):o.call(n)}var i=0,n={},t=Class.extend("OperationsBatch",{init:function(n){var t,r;n=$.quickExtend({name:undefined,batchStartCallback:$.noop,batchFinishCallback:$.noop,beforeFinishingCallback:$.noop,batchFinishingStartedCallback:$.noop,batchFinishingCompletedCallback:$.noop},n);var i=n.name,o=n.batchStartCallback,s=n.beforeFinishingCallback;i===undefined&&(i=$.weakID());t=this;r=Scope.create({startCallback:function(){f(t);t.startedEvent.fireNew();o()},beforeFinishingCallback:s,finishCallback:function(){u(t,n);e(t)}});this.name=i;this.scope=r;this.startedEvent=SimpleEvent.create();this.finishedEvent=SimpleEvent.create();this.afterFinishedEvent=SimpleEvent.create();this.pendingEvents={};this._operationNames={};this._operations=[]},whenNotActive:function(n){this.isActive()||n()},executeWithActivation:function(n){this.start();n();this.finish()},begin:function(){this.start()},end:function(){this.finish()},start:function(){this.scope.start()},finish:function(){this.scope.finish()},getCounter:function(){return this.scope.getCounter()},release:function(){this.scope.setCounter(1);controller.finish()},isActive:function(){return this.scope.isActive()},fireWhenFinished:function(n,t){t=$.quickExtend({fireOnce:!0,args:undefined,customName:""});var e=t.fireOnce,u=t.args,o=t.customName,i=n.name!==undefined,r=i?n.event:n,f=i?n.name:"",s=e?r.id+f+o:undefined;this.whenFinished(function(){i?r.fireNew(f,u):r.fireNew(u)},s)},fireEvent:function(n,t,i){this.isActive()||i&&!i()?r(n,[this],i,t):n.fireNew(t)},whenFinished:function(n,t){this.performOperation(n,t)},performInstanceOperation:function(n,t,i){(i===undefined||i===null)&&(i="op"+$.uniqueID()+"_");this.performOperation(n,i+t.id)},performOperation:function(n,t){var i=this;if(i.isActive()){(t===undefined||t===null)&&(t="op"+$.uniqueID());var u=i._operations,f=i._operationNames,r=f[t];r===undefined&&(r=u.length,f[t]=r);u[r]=n}else n.call(i)},performOperationWhenBatchStart:function(n,t){var i=this;if(i.isActive())i.performOperation(n,t);else i.startedEvent.one(function(){i.performOperation(n,t)})},executeOnBatchStart:function(n){var t=this;if(t.isActive())n();else t.startedEvent.one(function(){n()})},executeAfterBatchFinished:function(n){var t=this;if(t.isActive())n();else t.finishedEvent.one(function(){n()})},hasOperation:function(n){return this._operationNames[n]!==undefined},bind:function(n,t){var i=this.startedEvent.bind(n),r=this.finishedEvent.bind(t);return{unbind:function(){i.unbind();r.unbind()}}}});return t.releaseAllActiveBatches=function(){var t=$.getValues(n).orderBy(function(n){return-n.index});$.eachItem(t,function(t,i){i.controller.release();delete n[i.name]})},t.create=function(n){return new t(n)},t.whenAllFinished=function(n,t,i){for(var u=n.length,r=0;r<n.length;r++)n[r].whenFinished(function(){u--;u===0&&t()},i)},t.fireOnBatchesComplete=function(n,t,i){$.all(n,function(n){return!n.isActive()})?(!i||i())&&t.fireNew():r(t,n,i)},t}();PathUtils=new function(){var n=/^[/]+/,t=/[/]+$/;this.combinePaths=function(){for(var i,u=[],f=arguments.length,r=0;r<f;r++)i=arguments[r],i!==undefined&&(i=i.replace(t,""),r>0&&(i=i.replace(n,"")),i!==""&&u.push(i));return u.join("/")}},function(n){n.splitFileName=function(n){var t=n.lastIndexOf(".");return t<0?{fileName:n,extension:undefined}:{fileName:n.substr(0,t),extension:n.substr(t)}};n.getFileName=function(n){var t=n.lastIndexOf("\\");return t>=0?n.substring(t+1):n};n.getFileNameWithoutExtension=function(t){return n.splitFileName(n.getFileName(t)).fileName};n.getFileExtension=function(t){return n.splitFileName(n.getFileName(t)).extension}}(jQuery);Browser={IE:1,Other:0};BrowserVersion={IE6:{browser:Browser.IE,version:6},IE7:{browser:Browser.IE,version:7},IE8:{browser:Browser.IE,version:8},IE9:{browser:Browser.IE,version:9},Other:{browser:Browser.Other,version:0}},function(n){n.extendValueWithDefaultValue=function(t,i){if(n.isPlainObject(t)&&(i===undefined||n.isPlainObject(i))){var r=n.quickExtend({},i);return n.quickExtend(r,t)}return t!==undefined&&t!==null?t:i};n.extendIfObject=function(t){return n.isPlainObject(t)?n.quickExtend({},t):t};n.cloneObject=function(t){return n.quickExtend({},t)};n.convertValueToObject=function(n,t){for(var r={},i=0;i<t.length;i++)r[t[i]]=n;return r};n.createArrayWithValue=function(n,t){for(var r=[],i=0;i<t;i++)r[i]=n;return r};n.findAvailableName=function(t,i,r){r&&(i=n.map(i,function(n){return n.toLowerCase()}));var o=n.makeDictionaryFromKeys(i,!0),s=n.isFunction(t),f=1,u,e;do e=u=s?t(f):t.format(f),r&&(u=u.toLowerCase()),f++;while(o[u]);return e};n.fn.setStyleAttr=function(n){n?this.attr("style",n):this.removeAttr("style")};n.fn.htmlOrHide=function(t){return t===undefined||t===null?n(this).hide():n(this).show().html(t),this};n.objectSetIfUndefined=function(n,t,i){var r,f,e,u,o;if(t instanceof Array)for(f=0;f<t.length;f++){if(e=t[f],f===t.length-1)return r=n[e],r===undefined?(u=i(),n[e]=u,u):r;o=n[e];o===undefined&&(o={},n[e]=o);n=o}else return r=n[t],r===undefined?(u=i(),n[t]=u,u):r};n.objectSet=function(n,t,i){var r,f,u;if(t instanceof Array)for(r=0;r<t.length;r++)f=t[r],r===t.length-1?n[f]=i:(u=n[f],u===undefined&&(u={},n[f]=u),n=u);else n[t]=i};n.objectRemove=function(n,t){var i,u,r;if(t instanceof Array)for(i=0;i<t.length;i++)u=t[i],i===t.length-1?delete n[u]:(r=n[u],r===undefined&&(r={},n[u]=r),n=r);else n[t]=value};n.objectSetAndClone=function(t,i,r){var o=n.quickExtend({},t),u=o,f,e;for(i=n.asArray(i),f=0;f<i.length;f++)e=i[f],f===i.length-1?u[e]=r:(u[e]=n.quickExtend({},u[e]),u=u[e]);return o};n.objectGetAndClone=function(t,i,r){var o,u,f,e,s;if(r=n.valueOrDefault(r,n.undefinedFunction),r(t))return undefined;for(o=n.quickExtend({},t),u=o,i=n.asArray(i),f=0;f<i.length;f++){if(e=i[f],s=u[e],r(s))return undefined;u[e]=n.quickExtend({},s);u=u[e]}return o};n.objectGet=function(t,i,r){var u,f,e;if(r=n.valueOrDefault(r,n.undefinedOrNullFunction),r(t))return undefined;if(i instanceof Array)for(u=0;u<i.length;u++){if(f=i[u],u===i.length-1)return t[f];if(e=t[f],r(e))return undefined;t=e}else return t[i]};n.getObjectIfUndefined=function(n){return n?n:{}};n.extendFunction=function(n,t){return function(){var u=arguments.length,r=new Array(u+1),i;for(r[0]=n,i=0;i<u;i++)r[i+1]=arguments[i];t.apply(this,r)}};n.extendMissing=function(t,i){return n.eachEntry(i,function(n,i){t[n]===undefined&&(t[n]=i)}),t};n.quickUnique=function(t,i){var f,u,e,o,r,s;if(i=n.valueOrDefault(i,n.identity),t.length<2)return t.clone();for(f=!0,r=0;r<t.length;r++)if(u=typeof i(t[r]),u!=="string"&&u!=="number"&&u!=="boolean"){f=!1;break}if(!f)return n.unique(t);for(e=[],o=[],r=0;r<t.length;r++)s="_"+i(t[r]),e[s]===undefined&&(e[s]=!0,o.push(t[r]));return o};n.keyToString=function(n){if(n>=65&&n<=90||n>=48&&n<=57)return String.fromCharCode(n);switch(n){case Global.Keys.ESC:return"Esc";case Global.Keys.Delete:return"Del"}return""};n.isCtrlPressed=function(n){return n.ctrlKey||n.metaKey};n.isShiftPressed=function(n){return n.shiftKey};n.isKey=function(n,t,i,r,u){t!==null&&t!==undefined&&typeof t=="string"&&(t=t.charCodeAt(0));var f=!1;return(t===null||t===undefined||n.which===t)&&(f=!0),i!==!0||n.ctrlKey||n.metaKey?i===!1&&(n.ctrlKey||n.metaKey)&&(f=!1):f=!1,r!==!0||n.shiftKey?r===!1&&n.shiftKey&&(f=!1):f=!1,u!==!0||n.altKey?u===!1&&n.altKey&&(f=!1):f=!1,f};n.getOrInit=function(n,t,i){var r=n[t];return r===undefined&&(r=i,n[t]=r),r};n.getOrCreateArray=function(t,i){return n.getOrInit(t,i,[])};n.getOrCreateMap=function(t,i){return n.getOrInit(t,i,{})};n.getOrInitDeferred=function(n,t,i){var r=n[t];return r===undefined&&(r=i(),n[t]=r),r};n.getWindowCenter=function(){return{top:n(document).scrollTop()+n(window).height()/2,left:n(document).scrollLeft()+n(window).width()/2}};n.fn.makeNumericInput=function(t){var i,r;return t=n.quickExtend({allowDecimalPoint:!0,allowNegativeNumbers:!0},t),i="[0-9]",t.allowNegativeNumbers&&(i="-|"+i),t.allowDecimalPoint&&(i=i+"|\\."),r=new RegExp(i),n(this).keypress(function(n){var t=n||window.event,i=t.keyCode||t.which;i=String.fromCharCode(i);r.test(i)||(t.returnValue=!1,t.preventDefault&&t.preventDefault())})};n.getMouseOffset=function(n){var i=0,r=0,u,t;return(n||(n=window.event),!n)?undefined:(n.pageX||n.pageY?(i=n.pageX,r=n.pageY):n.clientX||n.clientY?(i=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=n.clientY+document.body.scrollTop+document.documentElement.scrollTop):(u=n.originalEvent,u||(u=n),t=u.changedTouches,t&&t[0]&&(i=t[0].pageX,r=t[0].pageY)),{left:i,top:r})};n.extendJqueryUi=function(t,i,r){n.extend(n.ui[t].prototype,function(){var n={};return n[i]=r,n}(n.ui[t].prototype[i]))};n.fixColor=function(t){if(t.toLowerCase()==="transparent")return t;if(t=t.trim(),t=t.trim("#"),t.length===3&&(t=t+t),t="#"+t,t.length==7){var i=n.Color(t);if(i.space)return i.toCSS()}return null};String.prototype.trim=function(n){var t=new RegExp("^("+n+")+|("+n+")+$","g");return this.replace(t,"")};n.fn.mouseHold=function(t){var i=100,r=n(this);return n(this).hover(function(){n(this).addClass("state-hover")},function(){n(this).removeClass("state-hover")}),t&&typeof t=="function"?this.each(function(){n(this).mousedown(function(u){var f=1,e=0,o=this,s=setInterval(function(){r.inState("state-hover")&&(e++,t.call(o,u,e),f=2)},i);n(document).one("mouseup",function(){clearInterval(s);f==1&&t.call(this,1);f=0});return!1});n(this).click(function(){return!1})}):void 0};n.getUrlVars=function(n){for(var i=[],t,u=n.slice(n.indexOf("?")+1).split("&"),r=0;r<u.length;r++)t=u[r].split("="),i.push(t[0]),i[t[0]]=t[1];return i};n.withObject=function(n,t){t(n)};var t;n.browserVersion=function(){return t||(navigator.appVersion.indexOf("MSIE 6.")!=-1&&(t=BrowserVersion.IE6),navigator.appVersion.indexOf("MSIE 7.")!=-1&&(t=BrowserVersion.IE7),navigator.appVersion.indexOf("MSIE 8.")!=-1&&(t=BrowserVersion.IE8),navigator.appVersion.indexOf("MSIE 9.")!=-1&&(t=BrowserVersion.IE9),t=BrowserVersion.Other),t},function(){var t,i;n.escapeHTML=function(n){return t||(t=document.createElement("div"),i=document.createTextNode(n),t.appendChild(i)),i.nodeValue=n,t.innerHTML}}()}(jQuery);jQuery.extend(jQuery.expr[":"],{focus:function(n){return n==document.activeElement}});CollectionUtils={};ArrayUtils={},function(){function t(n,t,i,r){if(t&&n)for(var u=0;u<n.length;u++)n[u]=t(n[u],i,r)}function n(n,i,r,u){var l=u.filterFunction,s=u.mapItem,a=u.mapItemData,v=u.normalizeCollection,y=u.onStartUpdating,p=u.onFinishUpdating,f={},h,e,c,o;l?(n.addedItems&&(h=$.grep(n.addedItems,l)),n.removedItems&&(e=n.removedItems.clone()),n.updatedItems&&(o=FilterUtils.filterItems(n.updatedItems,l,{notPassedIdFunction:r.getIDFunction()}),c=o.passed,e?$.merge(e,o.notPassed):o.notPassed.length>0&&(e=o.notPassed))):(h=s?ArrayUtils.clone(n.addedItems):n.addedItems,c=s?ArrayUtils.clone(n.updatedItems):n.updatedItems,e=n.removedItems);t(h,s,i,a);t(c,s,i,a);f.addedItems=h;f.updatedItems=c;f.removedItems=e;y();i.beginUpdate();f.removedItems&&i.remove(f.removedItems);f.addedItems&&i.put(f.addedItems);f.updatedItems&&i.put(f.updatedItems);v(i);i.endUpdate();p()}ArrayUtils.contains=function(n,t){return $.oneOfValues(n,t)};ArrayUtils.clone=function(n){return n?n.slice(0):n};Array.prototype.contains=function(n){return ArrayUtils.contains(n,this)};Array.prototype.clone=function(){return ArrayUtils.clone(this)};Array.prototype.isLastIndex=function(n){return n===this.length-1};Array.prototype.isSingleValue=function(n){return this.length!==1?!1:$.isFunction(n)?n(this[0]):n===this[0]};Array.prototype.equals=function(n){if(n.length!=this.length)return!1;for(var t=0;t<this.length;t++)if(this[t]!=n[t])return!1;return!0};Array.prototype.removeItem=function(n){var t=$.inArray(n,this);return t>=0?(this.splice(t,1),!0):!1};CollectionUtils.connectCollectionObserver=function(n,t){return CollectionObserver.create(CollectionUtils.connectObservableCollection(new ObservableCollection,n,t))};CollectionUtils.isObservableCollection=function(n){return!!(n&&n.isObservableCollection&&n.isObservableCollection())};CollectionUtils.connectObservableCollection=function(t,i,r){function e(u){n(u,t,i,r)}if(r=$.quickExtend({filterFunction:undefined,mapItem:undefined,mapItemData:undefined,normalizeCollection:$.noop,onStartUpdating:$.noop,onFinishUpdating:$.noop},r),t.connectionController)throw new Error("Already connected");if(t.hasItems())throw new Error("Invalid use - Collection should be empty");var u,f;return t.connectionController={disconnect:function(){u&&u.unbind();f&&f.unbind()}},i.updateBatch.isActive()?f=i.updateBatch.afterFinishedEvent.one(function(){u=i.itemsChangedEvent.bind(e);n({addedItems:i.getItemsValues()},t,i,r)}):(u=i.itemsChangedEvent.bind(e),n({addedItems:i.getItemsValues()},t,i,r)),t};CollectionUtils.disconnectObservableCollection=function(n){n.connectionController&&(n.connectionController.disconnect(),delete n.connectionController);n.clear()};CollectionUtils.createSortedArray=function(n){n=$.extend({valueSelector:undefined,comparer:undefined,orderByDesc:!1},n);var r=n.valueSelector,u=n.comparer,f=n.orderByDesc,i=!0,t=[];return{addItem:function(n){t.push(n);i=!1},getItems:function(){return i||(f?t.orderByDesc(r,u):t.orderBy(r,u),i=!0),t}}}}();ExtensionUtils={},function(){ExtensionUtils.extendObjectKey=function(n,t,i){return n[t]?$.quickExtend(n[t],i):n[t]=i}}();var FilterUtils=new function(){this.Filters={DateFilter:function(n){return{serverFilters:{fieldName:n.fieldName,type:"between",from:n.from,to:n.to},filterFunction:function(t){var i=t[n.fieldName];return i&&i>n.from&&i<n.to}}},EqualFilter:function(n){return{serverFilters:{fieldName:n.fieldName,type:"eq",value:n.value,isBinded:n.value===undefined?!0:undefined},filterFunction:function(t){return n.value===t[n.fieldName]}}},IntFilter:function(n){return{serverFilters:{fieldName:n.fieldName,type:"between",from:n.from,to:n.to},filterFunction:function(t){var i=t[n.fieldName];return i&&i>n.from&&i<n.to}}},ListFilter:function(n){return{serverFilters:{fieldName:n.fieldName,type:"eq",value:n.value},filterFunction:function(t){return ArrayUtils.contains(n.value,t[n.fieldName])}}},NotFilter:function(n){return{serverFilters:{fieldName:n.fieldName,type:"neq",value:n.value,isBinded:n.value===undefined?!0:undefined},filterFunction:function(t){return n.value!==t[n.fieldName]}}}};this.filterItems=function(n,t,i){i=$.quickExtend({passedIdFunction:$.identity,notPassedIdFunction:$.identity},i);var r=[],u=[];return $.each(n,function(n,f){var e,o;t(f)?(e=i.passedIdFunction(f),r.push(e)):(o=i.notPassedIdFunction(f),u.push(o))}),{passed:r,notPassed:u}};this.getFiltersCompositeFunction=function(n,t){t=$.valueOrDefault(t,"filterFunction");var i=$.returnTrue;return $.eachItem(n,function(n,r){i=$.wrapMethod(i,function(n){return function(i){return r[t](i)&&n(i)}})}),i}},ListUtils=new function(){this.getListNameFromInstance=function(n){return n.getPropertyValue(PropertiesTypes.dataInfo.name).listName};this.getListControllerFromInstance=function(n){return ListsManager.getListByName(ListUtils.getListNameFromInstance(n))};this.isDynamicPage=function(n){return!!n.pageListName};this.isMasterListPage=function(n){return!!n.masterPageListName};this.getListForCurrentDynamicPage=function(){var n=$.objectGet(PageManager.CurrentPageData.getValue(),"pageListName");return n&&ListsManager.getListByName(n)};this.assertListSaved=function(n,t){if(n=$.quickExtend({listName:undefined,defaultMode:undefined},n),!n.defaultMode&&SiteManager.isExistingSite()&&ListsManager.isListTemplate(n.listName)){ConfirmationDialog.open({header:"Save your site",submissionNotification:"Saving your site...",buttons:ConfirmationPanel.OkCancelButtons,buttonsOptions:[{type:ConfirmationButtonsTypes.OK,title:"Save My Site"}],confirmationMessage:"Just before you can use your blog, you must save your site.<br>Do you want to save your site?",submissionCallback:function(n,t){Commands.SaveSite.action({afterSaveCallback:n,savingFailedCallback:Exception.createExceptionHandler(t),showSuccessDialog:!1,displayInAjaxOperationsPanel:!1})}});return}return t()};this.allowPageDeletion=function(n,t){n.masterPageListName!==undefined?ConfirmationDialog.open({buttons:ConfirmationPanel.OkButton,header:"Blog Page Cannot be Deleted",confirmationMessage:"Be Careful! This page is your blog page.<br>In order to delete it you must remove the blog from the blog menu."}):t()}},MathUtils=new function(){this.isPositive=function(n){return $.isNumeric(n)&&+n>0}},ExceptionUtils=new function(){this.handleAjaxException=function(n){ExceptionUtils.handleGeneralException(Exception.getUserDescription(n))};this.handleGeneralException=function(n){Global.IsDesigner?NotificationPanel.showErrorNotification(n,{autoHideDelay:1e3}):console.error("Error: "+n)}};(function(n){function t(n,t){n.width===undefined&&(n.width=t.outerWidth())}function i(n,t){n.height===undefined&&(n.height=t.outerHeight())}function u(t){return isFinite(t)?{left:t,top:t,right:t,bottom:t}:n.extend({left:0,top:0,right:0,bottom:0},t)}n.fn.scrollParent=function(){var t;return t=n.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n(this).css("position"))&&/(auto|scroll|hidden)/.test(n(this).css("overflow")+n(this).css("overflow-x")+n(this).css("overflow-y"))}).eq(0):this.parents().filter(function(){return/(auto|scroll|hidden)/.test(n(this).css("overflow")+n(this).css("overflow-x")+n(this).css("overflow-y"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t};n.translateOffset=function(n,t){return{left:n.left+(t.left?t.left:0),top:n.top+(t.top?t.top:0)}};n.translateArea=function(t,i){return n.extendedAreaInfo({left:t.left+n.valueOrDefault(i.left,0),top:t.top+n.valueOrDefault(i.top,0),width:t.width,height:t.height})};n.getOffsetDelta=function(n,t){return{left:n.left-t.left,top:n.top-t.top}};n.resolveAxis=function(n){var t={north:n==="n"||n==="ne"||n==="nw",south:n==="s"||n==="se"||n==="sw",east:n==="e"||n==="se"||n==="ne",west:n==="w"||n==="sw"||n==="nw"};return t.horizontal=t.east||t.west,t.vertical=t.north||t.south,t};n.normalizeToMinSize=function(n,t){return{width:Math.max(n.width,t.width),height:Math.max(n.height,t.height)}};n.calculateWindowSize=function(){return{width:document.documentElement.clientWidth,height:n.isIOS()?n.getIOSWindowHeight():window.innerHeight||document.documentElement.clientHeight}};n.getWindowArea=function(t){t=n.extend({left:0,top:0,right:0,bottom:0},t);var i=n.calculateWindowSize(),f=i.width,e=i.height,r=n(document).scrollTop(),u=n(document).scrollLeft(),o=r+e,s=u+f;return n.extendedAreaInfo({left:u+t.left,top:r+t.top,bottom:o-t.bottom,right:s-t.right})};n.fn.positionInWindow=function(t){t=n.extend({vertically:!1,horizontally:!1,horizontalPadding:0,verticalPadding:0,horizontalAnchor:"left",verticalAnchor:"top"},t);var i=n.getWindowArea();return i.left+=t.horizontalPadding,i.right-=t.horizontalPadding,i.top+=t.horizontalPadding,i.bottom-=t.horizontalPadding,n(this).positionInArea(i,t)};n.fn.moveToArea=function(t,i){i=n.extend({horizontalAnchor:!1,verticalAnchor:!1},i);var o=i.horizontalAnchor,s=i.verticalAnchor,r=this,u=r.getArea(),f=0,e=0;u.left<t.left?f=t.left-u.left:u.left>t.right&&(f=t.right-u.right);u.top<t.top?e=t.top-u.top:u.top>t.bottom&&(e=t.bottom-u.bottom);var h=parseInt(r.css("left")),c=parseInt(r.css("right")),l=parseInt(r.css("top")),a=parseInt(r.css("bottom"));return o==="left"?r.css("left",h+f):o==="right"&&r.css("right",c-f),s==="top"?r.css("top",l+e):s==="bottom"&&r.css("bottom",a-e),r};n.fn.positionInArea=function(t,i){i=n.extend({vertically:!1,horizontally:!1,horizontalAnchor:"left",verticalAnchor:"top"},i);var o=i.horizontalAnchor,s=i.verticalAnchor,e=n(this),f=n.getArea(e.offset(),e.outerSize()),r={},u=!0;return i.horizontally&&(f.left<t.left?(r.left=t.left,u=!1):f.right>t.right&&(r.right=t.right,u=!1)),i.vertically&&(f.top<t.top?(r.top=t.top,u=!1):f.bottom>t.bottom&&(r.bottom=t.bottom,u=!1)),u||e.setOffset(r,{horizontalAnchor:o,verticalAnchor:s}),this};n.fn.positionToFit=function(t,i,r,u){var e,o,c,l,s,f,a,h;if(u=n.extend({fallbackPositioning:0,positionInTargetArea:!0,functionsOrder:undefined,padding:0},u),e=n(this),t=n.shrinkArea(t,u.padding),o=undefined,r!==undefined&&(o=n.getArea(r.offset(),r.outerSize())),u.functionsOrder){for(c=u.functionsOrder,l=[],f=0;f<c.length;f++)l.push(i[c[f]]);i=l}for(s=!1,f=0;f<i.length;f++)if(i[f].call(e,o),a=n.getArea(e.offset(),e.outerSize()),!t||n.containsArea(t,a)){s=!0;break}return s||u.fallbackPositioning===i.length-1||(h=u.fallbackPositioning,n.isFunction(h)?h.call(e,o):i[h].call(e,o)),!s&&u.positionInTargetArea&&e.positionInArea(t,{vertically:!0,horizontally:!0}),this};n.fn.setOffset=function(t,i){var s,h,o;for(i=n.extend({horizontalAnchor:"left",verticalAnchor:"top"},i),s=i.horizontalAnchor,h=i.verticalAnchor,o=0;o<this.length;o++){var u=n(this[o]),e={left:undefined,top:undefined},f=undefined,r={};s!=="right"?t.left!==undefined?(e.left=t.left,r.right=""):t.right!==undefined?(e.left=t.right-u.outerWidth(),r.right=""):t.horizontalCenter!==undefined&&(e.left=t.horizontalCenter-u.outerWidth()/2,r.right=""):(f===undefined&&(f=u.offsetParent()),t.right!==undefined?(r.right=f.right()-t.right,r.left=""):t.left!==undefined?(r.right=f.right()-t.left-u.outerWidth(),r.left=""):t.horizontalCenter!==undefined&&(r.right=f.right()-t.horizontalCenter-u.outerWidth()/2,r.left=""));h!=="bottom"?t.top!==undefined?(e.top=t.top,r.bottom=""):t.bottom!==undefined?(e.top=t.bottom-u.outerHeight(),r.bottom=""):t.verticalCenter!==undefined&&(e.top=t.verticalCenter-u.outerHeight()/2,r.bottom=""):(f===undefined&&(f=u.offsetParent()),t.bottom!==undefined?(r.bottom=f.bottom()-t.bottom,r.top=""):t.top!==undefined?(r.bottom=f.bottom()-t.top-u.outerHeight(),r.top=""):t.verticalCenter!==undefined&&(r.bottom=f.bottom()-t.verticalCenter-u.outerHeight()/2,r.top=""));u.offset(e).css(r)}return this};n.fn.setPosition=function(r,u){return u=n.extend({width:undefined,height:undefined},u),r.left!==undefined&&n(this).css("left",r.left),r.top!==undefined&&n(this).css("top",r.top),r.right!==undefined&&(r.left!==undefined?n(this).outerWidth(r.right-r.left):(t(u,n(this)),n(this).css("left",r.right-u.width))),r.bottom!==undefined&&(r.top!==undefined?n(this).outerHeight(r.bottom-r.top):(i(u,n(this)),n(this).css("top",r.bottom-u.height))),r.horizontalCenter&&(t(u,n(this)),n(this).css("left",r.horizontalCenter-u.width/2)),r.verticalCenter&&(i(u,n(this)),n(this).css("top",r.verticalCenter-u.height/2)),n(this)};n.fn.centerInArea=function(t,i){var r,u;return i=n.extend({horizontally:!0,vertically:!0,calculatedSize:undefined},i),i.horizontally&&(r=i.calculatedSize&&i.calculatedSize.width?i.calculatedSize.width:n(this).outerWidth(),n(this).css("left",t.left+(t.right-t.left)/2-r/2)),i.vertically&&(u=i.calculatedSize&&i.calculatedSize.height?i.calculatedSize.height:n(this).outerHeight(),n(this).css("top",t.top+(t.bottom-t.top)/2-u/2)),n(this)};n.fn.right=function(t){return t!=undefined?this.each(function(){n(this).offset({left:t-n(this).outerWidth(),top:n(this).offset().top})}):n(this[0]).offset().left+n(this[0]).outerWidth()};n.fn.stretch=function(t){var i=n(this).width(),r=n(this).height(),f=t.width/i,e=t.height/r,u=Math.min(f,e),o=Math.floor(i*u),s=Math.floor(r*u);return n(this).width(o).height(s)};n.stretch=function(t,i,r,u){var e,o,f,s;return(u=n.extend({stretchWhenSmaller:!0,ceilFractions:!1},u),!u.stretchWhenSmaller&&i.width>=t.width&&i.height>=t.height)?{width:t.width,height:t.height,ratio:1}:(e=i.width/t.width,o=i.height/t.height,f=r?Math.max(e,o):Math.min(e,o),s=u.ceilFractions?"ceil":"floor",{width:Math[s](t.width*f),height:Math[s](t.height*f),ratio:f})};n.fn.left=function(t){return t!=undefined?this.each(function(){n(this).offset({left:t,top:n(this).offset().top})}):n(this[0]).offset().left};n.fn.bottom=function(t){return t!=undefined?this.each(function(){n(this).offset({left:n(this).offset().left,top:t-n(this).outerHeight()})}):n(this[0]).offset().top+n(this[0]).outerHeight()};n.fn.top=function(t){return t!=undefined?this.each(function(){n(this).offset({left:n(this).offset().left,top:t})}):n(this[0]).offset().top};n.fn.centerInParent=function(t){t=n.extend({centerHorizontally:!0,centerVertically:!0,isContentCenter:!1},t);n(this).each(function(){var i=n(this).offsetParent(),r=i.getCenter(t.isContentCenter);n(this).center(r,t)})};n.fn.getCenter=function(t){var i,r;return t===undefined&&(t=!1),i=n(this[0]),t?(r=n.relativePosition(i.offset(),parseInt(i.css("paddingLeft")),parseInt(i.css("paddingTop"))),n.relativePosition(r,i.width()/2,i.height()/2)):n.relativePosition(n(this[0]).offset(),n(this[0]).outerWidth()/2,n(this[0]).outerHeight()/2)};n.fn.center=function(t,i){var r,f,u;if(i=n.extend({centerHorizontally:!0,centerVertically:!0},i),t){for(r=0;r<this.length;r++)f=n(this[r]),u={},i.centerHorizontally&&(u.horizontalCenter=t.left),i.centerVertically&&(u.verticalCenter=t.top),f.setOffset(u);return this}return n(this).getCenter()};n.fn.integerOffset=function(){var t=n(this).offset();return{left:Math.floor(t.left),top:Math.floor(t.top)}};n.getAbsoluteOffset=function(n,t){return t?n?{left:n.left+t.left,top:n.top+t.top}:null:n};n.getAbsoluteArea=function(t,i){return i?t?n.extendedAreaInfo({left:t.left+i.left,top:t.top+i.top,right:t.right+i.left,bottom:t.bottom+i.top}):null:t};n.relativeOffset=function(n,t){return t?n?{left:n.left-t.left,top:n.top-t.top}:null:n};n.relativeArea=function(n,t){if(!t)return n;if(!n)return null;var i={left:n.left-t.left,top:n.top-t.top,right:n.right-t.left,bottom:n.bottom-t.top};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.center={left:i.left+i.width/2,top:i.top+i.height/2},i};n.offsetsEqual=function(n,t){return n&&t?n.top===t.top&&n.left===t.left:n===t};n.sizesEqual=function(n,t){return n&&t?n.width===t.width&&n.height===t.height:n===t};n.areasEqual=function(n,t){return n===undefined||t===undefined?n===t:n===null||t===null?n===t:n.left===t.left&&n.top===t.top&&n.right===t.right&&n.bottom===t.bottom};n.normalizeToArea=function(n,t){return{left:Math.min(t.right,Math.max(t.left,n.left)),top:Math.min(t.bottom,Math.max(t.top,n.top))}};n.fn.calculateContentOffset=function(){var n=this,i=parseInt(n.css("border-left-width")),r=parseInt(n.css("border-top-width")),u=parseInt(n.css("padding-left")),f=parseInt(n.css("padding-top")),t=n.offset();return{left:t.left+i+u,top:t.top+r+f}};n.fn.calculateScrollingPosition=function(t){var u;t=n.extend({calculateLeft:!1,calculateTop:!1,includeMargin:!1,$scrollParent:undefined,scrollParentContentOffset:undefined,scrollParentScrollLeft:undefined,scrollParentScrollTop:undefined},t);var s=t.calculateLeft,h=t.calculateTop,i=t.$scrollParent,r=t.scrollParentContentOffset,e=t.scrollParentScrollLeft,o=t.scrollParentScrollTop,a=t.includeMargin,f=this,c=s&&e===undefined,l=h&&o===undefined;return i===undefined&&(r===undefined||c||l)&&(i=f.scrollParent()),r===undefined&&(r=i.calculateContentOffset()),c&&(e=i.scrollLeft()),l&&(o=i.scrollTop()),u=f.offset(),a&&(s&&(u.left-=parseInt(f.css("margin-left"))),h&&(u.top-=parseInt(f.css("margin-top")))),{left:u.left-r.left+e,top:u.top-r.top+o}};n.fn.getArea=function(t){return n.getArea(n(this).offset(),n(this).elementSize(),t)};n.fn.setArea=function(t){return n(this).offset({left:t.left,top:t.top}).css({width:t.width,height:t.height})};n.fn.getOuterArea=function(t){return n.getArea(n(this).offset(),n(this).outerSize(),t)};n.getRelativeOffset=function(n,t){return{left:n.left-t.left,top:n.top-t.top}};n.getRelativeArea=function(t,i){return n.extendedAreaInfo({left:t.left-i.left,right:t.right-i.left,top:t.top-i.top,bottom:t.bottom-i.top})};n.getArea=function(t,i,r){t=n.extend({top:0,left:0},t);i=n.extend({width:0,height:0},i);r&&(r=isFinite(r)?{left:r,top:r,right:r,bottom:r}:n.quickExtend({left:0,top:0,right:0,bottom:0},r),t.top-=r.top,t.left-=r.left,i.width+=r.left+r.right,i.height+=r.top+r.bottom);var u={left:t.left,top:t.top,right:t.left+i.width,bottom:t.top+i.height};return u.width=u.right-u.left,u.height=u.bottom-u.top,u.center={left:u.left+u.width/2,top:u.top+u.height/2},u};n.expandArea=function(t,i){return i=u(i),n.extendedAreaInfo({left:t.left-i.left,right:t.right+i.right,top:t.top-i.top,bottom:t.bottom+i.bottom})};n.shrinkArea=function(t,i){return i=u(i),n.extendedAreaInfo({left:t.left+i.left,right:t.right-i.right,top:t.top+i.top,bottom:t.bottom-i.bottom})};n.areasOverlap=function(t,i){return n.getAreasOverlap(t,i)!==null};n.getAreasOverlap=function(n,t){if(!n||!t)return null;var i={left:Math.max(n.left,t.left),top:Math.max(n.top,t.top),right:Math.min(n.right,t.right),bottom:Math.min(n.bottom,t.bottom)};return i.left>i.right||i.top>i.bottom?null:i};n.containsArea=function(t,i){return n.isInsideArea(t,{top:i.top,left:i.left})&&n.isInsideArea(t,{top:i.bottom,left:i.right})};n.isInsideArea=function(t,i,r){return t=n.getAbsoluteArea(t,r),t.left<=i.left&&t.right>=i.left&&t.top<=i.top&&t.bottom>=i.top};n.unionAreas=function(t){var i=n.minValue(t,function(n){return n.left}),r=n.minValue(t,function(n){return n.top}),u=n.maxValue(t,function(n){return n.right}),f=n.maxValue(t,function(n){return n.bottom});return n.extendedAreaInfo({left:i,top:r,right:u,bottom:f})};n.areasIntersects=function(t,i){return n.areasIntersectsHorizontal(t,i)&&n.areasIntersectsVertical(t,i)};n.areasIntersectsHorizontal=function(n,t){return n.right<t.left||n.left>t.right?!1:!0};n.areasIntersectsVertical=function(n,t){return n.bottom<t.top||n.top>t.bottom?!1:!0};n.intersectAreas=function(t){var i=n.maxValue(t,function(n){return n.left}),r=n.maxValue(t,function(n){return n.top}),u=n.minValue(t,function(n){return n.right}),f=n.minValue(t,function(n){return n.bottom});return n.extendedAreaInfo({left:i,top:r,right:u,bottom:f})};n.adjustArea=function(t,i){var u,r;for(t=n.quickExtend({},t),i=n.asArray(i),u=0;u<i.length;u++){r=i[u];switch(r.side){case Side.Top:t.top+=r.value;break;case Side.Bottom:t.bottom+=r.value;break;case Side.Left:t.left+=r.value;break;case Side.Right:t.right+=r.value}}return n.extendedAreaInfo(t)};n.calculateAreaInfo=function(t){return n.extendedAreaInfo(n.quickExtend({},t))};n.extendedAreaInfo=function(n){return n?(n.left!==undefined&&n.right!==undefined?n.width=n.right-n.left:n.right===undefined?n.right=n.width===Infinity?Infinity:n.left+n.width:n.left=n.right-n.width,n.top!==undefined&&n.bottom!==undefined?n.height=n.bottom-n.top:n.bottom===undefined?n.bottom=n.height===Infinity?Infinity:n.top+n.height:n.top=n.bottom-n.height,n.center={left:n.left+n.width/2,top:n.top+n.height/2},n):n};n.cloneSize=function(n){return n?{width:n.width,height:n.height}:n};n.clonePosition=function(n){return n?{top:n.top,left:n.left}:n};n.getDistance=function(n,t){return Math.sqrt(Math.pow(n.left-t.left,2)+Math.pow(n.top-t.top,2))};n.fn.distance=function(t){var i=n(this[0]).center(),r=n(t).center();return Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2))};n.fn.elementSize=function(t){return t!==undefined?n(this).width(t.width).height(t.height):{width:n(this[0]).width(),height:n(this[0]).height()}};n.fn.elementContentSize=function(){return{width:parseFloat(this.css("width")),height:parseFloat(this.css("height"))}};n.fn.innerSize=function(){return{width:n(this[0]).innerWidth(),height:n(this[0]).innerHeight()}};n.fn.outerSize=function(t){return t!==undefined?n(this).outerWidth(t.width).outerHeight(t.height):{width:n(this[0]).outerWidth(),height:n(this[0]).outerHeight()}};n.fn.getOuterSize=function(){var n=this[0];return{width:n.offsetWidth,height:n.offsetHeight}};n.fn.forEachOffset=function(n){var t=document.documentElement,i=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),r=(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0);return this.each(function(){var t=this.getBoundingClientRect();n(this,{top:t.top+i,left:t.left+r})})};n.fn.positionHorizontally=function(t,i,r){return(r=n.extend({skipPositionCheck:!1},r),t===undefined)?n(this):n(this).each(function(){n(this).css({left:"",right:"","margin-left":""});isFinite(t)?n(this).css({left:t}):t==HorizontalAlignment.Left?n(this).css({left:0}):t==HorizontalAlignment.Right?n(this).css({right:0}):n(this).makeCentered({horizontally:!0,vertically:!1,preComputedSize:i,skipPositionCheck:r.skipPositionCheck})})};n.fn.positionVertically=function(t,i,r){return(r=n.extend({skipPositionCheck:!1},r),t===undefined)?n(this):n(this).each(function(){n(this).css({top:"",bottom:"","margin-top":""});isFinite(t)?n(this).css({top:t}):t==VerticalAlignment.Top?n(this).css({top:0}):t==VerticalAlignment.Bottom?n(this).css({bottom:0}):n(this).makeCentered({horizontally:!1,vertically:!0,preComputedSize:i,skipPositionCheck:r.skipPositionCheck})})};n.fn.clearCentering=function(){return n(this).css({left:0,top:0,"margin-left":0,"margin-top":0})};n.fn.clearFill=function(){return n(this).css({width:"",height:""})};n.fn.makeFill=function(){return n(this).css({width:"100%",height:"100%",top:0,left:0,position:"absolute"})};n.fn.shiftHalfVertically=function(){return n(this).each(function(){var t=n(this).outerHeight()/2;n(this).css({"margin-top":0-t+"px"})})};n.fn.shiftHalfHorizontally=function(){return n(this).each(function(){var t=n(this).outerWidth()/2;n(this).css({"margin-left":0-t+"px"})})};n.fn.makeCentered=function(t){return t=n.extend({horizontally:!0,vertically:!0,preComputedSize:undefined,skipPositionCheck:!1},t),n(this).each(function(){var i=n(this),u,f,r;t.skipPositionCheck||i.css("position")!=="fixed"&&i.css({position:"absolute"});r=t.preComputedSize;r?(u=r.width,f=r.height):(u=i.outerWidth(),f=i.outerHeight());t.horizontally&&i.css({left:"50%","margin-left":0-u/2+"px"});t.vertically&&i.css({top:"50%","margin-top":0-f/2+"px"})})};n.fn.makeCenteredVertically=function(t){return t=n.extend({bottom:!0,top:!1,margin:0},t),n(this).each(function(){n(this).css({position:"absolute"});t.top?n(this).css({top:"50%","margin-top":0+t.margin}):t.bottom&&n(this).css({top:"50%","margin-top":0-n(this).outerHeight()-t.margin+"px"})})};n.fn.makePositioned=function(){var n=this.css("position");return n!="absolute"&&n!="fixed"&&this.css("position","relative"),this};n.relativePosition=function(n,t,i){return{left:n.left+t,top:n.top+i}};var r=0;n.calculateInnerBorderRadius=function(n,t,i){var u=Math.max(0,i-n-r),f=Math.max(0,i-t-r);return u===f?u+"px":"{0}px {1}px".format(u,f)};n.updateInnerBorderRadius=function(t,i,r){i=n.extend({topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},i);r=n.extend({left:0,right:0,top:0,bottom:0},r);t&&t.css({borderRadiusTopLeft:n.calculateInnerBorderRadius(r.left,r.top,i.topLeft),borderRadiusTopRight:n.calculateInnerBorderRadius(r.right,r.top,i.topRight),borderRadiusBottomLeft:n.calculateInnerBorderRadius(r.left,r.bottom,i.bottomLeft),borderRadiusBottomRight:n.calculateInnerBorderRadius(r.right,r.bottom,i.bottomRight)})};n.borderRadiusEqualityComparer=n.createFieldsEqualityComparer(["bottomRight","topRight","topLeft","bottomLeft"]);n.borderWidthEqualityComparer=n.createFieldsEqualityComparer(["top","right","left","bottom"])})(jQuery),function(n){function r(t,i){for(var f,r,u=0;u<t.length;u++)f=t[u],r=f.relativeTo,r?(n.isFunction(r)&&(r=r()),n.isJQueryObject(r)&&(r=r.getOuterArea()),f.relativeArea=r):f.relativeArea=i}function u(n,t){return t?n.clone().orderByDesc(function(n){var i=t(n.side,n.alignTo);return i===!0?1:i===!1?0:i}):n}function f(t,i,r,u){var e,f,s,h,o;for(r=r.clone(),r.length>1&&r.push(r[0]),e=!1,s=0;s<r.length&&!e;s++)f=r[s],h=f.usageCallback,i===Orientation.Horizontal?t.alignHorizontally(f.relativeArea,f):t.alignVertically(f.relativeArea,f),u?(o=n.extend({},u),i===Orientation.Horizontal?(o.top=-Infinity,o.bottom=Infinity):(o.left=-Infinity,o.right=Infinity),n.containsArea(o,t.getOuterArea())&&(e=!0,h({$element:t,isPositioned:e,positioningArea:u,relativeArea:f.relativeArea}))):(e=!0,h({$element:t,isPositioned:e,positioningArea:u,relativeArea:f.relativeArea}));return e||f.usageCallback({$element:t,isPositioned:e,positioningArea:u,relativeArea:f.relativeArea}),u&&t.positionInArea(u,{horizontally:i===Orientation.Horizontal,vertically:i===Orientation.Vertical}),f}function t(n){switch(n){case Side.Bottom:return Side.Top;case Side.Top:return Side.Bottom;case Side.Left:return Side.Right;case Side.Right:return Side.Left;default:return n}}var i=Class.extend("PositioningFunction",{init:function(n){this._horizontalAlignments=[];this._verticalAlignments=[];this._beforePositioning=[];this._afterPositioning=[];this._positioningArea=n},position:function(t,i,e){var o,s,h,c;for(this._allRelativeTo&&(i=this._allRelativeTo),n.isFunction(i)&&(i=i()),n.isJQueryObject(i)&&(i=i.getOuterArea()),s=this._positioningArea,n.isFunction(s)&&(s=s()),o=0;o<this._beforePositioning.length;o++)this._beforePositioning[o].call(t,i,s);for(r(this._horizontalAlignments,i),r(this._verticalAlignments,i),this._horizontalAlignments.length>0&&(h=f(t,Orientation.Horizontal,u(this._horizontalAlignments,this._preferHorizontally),s)),this._verticalAlignments.length>0&&(c=f(t,Orientation.Vertical,u(this._verticalAlignments,this._preferVertically),s)),o=0;o<this._afterPositioning.length;o++)this._afterPositioning[o].call(t,e,{horizontalAlignment:h,verticalAlignment:c})},alignHorizontally:function(i,r,u){return u=n.quickExtend({distance:0,relativeTo:undefined,usageCallback:n.noop,mirrorOnOverflow:!1,horizontalAnchor:"left"},u),this._horizontalAlignments.push({side:i,alignTo:r,distance:u.distance,usageCallback:u.usageCallback,relativeTo:u.relativeTo,horizontalAnchor:u.horizontalAnchor}),u.mirrorOnOverflow&&this._horizontalAlignments.push({side:t(i),alignTo:t(r),distance:u.distance,relativeTo:u.relativeTo,usageCallback:u.usageCallback,horizontalAnchor:u.horizontalAnchor}),this},alignVertically:function(i,r,u){return u=n.quickExtend({distance:0,relativeTo:undefined,usageCallback:n.noop,mirrorOnOverflow:!1,verticalAnchor:"top"},u),this._verticalAlignments.push({side:i,alignTo:r,distance:u.distance,usageCallback:u.usageCallback,relativeTo:u.relativeTo,verticalAnchor:u.verticalAnchor}),u.mirrorOnOverflow&&this._verticalAlignments.push({side:t(i),alignTo:t(r),distance:u.distance,relativeTo:u.relativeTo,usageCallback:u.usageCallback,verticalAnchor:u.verticalAnchor}),this},allRelativeTo:function(n){return this._allRelativeTo=n,this},afterPositioning:function(t){return n.merge(this._afterPositioning,n.asArray(t)),this},beforePositioning:function(t){return n.merge(this._beforePositioning,n.asArray(t)),this},preferHorizontally:function(n){return this._preferHorizontally=n,this},preferVertically:function(n){return this._preferVertically=n,this}});n.usePositioningFunction=function(n,t,r,u){n instanceof i?n.position(t,r,u):n(t,r,u)};n.buildPositioningFunction=function(t){return t==="window"&&(t=n.getWindowArea),new i(t)};n.fn.alignHorizontally=function(t,i){var u;i=n.extend({side:Side.Left,alignTo:Side.Right,distance:0,horizontalAnchor:"left",verticalAnchor:"top"},i);var o=i.side,f=i.distance,s=i.alignTo,h=i.horizontalAnchor,c=i.verticalAnchor,e=this,r;switch(s){case Side.Left:r=t.left;break;case Side.Right:r=t.right;break;case Side.Center:r=t.center.left}u={};switch(o){case Side.Left:u.left=r+f;break;case Side.Right:u.right=r-f;break;case Side.Center:u.horizontalCenter=r+f}return e.setOffset(u,{horizontalAnchor:h,verticalAnchor:c}),e};n.fn.alignVertically=function(t,i){var u;i=n.extend({side:Side.Top,alignTo:Side.Bottom,distance:0,horizontalAnchor:"left",verticalAnchor:"top"},i);var o=i.side,f=i.distance,s=i.alignTo,h=i.horizontalAnchor,c=i.verticalAnchor,e=this,r;switch(s){case Side.Top:r=t.top;break;case Side.Bottom:r=t.bottom;break;case Side.Center:r=t.center.top}u={};switch(o){case Side.Top:u.top=r+f;break;case Side.Bottom:u.bottom=r-f;break;case Side.Center:u.verticalCenter=r+f}return e.setOffset(u,{horizontalAnchor:h,verticalAnchor:c}),e}}(jQuery);var PrimitiveValues={Auto:"auto",Inherit:"inherit"},ComparisonCondition={All:1,Any:2},MobileViewPortWidth=360,RoutingActions={Route:"page",Redirect:"redirect",RedirectPermanent:"permanent",RedirectToPage:"redirect-page",RedirectToPath:"redirect-path",RedirectPermanentToPage:"permanent-page",RedirectPermanentToPath:"permanent-path"},PredefinedFontSizes=[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72],RoutingDestination={HomePage:"home"},TemplateItemInstanceIdSeperator="-",CSSUnits={Pixels:"px",Percentages:"percentages",Normal:"normal",Inherit:"inherit"},ButtonTypes={ActionButton:"actionButton",ToggleButton:"toggleButton"},BindingType={TwoWay:1,FromTarget:2,FromSource:3},SliderTypes={PercentageSlider:1,ValuesSlider:2},ShadowTypes={DropShadow:1,InnerShadow:2,Glow:3,InnerGlow:4},Alignment={Top:1,Bottom:2,VerticalCenter:3,Left:4,Right:5,HorizontalCenter:6},VideoTypes={Youtube:0,Vimeo:1},HtmlTags={DIV:"DIV",SECTION:"SECTION",NAV:"NAV",ARTICLE:"ARTICLE",ASIDE:"ASIDE",HEADER:"HEADER",FOOTER:"FOOTER",HGROUP:"HGROUP",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6"},TextTypes={None:{value:"div",title:"Normal"},H1:{value:"H1",title:"Heading 1"},H2:{value:"H2",title:"Heading 2"},H3:{value:"H3",title:"Heading 3"},H4:{value:"H4",title:"Heading 4"},H5:{value:"H5",title:"Heading 5"},H6:{value:"H6",title:"Heading 6"}},LinkTypes={Web:"Web",Email:"Email",Pages:"Pages",Cell:"Cell",Asset:"Asset",None:"None"},TextDirection={RightToLeft:1,LeftToRight:2},VisibilityOptions={Visible:"Visible",Hidden:"Hidden",Default:"Default"},VerticalAlignment={Top:"top",Centered:"center",Bottom:"bottom",None:"none"},ElementDisplay={Block:"block",Fixed:"fixed"},HorizontalAlignment={Left:"left",Centered:"center",Right:"right",None:"none"},VerticalAlignmentToCss={top:"top",center:"middle",bottom:"bottom",none:"none"},CssVerticalAlignment={Top:"top",Middle:"middle",Bottom:"bottom",None:"none"},CssHorizontalAlignment={Left:"left",Center:"center",Right:"right",None:"none"},Orientation={Vertical:"vertical",Horizontal:"horizontal",Both:"both"},MouseButton={Left:1,Middle:2,Right:3},Position={Top:1,Bottom:2,Left:3,Right:4,Center:5},HorizontalDocking={Left:1,Right:2,Stretched:3,Centered:4,None:5},VerticalDocking={Top:1,Bottom:2,Stretched:3,Centered:4,None:5},Side={Top:1,Bottom:2,Left:3,Right:4,Center:5},ColorSpace={RGB:1,HSL:2},ColorSpaceComponent={R:1,G:2,B:3,H:4,S:5,L:6},RelativePositions={Below:"below",Above:"above",BeyondLeft:"beyond-left",BeyondRight:"beyond-right"},CalloutPositions={Below:"below",Above:"above",BelowLeft:"below-left",BelowRight:"below-right",AboveLeft:"above-left",AboveRight:"above-right",Right:"right",Left:"left"},LayoutOrder={Before:1,After:2},Speed={None:0,VerySlow:4e3,Slow:2400,Normal:1500,Fast:900,VeryFast:400},FlagsStates={AllTrue:1,AllFalse:2,SomeTrue:3,SomeFalse:4},StatesTypes={Enabling:0,Displaying:1,Visibility:2,Custom:3},SavedVersionType={Normal:0,Published:1,AutoSaved:2},SiteType={WebSite:0,Mobile:0,All:2},N
avigationDirection={Forward:1,Backward:-1},FormFieldsTypes={Unknown:0,ShortText:1,LongText:2,Email:3,Date:4,Url:5},ElementsRoot=1,FacebookFonts={arial:{title:"arial"},"lucida grande":{title:"lucida grande"},"segoe ui":{title:"segoe ui"},tahoma:{title:"tahoma"},"trebuchet ms":{title:"trebuchet ms"},verdana:{title:"verdana"}},FacebookLayouts={standard:{value:"standard",title:"standard"},"button count":{value:"button_count",title:"Button Count"},"box count":{value:"box_count",title:"Box Count"}},FacebookSize={standard:{value:"small",title:"Small"},"button count":{value:"large",title:"Large"}},KeyCodes={ESC:27,Enter:13,Ctrl:17,Shift:16,Space:32,Delete:46,Left:37,Up:38,Right:39,Down:40,Insert:45,Tab:9,BackSpace:8,Comma:188},Brands={Webzai:1,Sitelio:2,WebsiteBuilder:3,Stagey:4,Sitey:5,SiteBuilder:6},AnimationSpeed={NoAnimation:{title:"No Animation",value:0,iconClass:"font-icon icon-transition-none icon-size-20"},Slow:{title:"Slow",value:800,iconClass:"font-icon icon-transition-slow icon-size-20"},Normal:{title:"Normal",value:400,iconClass:"font-icon icon-transition-normal icon-size-20"},Fast:{title:"Fast",value:200,iconClass:"font-icon icon-transition-fast icon-size-20"}};(function(){function n(){for(var n=65;n<=90;n++)KeyCodes[String.fromCharCode(n)]=n;for(n=0;n<=9;n++)KeyCodes["NUM"+n]=48+n;for(n=1;n<=12;n++)KeyCodes["F"+n]=111+n}n()})(),function(n){var t={};n.unScheduleOperation=function(n){n!==undefined&&window.clearInterval(n)};n.scheduleOperation=function(n,t){var i=window.setInterval(function(){n();window.clearInterval(i)},t);return i};n.scheduleNamedOperation=function(i,r,u){t[i]=n.scheduleOperation(r,u)};n.unScheduleNamedOperation=function(i){var r=t[i];r!==undefined&&(n.unScheduleOperation(r),delete t[i])};n.enqueueOperation=function(t,i,r){n(document).enqueueOperation(t,i,r)};n.fn.enqueueOperation=function(t,i,r){n(this).data("enqueued-operations")==undefined&&n(this).data("enqueued-operations",[]);var u=n(this).data("enqueued-operations");u[t]===undefined&&n.beginInvoke(function(){u[t].operation.call(u[t].args);u[t]=undefined});u[t]={operation:i,args:r}};n.createDelayedFunction=function(n){var t={original:n,delayedCall:null,delayedFunction:function(){t.delayedCall={self:this,arguments:arguments};window.setTimeout(function(){t.invokeDelayed()},0)},invokeDelayed:function(){if(t.delayedCall){var n=t.delayedCall;t.delayedCall=null;t.original.apply(n.self,n.arguments)}}};return t};n.delayEventHandler=function(n){var t=null;return function(i){var r=this;t=i;window.setTimeout(function(){if(t){var i=t;t=null;n.call(r,i)}},0)}}}(jQuery),function(n){n.fn.getScrollableController=function(){return n(this).data("widget-scrollable")};var t=window.ScrollableController=Class.extend("ScrollableController",{init:function(t,i){var r=this,u;this._scrollTrackingEnabled=!0;u=DeferredObject.create(function(){return StyleListener.create(t,{properties:["scrollHeight","scrollWidth","height","width"],minInterval:100,callback:function(){r.refresh()}})});this._autoRefresh=ObservableFlag.create(!1,{valueChangeCallback:function(n){var t=u.get(),i;n?(t.activate(),i=t.checkForChanges(),i||r.refresh()):(t.deactivate(),r.refresh())}});this._data={mouseMoveScrollingActive:!1};this.id=n.uniqueID();this.$element=t;this.isEnabled=!0;this.refreshedEvent=SimpleEvent.create();this.scrollingEvent=SimpleEvent.create();this.scrollingStartEvent=SimpleEvent.create();this.scrollingStopEvent=SimpleEvent.create();this.viewportChangedEvent=SimpleEvent.create();this.isIFrame=t.is("iframe");this.scrolledItems=n([]);this.currentItem=undefined;this.scrollingAnimations=0;this.options=n.extend({},{scrollableContainer:t,useMouseScrolling:!0,scrolledItemsFilter:"*",orientation:"vertical",supportItemsScrolling:!1,animateScrolling:!1,getMaxScrollHeight:undefined,getMaxScrollWidth:undefined,getScrolledContetWidth:undefined,sensitivity:50},i)},toggleScrollTracking:function(n){this._scrollTrackingEnabled=n},setOptions:function(t){n.extend(this.options,t);this.refresh()},toggleAutoRefresh:function(n){return this._autoRefresh.setValue(n),this},startMouseMoveScrolling:function(t){var r,i;(t=n.extend({cacheScrollableArea:!0,sensitivity:50,distance:20,scrollingCallback:n.noop},t),this._data.mouseMoveScrollingActive)||(this._data.mouseMoveScrollingActive=!0,r=undefined,t.cacheScrollableArea&&(r=this.$element.getArea()),i=this,n(document).bind("mousemove.moveScrolling"+this.id,function(u){var e=n.getMouseOffset(u),f=r;f||(f=i.$element.getArea());switch(i.options.orientation){case Orientation.Vertical:e.top-f.top<t.sensitivity?(i.$element.scrollTop(i.$element.scrollTop()-t.distance),t.scrollingCallback()):f.bottom-e.top<t.sensitivity&&(i.$element.scrollTop(i.$element.scrollTop()+t.distance),t.scrollingCallback())}}))},stopMouseMoveScrolling:function(){this._data.mouseMoveScrollingActive&&(this._data.mouseMoveScrollingActive=!1,n(document).unbind("mousemove.moveScrolling"+this.id))},_refreshScrolledItemsData:function(){var t=this,i;if(t.options.supportItemsScrolling){var f=!1,e=t.$element.offset(),o=t.$element.scrollTop(),s=t.$element.scrollLeft(),u=[],r;for(t.scrolledItems=t.$element.children(t.options.scrolledItemsFilter).each(function(){var r=n(this).offset(),i={left:r.left-e.left+s,top:r.top-e.top+o},h={$element:n(this),position:i};f||(t.options.orientation==="vertical"&&i.top>=o||t.options.orientation==="horizontal"&&i.left>=s)&&(t.currentItem=h,f=!0);u.push(h)}),i=0;i<u.length;i++)r=u[i],r.index=i,r.$element.data("scrollable-item",r)}},refresh:function(){return this._refreshScrolledItemsData(),this.refreshedEvent.fireNew(),this},scroll:function(n,t,i,r){t===undefined&&(t=!0);t?this.scrollToOffset(this.getScrollOffset()+n,i,undefined,r):this.scrollToOffset(n,i,undefined,r)},getScrollOffset:function(t){t=n.valueOrDefault(t,this.options.orientation);var i=this.$element;return i.is("iframe")&&(i=n(i[0].contentWindow)),t==="vertical"?i.scrollTop():i.scrollLeft()},scrollToOffset:function(t,i,r,u){var f=this,e,s,c;i===undefined&&(i=!1);e=f.$element;s=!1;e.is("iframe")&&(i=!1,s=!0);var h=n.valueOrDefault(u,f.options.orientation)==="vertical",l=f.getMaxScrollOffset(u),o=Math.min(l,t);f.animationTarget=o;f.$element.stop("scrolling",!0);i?(f.scrollingAnimations++,c=h?{scrollTop:o}:{scrollLeft:o},f.scrollingStartEvent.fireNew(),f.$element.animate(c,{duration:"fast",queue:"scrolling",complete:function(){f.scrollingAnimations--;f.animationTarget=undefined;r!==undefined&&r();f.scrollingAnimations===0&&f.scrollingStopEvent.fireNew();f.viewportChangedEvent.fireNew();f.scrollingEvent.fireNew()},step:function(){f.viewportChangedEvent.fireNew()}}).dequeue("scrolling")):(h?s?e[0].contentWindow.scrollTo(n(e[0].contentWindow).scrollLeft(),o):e.scrollTop(o):s?e[0].contentWindow.scrollTo(o,n(e[0].contentWindow).scrollTop()):e.scrollLeft(o),f.viewportChangedEvent.fireNew(),r!==undefined&&r(),f.scrollingStopEvent.fireNew())},canScrollVertically:function(){return this.getMaxScrollOffset(Orientation.Vertical)>0},getMaxScrollOffset:function(t){var i=this;return t=n.valueOrDefault(t,i.options.orientation),t==="vertical"?i.options.getMaxScrollHeight?i.options.getMaxScrollHeight():i.$element.getMaxScrollHeight():i.options.getMaxScrollWidth?i.options.getMaxScrollWidth():i.options.getScrolledContetWidth?i.options.getScrolledContetWidth()-i.$element.outerWidth():i.$element.getMaxScrollWidth()},getMaxScrolledItemIndex:function(){var t=this,r=t.getMaxScrollOffset(),i=t.scrolledItems.length-1;return t.scrolledItems.each(function(){var u=n(this).data("scrollable-item");return t.options.orientation==="vertical"&&u.position.top>=r?(i=u.index,!1):t.options.orientation==="horizontal"&&u.position.left>=r?(i=u.index,!1):void 0}),i},_getScrollableItemData:function(t){var r=this,i=undefined;return i=isFinite(t)&&t<r.scrolledItems.length?n(r.scrolledItems[t]):n(t),i!==undefined?i.data("scrollable-item"):undefined},scrollToItem:function(n,t,i){var r=this,u=r._getScrollableItemData(n);u!==undefined&&(r.options.orientation==="vertical"?r.scrollToOffset(u.position.top,t,i):r.scrollToOffset(u.position.left,t,i),r.currentItem=u)},getItemAtOffset:function(t){var r=this,i=undefined;return r.scrolledItems.each(function(){return i=n(this).data("scrollable-item"),r.options.orientation==="vertical"&&i.position.top>=t||r.options.orientation==="horizontal"&&i.position.left>=t?!1:void 0}),i},disable:function(){this.$element.is("iframe")||this.$element.css({overflow:""});this._mouseWheelController&&this._mouseWheelController.disable();this.isEnabled=!1},enable:function(){this.$element.is("iframe")||this.$element.css({overflow:"hidden"});this._mouseWheelController&&this._mouseWheelController.enable();this.isEnabled=!0},bringToViewport:function(n){var t=this.$element;if(n.parents().filter(t)){var i=t.getArea(),r=n.getOuterArea(),u=this.options.orientation;u===Orientation.Vertical&&(r.top<i.top?t.scrollTop(t.scrollTop()+(r.top-i.top)):r.bottom>i.bottom&&t.scrollTop(t.scrollTop()+(r.bottom-i.bottom)),this.refresh())}},getCurrentItem:function(){return this.currentItem!==undefined?this.currentItem:(this.currentItem=this.getItemAtOffset(this.getScrollOffset()),this.currentItem)},_trackScrolling:function(n){var t=this;n.bind("scroll",function(){t._scrollTrackingEnabled&&(t.currentItem=undefined,t.scrollingEvent.fireNew())})}});n.fn.scrollable=function(i){var u,o,f,r,e;if(typeof i=="string"){for(o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];switch(i){case"currentItem":return n(this[0]).data("widget-scrollable").getCurrentItem();case"options":if(u.length===1)return n(this[0]).data("widget-scrollable").options;break;case"scrollOffset":return n(this[0]).data("widget-scrollable").getScrollOffset(u[1]);case"maxScrolledItemIndex":return n(this[0]).data("widget-scrollable").getMaxScrolledItemIndex();case"maxScrollOffset":return n(this[0]).data("widget-scrollable").getMaxScrollOffset(u[1])}}if(r=this.data("widget-scrollable"),r===undefined&&(r=new t(n(this),i),this.data("widget-scrollable",r),r.isIFrame?(e=r.$element[0],e.contentWindow.document.body?r._trackScrolling(n(e.contentWindow)):n(e).load(function(){r._trackScrolling(n(e.contentWindow))})):(r.$element.css({overflow:"hidden"}),r._trackScrolling(r.$element)),r.options.useMouseScrolling&&(r._mouseWheelController=r.options.scrollableContainer.setMouseWheelScrolling(r)),r._refreshScrolledItemsData()),n.isPlainObject(i))n.extend(r.options,i);else if(typeof i=="string")switch(i){case"refresh":r.refresh();break;case"scrollToItem":r.scrollToItem(u[1],u[2],u[3]);break;case"scrollToOffset":r.scrollToOffset(u[1],u[2],u[3],u[4]);break;case"scroll":r.scroll(u[1]);break;case"disable":r.disable();break;case"enable":r.enable();break;case"options":u.length>1&&n.extend(r.options,u[1])}return r};n.fn.getMaxScrollHeight=function(){return this.is("iframe")?n(this[0].contentWindow.document.body)[0].scrollHeight-n(this).height():this[0]===document?this[0].body.scrollHeight-n(window).height():this.is("body")?this[0].scrollHeight-n(window).height():n(this)[0].scrollHeight-n(this).height()};n.fn.getMaxScrollWidth=function(){return this.is("iframe")?n(this[0].contentWindow.document.body)[0].scrollWidth-n(this).height():n(this).getScrollWidth()-n(this).width()};n.fn.getScrollWidth=function(){var t=n(this).data("customScrollWidth");return t!==undefined?n.evaluateWhenFunction(t):n(this)[0].scrollWidth};n.fn.getScrollHeight=function(){return n(this)[0].scrollHeight};n.fn.setCustomScrollWidth=function(t){return n(this).data("customScrollWidth",t)};n.fn.setMoveScrolling=function(t,i){var u;i=n.extend({enableVerticalScrolling:!0,enableHorizontalScrolling:!0,sensitivity:1},i);var r=this,e=r.preventBrowserBehaviour(),f=r.data("moveScrolling");return f&&f.clear(),r.bind("mousedown.initmovescrolling touchstart.initmovescrolling",function(r){var u=n.getMouseOffset(r),f=t.getScrollOffset(Orientation.Vertical),e=t.getScrollOffset(Orientation.Horizontal);n(document).bind("mousemove.movescrolling touchmove.movescrolling",function(r){var o=n.getMouseOffset(r),s=o.left-u.left,h=o.top-u.top;i.enableHorizontalScrolling&&t.scrollToOffset(e-s*i.sensitivity,!1,undefined,Orientation.Horizontal);i.enableVerticalScrolling&&t.scrollToOffset(f-h*i.sensitivity,!1,undefined,Orientation.Vertical)}).one("mouseup.movescrolling touchend.movescrolling",function(){n(document).unbind(".movescrolling")})}),u={clear:function(){r.unbind(".initmovescrolling");n(document).unbind(".movescrolling");e.clear()}},r.data("moveScrolling",u),u};n.fn.setMouseWheelScrolling=function(t){function e(n,t){if(i){var r=i.options.orientation==="vertical"&&i.$element.getMaxScrollHeight()>0||i.options.orientation==="horizontal"&&i.$element.getMaxScrollWidth()>0;return r?(i.scroll(0-t*i.options.sensitivity,!0,i.options.animateScrolling),n.preventDefault(),n.returnValue=!1,!1):undefined}}var f=n(this),r={},i=t,u=!1;return n.extend(r,{setTarget:function(n){i=n},disable:function(){u&&(u=!1,f.unbind("mousewheel.scrolling"))},enable:function(){u||(u=!0,f.bind("mousewheel.scrolling",function(t,r){var u=i.options.orientation==="vertical";if((!u||!(n(t.target).closest(".vertically-scrollable").length>0))&&!(n(t.target).closest(".horizontally-scrollable").length>0))return e(t,r)}))},toggleEnable:function(n){n?r.enable():r.disable()}}),r.enable(),r}}(jQuery),function(){String.prototype.format=function(){var r=arguments.length,t,u,f,i,n;if(r===1&&$.isPlainObject(arguments[0])){t=this;u=arguments[0];for(f in u)t=t.replace(new RegExp("{"+f+"}","g"),$.valueOrDefault(u[f],""));return t}for(i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return this.replace(/{(\d+)}/g,function(n,t){return typeof i[t]!="undefined"?i[t]:n})}}(),function(n){n.isEmptyOrWhitespace=function(t){return t?n.trim(t)==="":!0};n.removeTags=function(t,i){return(i=n.asArray(i),i.length===0)?t:t.replace(new RegExp("<[//]{0,1}("+i.join("|")+")[^><]*>","gi"),"")};n.toTitleCase=function(n){return n.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})};n.capitalizeFirstLetter=function(n){return n.replace(/^./,function(n){return n.toUpperCase()})};n.repeatStr=function(n,t){if(t<1)return"";for(var i="";t>0;)t&1&&(i+=n),t>>=1,n+=n;return i};n.trimPrefix=function(t,i,r,u){r=n.valueOrDefault(r,!1);var f=u?n.trim(t):t,e=f.substring(0,i.length);return e===i||r&&e.toLowerCase()===i.toLowerCase()?f.substring(i.length):t};n.trimSuffix=function(n,t){var i=n.substring(n.length-t.length);return i===t?n.substring(0,n.length-t.length):n};n.getPrefix=function(n,t){var i=n.indexOf(t);return i<0?n:n.substring(0,i)};n.substringFrom=function(n,t){var i=n.indexOf(t);return i<0?"":n.substring(i)};n.substringAfter=function(n,t){var i=n.indexOf(t);return i<0?"":n.substring(i+t.length)};n.substringAfterLast=function(n,t){var i=n.lastIndexOf(t);return i<0?"":n.substring(i+t.length)};n.dictionaryToString=function(t,i,r){var u,f,e;r=n.valueOrDefault(r," ");u=new StringBuilder(r);for(f in t)e=t[f],u.append(i,f,e);return u.toString()};n.fn.formatHtml=function(t){for(var r,i=0;i<this.length;i++)r=n(this[i]),r.html(r.html().format(t));return this}}(jQuery);StringBuilder=Class.extend("StringBuilder",{init:function(n,t){this._indentation=0;this._strArr=[];this._indentationString=t?t.indentationString:!1;this._separator=n!==undefined?n:""},conditionalAppend:function(n,t,i){return n?this.append(t):i&&this.append(i),this},append:function(n){var u=this._strArr,t,r,i;if(n!==undefined)if(t=arguments.length,t>1){for(t--,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i+1];u.push(n.format.apply(n,r))}else u.push(n);return this},appendLine:function(){var n=this,t=this._indentation,i=this._indentationString;return t&&n.append($.repeatStr(i,t)),n.append.apply(n,arguments).append("\n")},appendTo:function(n){n.append(this)},toString:function(){return this._strArr.join(this._separator)},increaseIndentation:function(){return this._indentationString&&this._indentation++,this},decreaseIndentation:function(){return this._indentationString&&(this._indentation=Math.max(0,this._indentation-1)),this}}),function(n){function t(t){var i={width:n(t).css("width"),"font-size":n(t).css("font-size"),"font-family":n(t).css("font-family"),"font-weight":n(t).css("font-weight"),"white-space":n(t).css("white-space"),position:"absolute"};return n("<div><\/div>").css(i).appendTo("body").wrapText()}n.fn.copyTextStyle=function(t){var i={"font-size":t.css("font-size"),"font-family":t.css("font-family"),"font-weight":t.css("font-weight"),"white-space":t.css("white-space"),"word-spacing":t.css("word-spacing"),"line-height":t.css("line-height")};return n(this).css(i)};n.fn.measureText=function(t,i){i===undefined&&(i=!0);var u={width:i?n(this).css("width"):"auto","font-size":n(this).css("font-size"),"font-family":n(this).css("font-family"),"font-weight":n(this).css("font-weight"),"white-space":n(this).css("white-space"),"word-spacing":n(this).css("word-spacing"),"word-wrap":n(this).css("word-wrap"),"line-height":n(this).css("line-height"),position:"absolute"},r=n("<div><\/div>").css(u).html(t).appendTo(n(this).parent()).wrapText(),f=r.height(),e=r.width();return r.remove(),{height:f,width:e}};n.fn.trimText=function(i,r){var f,u,s,e,o;if(r=n.extend({formattingFunction:function(n){return n}},r),f=n(this).height(),u=t(this).css({height:f,overflow:"hidden"}),u.html(r.formattingFunction(i)),u[0].scrollHeight<=f)n(this).html(r.formattingFunction(i));else{for(u.html(""),s="",e="",o=0;o<i.length&&u[0].scrollHeight<=f;o++)s=e,e+=i[o],u.html(r.formattingFunction(e+"..."));n(this).html(r.formattingFunction(s+"..."))}return u.remove(),n(this)};n.fn.wrapText=function(){return n(this).css("word-wrap","break-word")};n.fn.selectRange=function(t,i){if(n.isPlainObject(t)){var r=n.quickExtend({},t);t=r.start;i=r.end}return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(t,i);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0);n.moveEnd("character",i);n.moveStart("character",t);n.select()}})};n.fn.getSelectionRange=function(){var n=this[0],t,i;if(n.setSelectionRange)return{start:n.selectionStart,end:n.selectionEnd};n.focus();t=document.selection.createRange();i=t.text.length;t.moveStart("character",-n.value.length);var u=t.text.length,r=u-i,f=r+i;return{start:r,end:f}}}(jQuery);
/*! Build-0.6: color.core.js color.rgb.js color.huebased.js color.hsv.js color.hsl.js color.object.js color.parse.js color.related.js color.palette.css3.js color.css.js */
/*!
 * jQuery Colour 0.6
 *
 * Copyright (c) 2009 Adaptavist.com
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * Author: Mark Gibson (jollytoad at gmail dot com)
 *
 * http://www.adaptavist.com/display/jQuery/Colour+Library
 */
jQuery.color||function(n){n.color={isEqual:function(n,t){if(n.length!==t.length)return!1;for(var i=n.length;i--;)if(n[i]!==t[i])return!1;return!0},fix:function(n,t){for(var i=t.length;i--;)if(typeof n[i]=="number")switch(t.charAt(i)){case"i":n[i]=Math.round(n[i]);break;case"o":n[i]=Math.min(255,Math.max(0,Math.round(n[i])));break;case"1":n[i]=Math.min(1,Math.max(0,n[i]))}return n},self:function(n){return n},alpha:function(n){return n===undefined?1:n},palette:{},fns:[]}}(jQuery);jQuery.color&&function(n){n.color.RGB={fix:function(t){return n.color.fix(t,"ooo1")},toRGB:n.color.self,toHEX:function(n){return"#"+(16777216+n[0]*65536+n[1]*256+n[2]).toString(16).slice(-6)},toCSS:function(t,i){return!i&&n.color.alpha(t[3])===0?"transparent":n.color.alpha(t[3])<1?"rgba("+t.join(",")+")":"rgb("+Array.prototype.slice.call(t,0,3).join(",")+")"},red:function(n){return n[0]},green:function(n){return n[1]},blue:function(n){return n[2]},alpha:function(t){return n.color.alpha(t[3])}};n.color.RGB.toString=n.color.RGB.toHEX;n.color.fns.push("RGB.toRGB","RGB.toHEX","RGB.toCSS","RGB.red","RGB.green","RGB.blue","RGB.alpha")}(jQuery);jQuery.color&&function(n){n.color.HueBased={fix:function(t){return t[0]=(t[0]+1)%1,n.color.fix(t,"1111")},complementary:function(n,t){return[(n[0]+.5+(t||0))%1,n[1],n[2],n[3]]},analogous:function(n,t){return[(n[0]+1+(t||0))%1,n[1],n[2],n[3]]},hue:function(n){return n[0]},alpha:function(t){return n.color.alpha(t[3])}}}(jQuery);jQuery.color&&function(n){n.color.HSV=n.extend({toHSV:n.color.self,toRGB:function(n){var o=n[0]*6,s=Math.floor(o),h=o-s,u=n[1],t=n[2]*255,i=n[3],r=Math.round(t*(1-u)),f=Math.round(t*(1-h*u)),e=Math.round(t*(1-(1-h)*u));t=Math.round(t);switch(s%6){case 0:return[t,e,r,i];case 1:return[f,t,r,i];case 2:return[r,t,e,i];case 3:return[r,f,t,i];case 4:return[e,r,t,i];case 5:return[t,r,f,i]}},saturationV:function(n){return n[1]},value:function(n){return n[2]}},n.color.HueBased);n.color.RGB.toHSV=function(n){var f=n[0]/255,i=n[1]/255,r=n[2]/255,e=Math.min(f,i,r),u=Math.max(f,i,r),t=u-e;return[t===0?0:(i===u?(r-f)/t/6+1/3:r===u?(f-i)/t/6+2/3:(i-r)/t/6+1)%1,t===0?0:t/u,u,n[3]]};n.color.fns.push("HSV.toHSV","HSV.toRGB","RGB.toHSV","HSV.complementary","HSV.analogous","HSV.hue","HSV.saturationV","HSV.value","HSV.alpha")}(jQuery);jQuery.color&&function(n){n.color.HSL=n.extend({toHSL:n.color.self,toRGB:function(n){function e(n){var t=n<0?n+1:n>1?n-1:n;return t<1/6?i+(r-i)*6*t:t<1/2?r:t<2/3?i+(r-i)*6*(2/3-t):i}var u=n[0],f=n[1],t=n[2],r=t<.5?t*(1+f):t+f-t*f,i=2*t-r;return[Math.round(255*e(u+1/3)),Math.round(255*e(u)),Math.round(255*e(u-1/3)),n[3]]},saturationL:function(n){return n[1]},lightness:function(n){return n[2]}},n.color.HueBased);n.color.RGB.toHSL=function(n){var f=n[0]/255,i=n[1]/255,r=n[2]/255,e=Math.min(f,i,r),u=Math.max(f,i,r),t=u-e,o=u+e;return[t===0?0:(i===u?(r-f)/t/6+1/3:r===u?(f-i)/t/6+2/3:(i-r)/t/6+1)%1,t===0?0:o>1?t/(2-u-e):t/o,o/2,n[3]]};n.color.fns.push("HSL.toHSL","HSL.toRGB","RGB.toHSL","HSL.complementary","HSL.analogous","HSL.hue","HSL.saturationL","HSL.lightness","HSL.alpha")}(jQuery);jQuery.color&&jQuery.Color||function(n){function t(t,i){for(var u=n.Color.isInstance(t)&&t.space!==this.space?this.to(t.space):new n.Color(this),r=u.length,e=!1,f;r--;)typeof t[r]=="number"&&(f=i?u[r]+t[r]:t[r],f!==u[r]&&(u[r]=f,e=!0));return e?u.setName():this}function r(t,i,r,u,f){return function(){var o=[t],e;return Array.prototype.push.apply(o,arguments),e=r.apply(i,o),n.isArray(e)?new n.Color(e,u,f?t.name:undefined):e}}function u(t,i){var u=/^to/.test(i)?i.substring(2):!1;return function(){var t=this,e=t.util(),o,f;return e[i]||(t=t.to(n.Color.fnspace[i]),e=t.util()),o=r(t,e,e[i],u||t.space,!!u),f=o.apply(t,arguments),u?(this[i]=function(){return f},n.Color.isInstance(f)&&(t=this,f["to"+this.space]=function(){return t})):this[i]=o,f}}function i(){var i=this.split("."),t=i[1],r=i[0];n.Color.fnspace[t]||t==="to"+r||(n.Color.fnspace[t]=r);n.Color.fn[t]||(n.Color.fn[t]=u(this,t))}n.Color=function(t,i,r){if(typeof this=="function")return new n.Color(t,i,r);if(typeof t=="string"&&n.color.parse&&(r||(r=t),t=n.color.parse(t)),t&&t.length)for(var u=this.length=t.length;u--;)this[u]=t[u];t&&(this.space=i||t.space||"RGB",this.name=r||t.name)};n.Color.fn=n.Color.prototype={color:"0.6",util:function(){return n.color[this.space]},setAlpha:function(n){return this.length<4&&this.push(1),n!==undefined&&(this[3]=n),this},getAlpha:function(){return this[3]===undefined?1:this[3]},to:function(n){return this["to"+n]()},fix:function(){return this.util().fix(this)},modify:function(n){return t.call(this,n)},adjust:function(n){return t.call(this,n,!0)},setName:function(n){return this.name=n,this},toString:function(){if(!this.space)return"";var n=this.util();return n.hasOwnProperty("toString")?n.toString(this):this.to("RGB").toString()},join:[].join,push:[].push};n.Color.isInstance=function(t){return t&&typeof t=="object"&&t.color===n.Color.fn.color&&t.space};n.Color.fnspace={};n.each(n.color.fns,i);n.color.fns.push=function(){for(var t=arguments.length,n=0;n<t;n++)i.call(arguments[n]);return Array.prototype.push.apply(this,arguments)}}(jQuery);jQuery.color&&function(n){n.extend(n.color,{parse:function(t){var i;return typeof t=="string"?(i=/^\s*rgb(a)?\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*(?:,\s*([0-9]+(?:\.[0-9]+)?)\s*)?\)\s*$/.exec(t))&&!i[1]==!i[5]?[parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),i[5]?parseFloat(i[5]):1]:(i=/^\s*rgb(a)?\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*(?:,\s*([0-9]+(?:\.[0-9]+)?)\s*)?\)\s*$/.exec(t))&&!i[1]==!i[5]?[parseFloat(i[2])*255/100,parseFloat(i[3])*255/100,parseFloat(i[4])*255/100,i[5]?parseFloat(i[5]):1]:(i=/^\s*#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})\s*$/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1]:(i=/^\s*#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])\s*$/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1]:(i=/^\s*hsl(a)?\(\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*(?:,\s*([0-9]+(?:\.[0-9]+)?)\s*)?\)\s*$/.exec(t))&&!i[1]==!i[5]?[parseInt(i[2],10)/360,parseFloat(i[3])/100,parseFloat(i[4])/100,i[5]?parseFloat(i[5]):1]:n.color.named(t):t&&(t.length===3||t.length===4)?(t.length===3&&t.push(1),t):void 0},named:function(t){var i;return(t=n.trim(t.toLowerCase()),t==="transparent")?[0,0,0,0]:(n.each(n.color.palette,function(r,u){if(u[t])return i=n.merge([],u[t]),i.push(1),!1}),i)}})}(jQuery);jQuery.Color&&function(n){n.Color.fn.related=function(t){var i=n.Color.fn.related.i18n,r=t||n.Color.fn.related.offset,u=Math.round(r*360)+i.deg;return{"anal-":this.analogous(-r).setName(i.anal+" -"+u),anal0:this.analogous().setName(i.orig),"anal+":this.analogous(r).setName(i.anal+" +"+u),"comp-":this.complementary(-r).setName(i.split+" -"+u),comp0:this.complementary().setName(i.comp),"comp+":this.complementary(r).setName(i.split+" +"+u),"triad-":this.analogous(-1/3).setName(i.triad+" -120"+i.deg),triad0:this.analogous().setName(i.orig),"triad+":this.analogous(1/3).setName(i.triad+" +120"+i.deg)}};n.Color.fn.related.offset=30/360;n.Color.fn.related.i18n={deg:"",anal:"Analogous",orig:"Original",split:"Split Complementary",comp:"Complementary",triad:"Triadic"}}(jQuery);jQuery.color&&function(n){n.color.palette.css3={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}(jQuery),function(n){n.fn.cssColor=function(t){return n.Color(this.css(t))};n.Color.fn.applyCSS=function(t,i){return n(t).css(i,this.toCSS()),this}}(jQuery);var Effects=new function(){function u(n,t){var i=$.valueOrDefault(t.stop,$.noop);return $.extend(t,{stop:function(){i();n.removeData("effect-controller")}}),n.data("effect-controller",t),t}function f(n){var t=n.data("effect-controller");t&&t.stop()}function i(n,t){t=$.extend({mode:"show",direction:"left",easing:"linear",complete:$.noop},t);n.queue(function(){var i=n,h=["position","top","bottom","left","right"],f=t.mode,u=t.direction,s;$.effects.save(i,h);i.quickShow();var c=$.effects.createWrapper(i).css({overflow:"hidden"}),e=u=="up"||u=="down"?"top":"left",o=u=="up"||u=="left"?"pos":"neg",r=t.distance||(e=="top"?i.outerHeight(!0):i.outerWidth(!0));f=="show"&&i.css(e,o=="pos"?isNaN(r)?"-"+r:-r:r);s={};s[e]=(f=="show"?o=="pos"?"+=":"-=":o=="pos"?"-=":"+=")+r;i.animate(s,{queue:!1,duration:t.duration,easing:t.easing,always:function(){f=="hide"&&i.quickHide();$.effects.restore(i,h);$.effects.removeWrapper(i);c.remove();t.complete&&t.complete.apply(this,arguments);i.dequeue()}})})}function e(n,t){function l(){s||(s=!0,o&&o())}var o,r,c,s;t=$.extend({enableCssTransition:!1,easing:"linear",duration:200,complete:undefined,flyDirection:{vertical:Global.AnimationDirections.Up,horizontal:Global.AnimationDirections.Left}},t);o=t.complete;r=t.flyDirection;n.quickShow();var f=$.getWindowArea(),u=n.offset(),h=n.elementSize(),i={marginTop:0,marginLeft:0},e;Global.IsDesigner?e=0:(c=document.compatMode&&document.compatMode!="BackCompat"?document.documentElement:document.body,e=document.all?c.scrollTop:window.pageYOffset);r.vertical==="top"&&(i.marginTop=-u.top-h.height);r.vertical==="bottom"&&(i.marginTop=f.bottom+e-u.top>0?f.bottom+e-u.top:f.bottom);r.horizontal==="left"&&(i.marginLeft=-u.left-h.width);r.horizontal==="right"&&(i.marginLeft=f.right-u.left);n.stopCssAnimation({enableCssTransition:t.enableCssTransition});n.css(i);s=!1;i={marginTop:0,marginLeft:0};n.cssAnimate(i,{enableCssTransition:t.enableCssTransition,duration:t.duration,complete:function(){l()}})}function o(n,t){function h(){e||(e=!0,n.removeClass("fly-out-animation"),n.quickHide(),f&&f())}var f,i,e;t=$.extend({enableCssTransition:!1,easing:"linear",duration:200,flyDirection:{vertical:Global.AnimationDirections.Up,horizontal:Global.AnimationDirections.Left},complete:undefined},t);f=t.complete;i=t.flyDirection;n.quickShow();n.css({marginTop:0,marginLeft:0});var o=$.getWindowArea(),u=n.offset(),s=n.elementSize(),r={marginTop:0,marginLeft:0};i.vertical==="top"&&(r.marginTop=-u.top-s.height);i.vertical==="bottom"&&(r.marginTop=o.bottom-u.top);i.horizontal==="left"&&(r.marginLeft=-u.left-s.width);i.horizontal==="right"&&(r.marginLeft=o.right-u.left);n.stopCssAnimation({enableCssTransition:t.enableCssTransition});e=!1;n.addClass("fly-out-animation");n.cssAnimate(r,{enableCssTransition:t.enableCssTransition,duration:t.duration,complete:function(){h();n.css({marginTop:0,marginLeft:0})}})}function r(n,t){function e(){u||(u=!0,n.removeClass("fading-animation"),i==="hide"&&(n.quickHide(),n.css("opacity",1)),r&&r())}var r,i,u,f;t=$.extend({effect:"show",enableCssTransition:!1,easing:"linear",duration:200,complete:undefined},t);r=t.complete;i=t.effect;n.stopCssAnimation({enableCssTransition:t.enableCssTransition});i==="show"&&n.quickShow();u=!1;n.addClass("fading-animation");i==="show"&&n.css("opacity",0);f={opacity:i==="show"?1:0};n.cssAnimate(f,{enableCssTransition:t.enableCssTransition,duration:t.duration,complete:function(){e()}})}function s(n){var s=n.offset(),r=n.elementSize(),u=n.attr("style"),c=n.css("position"),t=n.css("display"),i,o;t||(t=h(n[0].tagName)?"inline-block":"block");var l=c==="absolute"?"absolute":"relative",f={position:l,display:t,"margin-left":n.css("marginLeft"),"margin-top":n.css("marginTop"),"margin-right":n.css("marginRight"),"margin-bottom":n.css("marginBottom"),float:n.css("float")},e=[];for(i in f)e.push(i+":"+f[i]+";");return n.wrap("<span style='{0}'><\/span>".format(e.join(" "))),n.css({position:"relative",left:0,top:0,bottom:"",right:"",width:r.width+"px",height:r.height+"px",marginLeft:0,marginTop:0,marginBottom:0,marginRight:0}).addClass("has-effect-wrapper"),o=n.parent().offset(s),{$element:o,remove:function(){n.removeClass("has-effect-wrapper");u?n.attr("style",u):n.removeAttr("style");n.unwrap()}}}function h(i){return t||(t=$.makeDictionaryFromKeys(n,!0)),!!n[i.toLowerCase()]}var n=["b","i","big","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var","u","a","bdo","br","img","map","object","q","script","span","sub","sup","button","input","label","select","textarea"],t={};this.shake=function(n,t){function w(){l||(l=!0,r=$([]),$.eachItem(p,function(n,t){t.remove()}),v&&v())}var l,i,a;f(n);t=$.extend({direction:"left",times:1,distance:20,easing:"linear",duration:200,complete:undefined},t);var e=t.distance,b=t.duration,k=t.easing,o=t.direction,c=t.times,v=t.complete,d=o=="up"||o=="down"?"top":"left",y=o=="up"||o=="left"?"pos":"neg",h=$.weakID("queue"),r=$([]),p=[];for(n.each(function(){var n=s($(this));r.pushElements(n.$element);p.push(n)}),l=!1,i=0;i<c+1;i++)a={},a[d]=i%2==0?(y=="pos"?"-=":"+=")+(i===0||i===c?e:e*2):(y=="pos"?"+=":"-=")+(i===c?e:e*2),r.animate(a,{duration:b,easing:k,queue:h});return r.queue(h,w).dequeue(h),u(n,{stop:function(){r.stop(h,!0,!0);w()}})};this.slideIn=function(n,t){t||(t={});t.mode="show";n.each(function(){i($(this),t)})};this.slideOut=function(n,t){t||(t={});t.mode="hide";n.each(function(){i($(this),t)})};this.flyIn=function(n,t){t||(t={});n.each(function(){e($(this),t)})};this.flyOut=function(n,t){t||(t={});n.each(function(){o($(this),t)})};this.fadeIn=function(n,t){t||(t={});t.effect="show";n.each(function(){r($(this),t)})};this.fadeOut=function(n,t){t||(t={});t.effect="hide";n.each(function(){r($(this),t)})}},SlideEffect=new function(){function r(n,t,i,r,u){var f={};$.each(t,function(t,i){parseInt(n.css(t))!==parseInt(i)&&(f[t]=i)});i?n.cssAnimate(f,{duration:r,complete:u}):(n.css(f),u&&u())}function f(n){n.stopCssAnimation()}var t,n,i,u=Initializer.create(function(){t=$('<div class="slide-effect-placeholder"><\/div>');n=$('<div class="slide-effect-element-wrapper"><\/div>');i=$('<div class="slide-effect-events-catcher-layer events-catcher"><\/div>')});this.animate=function(e,o){var c,a,l,v,w;o=$.quickExtend({direction:"up",pushContent:undefined,duration:undefined,animationCallback:$.noop,placeHolderSize:undefined,animate:!0,scrollingOffset:undefined},o);u.execute();var h=o.direction,k=o.duration,g=o.pushContent,nt=o.scrollingOffset,d=h=="up"||h=="down",s=o.distance||(d?e.outerHeight(!0):e.outerWidth(!0));t.outerSize(o.placeHolderSize);var b=ViewManager.getBodyElementContainer(),y=ViewManager.getBodyElementWrapper(),tt=y.attr("style"),p=ViewManager.getBodyElement(),it=p.attr("style");return y.addClass("slide-effect-body-wrapper"),b.addClass("slide-effect-body-container"),p.addClass("slide-effect"),p.css({top:-nt.top}),ViewManager.isDesignMode()&&DesignerManager.getDesignerPane().addClass("slide-effect-designer-pane"),c=y,g?(c=y,d?c.css({height:o.placeHolderSize.height}):c.css({width:o.placeHolderSize.width}),h=="up"?(l={top:s},v={top:0},a={top:"auto",bottom:"100%"}):h=="down"?(l={top:-s},v={top:0},a={top:"100%",bottom:"auto"}):h=="left"?(l={left:s},v={left:0},a={left:"auto",right:"100%"}):h=="right"&&(l={left:-s},v={left:0},a={left:"100%",right:"auto"})):(c=n,h=="up"?(l={top:0},v={top:-s},a={top:-s,bottom:"auto"}):h=="down"?(l={bottom:0},v={bottom:-s},a={top:"auto",bottom:-s}):h=="left"?(l={left:0},v={left:-s},a={left:-s,right:"auto"}):h=="right"&&(l={right:0},v={right:-s},a={left:"auto",right:-s})),n.css(a),c.addClass("slide-effect-animation"),e.appendTo(n),t.appendTo(b),i.appendTo(y),n.appendTo(y),r(c,l,o.animate,k,o.animationCallback),w={},$.extend(w,{isClosed:!1,close:function(u){if(!w.isClosed){u=$.quickExtend({animate:!0,closeCallback:$.noop,closingCallback:$.noop},u);w.isClosed=!0;var o=function(){u.closingCallback();t.detach();e.detach();n.detach();i.detach();p.setStyleAttr(it);p.removeClass("slide-effect");c.removeClass("slide-effect-animation");b.removeClass("slide-effect-body-container");y.removeClass("slide-effect-body-wrapper");y.setStyleAttr(tt);n.setStyleAttr();ViewManager.isDesignMode()&&DesignerManager.getDesignerPane().removeClass("slide-effect-designer-pane");u.closeCallback()};f(c,l);r(c,v,u.animate,k,o)}}}),w}},Animations={NoAnimation:{name:"NoAnimation",show:function(n,t){n.quickShow();t.complete()},hide:function(n,t){n.quickHide();t.complete()},title:"No Animation"},Fade:{name:"Fade",show:Effects.fadeIn,hide:Effects.fadeOut,title:"Fade"},Slide:{name:"Slide",show:Effects.slideIn,hide:Effects.slideOut,title:"Slide"},Fly:{name:"Fly",show:Effects.flyIn,hide:Effects.flyOut,title:"Fly"},DropDown:{show:function(n,t){n.slideDown(t.duration,t.complete)},hide:function(n,t){n.slideUp(t.duration,t.complete)}}};(function(n){n.fn.stopAnimations=function(){return this.hasClass("during-animation")&&this.stopCssAnimation(),this};n.fn.animateShow=function(t,i,r){i=n.quickExtend({complete:n.noop,duration:0},i);var u=this;return typeof t=="string"&&(t=Animations[t]),t.show===undefined&&(t=Animations.NoAnimation),u.stopAnimations(),u.addClass("during-animation"),t.show(u,n.extend(i,{complete:function(){u.removeClass("during-animation");r()}})),this};n.fn.animateHide=function(t,i,r){var u=this;return i=n.quickExtend({duration:0},i),typeof t=="string"&&(t=Animations[t]),t.hide===undefined&&(t=Animations.NoAnimation),u.stopAnimations(),u.addClass("during-animation"),t.hide(u,n.extend(i,{complete:function(){u.removeClass("during-animation");r()}})),this};n.fn.showOnHover=function(t,i){var r=n(this);i=n.extend({showingFunction:function(){n(this).show()},hidingFunction:function(){n(this).hide()}},i);n(t).hover(function(){i.showingFunction.call(r)},function(){i.hidingFunction.call(r)});r.hide()};n.fn.animateVerticalOffset=function(n,t){return this.animateOffset({top:n},t,{moveHorizontally:!1,moveVertically:!0})};n.fn.animateHorizontalOffset=function(n,t){return this.animateOffset({left:n},t,{moveHorizontally:!0,moveVertically:!1})};n.fn.animateOffset=function(t,i,r){var u;r=n.extend({moveHorizontally:!0,moveVertically:!0},r);var o=this.offset(),f=r.moveHorizontally?t.left-o.left:0,e=r.moveVertically?t.top-o.top:0;(f!==0||e!==0)&&(u={},f!==0&&(u.left=parseInt(this.css("left"))+f+"px"),e!==0&&(u.top=parseInt(this.css("top"))+e+"px"),this.animate(u,i))};n.animateObject=function(t,i,r){return n.animateValue(t,i,n.extend({},r,{valueToProperties:function(n){var t={};for(var i in n)t["custom"+i]=n[i];return t},propertiesToValue:function(n){var t={};for(var i in n)t[i.substring(6)]=n[i];return t}}))};n.animateValue=function(t,i,r){function e(){if(u<=0){c=!0;r.complete();return}u--;f=n(n.extend({},o));f.animate(h,{duration:r.duration,easing:r.easing,step:function(n,t){s[t.prop]=n;r.step(r.propertiesToValue(s))},complete:function(){e()}})}r=n.extend({valueToProperties:function(n){return{value:n}},propertiesToValue:function(n){return n.value},times:1,duration:400,easing:"linear",step:n.noop,complete:n.noop},r);var o=r.valueToProperties(t),h=r.valueToProperties(i),u=r.times,s=n.extend({},o),c=!1,f;return e(),{stop:function(n){u=0;f.stop(!0,n);n||e()}}};n.fn.stepAnimate=function(t,i,r,u,f){var e=n(this),o,h,s;switch(t){case"scrollTop":o=e.scrollTop();break;case"scrollLeft":o=e.scrollLeft();break;default:o=parseInt(e.css(t))}return h=Math.ceil(Math.abs(i-o)/r),s={},s[t]=i,e.animate(s,n.extend({},f,{duration:h*u}))}})(jQuery),function(n){function t(t){var i,r;if(typeof t!="string"){if(i=t.getTemplateString,i!==undefined)return i();if(t.id!==undefined)return HtmlTemplates[t.id];if(r=n.objectGet(HtmlTemplatesGroups,[t.group,t.name]),r===undefined)throw new Error("Missing template "+t.group+"->"+t.name);return r}return t}function i(i,r){var h=i._cached,u,f,c,e,l,o,s;if(h)return n(h.cloneNode(!0).childNodes);if(u=i._templateStr,u===undefined&&(u=t(i),i._templateStr=u),f=i._isSimple,f===undefined&&(f=!/\${([^}]+)}/.test(u),i._isSimple=f),c=n.valueOrDefault(i.cache,!0),f||(u=u.replace(/\${([^}]+)}/g,function(n,t){var i=r[t];return i?i:""})),e=n.quickParseHTML(u),l=f&&c,l){for(o=document.createDocumentFragment(),e=n.merge([],e),s=0;s<e.length;s++)o.appendChild(e[s]);return i._cached=o,n(o.cloneNode(!0).childNodes)}return n(e)}n.useSimpleTemplate=function(i,r){var u=t(i),f;return r?(f=u.replace(/\${([^}]+)}/g,function(n,t){var i=r[t];return i?i:""}),n(f)):n(u)};n.useTemplateOld=function(t,i){return typeof t=="string"?n.useSimpleTemplate(t,i):t.useTemplate?t.useTemplate(i):n.useSimpleTemplate(t,i)};n.useTemplate=function(t,r){return typeof t=="string"?n.useSimpleTemplate(t,r):t.useTemplate?t.useTemplate(r):i(t,r)}}(jQuery);StatesGroups={Hover:"hovering",Toggle:"toggle-button-state-group",Disabling:"disable-state-group"},function(n){function e(n,t,i,r,u,f){var e,o,s;if(r!==undefined){if(u!==null&&u!==undefined&&!r.statesMap[u])throw new Error("Unknown state");r.currentState!=u&&(e=r.currentState,e!==null&&e!==undefined&&n.removeClass(r.currentState),u!==null&&u!==undefined&&n.addClass(u),r.currentState=u,o=r.stateChangedEvent,s=t.stateChangedEvent,o&&o.fire(n,u,f),s&&s.fire(i,n,u,f))}}var r=Class.extend("ElementBooleanStateTracker",{init:function(n,t,i,r){this._disablingReasons=undefined;this._stateChangedEvent=undefined;this._$element=n;this._trueClass=t;this._falseClass=i;this._inState=!0;r&&n.addClass(t)},isInState:function(){return this._inState},onStateChanged:function(n){var t=this._stateChangedEvent;t||(t=SimpleEvent.create(),this._stateChangedEvent=t);t.bind(n)},toggleInState:function(n,t){var r,s,u;t=t!==undefined?t:"default";var h=this._inState,f=this._$element,e=this._trueClass,o=this._falseClass,i=this._disablingReasons;n?i&&i.removeField(t):(i||(i=Dictionary.create(),this._disablingReasons=i),i.setField(t,!0));r=!i||i.isEmpty();s=h!==r;r?f.removeClass(o).addClass(e):f.removeClass(e).addClass(o);s&&(this._inState=r,u=this._stateChangedEvent,u&&u.fireNew(r))}}),t=Class.extend("ElementBooleanState",{init:function(n,t,i){this._trackerDataField=n;this._trueClass=t;this._falseClass=i},_getTracker:function(n,t){return n[0][t]},_setTracker:function(n,t,i){n[0][t]=i},toggleState:function(n,t,i){var f=this._trackerDataField,u=this._getTracker(n,f);u||(u=new r(n,this._trueClass,this._falseClass,!1),this._setTracker(n,f,u));u.toggleInState(t,i)},initializeState:function(n,t){var u=this._trackerDataField,i=this._getTracker(n,u);if(i||(i=new r(n,this._trueClass,this._falseClass,!0),this._setTracker(n,u,i)),t)i.onStateChanged(t);return i},onStateChanged:function(n,t){var i=this.initializeState(n);i.onStateChanged(t)}}),i=new t("displayingStateTracker","state-displayed","state-hidden"),u=new t("visibilityStateTracker","state-visible","state-invisible"),f=new t("disablingStateTracker","state-enabled","state-disabled");n.fn.addStatesGroupsSupport=function(){var i=n(this),t=i.data("states-groups");return t===undefined&&(t={},i.data("states-groups",t)),t};n.fn.getStatesGroupData=function(t){var i=n(this).data("states-groups");return i===undefined?undefined:i[t]};n.fn.addStatesGroup=function(t,i,r){var s,o,f,u;return i=n.extend({groupName:"default",defaultState:undefined,stateChangeCallback:undefined,elementPartsSelector:null},i),s=n(this),o=i.groupName,r===undefined&&(r=s.addStatesGroupsSupport()),t instanceof Array?f=t:(f=[],n.eachEntry(t,function(n,t){f.push(t)})),u=r[o],u===undefined&&(u={states:f,statesMap:n.makeDictionaryFromKeys(f,!0),options:i,currentState:undefined},r[o]=u),i.stateChangeCallback&&(u.stateChangedEvent=SimpleEvent.create(),u.stateChangedEvent.bind(i.stateChangeCallback)),e(s,r,o,u,i.defaultState),this};n.fn.inState=function(t){return n(this).hasClass(t)};n.fn.bindStateChange=function(t,i,r){return n(this).each(function(){var f=n(this).getStatesGroupData(t),u=f.stateChangedEvent;u||(u=SimpleEvent.create(),f.stateChangedEvent=u);u.bind(i,r)})};n.fn.setState=function(t,i,r){var u,o,f;for(i=n.valueOrDefault(i,"default"),u=0;u<this.length;u++)o=n(this[u]),f=o.data("states-groups"),f===undefined?console.warn("Setting state to an element with no states groups. ({0} {1})".format(t,i)):e(o,f,i,f[i],t,r);return this};n.fn.toggleBooleanState=function(t,i,r,u,f,e){for(var o,s=0;s<this.length;s++)o=n(this[s]),f===undefined?o.inState(i)?o.setState(r,t,e):o.setState(i,t,e):f===!0?o.setState(i,t,e):f===!1?o.setState(r,t,e):u?o.setState(u,t,e):o.setState(i,t,e);return this};n.fn.addDisablingStates=function(t){return this.each(function(){f.initializeState(n(this),t)})};n.fn.toggleEnable=function(t,i){return this.each(function(){f.toggleState(n(this),t,i)})};n.fn.addVisibilityStates=function(){return this.each(function(){u.initializeState(n(this))})};n.fn.toggleVisibility=function(t,i){return this.each(function(){u.toggleState(n(this),t,i)})};n.fn.cssHide=function(n){return this.toggleDisplayed(!1,n)};n.fn.cssShow=function(n){return this.toggleDisplayed(!0,n)};n.fn.addDisplayingStates=function(){return this.each(function(){i.initializeState(n(this))})};n.fn.toggleDisplayed=function(t,r){return this.each(function(){i.toggleState(n(this),t,r)})};n.fn.displayChanged=function(t){i.onStateChanged(n(this),t);return this};n.fn.bindToStatesGroupEvent=function(n,t){var r=this.addStatesGroupsSupport(),i=r.stateChangedEvent;return i||(i=SimpleEvent.createNamedEvents(),r.stateChangedEvent=i),i.bind(n,t),this};n.fn.isEnabled=function(){return n(this).inState("state-enabled")};n.fn.isDisabled=function(){return n(this).inState("state-disabled")};n.fn.isDisplayed=function(){return n(this).inState("state-displayed")};n.fn.isHidden=function(){return n(this).inState("state-hidden")};n.fn.trackFocus=function(t,i){return n(this).each(function(){var r=n(this),u=n.getFocusedElement();r.addStatesGroup(["state-focused","state-unfocused"],n.extend({},t,{defaultState:u&&u.hasAncestor(n(this))?"state-focused":"state-unfocused",groupName:"focus-state-group"}),i);r.focusin(function(){r.setState("state-focused","focus-state-group")});r.focusout(function(){n.beginInvoke(function(){var t=n.getFocusedElement();t&&t.hasAncestor(r)?r.setState("state-focused","focus-state-group"):r.setState("state-unfocused","focus-state-group")})})}),n(this)};n.fn.isFocused=function(){return n(this).inState("state-focused")}}(jQuery);QuickStates=new function(){this.createDisplayController=function(n){var t=ContextValue.createContextClass({getTarget:n}),i=ObservableFlag.createConditionalPositive({valueChangeCallback:function(n){t.set(n?"state-displayed":"state-hidden")}});return t.set("state-displayed"),i}};ToggleButtonStates={Toggled:"state-toggled",UnToggled:"state-untoggled",Indeterminate:"state-toggle-indeterminate"},function(n){function t(n,t){var i=n.data("toggle-group-data");i&&i.oneAlwaysToggled&&n.is(i.currentToggled)||n.toggleToggled(undefined,t)}n.fn.makeToggleButton=function(t){return t=n.extend({},t),t.isToggleButton=!0,n(this).makeButton(t)};n.fn.makeSimpleButton=function(t){if(t=n.extend({displayCustomCursor:!0},t),this.addClass("button state-enabled state-displayed"),t.displayCustomCursor&&this.addClass("custom-cursor"),n.browser.msie){var i=this;i.mousedown(function(){i.addClass("state-pressed");n(document).one("mouseup",function(){i.removeClass("state-pressed")})})}return this};n.fn.makeButton=function(i){return i=n.extend({isToggleButton:!1,isToggled:!1,enableClientToggleToFalse:!0,enableClientToggleToTrue:!0,toggleOnClick:!0,displayCustomCursor:!0,trackFocus:!0,addToggledStates:!1,supportHiding:!0,supportDisabling:!0,elementPartsSelector:null},i),n(this).each(function(){var r=n(this),u=r.data("button-data");u===undefined&&(u={options:{}},r.data("button-data",u).addClass("button"),i.supportDisabling?r.addDisablingStates():r.addClass("state-enabled"),i.supportHiding&&r.addDisplayingStates(),i.addToggledStates&&r.addToggledStates(i.isToggled),r.is("a")&&i.trackFocus&&r.trackFocus());n.extend(u.options,i);r.toggleClass("custom-cursor",i.displayCustomCursor).toggleClass("toggle-button",i.isToggleButton);i.isToggleButton&&!u.isToggleButton&&(u.isToggleButton=!0,r.addToggledStates(i.isToggled),i.toggleOnClick&&r.buttonClick(function(n){(r.isToggled()&&i.enableClientToggleToFalse||!r.isToggled()&&i.enableClientToggleToTrue)&&t(r,n)}))})};n.fn.buttonClick=function(t,i,r){return i===undefined&&(i=!0),this.bind("click"+(r?"."+r:""),function(r){var u=n(this),f=!u.hasClass("state-disabled"),e;return f&&(e=t.call(u,r)),r.stopPropagation(),(!f||i)&&r.preventDefault(),e})};n.fn.buttonDown=function(t){return n(this).each(function(){var i=n(this);n(this).mousedown(function(n){i.inState("state-disabled")||t.call(this,n)})})};n.fn.buttonUp=function(t){return n(this).each(function(){var i=n(this);n(this).mouseup(function(n){i.inState("state-disabled")||t.call(this,n)})})};n.fn.buttonPress=function(t){return n(this).each(function(){var i=n(this);n(this).mouseHold(function(n){i.inState("state-disabled")||t.call(this,n)})})};n.fn.addToggledStates=function(t,i,r){return n(this).addStatesGroup(["state-toggled","state-untoggled","state-toggle-indeterminate"],n.extend({},i,{defaultState:t?"state-toggled":"state-untoggled",groupName:StatesGroups.Toggle}),r)};n.updateTogglingGroup=function(t,i){var r=n(document).data("toggle-group-"+t);r.duringTogglingUpdated=!0;i();r.duringTogglingUpdated=!1};n.createToggleGroup=function(t){t=n.extend({groupName:n.uniqueID(),oneAlwaysToggled:!1,toggleChangeCallback:n.noop},t);var i={elements:n([]),currentToggled:undefined,duringTogglingUpdated:!1,oneAlwaysToggled:t.oneAlwaysToggled};return i.bindFunction=function(){i.duringTogglingUpdated||(i.duringTogglingUpdated=!0,n(this).isToggled()===!0?(i.elements.not(this).toggleToggled(!1),i.currentToggled=n(this)):n(this).isToggled()===!1&&n.sameElements(i.currentToggled,n(this))&&(t.oneAlwaysToggled?n(this).toggleToggled(!0):i.currentToggled=undefined),t.toggleChangeCallback(i.currentToggled),i.duringTogglingUpdated=!1)},t.groupName&&n(document).data("toggle-group-"+t.groupName,i),i};n.fn.addToToggleGroup=function(t){var i=n(this);return t.elements.filter(function(){return n.sameElements(n(this),i)}).length===0&&(t.elements=t.elements.add(i),i.bindStateChange(StatesGroups.Toggle,t.bindFunction,t.id)),n(this)};n.fn.toggleToggled=function(t,i){return n(this).toggleBooleanState(StatesGroups.Toggle,"state-toggled","state-untoggled","state-toggle-indeterminate",t,i)};n.fn.isToggled=function(){return n(this).inState("state-toggled")?!0:n(this).inState("state-untoggled")?!1:null};n.fn.toggled=function(t){return n(this).bindStateChange(StatesGroups.Toggle,t)}}(jQuery);LayoutHelper=new function(){this.SizeUnificationBatch=OperationsBatch.create();this.positionToRight=function(n){return n.addClass("vertically-centered").wrap("<div class='right-block'><\/div>"),n.parent().prepend('<span class="height-normalizer"><\/span>')};this.createTable=function(n){var u,o,t,f,s;n=$.extend({numberOfColumns:2,numberOfRows:1,isUniform:!0,sizeUnifiersGroup:undefined,inlineCellContent:!1,className:""},n);var r=n.numberOfColumns,e=n.numberOfRows,l=n.isUniform,h=n.sizeUnifiersGroup,a=n.inlineCellContent,v=n.className,c=[],i=new StringBuilder;for(i.append('<div class="table {0}">',v),t=0;t<e;t++){for(i.append('<div class="table-row row-index-{0} {1}">',t,$.getIndexClasses(t,e-1)),u=0;u<r;u++)o="",l&&(o='style="width:{0}%;"'.format($.adjustFraction(100/r,2))),i.append('<span class="table-cell border-box-sizing vertically-top col-index-{0} {1}" {2}>',u,$.getIndexClasses(u,r-1),o),i.append('<span class="cell-content {0}"><\/span>',a?"vertically-top":"block"),i.append("<\/span>");i.append("<\/div>")}if(h)for(t=0;t<r;t++)c[t]=h.addSizeUnifier();return i.append("<\/div>"),f=$(i.toString()),s={$element:f,appendTo:function(n){return f.appendTo(n),s},getCell:function(n,t){return f.find(".row-index-{0} .col-index-{1} .cell-content".format(n,t))},getColumnSizeUnifier:function(n){return c[n]},countRows:function(){return e},countColumns:function(){return r},countCells:function(){return e*r},distributeItems:function(n){$(".cell-content",f).each(function(t){$(this).append(n[t])})}},s};this.createSizeUnifiersGroup=function(){var n=[],t=undefined;return{addSizeUnifier:function(){return t=LayoutHelper.createSizeUnifier(),n.push(t),t},getCurrent:function(){return t},invalidate:function(){for(var t=0;t<n.length;t++)n[t].invalidate()},unify:function(t){for(var i=0;i<n.length;i++)n[i].unify(t)}}};this.createSizeUnifier=function(){var i={},t=[],n={width:!1,height:!1};return $.extend(i,{addElement:function(n){$.isPlainObject(n)||(n={$element:$(n)});n=$.extend({$element:undefined,$widthTarget:undefined,$heightTarget:undefined,autoWidth:!1,autoHeight:!1},n);var r=n.$element;if(!r)throw new Error("Missing $element option");return n.$widthTarget=$.valueOrDefault(n.$widthTarget,r),n.$heightTarget=$.valueOrDefault(n.$heightTarget,r),t.push(n),i.invalidate(),i},invalidate:function(){n.width=!0;n.height=!0},unify:function(i){var f,r,e;if(i=$.extend({unifyWidth:!1,unifyHeight:!1,unifyToMinWidth:!1,unifyToMinHeight:!1},i),f=!1,i.unifyWidth&&n.width&&(f=!0,n.width=!1),i.unifyHeight&&n.height&&(f=!0,n.height=!1),f||i.force){for(r=[],e=0;e<t.length;e++){var o=t[e],s=o.$element,h=o.$widthTarget,u={};i.unifyWidth&&(u.outerWidth=s.outerWidth(),u.width=h.width());i.unifyHeight&&(u.outerHeight=s.outerHeight(),u.height=h.height());u.elementInfo=o;r.push(u)}LayoutHelper.SizeUnificationBatch.performOperation(function(){var f,e,u,o,n;if(i.unifyWidth)for(f=i.unifyToMinWidth?"minValue":"maxValue",e=$[f](r,function(n){return n.outerWidth}),n=0;n<r.length;n++)u=r[n],o=u.elementInfo,t[n].$widthTarget.css("width",e-(u.outerWidth-u.width));if(i.unifyHeight)for(f=i.unifyToMinHeight?"minValue":"maxValue",e=$[f](r,function(n){return n.outerHeight}),n=0;n<r.length;n++)u=r[n],o=u.elementInfo,t[n].$heightTarget.css("height",e-(u.outerHeight-u.height))})}}}),i};this.createBlocksNormalizer=function(){var t={},n={};return $.extend(t,{addMainBlock:function(t,i){i=$.extend({$leftBlock:undefined,$rightBlock:undefined},i);var r={},u=$.weakID();return $.extend(r,{$mainBlock:t,$leftBlock:i.$leftBlock,$rightBlock:i.$rightBlock,remove:function(){delete n[u]}}),n[u]=r,r},normalize:function(){LayoutHelper.SizeUnificationBatch.performOperation(function(){var r=[],i;for($.each(n,function(n,t){var i=t.$leftBlock&&t.$leftBlock.length>0?t.$leftBlock.outerWidth(!0):undefined,u=t.$rightBlock&&t.$rightBlock.length>0?t.$rightBlock.outerWidth(!0):undefined;(i!==undefined||u!==undefined)&&r.push({mainBlockController:t,marginLeft:i,marginRight:u})}),i=0;i<r.length;i++){var t=r[i],f=t.mainBlockController,u=f.$mainBlock;t.marginLeft!==undefined&&u.css("marginLeft",t.marginLeft);t.marginRight!==undefined&&u.css("marginRight",t.marginRight)}})}}),t};this.normalizeBlock=function(n,t){t=$.extend({$leftBlock:undefined,$rightBlock:undefined},t);var i=t.$leftBlock,r=t.$rightBlock,u=i&&i.length>0?i.outerWidth(!0):undefined,f=r&&r.length>0?r.outerWidth(!0):undefined;u!==undefined&&n.css("marginLeft",u);f!==undefined&&n.css("marginRight",f)};this.normalizeBlockField=function(n,t){t=$.extend({leftBlockSelector:".left-block",rightBlockSelector:".right-block",mainBlockSelector:".main-block"},t);var i=$(t.mainBlockSelector,n),r=$(t.leftBlockSelector,n),u=$(t.rightBlockSelector,n);LayoutHelper.normalizeBlock(i,{$leftBlock:r,$rightBlock:u})}},function(n){n.fn.makeTable=function(t){var i,o;t=n.extend({itemsPerRow:3,rowClass:undefined,columnClass:undefined},t);var s=this,u=t.itemsPerRow,h=s.children(),f=undefined,r=n([]),c=1,e=1;for(i=0;i<h.length;i++)i%u==0&&(f=n("<span class='block row row-{0}'><\/span>".format(c)).addClass(t.rowClass),c++,e=1,r.pushElements(f)),o=n("<span class='vertically-top column column-{0}'><\/span>".format(e)).addClass(t.columnClass).append(h[i]).appendTo(f),i%u==0&&o.addClass("first"),(i+1)%u==0&&o.addClass("last"),e++;r.first().addClass("first");r.last().addClass("last");r.appendTo(s)};n.fn.unifySize=function(t){for(var r=LayoutHelper.createSizeUnifier(),i=0;i<this.length;i++)r.addElement(n(this[i]));r.unify(t)};n.fn.uniformChildren=function(){for(var t,u=this.children(),f=this.width(),s=Math.floor(f/u.length),r=[],e,o,i=0;i<u.length;i++)t=n(u[i]),r.push({$element:t,margin:t.outerWidth(!0)-t.outerWidth()});e=n.minValue(r,function(n){return s-n.margin});o=e/f*100;LayoutHelper.SizeUnificationBatch.performOperation(function(){for(var t,n=0;n<r.length;n++)t=r[n],t.$element.addClass("border-box-sizing").css({width:o+"%"})})}}(jQuery);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
* Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
* Thanks to: Seamus Leahy for adding deltaX and deltaY
*
* Version: 3.0.6
* 
* Requires: 1.2.2+
*/
(function(n){function r(t){var i=t||window.event,e=[].slice.call(arguments,1),r=0,f=0,u=0;return t=n.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),u=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(u=0,f=-1*r),i.wheelDeltaY!==undefined&&(u=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(f=i.wheelDeltaX/-120),e.unshift(t,r,f,u),(n.event.dispatch||n.event.handle).apply(this,e)}var t=["DOMMouseScroll","mousewheel"],i;if(n.event.fixHooks)for(i=t.length;i;)n.event.fixHooks[t[--i]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],r,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})})(jQuery),function(n){var i=document.createElement("div"),t=i.style;n.support.backgroundSize=t.backgroundSize===""?"backgroundSize":t.MozBackgroundSize===""?"MozBackgroundSize":t.WebkitBackgroundSize===""?"WebkitBackgroundSize":t.OBackgroundSize===""?"OBackgroundSize":!1;n.support.backgroundSize&&n.support.backgroundSize!=="backgroundSize"&&(n.cssHooks.backgroundSize={get:function(t){return n.css(t,n.support.backgroundSize)},set:function(t,i){t.style[n.support.backgroundSize]=i}});i=t=null}(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*/
(function(n){var t="Top Right Bottom Left".split(" ");n.each(["margin","padding"],function(i,r){n.cssHooks[r]={get:function(i){return n.map(t,function(t){return n.css(i,r+t)}).join(" ")},set:function(i,u){var f=u.split(/\s/),e={Top:f[0],Right:f[1]||f[0],Bottom:f[2]||f[0],Left:f[3]||f[1]||f[0]};n.each(t,function(n,t){i.style[r+t]=e[t]})}}})})(jQuery),function(n){function v(t){t=t.split(")");for(var d=n.trim,p=t.length-1,y,w,i,s=1,h=0,c=0,l=1,u,e,o,f,b,k,a=0,v=0;p--;){y=t[p].split("(");w=d(y[0]);i=y[1];u=e=o=f=0;switch(w){case"translateX":a+=parseInt(i,10);continue;case"translateY":v+=parseInt(i,10);continue;case"translate":i=i.split(",");a+=parseInt(i[0],10);v+=parseInt(i[1]||0,10);continue;case"rotate":i=r(i);u=Math.cos(i);e=Math.sin(i);o=-Math.sin(i);f=Math.cos(i);break;case"scaleX":u=i;f=1;break;case"scaleY":u=1;f=i;break;case"scale":i=i.split(",");u=i[0];f=i.length>1?i[1]:i[0];break;case"skewX":u=f=1;o=Math.tan(r(i));break;case"skewY":u=f=1;e=Math.tan(r(i));break;case"skew":u=f=1;i=i.split(",");o=Math.tan(r(i[0]));e=Math.tan(r(i[1]||0));break;case"matrix":i=i.split(",");u=+i[0];e=+i[1];o=+i[2];f=+i[3];a+=parseInt(i[4],10);v+=parseInt(i[5],10)}b=s*u+h*o;h=s*e+h*f;k=c*u+l*o;l=c*e+l*f;s=b;c=k}return[s,h,c,l,a,v]}function y(n){var u,o,r,t=n[0],i=n[1],f=n[2],e=n[3];return t*e-i*f?(u=Math.sqrt(t*t+i*i),t/=u,i/=u,r=t*f+i*e,f-=t*r,e-=i*r,o=Math.sqrt(f*f+e*e),f/=o,e/=o,r/=o,t*e<i*f&&(t=-t,i=-i,r=-r,u=-u)):rotate=u=o=r=0,{translate:[+n[4],+n[5]],rotate:Math.atan2(i,t),scale:[u,o],skew:[r,0]}}function p(t){t=t.split(")");for(var f=[0,0],h=0,e=[1,1],o=[0,0],c=t.length-1,l=n.trim,s,u,i;c--;)s=t[c].split("("),u=l(s[0]),i=s[1],u=="translateX"?f[0]+=parseInt(i,10):u=="translateY"?f[1]+=parseInt(i,10):u=="translate"?(i=i.split(","),f[0]+=parseInt(i[0],10),f[1]+=parseInt(i[1]||0,10)):u=="rotate"?h+=r(i):u=="scaleX"?e[0]*=i:u=="scaleY"?e[1]*=i:u=="scale"?(i=i.split(","),e[0]*=i[0],e[1]*=i.length>1?i[1]:i[0]):u=="skewX"?o[0]+=r(i):u=="skewY"?o[1]+=r(i):u=="skew"&&(i=i.split(","),o[0]+=r(i[0]),o[1]+=r(i[1]||"0"));return{translate:f,rotate:h,scale:e,skew:o}}function r(n){return~n.indexOf("deg")?parseInt(n,10)*(Math.PI/180):~n.indexOf("grad")?parseInt(n,10)*(Math.PI/200):parseFloat(n)}function w(n){return n=/\(([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(n),[n[1],n[2],n[3],n[4],n[5],n[6]]}for(var l=document.createElement("div"),e=l.style,u="transform",f="Transform",o=["O"+f,"ms"+f,"Webkit"+f,"Moz"+f,u],s=o.length,t,h,i,a,c=/Matrix([^)]*)/;s--;)if(o[s]in e){n.support[u]=t=o[s];continue}switch(n.support.transform){case"MozTransform":n.support.transformCSS="-moz-transform";break;case"WebkitTransform":n.support.transformCSS="-webkit-transform";break;case"OTransform":n.support.transformCSS="-o-transform";break;case"msTransform":n.support.transformCSS="-ms-transform"}t||(n.support.matrixFilter=h=e.filter==="");l=e=null;n.cssNumber[u]=!0;t&&t!=u?(n.cssProps[u]=t,t=="Moz"+f?i={get:function(i,r){return r?n.css(i,t).split("px").join(""):i.style[t]},set:function(n,i){n.style[t]=/matrix[^)p]*\)/.test(i)?i.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,"matrix$1$2px,$3px"):i}}:/^1\.[0-5](?:\.|$)/.test(n.fn.jquery)&&(i={get:function(i,r){return r?n.css(i,t.replace(/^ms/,"Ms")):i.style[t]}})):h&&(i={get:function(n,t){var r=t&&n.currentStyle?n.currentStyle:n.style,i;return r&&c.test(r.filter)?(i=RegExp.$1.split(","),i=[i[0].split("=")[1],i[2].split("=")[1],i[1].split("=")[1],i[3].split("=")[1]]):i=[1,0,0,1],i[4]=r?r.left:0,i[5]=r?r.top:0,"matrix("+i+")"},set:function(t,i,r){var u=t.style,o,e,f;r||(u.zoom=1);i=v(i);(!r||r.M)&&(e=["Matrix(M11="+i[0],"M12="+i[2],"M21="+i[1],"M22="+i[3],"SizingMethod='auto expand'"].join(),f=(o=t.currentStyle)&&o.filter||u.filter||"",u.filter=c.test(f)?f.replace(c,e):f+" progid:DXImageTransform.Microsoft."+e+")",(centerOrigin=n.transform.centerOrigin)&&(u[centerOrigin=="margin"?"marginLeft":"left"]=-(t.offsetWidth/2)+t.clientWidth/2+"px",u[centerOrigin=="margin"?"marginTop":"top"]=-(t.offsetHeight/2)+t.clientHeight/2+"px"));(!r||r.T)&&(u.left=i[4]+"px",u.top=i[5]+"px")}});i&&(n.cssHooks[u]=i);a=i&&i.get||n.css;n.fx.step.transform=function(n){var o=n.elem,r=n.start,u=n.end,k,e=n.pos,d,s,c,l,g,nt=!1,b=!1,f;if(s=c=l=g="",!r||typeof r=="string"){r||(r=a(o,t));h&&(o.style.zoom=1);k=u.split(r);k.length==2&&(u=k.join(""),n.origin=r,r="none");n.start=r=r=="none"?{translate:[0,0],rotate:0,scale:[1,1],skew:[0,0]}:y(w(r));n.end=u=~u.indexOf("matrix")?y(v(u)):p(u);for(f in r)(f=="rotate"?r[f]==u[f]:r[f][0]==u[f][0]&&r[f][1]==u[f][1])&&delete r[f]}r.translate&&(s=" translate("+(r.translate[0]+(u.translate[0]-r.translate[0])*e+.5|0)+"px,"+(r.translate[1]+(u.translate[1]-r.translate[1])*e+.5|0)+"px)",nt=!0);r.rotate!=undefined&&(c=" rotate("+(r.rotate+(u.rotate-r.rotate)*e)+"rad)",b=!0);r.scale&&(l=" scale("+(r.scale[0]+(u.scale[0]-r.scale[0])*e)+","+(r.scale[1]+(u.scale[1]-r.scale[1])*e)+")",b=!0);r.skew&&(g=" skew("+(r.skew[0]+(u.skew[0]-r.skew[0])*e)+"rad,"+(r.skew[1]+(u.skew[1]-r.skew[1])*e)+"rad)",b=!0);d=n.origin?n.origin+s+l+c:s+c+l;i&&i.set?i.set(o,d,{M:b,T:nt}):o.style[t]=d};n.transform={centerOrigin:"margin"}}(jQuery);
/*! Copyright (c) 2010 Burin Asavesna (http://helloburin.com)
* Licensed under the MIT License (LICENSE.txt).
*/
(function(n){function u(n,i){return i=i===undefined||i===""?"border":i+"Border",t.borderRadius&&t.borderRadius=="MozBorderRadius"?i+"Radius"+n.charAt(0).toUpperCase()+n.substr(1).toLowerCase():i+n+"Radius"}var e=document.createElement("div"),i=e.style,t=n.support,f="TopLeft TopRight BottomRight BottomLeft".split(" "),r;t.borderRadius=i.MozBorderRadius===""?"MozBorderRadius":i.MsBorderRadius===""?"MsBorderRadius":i.WebkitBorderRadius===""?"WebkitBorderRadius":i.OBorderRadius===""?"OBorderRadius":i.borderRadius===""?"BorderRadius":!1;e=null;t.borderRadius&&t.borderRadius!=="BorderRadius"&&(r=t.borderRadius.replace("BorderRadius",""),n.cssHooks.borderRadius={get:function(t){return n.map(f,function(i){return n.css(t,u(i,r))}).join(" ")},set:function(n,t){n.style[u("",r)]=t}});n.eachItem(f,function(t,i){n.cssHooks["borderRadius"+i]={get:function(t){return n.css(t,u(i,r))},set:function(n,t){n.style[u(i,r)]=t}}});n.eachItem(f,function(t,i){var r="borderRadius"+i;n.fx.step[r]=function(t){n.cssHooks[r].set(t.elem,t.now+t.unit)}})})(jQuery),function(){$.cssHooks.rgbaBackground={get:function(n){var t=$.getRGBA($.css(n,"backgroundColor"));return $.browser.msie&&parseInt($.browser.version)<9&&(t[3]=$.css(n,"opacity")),"rgba({0},{1},{2},{3})".format(t[0],t[1],t[2],t[3])},set:function(n,t){var i=$.getRGBA(t);$.browser.msie&&parseInt($.browser.version)<9?(n.style.backgroundColor="rgb({0},{1},{2})".format(i[0],i[1],i[2]),$(n).css("opacity",i[3])):n.style.backgroundColor="rgba({0},{1},{2},{3})".format(i[0],i[1],i[2],i[3])}};$.fx.step.rgbaBackground=function(n){n.colorInit||(n.start=$.getRGBA($.cssHooks.rgbaBackground.get(n.elem)),n.end=$.getRGBA(n.end),n.colorInit=!0);$.cssHooks.rgbaBackground.set(n.elem,"rgba("+Math.max(Math.min(Math.floor(n.pos*(n.end[0]-n.start[0])+n.start[0]),255),0)+","+Math.max(Math.min(Math.floor(n.pos*(n.end[1]-n.start[1])+n.start[1]),255),0)+","+Math.max(Math.min(Math.floor(n.pos*(n.end[2]-n.start[2])+n.start[2]),255),0)+","+Math.max(Math.min(Math.floor((n.pos*(n.end[3]-n.start[3])+n.start[3])*100)/100,1),0)+")")}}();
/*! Copyright (c) 2010 Burin Asavesna (http://helloburin.com)
 * Licensed under the MIT License (LICENSE.txt).
 */
(function(n){function u(n,t,i){var u=n.split(r);return u[i]=t,u.join(" ")}var f=document.createElement("div"),i=f.style,t=n.support,r=/\s/,e=/\)\s/,o;t.boxShadow=i.MozBoxShadow===""?"MozBoxShadow":i.MsBoxShadow===""?"MsBoxShadow":i.WebkitBoxShadow===""?"WebkitBoxShadow":i.OBoxShadow===""?"OBoxShadow":i.boxShadow===""?"BoxShadow":!1;f=null;t.boxShadow&&t.boxShadow!=="BoxShadow"&&(n.cssHooks.boxShadow={get:function(i){return n.css(i,t.boxShadow)},set:function(n,i){n.style[t.boxShadow]=i}},n.cssHooks.boxShadowColor={get:function(i){return n.css(i,t.boxShadow).split(e)[0]+")"},set:function(i,r){i.style[t.boxShadow]=r+" "+n.css(i,t.boxShadow).split(e)[1]}},n.cssHooks.boxShadowBlur={get:function(i){return n.css(i,t.boxShadow).split(r)[5]},set:function(i,r){i.style[t.boxShadow]=u(n.css(i,t.boxShadow),r,5)}},n.cssHooks.boxShadowSpread={get:function(i){return n.css(i,t.boxShadow).split(r)[6]},set:function(i,r){i.style[t.boxShadow]=u(n.css(i,t.boxShadow),r,6)}},n.cssHooks.boxShadowX={get:function(i){return n.css(i,t.boxShadow).split(r)[3]},set:function(i,r){i.style[t.boxShadow]=u(n.css(i,t.boxShadow),r,3)}},n.cssHooks.boxShadowY={get:function(i){return n.css(i,t.boxShadow).split(r)[4]},set:function(i,r){i.style[t.boxShadow]=u(n.css(i,t.boxShadow),r,4)}},o="Blur Spread X Y".split(" "),n.eachItem(o,function(t,i){var r="boxShadow"+i;n.fx.step[r]=function(t){n.cssHooks[r].set(t.elem,t.now+t.unit)}}))})(jQuery);
/*!
* Copyright (c) 2011 Tom Ellis (http://www.webmuse.co.uk)
* Linear and Radial Gradient cssHook for jQuery
* Limitations:
  - Works with jQuery 1.4.3 and higher
  - Works in Firefox 3.6+, Safari 5.1+, Chrome 13+, Opera 11.10+, IE9+
  - Radial Gradients DO NOT work in Opera yet (Doesn't make sense I Know!)
  - Only works for background and background image CSS properties
* Licensed under the MIT License (LICENSE.txt).
*/
(function(n){function s(t){var i=f.exec(t);return t.replace(i[2],n.support.linearGradient)}function h(t){var i=e.exec(t);return t.replace(i[2],n.support.radialGradient)}var i=document.createElement("div"),t=i.style,r=/^(.*?)linear-gradient(.*?)$/i,u=/^(.*?)radial-gradient(.*?)$/i,f=/^(.*?)(:?linear-gradient)(\()(.*)(\))(.*?)$/i,e=/^(.*?)(:?radial-gradient)(\()(.*?)(\))(.*?)$/i,o="background backgroundImage".split(/\s/);t.cssText="background-image: -moz-linear-gradient(red, blue);background-image: -webkit-linear-gradient(red, blue);background-image: -o-linear-gradient(red, blue);background-image: linear-gradient(red, blue);";n.support.linearGradient=/(^|\s)linear-gradient/.test(t.backgroundImage)?"linear-gradient":/(^|\s)-moz-linear-gradient/.test(t.backgroundImage)?"-moz-linear-gradient":/(^|\s)-webkit-linear-gradient/.test(t.backgroundImage)?"-webkit-linear-gradient":/(^|\s)-o-linear-gradient/.test(t.backgroundImage)?"-o-linear-gradient":!1;t.cssText="background-image: -moz-radial-gradient(circle, orange, red);background-image: -webkit-radial-gradient(circle, orange, red);background-image: -o-radial-gradient(circle,red, blue);background-image: radial-gradient(circle, orange, red);";n.support.radialGradient=/(^|\s)radial-gradient/.test(t.backgroundImage)?"radial-gradient":/(^|\s)-moz-radial-gradient/.test(t.backgroundImage)?"-moz-radial-gradient":/(^|\s)-webkit-radial-gradient/.test(t.backgroundImage)?"-webkit-radial-gradient":/(^|\s)-o-radial-gradient/.test(t.backgroundImage)?"-o-radial-gradient":!1;n.support.linearGradient&&n.support.linearGradient!=="linear-gradient"&&n.each(o,function(t,i){n.cssHooks[i]={set:function(n,t){n.style[i]=r.test(t)?s(t):u.test(t)?h(t):t}}});i=t=null})(jQuery);ImagesLoader=new function(){var n={},t=0;this.loadImages=function(i,r){r=$.extend({loadCallback:$.noop,errorCallback:$.noop,finishCallback:$.noop,progressCallback:$.noop},r);i instanceof Array||(i=[i]);var e=[],u=i.length,f=0;$.eachItem(i,function(i,o){function a(){h=new Image;s=$(h);s.load(v);s.on("error",function(){console.log("Failed Loading Image "+o);r.errorCallback();l({url:o,error:"Error Loading"})});h.src=o}function v(){var i={width:s[0].width,height:s[0].height},t={$image:s,imageSize:i,imageUrl:o};n[o]=t;r.loadCallback(t);l(t)}function l(n){e.push(n);f++;r.progressCallback({imageData:n,loadedImagesCount:f,totalImagesCount:u,progress:f/u});f==u&&(u==1?r.finishCallback(n):r.finishCallback(e))}var h,s,c=n[o];c!==undefined?(r.loadCallback(c),l(c)):t>0?window.setTimeout(a,t):a()})}},function(n){function i(n,t,i){var r=n.options;f(n,t);r.useDisplayingStates?t.toggleDisplayed(!0,"TabsGroup"):r.useVisibilityStates?t.toggleVisibility(!0,"TabsGroup"):t.show();u(n,t,i)}function r(n,t,i){var r=n.options;r.useDisplayingStates||r.useVisibilityStates||!r.showingFunction?t.show():(t.hide(),r.showingFunction.call(t,i))}function t(n,t){if(t){o(n,t);var i=n.options;i.useDisplayingStates?t.toggleDisplayed(!1,"TabsGroup"):i.useVisibilityStates?t.toggleVisibility(!1,"TabsGroup"):n.options.hidingFunction?n.options.hidingFunction.call(t):t.hide();e(n,t)}}function u(n,t,i){n.showedTab=t;var r=t.data("tabs-group-controller");r.options.onTabShow.call(t,i);r.tabShowEvent.fireNew();n.tabShowedEvent.fire(t);n.options.onTabShow.call(t)}function f(n,t){var i=t.data("tabs-group-controller");i.options.onTabShowing.call(t);n.options.onTabShowing.call(t)}function e(n,t){var i=t.data("tabs-group-controller");i.options.onTabHide.call(t);n.options.onTabHide.call(t);n.tabHideEvent.fire(t);i.tabHideEvent.fireNew()}function o(n,t){var i=t.data("tabs-group-controller");i.options.onTabHiding.call(t);n.options.onTabHiding.call(t)}n.fn.makeTabsGroup=function(t){var i=n.createTabsGroup(t);return n(this).addToTabsGroup(i),i};n.fn.makeTabsSwitcher=function(e){function l(u){var f,e,a;if(!n.sameElements(u.currentTab,u.showedTab)){f=u.showedTab;e=u.currentTab;f.hide();i(u,e);var v=e.offset(),y=e.outerSize(),l=o.css("position");l!="absolute"&&l!="fixed"&&o.css("position","relative");a=o.height();f.show();e.hide();var p=f.offset(),w=f.outerSize(),b=o.height(),h=e.wrap("<span class='block'><\/span>").parent(),c=f.wrap("<span class='block'><\/span>").parent();n.unite(h,c).css({display:"block",position:"absolute"});h.offset(v).elementSize(y);c.offset(p).elementSize(w);o.css({height:b,overflow:"hidden"});c.insertBefore(h);t(u,f);r(u,e);u.options.foldingAnimation.call(o,a);s=n.unite(f,e,o).promise();s.done(function(){e.unwrap();f.unwrap();o.css({height:"",overflow:""})})}}e=n.extend({foldingAnimation:function(n){this.animate({height:n},300)}},e);var o=this,s=undefined,h,c=n.createTabsGroup(n.extend(e,{showingHandler:function(n){var t=n.currentTab;n.showedTab?s===undefined?l(n):(h=function(){l(n)},s.done(function(){if(h){var n=h;h=undefined;n()}})):(f(n,t),t.show(),u(n,t))}}));return n(this).children().addToTabsGroup(c),c};n.createTabsGroup=function(t){t=n.extend({showingFunction:undefined,hidingFunction:undefined,useDisplayingStates:!1,useVisibilityStates:!1,hideBeforeShowing:!0,onTabShow:n.noop,onTabHide:n.noop,onTabHiding:n.noop,onTabShowing:n.noop},t);var i={tabs:[],currentTab:undefined,currentTabChanged:SimpleEvent.create(),options:t,tabShowedEvent:SimpleEvent.create(),tabHideEvent:SimpleEvent.create(),hideCurrentTab:function(){n.hideTab(i)},isShowed:function(n){return n.is(i.currentTab)}};return i};n.fn.getTabsGroup=function(){return n(this).data("tabs-group")};n.fn.makeTabButton=function(t,i){i=n.extend({hideTabOnUntoggling:!1},i);var f=n(this).makeToggleButton(),u=n(t),o=u.data("tabs-group"),r=!1,e=!1;return o.currentTabChanged.bindAndExecute(function(){e||(r=!0,f.toggleToggled(n.sameElements(o.currentTab,u)),r=!1)}),f.toggled(function(n){r||(e=!0,n===ToggleButtonStates.Toggled?u.showTab():i.hideTabOnUntoggling?u.hideTab():(r=!0,f.toggleToggled(!0),r=!1),e=!1)}),this};n.fn.addToTabsGroup=function(t,i){return n(this).each(function(){i=n.extend({onTabHide:n.noop,onTabShow:n.noop,onTabShowing:n.noop,onTabHiding:n.noop},i);var u=n(this),r={tabHideEvent:SimpleEvent.create(),tabShowEvent:SimpleEvent.create(),options:i,showTab:function(){u.showTab()}};t.tabs.push(r);n(this).data("tabs-group-controller",r);n(this).data("tabs-group",t);t.options.useDisplayingStates?n(this).addDisplayingStates().toggleDisplayed(!1,"TabsGroup"):t.options.useVisibilityStates?n(this).addVisibilityStates().toggleVisibility(!1,"TabsGroup"):n(this).hide()})};n.fn.removeFromTabsGroup=function(){var t=n(this).data("tabs-group"),i;return n(this).is(t.currentTab)&&(t.currentTab=undefined),i=n(this).data("tabs-group-controller"),t.tabs.removeItem(i),n(this).removeData("tabs-group").removeData("tabs-group-controller"),this};n.fn.onTabHide=function(t){n(this).data("tabs-group-controller").tabHideEvent.bind(t)};n.fn.onTabShow=function(t){n(this).data("tabs-group-controller").tabShowEvent.bind(t)};n.fn.hideTab=function(){n.hideTab(n(this).data("tabs-group"),n(this))};n.hideTab=function(n,i){var r=n.currentTab;r!==undefined&&(i===undefined||i.is(r))&&(n.currentTab=undefined,t(n,r),n.currentTabChanged.fireNew())};n.fn.showTab=function(u){var e=n(this[0]),f=n(this).data("tabs-group"),o=f.options,s=f.currentTab;s!==undefined&&n.sameElements(s,e)||(f.currentTab=e,o.showingHandler?o.showingHandler(f):(t(f,s),i(f,e,u),o.useDisplayingStates||o.useVisibilityStates||r(f,e,s)),f.currentTabChanged.fireNew())}}(jQuery);Dialog=new function(){function t(t,i){var r=t.data("dialog-controller");if(r){delete n[r.id];t.removeData("dialog-controller");t.detach();var e=r.contextOptions,u=r.$overlay,f=r.$dialogContainer,o=e.overlayHidingAnimation,s=e.hidingAnimation;o&&!i?o.call(u,function(){u.remove()}):u.remove();s&&!i?s.call(f,function(){f.remove()}):f.remove()}}var n={};this.open=function(i,r){var u,f,e,o;return r=$.extend({onOpened:$.noop,overlayClass:"dialog-overlay",contextClass:undefined,showingAnimationFunction:!1,hidingAnimation:!1,overlayShowingAnimation:!1,overlayHidingAnimation:!1,afterShowEffect:undefined},r),t(i,!0),u={id:$.uniqueID(),$overlay:$("<div class='dialog-overlay panels-scope'><\/div>").appendTo("body"),$dialogContainer:$("<div class='panels-scope activation-scope dialog block fixed-positioned'><\/div>").appendTo("body"),contextClass:ContextValue.createContextClass({getTarget:function(){return u.$dialogContainer}})},i.data("dialog-controller",u),n[u.id]=!0,u.contextOptions=r,u.contextClass.set(r.contextClass),f=u.$overlay,f.appendTo("body"),r.overlayShowingAnimation?$.beginInvoke(function(){r.overlayShowingAnimation.call(f)}):f.show(),u.$dialogContainer.append(i).appendTo("body").show(),e=$("body").scrollTop(),o=$("html").scrollTop(),r.onOpened.call(i),u.$dialogContainer.makeCentered({horizontally:!0,vertically:!0}),$("body").scrollTop(e),$("html").scrollTop(o),r.showingAnimationFunction?(u.$dialogContainer.hide(),$.beginInvoke(function(){r.showingAnimationFunction.call(u.$dialogContainer)})):r.afterShowEffect&&r.afterShowEffect.call(u.$dialogContainer),u};this.hasOpenedDialogs=function(){return!$.isEmptyObject(n)};this.reCenterTheDialog=function(n){var t=n.data("dialog-controller");t&&t.$dialogContainer.makeCentered({horizontally:!0,vertically:!0})};this.getDialogOverlay=function(n){var t=n.data("dialog-controller");return t.$overlay};this.close=function(n){t(n,!1)}};DictionaryUtils=new function(){this.equalByKeys=function(n,t){for(var i in n)if(t[i]===undefined)return!1;for(i in t)if(n[i]===undefined)return!1;return!0};this.diffByKeys=function(n,t){var r=[],u=[],f=[];for(var i in n)t[i]===undefined?r.push(n[i]):f.push({leftValue:n[i],rightValue:t[i]});for(i in t)n[i]===undefined&&u.push(t[i]);return{leftOnly:r,rightOnly:u,both:f,equalByKeys:r.length===0&&u.length===0}};this.addKeyAsField=function(n,t){return $.eachEntry(n,function(n,i){i[t]=n}),n}},function(n){var t=!!Object.keys;n.mapToDictionary=function(t,i,r){var f,u,e;for(i=n.valueOrDefault(i,n.identity),r=n.valueOrDefault(r,n.identity),f={},u=0;u<t.length;u++)e=t[u],f[r(e)]=i(e,u);return f};n.makeDictionary=function(t,i,r){var f,u,e;for(i=n.valueOrDefault(i,"key"),r=n.valueOrDefault(r,"value"),f={},u=0;u<t.length;u++)e=t[u],f[e[i]]=e[r];return f};n.lookupAdd=function(n,t,i){var r=n[t];return r===undefined&&(r=[],n[t]=r),r.push(i),n};n.extractKeys=function(n,t){for(var r,u={},i=0;i<t.length;i++)r=t[i],u[r]=n[r];return u};n.anyValue=function(n,t){var r,i;for(r in n)if(i=n[r],t.call(i,i))return!0;return!1};n.allValues=function(n,t){var r,i;for(r in n)if(i=n[r],!t.call(i,i))return!1;return!0};n.makeDictionaryFromKeys=function(n,t){for(var r={},i=0;i<n.length;i++)r[n[i]]=t;return r};n.revertDictionary=function(n){var t={};for(var i in n)t[n[i]]=i;return t};n.getEntries=function(n){var t=[];for(var i in n)t.push({key:i,value:n[i]});return t};n.findKey=function(t,i,r){var u,f;r=n.valueOrDefault(r,n.referencesEqualityComparer);for(u in t)if(t.hasOwnProperty(u)&&(f=t[u],r(f,i)))return u;return undefined};n.getKeys=function(n){var i,r;if(t)return n?Object.keys(n):[];i=[];for(r in n)n.hasOwnProperty(r)&&i.push(r);return i};n.getValues=function(t,i){var u,r;i=n.valueOrDefault(i,n.returnTrue);u=[];for(r in t)t.hasOwnProperty(r)&&i(t[r])&&u.push(t[r]);return u};n.count=function(n){var i,r;if(t)return n?Object.keys(n).length:0;i=0;for(r in n)i++;return i};n.sortValues=function(t,i){for(var u={},r=0;r<i.length;r++)u[i[r]]=r;var f=n.getEntries(t).orderBy(function(n){return u[n.key]}),o=n.getValues(t).orderBy(n.identity),e={};for(r=0;r<f.length;r++)e[f[r].key]=o[r];return e};n.replaceKeys=function(t,i){function u(t,r){var f,e;for(f in t)t.hasOwnProperty(f)&&(e=f,f in i&&(e=i[f]),n.isPlainObject(t[f])?(r[e]={},u(t[f],r[e])):r[e]=t[f])}if(!t)return t;var r={};return u(t,r),r};n.replaceValuesKey=function(t,i,r){function f(t,u){t.hasOwnProperty(i)&&r[t[i]]&&(u[i]=r[t[i]]);for(var e in t)e!==i&&n.isPlainObject(t[e])&&f(t[e],u[e])}var u=n.deepCloneObject(t);return f(t,u),u};n.replaceValuesKeyByFunction=function(t,i,r,u){function e(t,f){t.hasOwnProperty(i)&&(r[t[i]]?f[i]=r[t[i]]:(f[i]=u(i,t[i]),r[t[i]]=f[i]));for(var o in t)o!==i&&n.isPlainObject(t[o])&&e(t[o],f[o])}if(!t)return t;var f=n.deepCloneObject(t);return e(t,f),f};n.mapArray=function(n,t,i){for(var u,f={},r=0;r<n.length;r++)u=n[r],f[i(u,r)]=t(u);return f};n.mapDictionary=function(n,t){var r={};for(var i in n)r[i]=t(i,n[i]);return r};n.mapDictionaryKeys=function(n,t){var i={};for(var r in n)i[t(r)]=n[r];return i};n.dictionaryFilter=function(n,t){var u={},i,r;for(i in n)r=n[i],t(r,i)&&(u[i]=r);return u};n.toDictionary=function(){for(var i,n,r,e,u=arguments.length,o=arguments[u-1],f={},t=0;t<u-1;t++)for(i=arguments[t],n=0;n<i.length;n++)r=i[n],e=o(r),f[e]=r;return f};n.hasMoreThanOneKey=function(t){return n.hasNumberOfKeys(t,2)};n.hasNumberOfKeys=function(n,t){var i=0;for(var r in n)if(i++,i>=t)return!0;return!1};n.containsOneOfKeys=function(t){for(var r,u,f=arguments.length,i=1;i<f;i++)if(r=arguments[i],n.isArray(r)){for(u=r,i=0;i<u.length;i++)if(t[u[i]]!==undefined)return!0}else if(t[r]!==undefined)return!0;return!1};n.copyDictionaryValue=function(n,t,i){t[i]=n[i]};n.duplicateDitionary=function(t){var u={},r,i;for(r in t)i=t[r],u[r]=n.isPlainObject(i)?n.quickExtend({},i):i;return u};n.mergeDictionary=function(n,t){for(var i in t)n[i]=t[i];return n};n.subtractDictionary=function(n,t){var r={};for(var i in n)t[i]===undefined&&(r[i]=n[i]);return r};n.intersectDictionaries=function(n,t){var r={};for(var i in t)n[i]!==undefined&&(r[i]=t[i]);return r};n.makeSet=function(t,i){var f={},r,u;for(i=n.valueOrDefault(i,n.identity),r=0;r<t.length;r++)u=t[r],f[i(u)]=u;return f};n.subtractSets=function(t,i,r){return t instanceof Array&&(t=n.makeSet(t,r)),i instanceof Array&&(i=n.makeSet(i,r)),n.getValues(n.subtractDictionary(t,i))};n.intersectSets=function(t,i,r){return t instanceof Array&&(t=n.makeSet(t,r)),i instanceof Array&&(i=n.makeSet(i,r)),n.getValues(n.intersectDictionaries(t,i))}}(jQuery);var Dictionary=function(){function r(n){return function(i){t(n,i)}}function t(t,i){$.eachEntry(t,function(t,r){return i(t,r===n?undefined:r)})}var n={},i=Class.extend("Dictionary",{init:function(){this._map={};this._counter=0},getField:function(t){var i=this._map[t];return i===n?undefined:i},getFieldOrInit:function(t,i){var u=this._map,r=u[t];return r===undefined?(r=i,r===undefined&&(r=n),this._counter++,u[t]=r,i):r===n?undefined:r},hasField:function(n){return this._map[n]!==undefined},setFields:function(t){var i=this._map,r=0;$.eachEntry(t,function(t,u){u===undefined&&(u=n);var f=i[t];f===undefined&&r++;i[t]=u});this._counter+=r},setField:function(t,i){i===undefined&&(i=n);var u=this._map,r=u[t];return r===undefined?this._counter++:r=r===n?undefined:r,u[t]=i,r},setFieldIfAbsent:function(t,i){var u=this._map,r=u[t];return r===undefined?(i===undefined&&(i=n),this._counter++,u[t]=i,undefined):r===n?undefined:r},removeField:function(t){var r=this._map,i=r[t];return i!==undefined?(delete r[t],this._counter--,i===n?undefined:i):undefined},isEmpty:function(){return this._counter===0},count:function(){return this._counter},clear:function(){this._map={};this._counter=0},deferredEach:function(){return r(this._map)},deferredClonedEach:function(){var n=$.quickExtend({},this._map);return r(n)},each:function(n){t(this._map,n)},getEntries:function(){var n=[];return t(this._map,function(t,i){n.push({key:t,value:i})}),n},getValues:function(){var n=[];return t(this._map,function(t,i){n.push(i)}),n}});return i.create=function(n){var t=new i;return n!==undefined&&t.setFields(n),t},i}(),ItemsListFilteringBehaviour={HideItems:1,DetachItems:2},ItemsListItem=Class.extend("ItemsListItem",{init:function(n){this.itemsList=n;this.data={};this._itemRemovingEvent=undefined;this._bindingsCollection=undefined},useBindingsCollection:function(){var n=this._bindingsCollection;return n||(n=SimpleEvent.createBindingsCollection(),this._bindingsCollection=n),n},notifyItemRemoving:function(){var n=this._itemRemovingEvent,t=this._bindingsCollection;n&&n.fireNew(this);t&&t.unbindAll()},onItemRemoving:function(n){var t=this._itemRemovingEvent;t||(t=SimpleEvent.create(),this._itemRemovingEvent=t);t.one(n)},unbindOnRemoving:function(n){this.onItemRemoving(function(){n.unbind()})},replaceData:function(n){var t=this.item;this.item=n;this.itemsList.notifyItemUpdated(this,t)},invalidateItem:function(){this.itemsList.notifyItemUpdated(this,this.item)}}),ItemsList=function(){function p(n,t){return t?t=="auto"?n.scrollParent():t=="self"?n:$(t):n}function f(n,t){t.$scrollParent.unbind("scroll.autoFetch"+n.id);t.trackScrolling=!1}function w(n,t){t.$scrollParent.bind("scroll.autoFetch"+n.id,function(){e(n,t)});t.trackScrolling=!0}function e(n,t){var i=n.delayedFetchingCollection,r=n.options.autoFetchCount,u=t.$scrollParent;i&&r&&i.hasMore()&&u.scrollTop()+n.options.autoFetchDistance>=u.getMaxScrollHeight()&&i.fetchMore(r)}function i(n,t){var h=n.data,c,l,u,e;t===undefined?t=$.getValues(n.items):$.isPlainObject(t)&&(t=$.getValues(t));c=$.valueOrDefault(n.filteringFunction,$.returnTrue);u=c(t);l=u===!0?t:u===!1?[]:u instanceof Array?u:[u];var a=$.toDictionary(l,function(n){return n.id}),o=$([]),s=$([]);for(e=0;e<t.length;e++){var i=t[e],f=a[i.id]!==undefined,r=i.$wrapper;r||(r=i.$item);r.toggleClass("state-filtered",f);r&&i.$item.toggleClass("state-filtered",f);h.filteringBehaviour===ItemsListFilteringBehaviour.HideItems?r.toggleDisplayedState(f):(r.toggleDisplayedState(!0),f?s.pushElements(r):o.pushElements(r));i.isFiltered=f;f?(n.filteredItems[i.id]=i,delete n.unfilteredItems[i.id]):(n.unfilteredItems[i.id]=i,delete n.filteredItems[i.id])}s.length>0&&s.each(function(){h.insertionFunction($(this),n)});o.length>0&&o.detach();n.filteredItemsChangeEvent.fireNew(n.filteredItems)}function o(n,t,i){var u=n.options,c,r,l,p,o,h,a,f,e,v,y;return i=$.valueOrDefault(i,!1),n.itemsChangingBatch.start(),c=u.idFunction?u.idFunction(t):$.uniqueID(),n.items[c]!==undefined?(r=n.items[c],p=r.item,r.item=t,n.notifyItemUpdated(r,p),l=!1):(o=u.getTemplateItem.call(t,t),u.additionalTemplateFields&&(o=$.extend({},o,u.additionalTemplateFields)),r=new ItemsListItem(n),r.templateItem=o,h=u.template,a=u.itemCreationFunction,a!==undefined?f=a.call(t,t,r):(h&&$.isFunction(h)&&(h=h(o)),f=$.useTemplate(h,o)),f.addClass(["state-displayed","items-list-item",u.listItemClass,"items-list-"+n.id].join(" ")),e=undefined,v=n.itemWrapperTemplate,v&&(e=$.useTemplate(v).toggleDisplayedState(!0),y=$(".wrapped-item-container",e),y.length>0?f.appendTo(y):f.appendTo(e)),$.quickExtend(r,{id:c,$item:f,$wrapper:e,isFiltered:!0,item:t}),n.items[c]=r,u.insertionFunction(e?e:f,n),i||s(n,r),l=!0),n.itemsChangingBatch.finish(),{listItem:r,isNewItem:l}}function s(n,t){var i=t.$item;i.data("items-list-item",t);n.options.itemAddedCallback.call(t,t);n.itemAddedEvent.fireNew(t);n.notifyItemUpdated(t)}function h(n,t){return c(n,b(n,t))}function b(n,t){var r,u,i,f;for(t=$.asArray(t),r=[],u=0;u<t.length;u++)i=t[u],$.isFunction(i)?$.merge(r,$.grep($.getValues(n.items),function(n){return i(n)})):(f=typeof i=="string"||typeof i=="number"||typeof i=="boolean"?n.items[i]:i instanceof ItemsListItem?i:$.isJQueryObject(i)?i.data("items-list-item"):$(i).data("items-list-item"),f!==undefined&&r.push(f));return r}function c(n,t){n.itemsRemovingEvent.fireNew(t);for(var i=0;i<t.length;i++)k(n,t[i]);return t}function k(n,t){var u=n.options,r,i;u.itemRemovingCallback.call(t,t);n.itemRemovingEvent.fireNew(t);t.notifyItemRemoving();t.isRemoved=!0;r=t.$wrapper;r?r.remove():t.$item.remove();i=t.id;delete n.items[i];delete n.filteredItems[i];delete n.unfilteredItems[i]}function l(n){return c(n,$.getValues(n.items))}function a(n,t,r){var u,c=n.options.idFunction,e,f,a,o,s,y;if(c){for(e={},f=0;f<t.length;f++)a=t[f],e[c(a)]=!0;o=[];for(s in n.items)e[s]===undefined&&o.push(s);u=h(n,o)}else u=l(n);return y=v(n,t,r),i(n),u.length>0&&n.itemsRemovedEvent.fireNew(u),y}function v(n,t,i){var c=n.options,l=c.insertionFilter,u=[],h=[],r,f,e;for($.each(t,function(t,r){l(r)&&(!i||i.call(r,r))&&u.push(o(n,r,!0))}),r=0;r<u.length;r++)f=u[r],e=f.listItem,f.isNewItem&&s(n,e),h.push(e);return h}function y(n){var i=n.isEmpty(),t;n.isEmptyFlag.setValue(i);n.$element.toggleClass("state-empty",i).toggleClass("state-non-empty",!i);t=n.options.emptyListTemplate;t!==undefined&&(!i&&n.$emptyListElement&&(n.$emptyListElement.remove(),n.$emptyListElement=undefined),i&&!n.$emptyListElement&&($.isFunction(t)&&(t=t()),n.$emptyListElement=typeof t=="string"?$(t):$.isPlainObject(t)?$.useTemplate(t):t,n.$emptyListElement.appendTo(n.$element)))}function n(n){n.itemsCount.setValue($.count(n.filteredItems));y(n);u(n);n.options.itemsChangedCallback();n.itemsChangingBatch.whenFinished(function(){n.itemsChangedEvent.fireNew()},n.itemsChangedEvent.id)}function u(n){var t=n.getScrollingController();t&&(t.refresh(),n.scrollBar&&n.scrollBar.refresh())}function d(n,t){var i=t.getListFooter();i?n.insertBefore(i):n.appendTo(t.$element)}var r=[],t;return $.addItemsListExtension=function(n){r.push(n)},$.fn.makeItemsList=function(n){return new t($(this),n)},t=Class.extend("ItemsList",{init:function(n,t){var u;this._options=t=$.quickExtend({template:undefined,itemCreationFunction:undefined,getTemplateItem:$.contextIdentity,autoFetchingScrollParent:"self",additionalTemplateFields:undefined,itemAddedCallback:$.noop,itemRemovingCallback:$.noop,itemUpdatedCallback:$.noop,itemsChangedCallback:$.noop,scrollableOptions:!1,$scrollbar:undefined,scrollbarOptions:undefined,itemWrapper:undefined,emptyListTemplate:undefined,listItemClass:undefined,insertionFilter:$.returnTrue,insertionFunction:d,idFunction:undefined,items:undefined,createItemsOnInitialization:!1,autoFetchCount:20,autoFetchDistance:10,initialFetchCount:0,filteringFunction:undefined,filteringBehaviour:ItemsListFilteringBehaviour.HideItems,lastDisplayedItemClass:undefined},t);n.addClass("items-list");var i=this,e=ObservableFlag.create(!0),o={$scrollParent:p(n,t.autoFetchingScrollParent),trackScrolling:!1,filteringBehaviour:t.filteringBehaviour,insertionFunction:t.insertionFunction},f=t.scrollableOptions!==!1;for(f&&(i._scrollableController=n.scrollable(t.scrollableOptions)),$.quickExtend(i,{_activatedExtensions:{},_isScrollable:f,$element:n,data:o,id:$.weakID(),isEmptyFlag:e,itemsCount:ObservableObject.createNumerical(0),itemsChangingBatch:OperationsBatch.create(),extensionActivated:SimpleEvent.create(),itemsRemovingEvent:SimpleEvent.create(),itemsRemovedEvent:SimpleEvent.create(),itemRemovingEvent:SimpleEvent.create(),itemAddedEvent:SimpleEvent.create(),itemsAddedEvent:SimpleEvent.create(),itemUpdatedEvent:SimpleEvent.create(),itemsChangedEvent:SimpleEvent.create(),boundCollectionChangedEvent:SimpleEvent.create(),options:t,items:{},filteredItems:{},unfilteredItems:{},isScrollable:f,filteringFunction:$.returnTrue,filteredItemsChangeEvent:SimpleEvent.create()}),u=0;u<r.length;u++)$.extend(i,r[u].call(i,i));return t.items&&!t.createItemsOnInitialization&&i.setItems(t.items),t.filteringFunction&&i.setFilter(t.filteringFunction),t.lastDisplayedItemClass&&i.trackLastDisplayedItem(function(n,i){i&&i.$item.removeClass(t.lastDisplayedItemClass);n&&n.$item.addClass(t.lastDisplayedItemClass)}),y(i),i},activateExtension:function(n){this._activatedExtensions[n]=!0;this.extensionActivated.fireNew(n)},isExtensionActivated:function(n){return!!this._activatedExtensions[n]},setFilteringBehaviour:function(n){var t=this,i=t.data,r;n!==i.filteringBehaviour&&(i.filteringBehaviour=n);n===ItemsListFilteringBehaviour.HideItems?$.each(t.unfilteredItems,function(n,r){var u=r.$wrapper;u||(u=r.$item);u.toggleDisplayedState(!1);i.insertionFunction(u,t)}):(r=$([]),$.each(t.unfilteredItems,function(n,t){var i=t.$wrapper;i||(i=t.$item);i.toggleDisplayedState(!0);r.pushElements(i)}),r.detach())},setItemWrapper:function(n){var t=this;return t.itemWrapperTemplate=n,$.each(t.items,function(t,i){var u=i.$item,f=i.$wrapper,r,e;f||(u.wrap("<span><\/span>"),f=u.parent());u.detach();r=$.useTemplate(n);f.replaceWith(r);e=$(".wrapped-item-container",r);e.length>0?u.appendTo(e):u.appendTo(r);r.toggleDisplayedState(!0);i.$wrapper||u.toggleDisplayedState(!0);r.toggleDisplayedState(i.isFiltered);i.$wrapper=r}),t},removeItemWrappers:function(){var n=this;$.each(n.items,function(n,t){var r=t.$item,i=t.$wrapper;i&&(i.replaceWith(r),t.$wrapper=undefined)})},getScrollingController:function(){var n=this;return n.connectedScrollable?n.connectedScrollable:n._scrollableController},initialize:function(){var n=this,r=n.$element,t=n._options,f=n._isScrollable,i;n.initialized||(n.initialized=!0,t.createItemsOnInitialization&&t.items&&n.setItems(t.items),f&&(t.$scrollbar&&(i=t.$scrollbar.scrollBar(t.scrollbarOptions),i.connectToScrollable(r),n.scrollBar=i),u(n)),n.delayedFetchingCollection&&t.initialFetchCount>0&&n.delayedFetchingCollection.fetchTo(t.initialFetchCount))},connectScrollable:function(n){var t=this;return t.connectedScrollable=n,t},addListFooter:function(n){var t,r,i;if(n=$.extend({footerClass:"block",createFooter:undefined,initialize:$.noop},n),t=this,r=t.$element,t.$listFooter)throw new Error("Cannot add multiple footers to items list.");return i=n.createFooter,t.$listFooter=i?i():$("<span class='items-list-footer'><\/span>").addClass(n.footerClass),t.$listFooter.appendTo(r),n.initialize(t.$listFooter,t),t},getListFooter:function(){return this.$listFooter},getScrollable:function(){return this._scrollableController},refreshScrolling:function(){u(this)},notifyItemUpdated:function(n,t){var i=this,r=i._options;r.itemUpdatedCallback.call(n,n,t);i.itemUpdatedEvent.fireNew(n)},isEmpty:function(){return this.itemsCount.getValue()===0},getItemID:function(n){var t=this._options;return t.idFunction?t.idFunction(n):undefined},getListItem:function(n){var t=this,i=t._options,r;return typeof n=="string"||typeof n=="number"||typeof n=="boolean"?t.items[n]:n instanceof ItemsListItem?n:$.isPlainObject(n)?i.idFunction?(r=i.idFunction(n),t.items[r]):undefined:n.data("items-list-item")},getItemByIndex:function(n,t){t=$.valueOrDefault(t,!1);var i=this,r;return(r=t?i.$element.children(".state-displayed"):$(".items-list-"+i.id,i.$element),n>=r.length)?undefined:$(r[n]).data("items-list-item")},setFilter:function(n){var t=this;return t.filteringFunction=n,t.refilter(),t},getFilteredItems:function(){return this.filteredItems},getFilteredListItems:function(){var n=this,i=n._options,t={};return $.each(n.filteredItems,function(n,r){t[i.idFunction(r.item)]=r.item}),t},getListItems:function(){var n=this,i=n._options,t={};return $.each(n.items,function(n,r){t[i.idFunction(r.item)]=r.item}),t},getDataItems:function(){return this.getListItems()},findItems:function(n){var i=this,t;return n=$.valueOrDefault(n,$.returnTrue),t=[],$.each(i.items,function(i,r){n(r)&&t.push(r)}),t},findItem:function(n){return this.findItems(n)[0]},onButtonClick:function(n){var t=this;t.onItemEvents("click",function(t,i){t.$item.is(".state-disabled")||(n(t,i),i.stopPropagation(),i.preventDefault())});return t},attachContextMenu:function(n,t){t=$.extend({predicate:$.returnTrue,contextMenuOpenedClass:"context-menu-opened",appendto:"body",activationArgs:undefined,contextMenuButtonSelector:undefined,positioningFunction:undefined},t);var i=this,o=t.predicate,r=t.contextMenuOpenedClass,u=t.appendto,f=t.activationArgs,e=t.contextMenuButtonSelector,s=$.valueOrCalculate(t.positioningFunction,function(){return PositioningFunctions.createVerticallyCentered()});i.onItemEvents("contextmenu",function(t,i){var e=t.$item,s=t.item;o()&&(e.addClass(r),PanelsManager.usePanel(n).openInContext(i,{activationArgs:$.valueOrDefault(f,{activationContext:{item:s}}),closeCallback:function(){e.removeClass(r)},appendTo:u}));i.stopPropagation();i.preventDefault()});return e&&i.attachItemsDropPanel(n,{itemPartSelector:e,dropPanelOpenedClass:r,dropPanelClosedClass:"",appendTo:u,positioningFunction:s},function(n){return{activationArgs:$.valueOrDefault(f,{activationContext:{item:n.item}})}}),i},onInnerButtonClick:function(n,t){var i=this;i.onItemPartEvents(n,"click",function(n,i,r){n.is(".state-disabled")||(t(n,i,r),r.stopPropagation(),r.preventDefault())});return i},attachItemHoverToolTip:function(n,t){var l,r,a,h,v;t=$.quickExtend({content:"Item Tooltip",timeout:200,partSelector:undefined,customBehaviours:undefined,positions:undefined,toolTipClass:undefined,showingFunction:undefined},t);var i=this,u=t.content,y=t.timeout,f=t.partSelector,c=t.customBehaviours,e=t.positions,o=t.toolTipClass,s=t.showingFunction;return n instanceof DeferredObject&&(n=n.get()),l=n.toolTip,r=n.contextOptions,e=$.valueOrDefault(e,r.positions),o=$.valueOrDefault(o,r.className),s=$.valueOrDefault(s,r.showingFunction),a=f?f:".items-list-item.items-list-"+i.id,h=[ToolTip.createActiveWhenHoverBehaviour(y,{targetsSelector:a}),ToolTip.createDeactivateOnMouseDownBehaviour()],c&&$.merge(h,c),v=i.$element,v.attachToolTip(l,{positions:e,className:o,showingFunction:s,content:function(n){var t,r,e;return $.isFunction(u)?(t=n.$target,r=f?t.closest(".items-list-item"):t,e=i.getListItem(r),u(t,e)):u}},h),i},onItemEvents:function(n,t){var i=this,r=i.$element;r.on(n,".items-list-item",function(n){var r=i.getListItem($(this));(r===undefined||r.itemsList===i)&&t(r,n)});return i},onItemPartEvents:function(n,t,i){var r=this,u=r.$element;u.on(t,n,function(n){var t=$(this),u=r.getListItem(t.closest(".items-list-item"));u.itemsList===r&&i(t,u,n)});return r},onItemHover:function(n,t){return this.onItemEvents("mouseenter",n).onItemEvents("mouseleave",t)},attachItemsDropPanel:function(n,t,i){var r=this,f,e;t=$.extend({dropPanelOpenedClass:"state-toggled",dropPanelClosedClass:"state-untoggled",dropPanelOpenedCallback:$.noop,dropPanelClosedCallback:$.noop,itemPartSelector:undefined},t);i=$.valueOrDefault(i,$.noop);var o=t.dropPanelOpenedClass,u=t.dropPanelClosedClass,s=t.itemPartSelector,h=t.dropPanelOpenedCallback,c=t.dropPanelClosedCallback;if($.each(r.items,function(n,t){t.$item.addClass("attached-drop-panel-window").addClass(u)}),r.itemAddedEvent.bind(function(n){n.$item.addClass("attached-drop-panel-window").addClass(u)}),f=ObservableObject.createReferenceObject({valueChangeCallback:function(n,t){n&&(n.$item.removeClass(u).addClass(o),h(n.$item));t&&(t.$item.removeClass(o).addClass(u),c(t.$item))}}),r.itemsRemovingEvent.bind(function(n){for(var r,i,t=0;t<n.length;t++)r=n[t],i=r.openedDropPanel,i&&i.requestDeactivation()}),e=function(r,u,e){var a=i,h,l=u.openedDropPanel,c,s,o;if(l&&l.requestDeactivation(),$.isFunction(n)?(c=n(u),c?(h=c.panel,c.contextOptionsCallback&&(a=c.contextOptionsCallback)):h=undefined):h=n,h){if(s=PanelsManager.usePanel(h),l!==s){u.openedDropPanel=s;f.setValue(u);o=$.extend({isDraggable:!0,stackWithWindows:!0},t,a(u));s.openAsDropPanel({activationArgs:o.activationArgs,panelContext:o.panelContext,positioningFunction:o.positioningFunction,relativeTo:r,contextClass:o.contextClass,appendTo:o.appendTo,showingFunction:o.showingFunction,isDraggable:o.isDraggable,stackWithWindows:o.stackWithWindows});s.deactivateOnClickOutside({ignoredElementsFilters:[r]});s.panelDeactivatedEvent.one(function(){u.openedDropPanel=undefined;f.setValue(undefined)})}e.stopPropagation();e.preventDefault()}},s)r.onInnerButtonClick(s,e);else r.onButtonClick(function(n,t){e(n.$item,n,t)});return r},refilter:function(){var t=this;t.filteredItems={};t.unfilteredItems={};i(t);n(t)},getItemsElements:function(){return this.$element.find(".items-list-"+this.id)},getFilteredItemsElements:function(){return this.getItemsElements().filter(".state-filtered")},getBoundCollection:function(){return this.boundObservableCollection},releaseBoundCollection:function(){var n=this,r=n.data,t=n.boundObservableCollection,i;t&&(t.itemsAddedEvent.unbind(n.id),t.itemsUpdatedEvent.unbind(n.id),t.itemsRemovedEvent.unbind(n.id),i=n.delayedFetchingCollection,i&&(i.allFetchedEvent.unbind(n.id),f(n,r)),n.clear())},setItems:function(t,i){var r=this,o=r.data,h=r._options,c,s,u;return r.itemsChangingBatch.start(),r.releaseBoundCollection(),c=t.isObservableCollection&&t.isObservableCollection(),s=t.supportsDelayedFetching&&t.supportsDelayedFetching(),c?(h.idFunction=t.getIDFunction(),t.updateBatch.startedEvent.bind(function(){r.itemsChangingBatch.start()},r.id),t.updateBatch.finishedEvent.bind(function(){r.itemsChangingBatch.finish()},r.id),t.itemsAddedEvent.bind(function(n){r.addItems(n);s&&e(r,o)},r.id),t.itemsUpdatedEvent.bind(function(n){r.addItems(n)},r.id),t.itemsRemovedEvent.bind(function(n){r.removeItems(n)},r.id),u=a(r,t.getItemsValues(),i),r.boundObservableCollection=t,r.boundCollectionChangedEvent.fireNew()):u=a(r,t,i),r.itemsAddedEvent.fireNew(u),s&&(r.delayedFetchingCollection=t,h.autoFetchCount&&t.hasMore()&&(t.allFetchedEvent.bind(function(){f(r,o)},r.id),w(r,o))),n(r),r.itemsChangingBatch.finish(),u},addItems:function(t,r){var u=this,f;return u.itemsChangingBatch.start(),f=v(u,t,r),i(u,f),n(u),u.itemsChangingBatch.finish(),u.itemsAddedEvent.fireNew(f),f},addItem:function(t){var r=this,e=r._options,u,f,s=e.insertionFilter;return s.call(t)&&(r.itemsChangingBatch.start(),f=o(r,t,!1),u=f.listItem,i(r,[u]),n(r),f.isNewItem&&r.itemsAddedEvent.fireNew([u]),r.itemsChangingBatch.finish()),u},removeItems:function(t){var i=this,r;i.itemsChangingBatch.start();r=h(i,t);r.length>0&&(i.itemsRemovedEvent.fireNew(r),n(i),i.filteredItemsChangeEvent.fireNew());i.itemsChangingBatch.finish()},removeItem:function(n){var t=this;t.itemsChangingBatch.start();t.removeItems($.asArray(n));t.itemsChangingBatch.finish()},clear:function(){var t=this,i;t.itemsChangingBatch.start();i=l(t);i.length>0&&(t.itemsRemovedEvent.fireNew(i),n(t));t.itemsChangingBatch.finish()},trackLastDisplayedItem:function(n){var t=this,r=t.$element,i;t.itemsChangedEvent.bindAndExecute(function(){var f=r.children().last(".state-displayed"),u,e;f.length===0?u=undefined:f.hasClass("items-list-item")?u=f.data("items-list-item"):(e=$(".items-list-"+t.id,f),u=e[e.length-1].data("items-list-item"));u!==i&&(n(u,i),i=u)})},trackElementsIndexes:function(){var n=this;return n.itemsChangedEvent.bindAndExecute(function(){n.getItemsElements().filter(":not(.state-hidden)").applyIndexesClasses()}),n},fetchMore:function(n){var t=this.delayedFetchingCollection;t&&t.hasMore()&&t.fetchMore(n)},scrollToItem:function(n){var t=this,u=t.getScrollingController(),i;if(u&&(i=t.getListItem(n),i)){var f=i.$item,r=u.$element,e=f.offset().top-r.offset().top,o=r.scrollTop();r.scrollTop(o+e)}return t},bringToViewport:function(n){var t=this,r=t.getScrollingController(),i;return r&&(i=t.getListItem(n),i&&r.bringToViewport(i.$item)),t}}),t.addExtension=function(n,t){var i=t.initialization,r=t.methods;this.extendPrototype($.mapDictionary(r,function(t,i){return function(){if(!this.isExtensionActivated(n))throw new Error('The method "{0}" requires the activation of extension "{1}"'.format(t,n));return i.apply(this,arguments)}}));this.extendPrototype($.mapDictionary(i,function(t,i){return function(){var t=i.apply(this,arguments);return this.activateExtension(n),t}}))},t}(),OrderingType={Ascending:1,Descending:2};(function(){function n(n){var o=n.orderingSupportOptions,u,r,e,s,f,t,i;for(n.orderedItems=n.orderingType===OrderingType.Ascending?$.getValues(n.items).orderBy(n.orderingValueSelector,n.comparer):$.getValues(n.items).orderByDesc(n.orderingValueSelector,n.comparer),u=[],r=n.orderedItems,t=0;t<r.length;t++)i=r[t],i.index!==t&&(i.index=t,u.push(i));if(n.autoHtmlSortingEnabled){for(e=$([]),t=0;t<r.length;t++)f=r[t],s=f.$wrapper?f.$wrapper:f.$item,e.pushElements(s);e.applyDOMOrder()}for(n.itemsReorderedEvent.fireNew(),t=0;t<u.length;t++)i=u[t],o.itemIndexChangedCallback.call(i,i,i.index),o.notifyUpdateOnIndexChange&&n.notifyItemUpdated(i)}ItemsList.addExtension("Ordering",{initialization:{addOrderingSupport:function(t){var i=this;return t=$.extend({itemIndexChangedCallback:$.noop,orderingType:OrderingType.Ascending,comparer:undefined,orderingValueSelector:function(){return 0},notifyUpdateOnIndexChange:!1},t),$.extend(i,{orderingSupportOptions:t,hasOrderingSupport:!0,comparer:t.comparer,orderingValueSelector:t.orderingValueSelector,orderingType:t.orderingType,orderedItems:[],autoHtmlSortingEnabled:!0,itemsReorderedEvent:SimpleEvent.create()}),i.itemsChangedEvent.bind(function(){n(i)}),n(i),i}},methods:{toggleAutoHtmlSorting:function(n){var t=this;t.autoHtmlSortingEnabled=n},setOrderingType:function(t){var i=this;i.orderingType!==t&&(i.orderingType=t,n(i))},reorder:function(){var t=this;n(t)}}})})(),function(){$.addItemsListExtension(function(n){var t,i,r=!1,u=ObservableFlag.createConditionalNegative({valueChangeCallback:function(t){r&&!t&&n.recalculateLayout()}});return{addLayoutSupport:function(f){return f=$.valueOrDefault(f,!1),$.extend(n,{hasLayoutSupport:!0,layoutRecalculated:SimpleEvent.create(),getLayout:function(){return t},setLayout:function(r){return r=$.extend({recalculateOnItemsChange:!1,initialize:$.noop,release:$.noop,recalculateLayout:$.noop,supportInteractiveSorting:undefined,isInitialized:!1},r),t&&(t.release(n),r.isInitialized=!1),i&&i.disposeAll(),t=r,i=SimpleEvent.createEventListenersGroup(),t&&(r.initialize(n),r.isInitialized=!0,r.recalculateOnItemsChange&&SimpleEvent.createEventListener(n.itemsChangedEvent,function(){n.recalculateLayout()}).activate().addToGroup(i),n.recalculateLayout()),n},recalculateLayout:function(){return t&&(u.isTrue()?r=!0:(r=!1,t.recalculateLayout(n),n.layoutRecalculated.fireNew(),n.refreshScrolling())),n},releaseLayout:function(){n.setLayout(undefined)}}),f&&n.postponeLayoutUpdate(),n},postponeLayoutUpdate:function(t){return u.setTrue(t),n},unPostponeLayoutUpdate:function(t){return u.setFalse(t),n}}})}();var ItemsListLayoutsFactory=new function(){this.createSingleRowSpread=function(n){n=$.extend({separatorClass:undefined,horizontalSpacing:0},n);var t=n.separatorClass,i=n.horizontalSpacing;return{recalculateOnItemsChange:!0,initialize:function(n){n.setItemWrapper({useTemplate:function(){var n=$("<span class='list-item-layout-wrapper vertically-centered positioned'><span class='wrapped-item-container block'><\/span><\/span>");return t&&$("<span class='single-row-spread-separator inline-block positioned-right'><\/span>").addClass(t).appendTo(n),n}})},release:function(n){n.removeItemWrappers()},recalculateLayout:function(n){var r=$.count(n.filteredItems),u=n.getFilteredItemsElements();u.each(function(u){var f=n.getListItem($(this)),e=f.$wrapper;e.css("width",Math.floor(100/r)+"%");i!==0&&$(".wrapped-item-container",e).css({paddingLeft:u>0?Math.floor(i/2):0,paddingRight:u<r-1?Math.floor(i/2):0});t&&$(".single-row-spread-separator",f.$wrapper).quickToggle(u<r-1)})}}};this.createUniformSpread=function(n){n=$.extend({itemWidth:100,spreadOneRow:!1,widthChangeCallback:$.noop,margin:10,wrapperClass:"content-centered"},n);var r=n.wrapperClass,i=n.itemWidth,u=n.spreadOneRow,f=n.widthChangeCallback,t=n.margin;return{recalculateOnItemsChange:!0,initialize:function(n){n.setItemWrapper({useTemplate:function(){return $("<span class='list-item-layout-wrapper vertically-centered'><\/span>").addClass(r)}})},release:function(n){n.removeItemWrappers()},recalculateLayout:function(n){var o=n.$element.width(),r=Math.floor((o+t)/(i+t)),s=$.count(n.filteredItems),e;e=s<=r&&!u?i:o/Math.min(s,r)-t;n.getFilteredItemsElements().each(function(i){var u=n.getListItem($(this));u.$wrapper.css("width",e).css("margin-right",(i+1)%r==0?0:t);f.call(u,u,e)})}}};this.createTreeLayout=function(n){function u(n){n.treeNode=TreeBuilder.createTreeNode({content:n.$item})}function f(n){var u,t,r,f;for($.each(n.items,function(n,t){t.treeNode.children=[]}),u=i(n,null),t=u.clone();t.length>0;){var e=t.pop(),s=e.treeNode,h=s.children,o=i(n,e);for(r=0;r<o.length;r++)f=o[r],h.push(f.treeNode),t.push(f)}return $.map(u,function(n){return n.treeNode})}n=$.extend({childrenFunction:function(){return[]}},n);var i=n.childrenFunction,t,r=SimpleEvent.createBindingsCollection();return{recalculateOnItemsChange:!0,initialize:function(n){n.setFilteringBehaviour(ItemsListFilteringBehaviour.DetachItems);t=TreeBuilder.createTree({itemStyleCallback:function(n,t){return t>0?"padding-left: {0}px;".format(t*20):undefined}}).appendTo(n.$element);n.itemAddedEvent.bind(function(n){u(n)}).addToCollection(r);$.each(n.items,function(n,t){u(t)})},recalculateLayout:function(n){var i=f(n);t.updateStructure(i)},release:function(n){t&&(r.unbindAll(),t.$element.replaceWith($(".items-list-item",n.$element)))}}};this.createTableLayout=function(n){n=$.extend({columns:2,isUniform:!0,inlineCellContent:!1,className:""},n);var t,i=n.columns,r=n.isUniform,u=n.inlineCellContent,f=n.className;return{recalculateOnItemsChange:!0,initialize:function(n){n.setFilteringBehaviour(ItemsListFilteringBehaviour.DetachItems)},recalculateLayout:function(n){var s=n.itemsCount.getValue(),o=Math.ceil(s/i),e;t&&t.countRows()===o?t.distributeItems($(".items-list-item",n.$element)):(e=t,t=LayoutHelper.createTable({className:f,numberOfColumns:i,numberOfRows:o,isUniform:r,inlineCellContent:u}),t.distributeItems($(".items-list-item",n.$element)),e&&e.$element.remove(),t.$element.appendTo(n.$element))},release:function(n){t&&t.$element.replaceWith($(".items-list-item",n.$element))}}};this.createHierarchyLayout=function(n){function y(i){var s=i.id,u=b(i.$wrapper).data("items-list-item"),h=u?u.id:undefined,f,o;e(i,u?u.hierarchyLevel+1:0,!0);f=i.hierarchyParent;f&&(o=v(f.$wrapper),f.$wrapper.toggleClass("hierarchy-has-children",o.length>0));u?(i.hierarchyParent=u,u.$wrapper.addClass("hierarchy-has-children")):delete i.hierarchyParent;n.hierarchyLevelChange(i);r.deactivate();t.setParent(s,h);r.activate()}function e(n,t,i){n.hierarchyLevel!==undefined&&n.$wrapper.removeClass("hierarchy-level-"+n.hierarchyLevel);n.hierarchyLevel=t;n.$wrapper.addClass("hierarchy-level-"+n.hierarchyLevel);i===!0&&k(n.$wrapper).each(function(){var n=$(this).data("items-list-item");e(n,t+1,!0)})}function s(t,i,r,u,o){var h=u?f(u.$wrapper):t.$element;$.each(r,function(r,f){var c=t.items[f],a,l;e(c,o);c.$wrapper.removeClass("hierarchy-has-children");u?(c.hierarchyParent=u,u.$wrapper.addClass("hierarchy-has-children")):delete c.hierarchyParent;a=c.$wrapper;a.appendTo(h);l=i[f];l&&s(t,i,l,c,o+1);n.hierarchyLevelChange(c)})}function h(n){for(var i=$([]),t=0;t<n.length;t++)i.pushElements(n[t].$wrapper);i.applyDOMOrder()}function c(n,t){return $.grep(n,function(n){return $.oneOfValues(n.id.toString(),t)})}function l(n){h(c(n,t.getRootIds()));var i=t.getHierarchies();$.each(i,function(t,i){h(c(n,i))})}function u(n){return n.find("> .hierarchy-item-content > .hierarchy-item-container > .items-list-item")}function p(n){return n.findAndSelf(".items-list-item").last()}function w(n){var t=n.prev(".hierarchy-item");return t.length>0?p(t):u(a(n))}function b(n){return u(a(n))}function a(n){return n.parent().closest(".hierarchy-item")}function f(n){return n.find("> .hierarchy-item-content > .hierarchy-children-container")}function v(n){return f(n).find(".items-list-item")}function k(n){return u(f(n).find("> .hierarchy-item"))}n=$.extend({hierarchyCollection:undefined,hierarchyLevelChange:$.noop},n);var i,r,t=n.hierarchyCollection,o=undefined;return{recalculateOnItemsChange:!0,setHierarchyCollection:function(n){if(this.isInitialized)throw new Error("can't change hierarchy when initialized");t=n},initialize:function(n){function u(){o=n.autoHtmlSortingEnabled;n.toggleAutoHtmlSorting(!1);n.itemsReorderedEvent.bind(function(){l(n.orderedItems)}).addToCollection(i)}if(i=SimpleEvent.createBindingsCollection(),n.setItemWrapper({useTemplate:function(){return $('<div class="hierarchy-item"><div class="hierarchy-item-content"><div class="hierarchy-item-container wrapped-item-container"><\/div><div class="hierarchy-children-container"><\/div><\/div><\/div>')}}),n.hasOrderingSupport)u();else{var e=!1;n.extensionActivated.bind(function(n){e||n!=="Ordering"||(e=!0,u())}).addToCollection(i)}n.itemRemovingEvent.bind(function(n){var t=f(n.$wrapper).children();t.detach()}).addToCollection(i);r=SimpleEvent.createEventListener([t.hierarchyUpdateEvent],function(){n.recalculateLayout()});r.activate()},recalculateLayout:function(n){s(n,t.getHierarchies(),t.getRootIds(),undefined,0);l(n.hasOrderingSupport?n.orderedItems:n.items)},release:function(n){i.unbindAll();r.deactivate();n.removeItemWrappers();n.hasOrderingSupport&&n.toggleAutoHtmlSorting(o)},supportInteractiveSorting:function(n,t){t=$.extend({beforeOrderChangeCallback:$.noop,afterOrderChangeCallback:$.noop,interactiveBehaviourOptions:undefined},t);var i=$.extend({itemSelector:".hierarchy-item",orderChangedCallback:$.noop,isHierarchy:!0,verticalThreshold:function(){var t=$.findFirst(n.items,$.returnTrue);return t!==undefined?t.$item.outerHeight(!0):0}},t.interactiveBehaviourOptions);i.orderChangedCallback=$.hookAfterMethod(i.orderChangedCallback,function(i){var f=u(i).data("items-list-item"),s=w(i).data("items-list-item"),e,h,c,o,r;if(t.beforeOrderChangeCallback(f,s),e=0,h=!0,s&&(e=s.index,f.index>e?e++:h=!1),y(f),c=v(i),o=c.length,f.index!=e){if(h){for(r=e;r<f.index;r++)n.orderedItems[r].sortingIndex+=o+1;f.sortingIndex=n.orderedItems[e].sortingIndex-1-o}else{for(r=f.index+o+1;r<=e;r++)n.orderedItems[r].sortingIndex-=o+1;f.sortingIndex=n.orderedItems[e].sortingIndex+1}for(r=1;r<=o;r++)n.orderedItems[f.index+r].sortingIndex=f.sortingIndex+r;n.reorder()}t.afterOrderChangeCallback(f,s)});n.$element.makeDraggableSorting(i)}}}},HierarchyCollection=function(){function i(n,t,i){var u=n._ids[t],r;if(u.parentId=i,i===undefined)n._rootHierarchy[t]=u;else if(r=n._ids[i],r)r.children[t]=t;else throw Error("unsupported");}function r(n,t){var i=n._ids[t],r=i.parentId,u;i.parentId=undefined;r===undefined?delete n._rootHierarchy[t]:(u=n._ids[r].children,delete u[t])}function u(n,t,u){var f=n._ids[t],e;if(f){if(e=f.parentId,u!==e)return r(n,t),i(n,t,u),!0}else throw Error("unsupported");return!1}function f(n,t){var i,f;t=$.valueOrDefault(t,{});var e=n.getHierarchies(),r=$.getKeys(e),u=$.getKeys(t);if(u=$.grep(u,function(n){return t[n]&&t[n].length>0}),r.length!==u.length)return!1;for(i=0;i<r.length;i++)if(f=r[i],!$.defaultArraySetsEqualityComparer(e[f],t[f]))return!1;return!0}function t(n,t,i){n.clear();n.addIds(i);$.eachEntry(t,function(t,i){$.each(i,function(i,r){u(n,r,t)})});n.hierarchyUpdateEvent.fireNew()}function e(n,t,i,r){$.each(i.children,function(i){t.addIds(i,r);e(n,t,n._ids[i],i)})}var n=Class.extend("HierarchyCollection",{init:function(n){n=$.quickExtend({ids:undefined,hierarchies:undefined},n);this.id=$.weakID();this.hierarchyUpdateEvent=SimpleEvent.create();this._rootHierarchy={};this._ids={};n.hierarchies&&n.ids?t(this,n.hierarchies,n.ids):n.ids&&this.addIds(n.ids)},addIds:function(n,t){if(n!==undefined){n=$.asArray(n);var r=this;$.eachItem(n,function(n,u){r._ids[u]||(r._ids[u]={id:u,parentId:t,children:{}},i(r,u,t))})}},setParent:function(n,t){u(this,n,t)&&this.hierarchyUpdateEvent.fireNew()},getRootIds:function(n){n=n?n:$.returnTrue;var t=[];return $.eachEntry(this._rootHierarchy,function(i){n(i)&&t.push(i)}),t},getRootCount:function(){return $.count(this._rootHierarchy)},getHierarchies:function(){var n={};return $.eachEntry(this._ids,function(t,i){var r=$.getKeys(i.children);r.length>0&&(n[t]=r)}),n},clear:function(){this._rootHierarchy={};this._ids={}},removeIds:function(n){if(n!==undefined){n=$.asArray(n);var t=this;$.eachItem(n,function(n,i){var u=t._ids[i];u&&($.eachEntry(u.children,function(n){t.setParent(n,u.parentId)}),r(t,i),delete t._ids[i])})}},setHierarchies:function(n){f(this,n)||t(this,n,$.getKeys(this._ids))},updateHierarchy:function(n,i){f(this,n)&&$.defaultArraySetsEqualityComparer(i,$.getKeys(this._ids))||t(this,n,i)},getIds:function(){return this._ids},hasHierarchy:function(){return $.count(this._ids)>$.count(this._rootHierarchy)},hasChildren:function(n){var t=this._ids[n];return t&&!$.isEmptyObject(t.children)},clone:function(){return new n({ids:$.getKeys(this._ids),hierarchies:this.getHierarchies()})},createSubHierarchy:function(t){var r=this._ids[t],i;return r?(i=new n,e(this,i,r),i):undefined}});return n.create=function(t){return new n(t)},n}(),SetView=new function(){this.create=function(n,t){function o(n){return function(t){var u=t.items;i.syncrhonize(u);r.onItemsFetchedCallback(u);n({fetchedItems:u,totalCount:t.totalCount})}}var r=$.extend({filters:[],fields:[],sorts:[],onItemsFetchedCallback:$.noop},t),i=new ObservableCollection,u=CollectionObserver.create(i),e=FilterUtils.getFiltersCompositeFunction(r.filters),f={};return $.extend(f,{createViewChangedListener:function(t){return n.createListUpdatedListener(t)},getItems:function(){return i.getItems()},postponeUpdates:function(){u.postponeUpdates()},unPostponeUpdates:function(){u.unPostponeUpdates()},updateItems:function(n){i.beginUpdate();n=$.asArray(n);var t=FilterUtils.filterItems(n,e,{notPassedIdFunction:$.defaultIdFunction});t.passed.length>0&&i.put(t.passed);t.notPassed.length>0&&i.remove(t.notPassed);i.endUpdate()},removeItems:function(n){i.remove(n)},fetchItems:function(t,i,u,f,e,s){n.fetchListContent(u,r.filters,r.sorts,t,i,o(f),e,s)},bindTo:function(n){CollectionUtils.connectObservableCollection(n,u)},unbindFrom:function(n){CollectionUtils.disconnectObservableCollection(n)}}),f}},SortingOrder={Desc:"desc",Asc:"asc"};(function(n){function t(n,t){return n-t}function i(n){return function(t,i){return 0-n(t,i)}}n.numbersComparer=t;n.stringsComparer=function(n,t){n.localeCompare(t)};n.datesComparer=function(n,t){return new Date(n).getTime()-new Date(t).getTime()};n.createFieldsComparer=function(i,r){r=n.extend({sortByField:"sortBy",sortingOrderField:"sortType",comparerRuleField:"comparer",comparersMap:{}},r);var u=r.sortByField,f=r.sortingOrderField,e=r.comparerRuleField,o=r.comparersMap;return function(r,s){for(var h=0;h<i.length;h++){var c=i[h],l=c[u],v=c[f]===SortingOrder.Desc,y=n.valueOrDefaultArray(c[e],[o[l],t]),a=y(r[l],s[l]);if(a!==0)return v?-a:a}return 0}};n.createArrayComparer=function(n){return function(i,r){for(var f,u=0;u<i.length&&u<r.length;u++)if(f=n(i[u],r[u]),f!==0)return f;return t(i.length,r.length)}};n.createPriorityComparer=function(i){for(var u={},f=i.length,r=0;r<f;r++)u[i[r]]=f-r;return function(i,r){var f=n.valueOrDefault(u[i],0),e=n.valueOrDefault(u[r],0);return t(f,e)}};n.arrayDefaultComparer=n.createArrayComparer(t);n.stringsComparer=function(n,t){if(n&&n){var i=n.toLowerCase(),r=t.toLowerCase();return i<r?-1:i>r?1:0}return n===t?0:n?1:-1};Array.prototype.orderByDesc=function(n,r){return r===undefined&&(r=t),this.orderBy(n,i(r))};n.mergeSorted=function(i,r,u,f){var a,p,w;r=n.valueOrDefault(r,n.identity);u=n.valueOrDefault(u,t);f=n.valueOrDefault(f,n.identity);for(var c,o,h,l,b=[],s=[],v=[],y=0,e=0;e<i.length;e++){for(a=i[e],p=[],c=0;c<a.length;c++)o=a[c],p.push({value:r.call(o,o,c),item:f.call(o,o,a)});v.push(p);a.length>0?(y++,s.push(0)):s.push(undefined)}while(y>0){for(h=undefined,l=undefined,e=0;e<s.length;e++)w=s[e],w!==undefined&&(o=v[e][w],(l===undefined||u(o.value,l.value)<0)&&(l=o,h=e));b.push(l.item);s[h]++;s[h]>=v[h].length&&(s[h]=undefined,y--)}return b};Array.prototype.orderBy=function(i,r){var u,f,e,o;if(r===undefined&&(r=t),i=n.valueOrDefault(i,n.identity),f=this,i===n.identity)f.sort(function(n,t){return r(n,t)});else{for(e=[],u=0;u<f.length;u++)o=f[u],e.push({item:o,value:i.call(o,o,u)});for(e.sort(function(n,t){return r(n.value,t.value)}),u=0;u<f.length;u++)f[u]=e[u].item}return f};n.fn.orderBy=n.arrayFuncToJquery(Array.prototype.orderBy);n.fn.orderByDesc=n.arrayFuncToJquery(Array.prototype.orderByDesc);n.fn.applyDOMOrder=function(){for(var i,r,t=1;t<this.length;t++)i=n(this[t]),r=i.prev(),r[0]!==this[t-1]&&i.insertAfter(this[t-1]);return this};n.fn.applyChildrenSorting=function(n,t){for(var i=this,r=document.createDocumentFragment(),f=n.length,u=0;u<f;u++)r.appendChild(n[u]);return t?t(i,r):i.append(r),i}})(jQuery);var DateUtils=new function(){Date.now||(Date.now=function(){return(new Date).getTime()});var n=function(){var i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g,t=function(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n};return function(f,e,o){var s=e,l=n;if(arguments.length!=1||Object.prototype.toString.call(f)!="[object String]"||/\d/.test(f)||(s=f,f=undefined),f=f?new Date(f):new Date,isNaN(f))throw new SyntaxError("invalid date");s=String(l.masks[s]||s||l.masks["default"]);s.slice(0,4)=="UTC:"&&(s=s.slice(4),o=!0);var h=o?"getUTC":"get",a=f[h+"Date"](),w=f[h+"Day"](),v=f[h+"Month"](),b=f[h+"FullYear"](),c=f[h+"Hours"](),k=f[h+"Minutes"](),d=f[h+"Seconds"](),y=f[h+"Milliseconds"](),p=o?0:f.getTimezoneOffset(),g={d:a,dd:t(a),ddd:l.i18n.dayNames[w],dddd:l.i18n.dayNames[w+7],m:v+1,mm:t(v+1),mmm:l.i18n.monthNames[v],mmmm:l.i18n.monthNames[v+12],yy:String(b).slice(2),yyyy:b,h:c%12||12,hh:t(c%12||12),H:c,HH:t(c),M:k,MM:t(k),s:d,ss:t(d),l:t(y,3),L:t(y>99?Math.round(y/10):y),t:c<12?"a":"p",tt:c<12?"am":"pm",T:c<12?"A":"P",TT:c<12?"AM":"PM",Z:o?"UTC":(String(f).match(r)||[""]).pop().replace(u,""),o:(p>0?"-":"+")+t(Math.floor(Math.abs(p)/60)*100+Math.abs(p)%60,4),S:["th","st","nd","rd"][a%10>3?0:(a%100-a%10!=10)*a%10]};return s.replace(i,function(n){return n in g?g[n]:n.slice(1,n.length-1)})}}();n.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};n.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};this.formatDateMillis=function(n,t,i){return DateUtils.formatDate(new Date(n),t,i)};this.formatDateString=function(n,t,i){return DateUtils.formatDate(new Date(n),t,i)};this.formatDate=function(t,i,r){return n(t,i,r)};this.getCurrentDateString=function(t,i){return n(new Date,t,i)};this.getDateStringMillis=function(n){return new Date(n).getTime()}},DateFormats=[{title:"12/31/2014 (mm/dd/yyyy)",format:"mm-dd-yyyy"},{title:"31/12/2014 (dd/mm/yyyy)",format:"dd-mm-yyyy"},{title:"2014/12/31 (yyyy/mm/dd)",format:"yyyy-mm-dd"},{title:"Dec 31, 2014 (mmm dd, yyyy)",format:"mmm dd-yyyy"},{title:"31 Dec, 2014 (dd mmm, yyyy)",format:"dd mmm-yyyy"},{title:"December 31, 2014 (mmmm dd, yyyy)",format:"mmmm dd-yyyy"},{title:"31 December, 2014 (dd mmmm, yyyy)",format:"dd mmmm-yyyy"},{title:"Friday, September 28, 2014 (dddd, mmmm dd, yyyy)",format:"dddd-mmmm dd-yyyy"},{title:"12 (mm)",format:"mm"},{title:"Dec (mmm)",format:"mmm"},{title:"December (mmmm)",format:"mmmm"},{title:"31 (dd)",format:"dd"},{title:"Sun (ddd)",format:"ddd"},{title:"Sunday (dddd)",format:"dddd"},{title:"2014 (yyyy)",format:"yyyy"}],DateSeparators=[{title:"/",value:"/"},{title:".",value:"."},{title:"-",value:"-"},{title:",",value:", "}];(function(n,t){function y(n,t,r){var e=n.children(),o=!1,u,s,f;for(n.empty(),u=0,s=e.length;u<s;u++)if(f=e.eq(u),n.append(f),r&&n.append(r),i(n,t)){f.remove();o=!0;break}else r&&r.detach();return o}function e(t,r,u,f,s){var h=!1,c="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",l="script, .dotdotdot-keep";return t.contents().detach().each(function(){var v=this,a=n(v);if(typeof v=="undefined"||v.nodeType==3&&n.trim(v.data).length==0)return!0;if(a.is(l))t.append(a);else{if(h)return!0;t.append(a);s&&t[t.is(c)?"after":"append"](s);i(u,f)&&(h=v.nodeType==3?o(a,r,u,f,s):e(a,r,u,f,s),h||(a.detach(),h=!0));h||s&&s.detach()}}),h}function o(t,f,e,h,l){var a=t[0],tt,d,g;if(!a)return!1;var p=c(a),it=p.indexOf(" ")!==-1?" ":"",w=h.wrap=="letter"?"":it,v=p.split(w),nt=-1,b=-1,k=0,y=v.length-1;for(h.fallbackToLetter&&k==0&&y==0&&(w="",v=p.split(w),y=v.length-1);k<=y&&!(k==0&&y==0);){if(tt=Math.floor((k+y)/2),tt==b)break;b=tt;u(a,v.slice(0,b+1).join(w)+h.ellipsis);i(e,h)?(y=b,h.fallbackToLetter&&k==0&&y==0&&(w="",v=v[0].split(w),nt=-1,b=-1,k=0,y=v.length-1)):(nt=b,k=b)}if(nt==-1||v.length==1&&v[0].length==0){if(d=t.parent(),d.contents().filter(function(){return this.nodeType===3}).length<=1)return!0;t.detach();g=l&&l.closest(d).length?l.length:0;d.contents().length>g?a=r(d.contents().eq(-1-g),f):(a=r(d,f,!0),g||d.detach());a&&(p=s(c(a),h),u(a,p),i(e,h)&&o(n(a),f,e,h,l),g&&l&&n(a).parent().append(l))}else p=s(v.slice(0,nt+1).join(w),h),u(a,p);return!0}function i(n,t){var i=n.innerHeight();return i>t.maxHeight&&i>t.minHeight}function s(t,i){while(n.inArray(t.slice(-1),i.lastCharacter.remove)>-1)t=t.slice(0,-1);return n.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function h(n){return{width:n.innerWidth(),height:n.innerHeight()}}function u(n,t){n.innerText?n.innerText=t:n.nodeValue?n.nodeValue=t:n.textContent&&(n.textContent=t)}function c(n){return n.innerText?n.innerText:n.nodeValue?n.nodeValue:n.textContent?n.textContent:""}function l(n){do n=n.previousSibling;while(n&&n.nodeType!==1&&n.nodeType!==3);return n}function r(t,i,u){var e=t&&t[0],f;if(e){if(!u){if(e.nodeType===3)return e;if(n.trim(t.text()))return r(t.contents().last(),i)}for(f=l(e);!f;){if(t=t.parent(),t.is(i)||!t.length)return!1;f=l(t[0])}if(f)return r(n(f),i)}return!1}function p(t,i){return t?typeof t=="string"?(t=n(t,i),t.length?t:!1):t.jquery?t:!1:!1}function w(n){for(var t,r=n.innerHeight(),u=["paddingTop","paddingBottom"],i=0,f=u.length;i<f;i++)t=parseInt(n.css(u[i]),10),isNaN(t)&&(t=0),r-=t;return r}var f,a,v;n.fn.dotdotdot||(n.fn.dotdotdot=function(t){var r;if(this.length==0)return n.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){n(this).dotdotdot(t)});r=this;r.data("dotdotdot")&&r.trigger("destroy.dot");r.data("dotdotdot-style",r.attr("style")||"");r.css("word-wrap","break-word");r.css("white-space")==="nowrap"&&r.css("white-space","normal");r.bind_events=function(){return r.bind("update.dot",function(t,f){t.preventDefault();t.stopPropagation();u.maxHeight=n.isFunction(u.height)?u.height():typeof u.height=="number"?u.height:w(r);u.maxHeight+=u.tolerance;u.minHeight=n.isFunction(u.ignoredHeight)?u.ignoredHeight():typeof u.ignoredHeight=="number"?u.ignoredHeight:0;typeof f!="undefined"&&((typeof f=="string"||f instanceof HTMLElement)&&(f=n("<div />").append(f).contents()),f instanceof n&&(c=f));s=r.wrapInner('<div class="dotdotdot" />').children();s.contents().detach().end().append(c.clone(!0)).find("br").replaceWith("<br />").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var h=!1,l=!1;return o.afterElement&&(h=o.afterElement.clone(!0),h.show(),o.afterElement.detach()),i(s,u)&&(l=u.wrap=="children"?y(s,u,h):e(s,r,s,u,h)),s.replaceWith(s.contents()),s=null,n.isFunction(u.callback)&&u.callback.call(r[0],l,c),o.isTruncated=l,l}).bind("isTruncated.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],o.isTruncated),o.isTruncated}).bind("originalContent.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],c),c}).bind("destroy.dot",function(n){n.preventDefault();n.stopPropagation();r.unwatch().unbind_events().contents().detach().end().append(c).attr("style",r.data("dotdotdot-style")||"").data("dotdotdot",!1)}),r};r.unbind_events=function(){return r.unbind(".dot"),r};r.watch=function(){if(r.unwatch(),u.watch=="window"){var t=n(window),i=t.width(),f=t.height();t.bind("resize.dot"+o.dotId,function(){i==t.width()&&f==t.height()&&u.windowResizeFix||(i=t.width(),f=t.height(),l&&clearInterval(l),r.is(":visible")&&(l=setTimeout(function(){r.trigger("update.dot")},100)))})}else a=h(r),l=setInterval(function(){if(r.is(":visible")){var n=h(r);(a.width!=n.width||a.height!=n.height)&&(r.trigger("update.dot"),a=n)}},500);return r};r.unwatch=function(){return n(window).unbind("resize.dot"+o.dotId),l&&clearInterval(l),r};var c=r.contents(),u=n.extend(!0,{},n.fn.dotdotdot.defaults,t),o={},a={},l=null,s=null;return u.lastCharacter.remove instanceof Array||(u.lastCharacter.remove=n.fn.dotdotdot.defaultArrays.lastCharacter.remove),u.lastCharacter.noEllipsis instanceof Array||(u.lastCharacter.noEllipsis=n.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),o.afterElement=p(u.after,r),o.isTruncated=!1,o.dotId=f++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),u.watch&&r.watch(),r},n.fn.dotdotdot.defaults={ellipsis:"...",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},n.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},n.fn.dotdotdot.debug=function(){},f=1,a=n.fn.html,n.fn.html=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):a.apply(this,arguments)},v=n.fn.text,n.fn.text=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?(i=n("<div />").text(i).html(),this.trigger("update",[i])):v.apply(this,arguments)})})(jQuery);var ObservableCollection=function(){function t(n,t,i,r){var u,f;return(r=$.valueOrDefault(r,$.referencesEqualityComparer),u=n[t],u!==undefined&&(f=$.findFirst(i,function(n,t){return!r(u[n],t)}),f!==undefined))?(u=$.quickExtend({},u),$.quickExtend(u,i),n[t]=u,u):undefined}var n=Class.extend("ObservableCollection",{init:function(n){n=$.quickExtend({idFunction:$.defaultIdFunction,comparerFunction:$.defaultEqualityComparer,attributes:{}},n);this._idFunction=n.idFunction;this._comparerFunction=n.comparerFunction;this._items={};this._attributes=n.attributes;this._count=0;this.id=$.weakID();this.itemsAddedEvent=SimpleEvent.create();this.itemsRemovedEvent=SimpleEvent.create();this.itemsUpdatedEvent=SimpleEvent.create();this.itemUpdatedEvent=SimpleEvent.create();this.itemAddedEvent=SimpleEvent.create();this.itemRemovingEvent=SimpleEvent.create();this.updateBatch=OperationsBatch.create()},getAttributes:function(){return this._attributes},supportsDelayedFetching:$.returnFalse,isObservableCollection:$.returnTrue,setAttributes:function(n){$.quickExtend(this._attributes,n)},beginUpdate:function(){this.updateBatch.begin()},endUpdate:function(){this.updateBatch.end()},connectObservableCollection:function(n,t){return CollectionUtils.connectObservableCollection(this,n,t)},disconnectObservableCollection:function(){CollectionUtils.disconnectObservableCollection(this)},updateItemFields:function(n,i,r){var u=this,o=u._items,e,f;e=typeof n=="object"?u._idFunction(n):n;f=t(o,e,i,r);f!==undefined&&u.invalidateItems(f)},updateItemsFields:function(n,i){var r=this,e=r._items,u,f,o;r.beginUpdate();u=[];for(f in e)o=t(e,f,n(f,e[f]),i),o!==undefined&&u.push(o);u.length>0&&r.invalidateItems(u);r.endUpdate()},syncrhonize:function(n){var t=this,f=t._items,i,r,u;$.isPlainObject(n)?i=n:(n=$.asArray(n),i=$.makeSet(n,t._idFunction));r=[];for(u in f)i[u]===undefined&&r.push(u);t.beginUpdate();t.remove(r);t.put(n);t.endUpdate()},invalidateItems:function(n){var t,i;if(n!==undefined){for(t=this,n=$.asArray(n),t.beginUpdate(),i=0;i<n.length;i++)t.itemUpdatedEvent.fireNew(n[i]);n.length>0&&t.itemsUpdatedEvent.fireNew(n);t.endUpdate()}},put:function(n){var s,h;if(n!==undefined){var i=this,c=i._idFunction,l=i._comparerFunction,f=i._items,t;n=$.asArray(n);var u=[],e=[],a=n.length;for(t=0;t<a;t++){var r=n[t],o=c(r),v=f[o]!==undefined;v?l(f[o],r)||(f[o]=r,u.push(r)):(f[o]=r,e.push(r))}for(i.beginUpdate(),s=e.length,t=0;t<s;t++)i.itemAddedEvent.fireNew(e[t]);for(s>0&&(i._count+=s,i.itemsAddedEvent.fireNew(e)),h=u.length,t=0;t<h;t++)i.itemUpdatedEvent.fireNew(u[t]);u.length>0&&i.itemsUpdatedEvent.fireNew(u);i.endUpdate()}},remove:function(n){var t=this,o=t._items,i,s,r,u,f,e;for(t.beginUpdate(),n=$.asArray(n),i=[],s=n.length,r=0;r<s;r++)u=n[r],f=o[u],f!==undefined&&(t.itemRemovingEvent.fireNew(f),delete o[u],i.push(u));e=i.length;e>0&&(t._count-=e,t.itemsRemovedEvent.fireNew(i));t.endUpdate()},clear:function(){this.remove($.getKeys(this._items))},getIDFunction:function(){return this._idFunction},getItems:function(){return this._items},getItemsLength:function(){return this._count},hasItems:function(){return this._count>0},getItemsValues:function(){return $.getValues(this._items)},getItem:function(n){return this._items[n]}});return n.create=function(t){return new n(t)},n}(),VersionController=new function(){this.create=function(n){var r=1,t=0,i=n?1:0;return{informOperation:function(){i=r},isDirty:function(){return i>t},beginSaving:function(){r++;var n=i;return{finishSaving:function(){t<n&&(t=n)}}}}};this.beginSaving=function(n){for(var r,t=[],i=0;i<n.length;i++)r=n[i],t.push(r.beginSaving());return{finishSaving:function(){for(var n=0;n<t.length;n++)t[n].finishSaving()}}}},CollectionObserver=function(){function n(n,h,c){var a;c=$.quickExtend({unionWithItems:undefined},c);a=c.unionWithItems;h=$.valueOrDefault(h,!1);var y=n.getIDFunction(),p=n.supportsDelayedFetching(),l=SimpleEvent.createBindingsCollection(),w=this,v=ObservableFlag.createConditionalNegative({valueChangeCallback:function(n){s(w,n)}});this._observableCollection=n;this._supportDelayedFetching=p;this._isPostponingUpdatesFlag=v;this._bindingsCollection=l;this._idFunction=y;this._batchAddedItems={};this._batchRemovedItemIds={};this._batchUpdatedItems={};this.itemsChangedEvent=SimpleEvent.create();this.itemChangedEvent=SimpleEvent.create();this.itemsAddedEvent=SimpleEvent.create();this.itemAddedEvent=SimpleEvent.create();this.itemsRemovedEvent=SimpleEvent.create();this.itemRemovedEvent=SimpleEvent.create();this.itemsUpdatedEvent=SimpleEvent.create();this.itemUpdatedEvent=SimpleEvent.create();this.allFetchedEvent=SimpleEvent.create();this.updateBatch=OperationsBatch.create();n.updateBatch.startedEvent.bind(function(){v.setTrue("CollectionUpdate")});n.updateBatch.finishedEvent.bind(function(){v.setFalse("CollectionUpdate")});a&&(this._unionItemsSet=$.makeSet(a,y),this._unionWithItems=a);l.add(n.itemsAddedEvent.bind($.firstArgProxy(t,this)));l.add(n.itemsRemovedEvent.bind($.firstArgProxy(i,this)));l.add(n.itemsUpdatedEvent.bind($.firstArgProxy(r,this)));l.add(n.itemUpdatedEvent.bind($.firstArgProxy(u,this)));l.add(n.itemAddedEvent.bind($.firstArgProxy(f,this)));l.add(n.itemRemovingEvent.bind($.firstArgProxy(e,this)));p&&l.add(n.allFetchedEvent.bind($.firstArgProxy(o,this)));h&&this.postponeUpdates()}function t(n,t){var i;if(n.isPostponed())for(i=0;i<t.length;i++){var u=t[i],r=n._idFunction(u),f=n._batchRemovedItemIds;f[r]!==undefined?(delete f[r],n._batchUpdatedItems[r]=u):n._batchAddedItems[r]=u}else n.itemsAddedEvent.fireNew(t),n.itemsChangedEvent.fireNew({addedItems:t})}function i(n,t){var r,u;if(n.isPostponed())for(r=0;r<t.length;r++){var i=t[r],f=!0,e=n._batchAddedItems;e[i]!==undefined&&(delete e[i],f=!1);u=n._batchUpdatedItems;u[i]!==undefined&&delete u[i];f&&(n._batchRemovedItemIds[i]=i)}else n.itemsRemovedEvent.fireNew(t),n.itemsChangedEvent.fireNew({removedItems:t})}function r(n,t){var r,f;if(n.isPostponed())for(r=0;r<t.length;r++){var u=t[r],i=n._idFunction(u),e=n._batchAddedItems;e[i]===undefined?n._batchUpdatedItems[i]=u:e[i]=u;f=n._batchRemovedItemIds;f[i]!==undefined&&(delete f[i],console.warn("Notified item update after item removing."))}else n.itemsUpdatedEvent.fireNew(t),n.itemsChangedEvent.fireNew({updatedItems:t})}function u(n,t){n.isPostponed()||(n.itemUpdatedEvent.fireNew(t),n.itemChangedEvent.fireNew(n._idFunction(t)))}function f(n,t){n.isPostponed()||(n.itemAddedEvent.fireNew(t),n.itemChangedEvent.fireNew(n._idFunction(t)))}function e(n,t){if(!n.isPostponed()){var i=n._idFunction(t);n.itemRemovedEvent.fireNew(i);n.itemChangedEvent.fireNew(i)}}function o(n){n.allFetchedEvent.fireNew()}function s(n,t){var o;if(!t){o=n._idFunction;n.updateBatch.start();var i=$.getValues(n._batchAddedItems),r=$.getValues(n._batchRemovedItemIds),u=$.getValues(n._batchUpdatedItems),f={},e=!0;n._batchAddedItems={};n._batchRemovedItemIds={};n._batchUpdatedItems={};i.length>0&&(n.itemsAddedEvent.fireNew(i),f.addedItems=i,e=!1);r.length>0&&(n.itemsRemovedEvent.fireNew(r),f.removedItems=r,e=!1);u.length>0&&(n.itemsUpdatedEvent.fireNew(u),f.updatedItems=u,e=!1);e||(n.itemsChangedEvent.fireNew(f),$.eachItem(u,function(t,i){n.itemUpdatedEvent.fireNew(i);n.itemChangedEvent.fireNew(o(i))}),$.eachItem(i,function(t,i){n.itemAddedEvent.fireNew(i);n.itemChangedEvent.fireNew(o(i))}),$.eachItem(r,function(t,i){n.itemRemovedEvent.fireNew(i);n.itemChangedEvent.fireNew(i)}));n.updateBatch.finish()}}return n.prototype.getObservableCollection=function(){return this._observableCollection},n.prototype.supportsDelayedFetching=function(){return this._supportDelayedFetching},n.prototype.isObservableCollection=$.returnTrue,n.prototype.isPostponed=function(){return this._isPostponingUpdatesFlag.isTrue()},n.prototype.postponeUpdates=function(){var n=this._isPostponingUpdatesFlag,t=n.isTrue();return n.setTrue(),t},n.prototype.unPostponeUpdates=function(){this._isPostponingUpdatesFlag.setFalse()},n.prototype.release=function(){this._bindingsCollection.unbindAll()},n.prototype.getIDFunction=function(){return this._idFunction},n.prototype.hasMore=function(){return this.supportsDelayedFetching()?this.getObservableCollection().hasMore():!1},n.prototype.hasFetchedOnce=function(){return this.supportsDelayedFetching()?this.getObservableCollection().hasFetchedOnce():!0},n.prototype.fetchMore=function(n,t){t=$.valueOrDefault(t,$.noop);this.supportsDelayedFetching()?this.getObservableCollection().fetchMore(n,t):t()},n.prototype.getItemsLength=function(){return this.getObservableCollection().getItemsLength()},n.prototype.fetchTo=function(n,t){t=$.valueOrDefault(t,$.noop);this.supportsDelayedFetching()?this.getObservableCollection().fetchTo(n,t):t()},n.prototype.fetchAll=function(n){n=$.valueOrDefault(n,$.noop);this.supportsDelayedFetching()?this.getObservableCollection().fetchAll(n):n()},n.prototype.getItem=function(n){return this._observableCollection.getItem(n)},n.prototype.getItems=function(){var n=this._observableCollection.getItems(),t=this._unionItemsSet;return t?$.extend({},t,n):n},n.prototype.hasItems=function(){return this._observableCollection.hasItems()},n.prototype.getItemsValues=function(){var n=this._observableCollection.getItemsValues(),t=this._unionWithItems;return t?t.concat(n):n},n.create=function(t,i,r){return new n(t,i,r)},n}(),ColorCoordinate={Red:0,Green:1,Blue:2,Hue:3,Saturation:4,Brightness:5,Opacity:6};(function(n){function t(n){switch(n){case ColorCoordinate.Red:return 0;case ColorCoordinate.Green:return 1;case ColorCoordinate.Blue:return 2;case ColorCoordinate.Hue:return 0;case ColorCoordinate.Saturation:return 1;case ColorCoordinate.Brightness:return 2;case ColorCoordinate.Opacity:return 3}}n.calculateForegroundColor=function(t){if(!t||n.isGradient(t))return n.Color("black");var i=n.Color(t).toRGB();return i[0]*.299+i[1]*.587+i[2]*.114>150?n.Color("black"):n.Color("white")};n.generateHSLSwatch=function(){for(var f,t,e,r=[],u=["red","blue","green","yellow","orange","purple","indigo","black"],i=0;i<u.length;i++)for(f=n.Color(u[i]),t=.1;t<=.9;t+=.1)e=f.toHSL().modify([null,null,t]),r.push(e);return r};n.calculateMeanColor=function(t,i,r,u,f){return n.Color([Math.floor(n.calculateMeanValue(t,i,r,u[0],f[0])),Math.floor(n.calculateMeanValue(t,i,r,u[1],f[1])),Math.floor(n.calculateMeanValue(t,i,r,u[2],f[2])),n.calculateMeanValue(t,i,r,n.valueOrDefault(u[3],1),n.valueOrDefault(f[3],1))])};n.recolor=function(t,i,r,u){function e(t){var o=n.Color(t).toHSL(),s=o[0],f=o[1],e=o[2],h=o.getAlpha();return i!=0&&(s=n.modulo(Math.round(s*360)+i,360)/360),r>0?f=f+(1-f)*(r/100):r<0&&(f=f-f*(Math.abs(r)/100)),u>0?e=e+(1-e)*(u/100):u<0&&(e=e-e*(Math.abs(u)/100)),n.Color([s,f,e,h],"HSL").toCSS()}if(n.assertRange(i,-180,180),n.assertRange(r,-100,100),n.assertRange(u,-100,100),n.isGradient(t)){var f=t.gradient;return{gradient:{colorStops:n.map(f.colorStops,function(n){return{location:n.location,value:e(n.value)}}),opacityStops:n.map(f.opacityStops,function(n){return{location:n.location,value:n.value}})},orientation:t.orientation}}return e(t)};n.colorsEqualityComparer=function(t,i){return n.colorsEqual(t,i)};n.colorsEqual=function(t,i,r){if(r=n.valueOrDefault(r,!0),t&&i){var u=n.Color(t).toRGB(),f=n.Color(i).toRGB(),e=n.valueOrDefault(u[3],1),o=n.valueOrDefault(f[3],1);return u[0]===f[0]&&u[1]===f[1]&&u[2]===f[2]&&(!r||e===o)}return t===i};n.getCoordinateValue=function(i,r){n.isRGBCoordinate(r)&&i.space!=="RGB"?i=n.Color(i).toRGB():n.isHSLCoordinate(r)&&i.space!=="HSL"&&(i=n.Color(i).toHSL());var f=t(r),u=i[f];return u===undefined&&r===ColorCoordinate.Opacity?1:u};n.getCoordinateDelta=function(t,i,r){return n.getCoordinateValue(t,r)-n.getCoordinateValue(i,r)};n.colorsSimilarExceptCoordinate=function(i,r,u){var e,f;if(i&&r){for(typeof i=="string"&&(i=n.Color(i)),typeof r=="string"&&(r=n.Color(r)),i=n.getRelevantCoordinates(i,u),r=n.getRelevantCoordinates(r,u),e=t(u),f=0;f<i.length;f++)if(f!==e&&i[f]!==r[f])return!1;return!0}return i===r};n.isRGBCoordinate=function(n){return n===ColorCoordinate.Red||n===ColorCoordinate.Green||n===ColorCoordinate.Blue};n.isHSLCoordinate=function(n){return n===ColorCoordinate.Hue||n===ColorCoordinate.Saturation||n===ColorCoordinate.Brightness};n.adjustCoordinate=function(t,i,r){return r===undefined?t:n.modifyCoordinate(t,i,n.getCoordinateValue(t,i)+r)};n.modifyCoordinate=function(i,r,u){if(i=n.Color(i),r===ColorCoordinate.Opacity)return i.setAlpha(u);var f=[null,null,null];return n.isRGBCoordinate(r)?(i=i.toRGB(),u=Math.max(0,Math.min(255,Math.round(u)))):n.isHSLCoordinate(r)&&(i=i.toHSL(),u=Math.max(0,Math.min(1,u))),f[t(r)]=u,i.modify(f)};n.getRelevantCoordinates=function(t,i){return(t=n.Color(t),i===ColorCoordinate.Opacity||n.isRGBCoordinate(i))?t.toRGB():n.isHSLCoordinate(i)?t.toHSL():undefined};n.getCoordinateMaxValue=function(n){switch(n){case ColorCoordinate.Red:case ColorCoordinate.Green:case ColorCoordinate.Blue:return 256;case ColorCoordinate.Hue:case ColorCoordinate.Saturation:case ColorCoordinate.Brightness:case ColorCoordinate.Opacity:return 1}};n.getRGBA=function(t){var r;return t&&t.constructor==Array&&t.length==3?t:(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),1]:(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*(1|0|0\.[0-9]*)\s*\)/.exec(t))?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])]:(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,1]:(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),1]:(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16),1]:(r=/rgba\(0, 0, 0, 0\)/.exec(t))?i.transparent:i[n.trim(t).toLowerCase()].concat([1])};var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255,0]}})(jQuery);var CanvasLayouts={FillHorizontally:1,FillVertically:2},Canvas=new function(){function t(){return $.browser.msie&&parseInt($.browser.version)<9}function i(t,i){var r={properties:$.extend({centerX:0,centerY:0,radiusX:0,radiusY:0},i),drawShape:function(n){var i=r.properties,o,s,u,f;r.isLayoutActive(CanvasLayouts.FillHorizontally)?(o=t.size.width-i.lineWidth,u=i.lineWidth/2):(o=i.radiusX*2,u=i.centerX-o/2);r.isLayoutActive(CanvasLayouts.FillVertically)?(s=t.size.height-i.lineWidth,f=i.lineWidth/2):(s=i.radiusY*2,f=i.centerY-s/2);var y=.5522848,c=o/2*y,l=s/2*y,a=u+o,v=f+s,h=u+o/2,e=f+s/2;n.beginPath();n.moveTo(u,e);n.bezierCurveTo(u,e-l,h-c,f,h,f);n.bezierCurveTo(h+c,f,a,e-l,a,e);n.bezierCurveTo(a,e+l,h+c,v,h,v);n.bezierCurveTo(h-c,v,u,e+l,u,e);n.closePath()}};return n(r,t,i)}function r(t,i){var r={properties:$.extend({width:0,height:0,x:0,y:0,angle:0},i),drawShape:function(n){var a=r.properties,o=a.lineWidth/2,f=a.width,e=a.height,i=a.x,u=a.y,y,l,h;if(r.isLayoutActive(CanvasLayouts.FillHorizontally)&&(f=t.size.width,i=0),r.isLayoutActive(CanvasLayouts.FillVertically)&&(e=t.size.height,u=0),n.beginPath(),a.angle===45||a.angle===135||a.angle===225||a.angle===315){if(o>0){var v=Math.sqrt(Math.pow(e,2)+Math.pow(f,2)),c=Math.asin(f/v)*180/Math.PI,s=90-c,h=o/Math.sin(c*Math.PI/180)+Math.sin(s*Math.PI/180)*o/Math.cos(s*Math.PI/180);e-=h+o;y=e/Math.cos(c*Math.PI/180)*Math.sin(c*Math.PI/180);l=f-y-o;f=y;i=Math.round(i);u=Math.round(u);f=Math.round(f);e=Math.round(e)}switch(a.angle){case 45:o>0&&(i+=o,u+=h);n.moveTo(i,u);n.lineTo(i,u+e);n.lineTo(i+f,u+e);break;case 135:o>0&&(i+=o,u+=o);n.moveTo(i,u);n.lineTo(i,u+e);n.lineTo(i+f,u);break;case 225:o>0&&(f=y,i+=l,u+=h);n.moveTo(i,u);n.lineTo(i+f,u);n.lineTo(i+f,u+e);break;case 315:o>0&&(i+=l,u+=h);n.moveTo(i,u+e);n.lineTo(i+f,u+e);n.lineTo(i+f,u)}}else switch(a.angle){case 90:if(o>0){var v=Math.sqrt(Math.pow(e/2,2)+Math.pow(f,2)),c=Math.asin(f/v)*180/Math.PI,s=180-2*c,h=o/Math.sin(c*Math.PI/180)+Math.sin(s/2*Math.PI/180)*o/Math.cos(s/2*Math.PI/180);e-=h*2;l=o/Math.sin(s/2*Math.PI/180);f-=o+l;i+=o;u+=h;i=Math.round(i);u=Math.round(u);f=Math.round(f);e=Math.round(e)}n.moveTo(i,u);n.lineTo(i,u+e);n.lineTo(i+f,u+Math.round(e/2));break;case 180:if(o>0){var v=Math.sqrt(Math.pow(f/2,2)+Math.pow(e,2)),c=Math.asin(e/v)*180/Math.PI,s=180-2*c,l=o/Math.sin(c*Math.PI/180)+Math.sin(s/2*Math.PI/180)*o/Math.cos(s/2*Math.PI/180);f-=l*2;h=o/Math.sin(s/2*Math.PI/180);e-=o+h;i=Math.round(i);u=Math.round(u);f=Math.round(f);e=Math.round(e);i+=l;u+=o}n.moveTo(i,u);n.lineTo(i+f,u);n.lineTo(i+Math.round(f/2),u+e);break;case 270:if(o>0){var v=Math.sqrt(Math.pow(e/2,2)+Math.pow(f,2)),c=Math.asin(f/v)*180/Math.PI,s=180-2*c,h=o/Math.sin(c*Math.PI/180)+Math.sin(s/2*Math.PI/180)*o/Math.cos(s/2*Math.PI/180);e-=h*2;l=o/Math.sin(s/2*Math.PI/180);f-=o+l;i+=l;u+=h;i=Math.round(i);u=Math.round(u);f=Math.round(f);e=Math.round(e)}n.moveTo(i+f,u);n.lineTo(i+f,u+e);n.lineTo(i,u+Math.round(e/2));break;default:if(o>0){var v=Math.sqrt(Math.pow(f/2,2)+Math.pow(e,2)),c=Math.asin(e/v)*180/Math.PI,s=180-2*c,l=o/Math.sin(c*Math.PI/180)+Math.sin(s/2*Math.PI/180)*o/Math.cos(s/2*Math.PI/180);f-=l*2;h=o/Math.sin(s/2*Math.PI/180);e-=o+h;i+=l;u+=h;i=Math.round(i);u=Math.round(u);f=Math.round(f);e=Math.round(e)}n.moveTo(i,u+e);n.lineTo(i+f,u+e);n.lineTo(i+Math.round(f/2),u)}n.closePath()}};return n(r,t,i)}function n(n,t,i){return $.extend(n.properties,{lineWidth:0,strokeColor:"black",backgroundColor:"transparent"},i),$.extend(n,{repaint:function(i){var u=n.properties,r,f;if(n.drawShape(i),r=u.backgroundColor,$.isGradient(r)){var e=r.orientation,c=e===Orientation.Vertical?t.size.height:0,l=e===Orientation.Horizontal?t.size.width:0,o=$.normalizeGradientStops(r.gradient),s=i.createLinearGradient(0,0,l,c);for(f=0;f<o.length;f++){var h=o[f],a=$.Color(h.color),v=$.valueOrDefault(h.stop,0);s.addColorStop(v/100,a.toCSS(!0))}i.fillStyle=s;i.fill()}else r=$.Color(r).toCSS(),r!=="transparent"&&(i.fillStyle=r,i.fill());u.lineWidth>0&&(i.lineWidth=u.lineWidth,i.strokeStyle=u.strokeColor,i.stroke())}}),u(n,t)}function u(n,t){return $.extend(n,{id:t.idGenerator.next(),setPropertyValue:function(i,r){var u=n.properties,f=u[i];f!==r&&(u[i]=r,t.repaint())},setPropertiesValues:function(i){t.beginUpdate();for(var r in i)n.setPropertyValue(r,i[r]);t.endUpdate()},toggleLayout:function(i,r){var u=n.isLayoutActive(i);return u!==r&&(r?n.layouts[i]=!0:delete n.layouts[i],t.repaint()),n},isLayoutActive:function(t){return n.layouts[t]!==undefined},layouts:{}})}this.create=function(){function f(t){return function(){var f=arguments.length,u=new Array(f+1),i,e,r;for(u[0]=n,i=0;i<f;i++)u[i+1]=arguments[i];return e=this,r=t.apply(e,u),n.elements[r.id]=r,n.repaint(),r}}var u=$("<canvas><\/canvas>"),n={$element:u,canvas:u[0],idGenerator:$.createWeakIdGenerator(),elements:{},size:{width:0,height:0},isInitialized:!1,duringUpdate:0,repaintOnEndUpdate:!1,initialize:function(){function i(){G_vmlCanvasManager.initElement(n.canvas);n.isInitialized=!0;n.refreshSize()}if(!n.isInitialized)if(t())if(G_vmlCanvasManager.isInitialized)i();else G_vmlCanvasManager.initialized.one(i);else n.isInitialized=!0,n.refreshSize()},beginUpdate:function(){n.duringUpdate++},endUpdate:function(){n.duringUpdate=Math.max(0,n.duringUpdate-1);n.duringUpdate===0&&n.repaintOnEndUpdate&&(n.repaintOnEndUpdate=!1,n.repaint())},repaint:function(){var t,i,r,u;if(n.isInitialized)if(n.duringUpdate>0)n.repaintOnEndUpdate=!0;else{t=n.canvas;i=t.getContext("2d");i.clearRect(0,0,t.width,t.height);r=n.elements;for(u in r)r[u].repaint(i)}},refreshSize:function(t){n.initialize();$.browser.msie&&parseInt($.browser.version)<9&&n.$element.css({width:"",height:""});var i=t;(i===undefined||i===null)&&(i=n.$element.elementSize());n.size=i;n.$element.attr("width",i.width).attr("height",i.height);n.repaint()}};return $(window).resize(function(t){(t.target===window||t.target===document)&&n.repaint()}),$.extend(n,{addEllipse:f(i),addTriangle:f(r)})}},Exceptions={UserNotLoggedIn:"UserNotLoggedInException",DownForMaintenanceException:"DownForMaintenanceException",GroupAlreadyExists:"GroupAlreadyExistsException",SiteAlreadyExists:"SiteAlreadyExistsException",PartialOperationFailure:"PartialOperationFailureException",UnknownError:"UnknownErrorException",EmailAlreadyExistsException:"EmailAlreadyExistsException",UserAlreadyExistsException:"UserAlreadyExistsException",UserNotFound:"UserNotFoundException",EmailNotFound:"EmailNotFoundException",IncorrectPassword:"IncorrectPasswordException",PasswordRequired:"PasswordRequiredException",EmailRequired:"EmailRequiredException",NameRequired:"NameRequiredException",InvalidSubdomainException:"InvalidSubdomainException",SiteNameTooLong:"SiteNameTooLongException",SubdomainAlreadyExistsException:"SubdomainAlreadyExistsException",SubdomainTooShortException:"SubdomainTooShortException",InvalidEmailException:"InvalidEmailException",SiteDoesNotExistsException:"SiteDoesNotExistsException",NotAuthorizedException:"NotAuthorizedException",AuthorizationException:"AuthorizationException",AlbumAlreadyExistsException:"AlbumAlreadyExistsException",ValidationException:"ValidationException",ResourceAlreadyExistsException:"ResourceAlreadyExistsException",DifferentDomainOwnerException:"DifferentDomainOwnerException",UserAlreadyConnectedToSiteException:"UserAlreadyConnectedToSiteException",StudioAlreadyExists:"StudioAlreadyExistsException",InnerException:"InnerException",DuplicateUserStudio:"DuplicateUserStudioException",InvalidFileTypeException:"InvalidFileTypeException",FileSizeException:"FileSizeException",UrlAliasAlreadyExistsException:"UrlAliasAlreadyExistsException",InvalidUrlAliasException:"InvalidUrlAliasException",EntityNotExistsException:"EntityNotExistsException"},ExceptionContext={Login:1,Registration:2,Domain:3},Exception=new function(){this.create=function(n,t){return{ExceptionType:n,Message:t}};this.getExceptionType=function(n){if($.isPlainObject(n)){var t=n.ExceptionType;if(t)return t.substring(t.lastIndexOf(".")+1)}return Exceptions.UnknownError};this.createExceptionHandler=function(n,t){return function(i){var r=Exception.getUserDescription(i,t);n(r)}};this.getUserDescription=function(n,t){switch(Exception.getExceptionType(n)){case"InvalidSiteNameException":return"Invalid Site Name or Subdomain";case"InvalidUserNameException":return"Invalid Username";case"UnknownUserException":return"That username does not exist. Please check your username, or enter your email address.";case Exceptions.UserNotLoggedIn:return"You are not logged in";case Exceptions.UserNotFound:return"User was not found.";case Exceptions.EmailNotFound:return"Email was not found.";case Exceptions.IncorrectPassword:return"Incorrect password.";case Exceptions.PasswordRequired:return"Password is required.";case Exceptions.EmailRequired:return"Email is required.";case Exceptions.NameRequired:return"Full name is required.";case Exceptions.GroupAlreadyExists:case Exceptions.SiteAlreadyExists:return"A site with the specified name already exists";case Exceptions.SiteNameTooLong:return"Please keep your site name to 30 characters or less.";case Exceptions.SubdomainTooShortException:return"Please enter at least 3 characters as subdomain.";case Exceptions.SubdomainAlreadyExistsException:return"Sorry, a site with the specified subdomain already exists";case Exceptions.InvalidSubdomainException:return"Invalid subdomain";case Exceptions.AlbumAlreadyExistsException:return"An album with the specified name already exists";case"FontFamilyAlreadyExistsException":return"Font Family Already Exists";case Exceptions.SiteDoesNotExistsException:return"The site you are trying to edit does not exist";case Exceptions.NotAuthorizedException:case Exceptions.AuthorizationException:switch(t){case ExceptionContext.Login:return"Your username doesnt match your password.";default:return"You are not authorized to perform this operation."}case Exceptions.UserAlreadyExistsException:return"Username Already Exists";case Exceptions.EmailAlreadyExistsException:return"Email Already Exists";case Exceptions.InvalidEmailException:return"A valid e-mail is required";case Exceptions.ValidationException:switch(t){case ExceptionContext.Domain:return"The Domain You Entered Is Invalid";default:return"Error In Data Validation"}case Exceptions.ResourceAlreadyExistsException:switch(t){case ExceptionContext.Domain:return"The domain or the sub-domain you entered, already exists";default:return"Resource Already Exists"}case Exceptions.InnerException:case Exceptions.UnknownError:var i=n.Message;return typeof i=="string"?i:"Internal error occurred.";case Exceptions.StudioAlreadyExists:return"Studio with the specified name already exists";case Exceptions.DuplicateUserStudio:return"Can't create more than one studio per user";case Exceptions.DifferentDomainOwnerException:return"The domain you entered is registered by another user. Please contact <a href='mailto:support@webzai.com'>support@webzai.com<\/a> in case you are the domain owner.";case"UserAlreadyConnectedToSiteException":return"User is already connected to the site.";case Exceptions.InvalidFileTypeException:return"File type is not supported.";case Exceptions.FileSizeException:return"File size exceeds the limit allowed.";case Exceptions.UrlAliasAlreadyExistsException:return"Chosen Friendly URL already in use.";case Exceptions.EntityNotExistsException:return"Error Occurred while fetching post content.";case Exceptions.InvalidUrlAliasException:return"Chosen Friendly URL is invalid. <br> Only letters, numbers and ._@!- are allowed.";default:switch(t){case ExceptionContext.Login:return"Internal error occurred. Please login again.";case ExceptionContext.Registration:return"Registration Failed. Please Try Again Later.";default:return"Internal Error Occurred."}}}};(function(n){function r(i){t=n(i.target)}function u(){t=null}var t=null,i;n(function(){n(document).on("focusin",r);n(document).on("focusout",u)});n.clearFocus=function(){i||(i=n("<input type='text'>").css({opacity:0,position:"absolute",left:0,top:0,width:0}).appendTo("body"));i[0].focus();i[0].blur()};n.getFocusedElement=function(){return t};n.fn.blurContextElement=function(){t&&t.hasAncestor(this)&&n.clearFocus()}})(jQuery);PanelAppearance={Window:"panel-appearance-window",Contained:"panel-appearance-contained"};PanelsManager=new function(){var n=this,t=Class.extend("DeferredPanel",{init:function(n,t){t=$.quickExtend({creationArgs:[],defaultActivationArgs:undefined,creationCallback:$.noop,activationHandler:$.noop},t);var i=this;this._panelFactory=n;this._options=t;this._ignoreDeactivationRequest=!1;this._ignoreActivatedFlagChange=!1;this.id=$.uniqueID();this.isDeferredPanel=!0;this.panelInitializedEvent=SimpleEvent.create();this.isCreated=!1;this.isEnabled=ObservableFlag.createConditionalPositive({valueChangeCallback:function(n){if(i.isActivated.isTrue()){var r=i.getPanel();n?t.activationHandler.call(r,r):(i._ignoreDeactivationRequest=!0,r.requestDeactivation(),i._ignoreDeactivationRequest=!1)}}});this.isActivated=ObservableFlag.create(!1,{valueChangeCallback:function(n){i._ignoreActivatedFlagChange||(n?i.activate():i.isEnabled.isTrue()&&i.getPanel().requestDeactivation())}})},isPanelActivated:function(){return this.isCreated&&this.panel.isActivated},getPanelElement:function(){return this.isCreated?this.panel.$element:undefined},getPanel:function(){var t=this,r=this._panelFactory,u=this._options,i=t.panel;if(i===undefined){i=$.isFunction(r)?r():n.createPanelWithActivationArgs.apply(this,$.merge([r,u.defaultActivationArgs],$.asArray(u.creationArgs)));t.panel=i;t.isCreated=!0;u.creationCallback.call(i,i);i.panelInitializedEvent.one(function(){t.panelInitializedEvent.fireNew()});i.requestDeactivationEvent.bind(function(){t._ignoreDeactivationRequest||(t._ignoreActivatedFlagChange=!0,t.isActivated.setFalse(),t._ignoreActivatedFlagChange=!1)});i.id=t.id}return this.panel},activate:function(){var i=this,r=arguments.length,f,n,u,t;if(i.isEnabled.isFalse())for(t=new Array(r),n=0;n<r;n++)f[n]=arguments[n];else{for(u=i.getPanel(),t=new Array(r+1),t[0]=u,n=0;n<r;n++)t[n+1]=arguments[n];i._options.activationHandler.apply(u,t)}i.isActivated.setTrue()},use:function(){return this.getPanel()}});this.Templates={BasicPanel:{useTemplate:function(n){n=$.extend({panelClass:"",panelContentClass:""},n);var i=n.panelClass,r=n.panelContentClass,t=new StringBuilder;return t.append('<div class="{0}">'.format(i)),t.append('<div class="{0}-content panel-content {1}"><\/div>'.format(i,r)),t.append("<\/div>"),$(t.toString())}}};this.getDefaultPanel=function(n){return n.DefaultPanel===undefined&&(n.DefaultPanel=PanelsManager.createPanel.apply(this,arguments)),n.DefaultPanel};this.requestPanel=function(n){var t=n.panelsPool,i;return t==undefined&&(t=[],n.panelsPool=t),t.length===0&&(i=PanelsManager.createPanel(n),i.panelsPool=t,t.push(i)),t.pop()};this.releasePanel=function(n){n.panelsPool||console.error("Cannot release panel which hasn't been associated with a panels factory pool");n.panelsPool.push(n)};this.createDeferredPanel=function(n,i){return new t(n,i)};this.usePanel=function(n){return n?n.isDeferredPanel?n.getPanel():n:n};this.createInnerPanelController=function(n,t){t=$.extend({appendTo:n.$element,onDeactivationRequested:function(){n.requestDeactivation()},panelChangedCallback:$.noop,onPanelActivated:$.noop,propagateInnerDropPanelsContainer:!1,customPanelAppearance:undefined},t);var i={},c=t.appendTo,l=t.onDeactivationRequested,a=t.panelChangedCallback,o=t.onPanelActivated,v=t.propagateInnerDropPanelsContainer,s=t.customPanelAppearance,r,u,h,e,f=SimpleEvent.createBindingsCollection();return $.extend(i,{wrappingPanel:n,panelChangedEvent:SimpleEvent.create(),panelActivatedEvent:SimpleEvent.create(),getPanel:function(){return r},setPanel:function(t,y){var k,w,p,b;(y=$.extend({activationArgs:undefined,data:undefined},y),k=y.activationArgs,w=y.data,t&&(t=t.use()),t!==r||k!==u||h!==w)&&(f.unbindAll(),p=r,r=t,u=k,h=w,!p||p===r||(p.hostingInnerPanelController=undefined,p.deactivate(),p.$element.detach()),t&&(b=t.hostingInnerPanelController,b&&b!==i&&b.setPanel(undefined),t.hostingInnerPanelController=i,t.$element.appendTo($.evaluateWhenFunction(c,t,w)),v&&t.setInnerDropPanelsContainer(n.getInnerDropPanelsContainer()),n.isActivated&&(t.activate(u,undefined,{customPanelAppearance:s}),t.setCustomPanelSize(e),o(t),i.panelActivatedEvent.fire(i,t)),t.requestDeactivationEvent.bind(function(){l()}).addToCollection(f),n.panelDeactivatedEvent.bind(function(){t.deactivate()}).addToCollection(f),n.panelActivatedEvent.bind(function(){t.activate(u,undefined,{customPanelAppearance:s});t.setCustomPanelSize(e);o(t);i.panelActivatedEvent.fire(i,t)}).addToCollection(f)),a(t),i.panelChangedEvent.fireNew(t))},setCustomInnerPanelSize:function(t){e=t;r&&n.isActivated&&r.setCustomPanelSize(t)}}),i};this.makeDeactivationButton=function(n,t){n.makeSimpleButton().buttonClick(function(){t.requestDeactivation()})};this.getControllerByElement=function(n){return n.data("panelController")};this.createPanelWithActivationArgs=function(t,i){for(var u,f=[],r=0;r<arguments.length;r++)r!==1&&f.push(arguments[r]);return u=n.createPanel.apply(this,f),$.extend(u.defaultActivationArgs,i),u};this.createPanel=function(t){for(var f,u=arguments.length-1,r=new Array(u),i=0;i<u;i++)r[i]=arguments[i+1];return f=$.isFunction(t)?t.apply(t,r):t.create.apply(t,r),n.createController(f)};this.createBaseController=function(){var t=SimpleEvent.createEventListenersGroup(),n={id:$.uniqueID(),panelUpdateBatch:OperationsBatch.create(),bindings:[],readWriteInitializationOperations:[],panelActivatedEvent:SimpleEvent.create(),panelDeactivatedEvent:SimpleEvent.create(),addReadWriteInitialization:function(t,i){n.readWriteInitializationOperations.push({read:t,write:i})},associateBinding:function(t){n.bindings.push(t)},associateScrollingView:function(i){SimpleEvent.createEventListener(n.panelActivatedEvent,function(){i.toggleAutoRefresh(!0);i.isSupportScrollingItems()&&i.activateScrollingItems()}).activate().addToGroup(t);SimpleEvent.createEventListener(n.panelDeactivatedEvent,function(){i.toggleAutoRefresh(!1);i.isSupportScrollingItems()&&i.deactivateScrollingItems()}).activate().addToGroup(t);n.isActivated&&(i.toggleAutoRefresh(!0),i.isSupportScrollingItems()&&i.activateScrollingItems())},associateCollectionObserver:function(i){SimpleEvent.createEventListener(n.panelActivatedEvent,function(){i.unPostponeUpdates()}).activate().addToGroup(t);SimpleEvent.createEventListener(n.panelDeactivatedEvent,function(){i.postponeUpdates()}).activate().addToGroup(t);n.isActivated&&i.unPostponeUpdates()},associateItemsList:function(i){SimpleEvent.createEventListener(n.panelActivatedEvent,function(){i.unPostponeLayoutUpdate&&i.unPostponeLayoutUpdate()}).activate().addToGroup(t);SimpleEvent.createEventListener(n.panelDeactivatedEvent,function(){i.postponeLayoutUpdate&&i.postponeLayoutUpdate()}).activate().addToGroup(t);n.isActivated&&i.unPostponeLayoutUpdate&&i.unPostponeLayoutUpdate()}};return n};this.createController=function(n){var i,t,r,u;for($.extendMissing(n,{id:$.uniqueID(),panelActivatedEvent:SimpleEvent.create(),panelDeactivatedEvent:SimpleEvent.create(),panelActivatingEvent:SimpleEvent.create(),openedInContext:SimpleEvent.create(),panelInitializedEvent:SimpleEvent.create(),isPinned:ObservableFlag.create(!1),maxPanelSize:ObservableObject.create({width:Infinity,height:Infinity},{equalityComparer:EqualityComparers.SizeEqualityComparer,valueChangeCallback:function(t){n.isActivated&&n.updatePanelSize(t)}}),defaultPanelAppearance:undefined,updatePanelSize:$.noop,updateCustomPanelSize:$.noop,duringActivation:!1,update:$.noop,visualizers:[],readWriteInitializationOperations:[],bindings:[],scrollingControllers:[],initialize:$.noop,onActivated:$.noop,onActivating:$.noop,onDeactivating:$.noop,onDeactivated:$.noop,requestResize:$.noop,getDirtyMessage:$.returnUndefined,querySize:function(){return{width:n.$element.width(),height:n.$element.height()}},onSizeChange:$.noop,defaultActivationArgs:{},isOpened:function(){return n.windowController&&n.windowController.isOpened.isTrue()},isEnabled:function(){return!0}}),i=n.visualizers,t=0;t<i.length;t++)i[t].postponeBinding();var f=n.update,e=n.initialize,o=n.defaultPanelAppearance;return n.$element.addDisplayingStates().data("panelController",n),r=ContextValue.createContextClass(n.$element),u=n.$innerDropPanelsContainer,$.extend(n,{wasInitialized:!1,isActivated:!1,isActivatedFlag:ObservableFlag.create(!1),panelWrapper:undefined,use:function(){return n},performReadWriteInitialization:function(){$.readWrite(n.readWriteInitializationOperations,function(n){return n.read()},function(n,t){t!==undefined&&n.write(t)});n.readWriteInitializationOperations=[]},activateAssociatedBindings:function(){for(var i=n.bindings,t=0;t<i.length;t++)i[t].activate()},activateAssociatedVisualizers:function(){for(var i=n.visualizers,t=0;t<i.length;t++)i[t].initialize().unPostponeBinding().activate()},handlePanelContentUpdate:function(){n.isActivated&&(n.activateAssociatedVisualizers(),n.performReadWriteInitialization(),n.activateAssociatedBindings())},getPanelAppearance:function(){return r.get()},setCustomPanelSize:function(t){n.customPanelSize=t;n.recalculateCustomPanelSize()},recalculateCustomPanelSize:function(t){if(t=$.valueOrDefault(t,!1),(!t||n.hasCustomPanelSize())&&n.isActivated){var i=$.evaluateWhenFunction(n.customPanelSize);n.calculatedCustomPanelSize=i;n.updateCustomPanelSize(i);n.onSizeChange()}},hasCustomPanelSize:function(){return!!n.customPanelSize},requestResize:$.wrapMethod(n.requestResize,function(t){return function(i){n.lastRequestedSize=i;t(i)}}),setInnerDropPanelsContainer:function(n){u=n},getInnerDropPanelsContainer:function(){return u},togglePanelWrapper:function(t,i){i?n.panelWrapper=t:n.panelWrapper===t&&(n.panelWrapper=undefined)},getPanelWrapper:function(){return n.panelWrapper},toggleDisplayed:function(t,i){n.panelWrapper?n.panelWrapper.$element.toggleDisplayed(t,i):n.$element.toggleDisplayed(t,i)},toggleVisibility:function(t,i){n.panelWrapper?n.panelWrapper.$element.toggleVisibility(t,i):n.$element.toggleVisibility(t,i)},addVisibilityStates:function(){return n.panelWrapper?n.panelWrapper.$element.addVisibilityStates():n.$element.addVisibilityStates(),n},requestDeactivationEvent:SimpleEvent.create(),requestDeactivation:function(t){n.isActivated&&n.requestDeactivationEvent.fireNew(t)},makeUnselectable:function(){return n.$element.makeUnselectable(),n},update:function(){n.isActivated&&n.isEnabled()&&f.apply(n,arguments)},applyOnContext:function(t){ContextManager.apply(t,n.context)},getContext:function(){return n.context},setContext:function(t){var r,i;for($.isFunction(t)&&(t=t()),n.context=t,r=n.visualizers,i=0;i<r.length;i++)r[i].setContext(t)},initialize:function(t){var r,i;if(!n.wasInitialized){for(n.wasInitialized=!0,n.makeUnselectable(),r=n.visualizers,i=0;i<r.length;i++)r[i].initialize(),r[i].refreshBinding();e(t);n.onSizeChange();n.panelInitializedEvent.fireNew()}},reactivate:function(){n.activate(n.lastActivationArgs,n.lastPanelContext)},activate:function(t,i,u){var f,s,h,e;for(u=$.extend({customPanelAppearance:o},u),n.deactivate(!0),n.duringActivation=!0,n.setContext(i),n.lastActivationArgs=t,n.lastPanelContext=i,n.isActivated=!0,n.isActivatedFlag.setTrue(),$.isFunction(t)&&(t=t()),f=n.defaultActivationArgs,f!==undefined&&(f=$.isFunction(f)?f():$.extend({},f)),t=$.extend(f,t),s=$.weakID(),t.activationId=s,t.activationNamespace="."+s,n.currentActivationArgs=t,r.set(u.customPanelAppearance),n.initialize(),n.onActivating.call(n,t,i),n.panelActivatingEvent.fire(n,t,i),h=n.scrollingControllers,e=0;e<h.length;e++)h[e].toggleAutoRefresh(!0);return n.activateAssociatedVisualizers(),n.performReadWriteInitialization(),n.activateAssociatedBindings(),n.update(),n.onActivated.call(n,t,i),n.panelActivatedEvent.fireNew(),n.recalculateCustomPanelSize(),n.duringActivation=!1,n},deactivate:function(t){var r,u,f,i;if(t=$.valueOrDefault(t,!1),n.isActivated){for(n.maxPanelSize.setValue({width:Infinity,height:Infinity}),n.$element.blurContextElement(),n.isActivated=!1,n.isActivatedFlag.setFalse(),n.onDeactivated.call(n),r=n.visualizers,i=0;i<r.length;i++)r[i].postponeBinding().deactivate();for(u=n.scrollingControllers,i=0;i<u.length;i++)u[i].toggleAutoRefresh(!1);for(f=n.bindings,i=0;i<f.length;i++)f[i].deactivate();t||n.panelDeactivatedEvent.fireNew()}},appendTo:function(t){return n.$element.appendTo(t),n},openInContext:function(t,i){function f(){r!==undefined&&n.requestDeactivationEvent.unbind(r);$(document).unbind("mousedown.closeContext");n.$contextContainer.hide();n.deactivate();i.closeCallback()}var u,r;i=$.extend({activationArgs:undefined,leftDelta:1,topDelta:1,showingAnimation:undefined,deactivationPredicate:$.returnTrue,closeCallback:$.noop,appendTo:"body",contextClass:""},i);n.$contextContainer||(n.$contextContainer=$("<span class='context-container panels-scope inline-block absolute-positioned'><\/span>").addClass(i.contextClass).appendTo(i.appendTo));t||(t=n.openInContextEvent);u=$.getMouseOffset(t);n.$element.appendTo(n.$contextContainer);n.$contextContainer.show().offset($.translateOffset(u,{left:i.leftDelta,top:i.topDelta})).positionInWindow({vertically:!0,horizontally:!0,verticalPadding:20,horizontalPadding:20});n.activate(i.activationArgs);n.openedInContext.fire(n,t);i.showingAnimation&&(n.$element.hide(),i.showingAnimation(n.$element));n.requestDeactivationEvent&&(r=n.requestDeactivationEvent.bind(function(){f()}));$(document).bind("mousedown.closeContext",function(t){var r=$(t.target);!r.hasAncestor(n.$contextContainer)&&i.deactivationPredicate(r)&&f()});t&&(n.openInContextEvent=t)},openAsDialog:function(t){$.isFunction(t)&&(t=t(n));t=$.extend({activationArgs:{},dialogOptions:{},modalDialogOptions:undefined},t);t.dialogOptions.buttons||(t.dialogOptions.buttons=ConfirmationPanel.OkCancelButtons);var i=PanelsManager.requestPanel(ConfirmationPanel);i.panelDeactivatedEvent.one(function(){PanelsManager.releasePanel(i)});i.openModal($.extend({buttons:t.dialogOptions.buttons},t.dialogOptions,{innerPanel:n,innerPanelActivationArgs:t.activationArgs}),t.modalDialogOptions)},makeAsWindow:function(t){var r;t=$.extend({defaultActivationArgs:undefined,positioningFunction:function(n){n.center($.getWindowCenter(),{centerHorizontally:!1,centerVertically:!0}).right($(window).width()-50)},appendTo:"body",windowClass:undefined,isFloatingWindow:!0,repositionOnActivation:!0,repositionIfOpened:!0,isDraggable:!0,withWindowController:$.noop,horizontalAnchor:"left",verticalAnchor:"top"},t);var u=t.isDraggable,f=t.withWindowController,e=t.horizontalAnchor,o=t.verticalAnchor,i=$("<div class='designer-window'><\/div>").disableSelectionTriggering().addDisplayingStates().addVisibilityStates().addClass(t.windowClass).appendTo(t.appendTo).toggleDisplayed(!1);return u&&DraggingBehaviours.Draggable.makeDraggable(i,{distance:3,contextOptions:{eventsCatcherClass:"cursor-move",behaviourOptions:{horizontalAnchor:e,verticalAnchor:o,containment:"window"}}}),t.isFloatingWindow&&WindowsManager.setFloatingWindow(i),r={$element:i,options:t,isOpened:ObservableFlag.create(!1),firstActivation:!0,isDocked:!1},n.windowController=r,f(r),n},repositionWindow:function(t){var i=n.windowController;i!==undefined&&i.isOpened.isTrue()&&(t?$.usePositioningFunction(t,i.$element):i.reposition())},openAsDropPanel:function(t){var r,u;t=$.extend({activationArgs:undefined,panelContext:undefined,positioningFunction:undefined,relativeTo:undefined,contextClass:undefined,appendTo:undefined,isDraggable:!1,stackWithWindows:!1,showingFunction:undefined,hidingFunctionBeforeShowing:function(n){n.hide()},closeCallback:$.noop,placeInsideWindow:!0},t);var f=t.placeInsideWindow,e=t.hidingFunctionBeforeShowing,i=$("<span class='drop-panel-wrapper inline-block' style='position: absolute;'><\/span>").addClass(t.contextClass).appendTo($.valueOrDefault($.evaluateWhenFunction(t.appendTo),"body"));t.isDraggable&&DraggingBehaviours.Draggable.makeDraggable(i,{distance:3,contextOptions:{eventsCatcherClass:"cursor-move",behaviourOptions:{containment:"window"}}});t.stackWithWindows&&(WindowsManager.setFloatingWindow(i),WindowsManager.focusWindow(i));n.deactivate();n.$element.appendTo(i).toggleClass("is-draggable",t.isDraggable);n.activate(t.activationArgs,t.panelContext);t.positioningFunction&&(t.relativeTo&&(r=$(t.relativeTo)),f?i.positionToFit($.getWindowArea(),[function(){$.usePositioningFunction(t.positioningFunction,i,r,n)}],undefined,{fallbackPositioning:0}):$.usePositioningFunction(t.positioningFunction,i,r,n));t.showingFunction&&(e(i),t.showingFunction.call(i,i,n));u=n.requestDeactivationEvent.bind(function(){n.deactivate()});n.panelDeactivatedEvent.one(function(){n.$element.detach();t.stackWithWindows&&WindowsManager.removeFloatingWindow(i);i.remove();u.unbind();t.closeCallback()});return n},deactivateOnClickOutside:function(t){var r,i,f,u;if(t=$.quickExtend({ignoredElementsFilters:[],mouseButton:!1,activationScopeSelector:".panels-scope"},t),r=t.mouseButton,n.isActivated){i=$.makeArray(t.ignoredElementsFilters);i.unshift(n.$element);i.push(".file-selector");f=n.$element.closest(t.activationScopeSelector)[0];u=$.uniqueID();$(document).bind("mousedown."+u,function(u,e){var e,o,s,h;(r===!1||u.which===r)&&(e=$.valueOrDefault(e,u.target),n.isPinned.isTrue()||(o=$(e),s=o.closest(t.activationScopeSelector)[0],s===f&&(h=o.parents().andSelf(),$.all(i,function(n){return h.filter(n).length===0})&&n.requestDeactivation())))});n.panelDeactivatedEvent.one(function(){$(document).unbind("mousedown."+u)})}},openWindow:function(t){var e,r,o;t=$.extend({onlyWhenClosed:!1,activationArgs:undefined,positioningFunction:undefined,contextClass:undefined,appendTo:undefined,showingFunction:undefined,noDeactivation:!1,relativeTo:undefined,positionInWindow:!0,horizontalAnchor:undefined,verticalAnchor:undefined,panelContext:undefined},t);var h=t.onlyWhenClosed,c=t.activationArgs,s=t.relativeTo,u=t.horizontalAnchor,f=t.verticalAnchor,l=t.panelContext,i=n.windowController;return(i===undefined&&(i=n.makeAsWindow({horizontalAnchor:u,verticalAnchor:f}).windowController,n.windowController=i),e=i.isOpened.isTrue(),h&&e)?i:(u=$.valueOrDefault(u,i.options.horizontalAnchor),f=$.valueOrDefault(f,i.options.verticalAnchor),i.isOpened.isTrue()&&!t.noDeactivation&&n.closeWindow(),WindowsManager.focusWindow(i.$element),i.lastOpeningOptions=t,r=i.options,o=$.valueOrDefault(t.positioningFunction,r.positioningFunction),i.$element.append(n.$element).toggleDisplayed(!0),n.$element.toggleClass("is-draggable",!!r.isDraggable),t.contextClass&&i.$element.addClass(t.contextClass),t.appendTo&&i.$element.appendTo(t.appendTo),n.activate($.extend({},r.defaultActivationArgs,c),l),(i.firstActivation||r.repositionOnActivation&&n.isPinned.isFalse())&&(!e||r.repositionIfOpened)&&$.usePositioningFunction(o,i.$element,s,n),i.reposition=function(){$.usePositioningFunction(o,i.$element,s,n)},t.positionInWindow&&i.$element.positionInWindow({horizontally:!0,vertically:!0,horizontalAnchor:u,verticalAnchor:f}),i.firstActivation=!1,i.isOpened.setTrue(),i.deactivationBinding=n.requestDeactivationEvent.bind(function(){n.closeWindow()}),t.positionInWindow&&$(window).bind("resize.window"+n.id,function(n){(n.target===window||n.target===document)&&i.$element.positionInWindow({horizontally:!0,vertically:!0,horizontalAnchor:u,verticalAnchor:f})}),t.showingFunction&&!e&&(i.$element.hide(),t.showingFunction.call(i.$element,i.$element,n)),i)},closeWindow:function(){var t=n.windowController;t.isOpened.isTrue()&&(n.requestDeactivationEvent.unbind(t.deactivationBinding),$(window).unbind("resize.window"+n.id),t.isOpened.setFalse(),n.deactivate(),t.$element.toggleDisplayed(!1),t.lastOpeningOptions.contextClass!==undefined&&t.$element.removeClass(t.lastOpeningOptions.contextClass))},openModal:function(t,i){i=$.extend({closeButtonClass:undefined,contextClass:undefined},i);var u=SimpleEvent.createEventListener($.getWindowSizeEvent(),function(){var i=$.getWindowSize(),t={width:i.width-400,height:i.height-200},r=i.width-100,u=i.height-50;t.width<978&&(t.width=Math.min(978,r));t.height<500&&(t.height=Math.min(500,u));n.requestResize(t);Dialog.reCenterTheDialog(n.$element)}),f=$.extend({},i,{onOpened:function(){n.activate(t);u.activateAndExecute();n.panelDeactivatedEvent.one(function(){u.deactivate()})}}),r=Dialog.open(n.$element,f);return r.$closeButton&&r.$closeButton.remove(),i.closeButtonClass&&(r.$closeButton=$("<span class='inline-block {0}'><\/span>".format(i.closeButtonClass)).appendTo(r.$dialogContainer).makeSimpleButton().buttonClick(function(){n.requestDeactivation()}),r.$closeButton.css({position:"absolute",right:0-r.$closeButton.width()/2,top:0-r.$closeButton.height()/2})),n.requestDeactivationEvent&&n.requestDeactivationEvent.bind(function(){return n.closeModal(),!0}),n},closeModal:function(){Dialog.close(n.$element);n.deactivate()}}),n}},function(n){n.createDropPanelWindow=function(t,i){function o(){return PanelsManager.usePanel(t)}var u,e,f,r;return i=n.extend({activationArgs:undefined,panelContext:undefined,placeInsideWindow:undefined,positioningFunction:undefined,contextClass:undefined,appendTo:"body",showingFunction:undefined,hidingFunctionBeforeShowing:undefined,isDraggable:!0,stackWithWindows:!0,bindTogglingState:!1,deactivateOnClickOutside:!0,deactivateOnSelectionChanged:Global.IsDesigner,openCallback:n.noop,closeCallback:n.noop,ignoredElementsFilters:[]},i),u=ObservableFlag.create(!1,{valueChangeCallback:function(n){n?i.openCallback():i.closeCallback()}}),i.deactivateOnSelectionChanged&&(e=SimpleEvent.createEventListener([SelectionManager.Events.SelectionChangedSimple],function(){r.close()})),f=[],r={panel:t,open:function(t,r){var s,h;if(u.isFalse()){s=o();u.setTrue();r=n.extend({},i,r);s.openAsDropPanel({activationArgs:r.activationArgs,panelContext:r.panelContext,positioningFunction:r.positioningFunction,relativeTo:t,contextClass:r.contextClass,appendTo:r.appendTo,showingFunction:r.showingFunction,isDraggable:r.isDraggable,stackWithWindows:r.stackWithWindows,placeInsideWindow:r.placeInsideWindow,hidingFunctionBeforeShowing:r.hidingFunctionBeforeShowing});r.deactivateOnClickOutside&&(h=f,r.ignoredElementsFilters&&r.ignoredElementsFilters.length>0&&(h=n.merge(f.clone(),r.ignoredElementsFilters)),s.deactivateOnClickOutside({ignoredElementsFilters:h}));r.deactivateOnSelectionChanged&&e.activate();s.panelDeactivatedEvent.one(function(){u.setFalse();r.deactivateOnSelectionChanged&&e.deactivate()})}},close:function(){u.isTrue()&&o().requestDeactivation()},toggle:function(){r.isOpened()?r.close():r.open()},isOpened:function(){return u.getValue()},connectButton:function(t,i){i=n.extend({dropPanelOpenedClass:"state-toggled",dropPanelClosedClass:"state-untoggled",dropPanelClassTarget:undefined,onClosingRequest:n.returnTrue},i);var o=i.onClosingRequest,e=ContextValue.createContextClass({getTarget:function(){return n.valueOrDefault(i.dropPanelClassTarget,t)}});u.valueChangedEvent.bindAndExecute(function(){u.isTrue()?e.set(i.dropPanelOpenedClass):e.set(i.dropPanelClosedClass)});t.addClass("attached-drop-panel-window").buttonClick(function(){r.isOpened()?o()&&r.close():r.open(t,i)});f.push(t)}},r};n.fn.attachDropPanelWindow=function(t,i){var r,u;return i=n.extend({dropPanelOpenedClass:"state-toggled",dropPanelClosedClass:"state-untoggled",withDropPanelController:undefined},i),r=n.createDropPanelWindow(t,i),r.connectButton(this,i),i.withDropPanelController&&(u=this,i.withDropPanelController({open:function(){r.open(u,i)},close:function(){r.close()},isOpened:function(){return r.isOpened()}})),this}}(jQuery);Panels={},function(n){n.fn.onContextMenu=function(n){for(var t=0;t<this.length;t++)this[t].oncontextmenu=function(t){t||(t=window.event);t.cancelBubble=!0;t.stopPropagation&&t.stopPropagation();t.preventDefault&&t.preventDefault();t.returnValue&&(t.returnValue=!1);n(t)};return this}}(jQuery),function(n){function i(n){return n.replace(/([A-Z])/g,function(n,t){return"-"+t.toLowerCase()})}function r(r,u,f,e){var o=r.data("transitions"),s;o===undefined&&(o={},r.data("transitions",o));u=i(u);s=n.support.transitionEvent+"."+u;o[u]&&r.unbind(s);o[u]={duration:e.duration,targetValue:f,complete:e.complete};r.bind(s,function(n){if(n.originalEvent.propertyName===u){r.unbind(s);var i=o[u];i&&(delete o[u],i.complete&&i.complete(),t(r,o))}});t(r,o);r.css(u,f)}function t(t,i){var f,e,o,r;i===undefined&&(i=n.valueOrDefault(t.data("transitions"),{}));f=new StringBuilder(",");for(e in i)o=i[e],f.append("{0} {1}ms",u(e),o.duration);r=f.toString();r||(r="none");t.css(n.support.transitionPrefix+"transition",r)}function u(t){switch(t){case"borderRadiusTopLeft":return"border-top-left-radius";case"borderRadiusTopRight":return"border-top-right-radius";case"borderRadiusBottomLeft":return"border-bottom-left-radius";case"borderRadiusBottomRight":return"border-bottom-right-radius";case"glow":case"innerGlow":case"dropShadow":case"dropInnerShadow":switch(n.support.boxShadow){case"MozBoxShadow":return"-moz-box-shadow";case"WebkitBoxShadow":return"-webkit-box-shadow";default:return"box-shadow"}default:return t}}n.fn.cssAnimate=function(t,i){var r,f,e,u,o;return i=n.quickExtend({duration:400,complete:undefined,enableCssTransition:!0},i),r=n.isEmptyObject(t),r||i.duration===0?(r||this.css(t),i.complete&&i.complete()):n.support.transition&&i.enableCssTransition?(i.complete&&(e=n.count(t),u=0,f=function(){u++;u===e&&i.complete()}),o=this,setTimeout(function(){o.animateProperties(t,{duration:i.duration,complete:f})},0)):this.animate(t,{duration:i.duration,always:i.complete}),this};n.fn.stopCssAnimation=function(){return this.stopAllPropertiesAnimation(),this.stop(!0,!0),this};n.fn.stopAllPropertiesAnimation=function(){return this.stopPropertiesAnimation(this.getAnimatedProperties())};n.fn.getAnimatedProperties=function(){var t=this.data("transitions");return t?n.getKeys(t):[]};n.fn.stopPropertiesAnimation=function(r){var s,u,e,f,o;if(r=n.asArray(r),s=this,u=s.data("transitions"),u)for(e=0;e<r.length;e++)f=r[e],f=i(f),o=u[f],o&&(delete u[f],o.complete&&o.complete());return t(s,u),this};n.fn.animateProperties=function(t,i){i=n.extend({duration:400,complete:undefined},i);this.stopPropertiesAnimation(n.getKeys(t));for(var u in t)r(this,u,t[u],i)}}(jQuery),function(){var t=document.body||document.documentElement,n=t.style;$.support.transition=!1;n.WebkitTransition!==undefined?($.support.transitionEvent="webkitTransitionEnd",$.support.transitionPrefix="-webkit-",$.support.transition=!0):n.MozTransition!==undefined?($.support.transitionEvent="transitionend",$.support.transitionPrefix="-moz-",$.support.transition=!0):n.OTransition!==undefined&&($.support.transitionEvent="oTransitionEnd",$.support.transitionPrefix="-o-",$.support.transition=!0)}();Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){var f="",e,t,i,s,h,o,r,u=0;for(n=Base64._utf8_encode(n);u<n.length;)e=n.charCodeAt(u++),t=n.charCodeAt(u++),i=n.charCodeAt(u++),s=e>>2,h=(e&3)<<4|t>>4,o=(t&15)<<2|i>>6,r=i&63,isNaN(t)?o=r=64:isNaN(i)&&(r=64),f=f+this._keyStr.charAt(s)+this._keyStr.charAt(h)+this._keyStr.charAt(o)+this._keyStr.charAt(r);return f},decode:function(n){var t="",e,o,s,h,u,r,f,i=0;for(n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<n.length;)h=this._keyStr.indexOf(n.charAt(i++)),u=this._keyStr.indexOf(n.charAt(i++)),r=this._keyStr.indexOf(n.charAt(i++)),f=this._keyStr.indexOf(n.charAt(i++)),e=h<<2|u>>4,o=(u&15)<<4|r>>2,s=(r&3)<<6|f,t=t+String.fromCharCode(e),r!=64&&(t=t+String.fromCharCode(o)),f!=64&&(t=t+String.fromCharCode(s));return Base64._utf8_decode(t)},_utf8_encode:function(n){var i,r,t;for(n=n.replace(/\r\n/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i},_utf8_decode:function(n){for(var r="",t=0,i=c1=c2=0;t<n.length;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(c2=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|c2&63),t+=2):(c2=n.charCodeAt(t+1),c3=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(c2&63)<<6|c3&63),t+=3);return r}};GradientStopsTypes={Opacity:1,Color:2},function(n){function i(){if(t===undefined){var i=document.createElement("div"),n=i.style;n.cssText="background-image: -moz-linear-gradient(red, blue);background-image: -webkit-linear-gradient(red, blue);background-image: -o-linear-gradient(red, blue);background-image: linear-gradient(red, blue);background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, red), color-stop(100%, blue));";t=/(^|\s)-webkit-gradient/.test(n.backgroundImage)}return t}var t=undefined;n.fn.clearBackground=function(){return n.browser.msie&&parseInt(n.browser.version)<9?this.empty():this.css("background-image",""),this};n.calculateGradientColorStopValue=function(t,i,r){return!i&&!r?n.Color("black"):i?r?n.calculateMeanColor(t,i.location,r.location,n.Color(i.value),n.Color(r.value)):i.value:r.value};n.calculateGradientOpacityStopValue=function(n,t,i){if(!t&&!i)return 1;if(!t)return i.value;if(!i)return t.value;var u=n-t.location,f=i.location-t.location,e=i.value,r=t.value;return r+(e-r)/f*u};n.solidToGradient=function(n,t){return{gradient:{colorStops:[{location:0,value:n},{location:100,value:n}],opacityStops:[{location:0,value:1},{location:100,value:1}]},orientation:t}};n.isGradient=function(t){return n.isPlainObject(t)&&t.gradient!==undefined};n.fn.applyGradientColor=function(t){return this.setGradient(n.valueOrDefault(t.orientation,Orientation.Vertical),t.gradient)};n.cloneGradient=function(t,i){i=n.valueOrDefault(i,!1);var r=t.gradient;return{gradient:{colorStops:n.map(r.colorStops,function(t){return{location:t.location,value:i?n.Color(t.value):t.value}}),opacityStops:n.map(r.opacityStops,function(n){return{location:n.location,value:n.value}})},orientation:t.orientation}};n.getExplorer9GradientCSS=function(t){var u=t.orientation,f=t.gradient,e=n.uniqueID(),c=u===Orientation.Vertical?100:0,l=u===Orientation.Horizontal?100:0,i=new StringBuilder(""),r,h;for(i.append('<?xml version="1.0" ?>'),i.append('<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none">'),i.append('<linearGradient id="{0}" gradientUnits="userSpaceOnUse" x1="0%" y1="0%" x2="{1}%" y2="{2}%">',e,l,c),r=0;r<f.length;r++){var o=f[r],s=n.Color(o.color),a=n.valueOrDefault(o.stop,0);i.append('<stop offset="{0}%" stop-color="{1}" stop-opacity="{2}"/>',a,s.toHEX(),n.valueOrDefault(s[3],1))}return i.append("<\/linearGradient>"),i.append('<rect x="0" y="0" width="1" height="1" fill="url(#{0})" />',e),i.append("<\/svg>"),h=Base64.encode(i.toString()),"url(data:image/svg+xml;base64,"+h+")"};n.fn.setGradient=function(t,r){function d(t){var r=t.toHEX(),i=Math.floor(n.valueOrDefault(t[3],1)*255).toString(16);return i.length===1&&(i="0"+i),"#"+i+r.substr(1)}var s=this,u,f,e,a,h,w,b,v,c,l,y,p,o,k;if(n.isPlainObject(r)&&(r=n.normalizeGradientStops(r)),r[0].stop=0,r[r.length-1].stop=100,s.css("background-color",""),n.browser.msie&&parseInt(n.browser.version)==9)s.css("background-image",n.getExplorer9GradientCSS({orientation:t,gradient:r}));else if(n.browser.msie&&parseInt(n.browser.version)<9){for(s.empty(),u=new StringBuilder(""),f=1;f<r.length;f++)a=r[f-1],e=r[f],w=n.Color(a.color),h=n.Color(e.color),v=e.stop-a.stop,u.append("<span style=\"display: {5}; height: {0}%; width: {1}%; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='{2}', endColorstr='{3}', gradientType='{4}');\"><\/span>",t===Orientation.Vertical?v:100,t===Orientation.Horizontal?v:100,d(w),d(h),t===Orientation.Vertical?0:1,t===Orientation.Vertical?"block":"inline-block");s.html(u.toString())}else{for(u=new StringBuilder(","),c=n.support.linearGradient==="linear-gradient",l=i(),c||!l?(y="linear-gradient({0})",p="{1} {0}%"):(y="-webkit-gradient({0})",p="color-stop({0}%, {1})"),t===Orientation.Vertical?c?u.append("to bottom"):l?u.append("linear, 50% 0%, 50% 100%"):u.append("top"):c?u.append("to right"):l?u.append("linear, 0% 50%, 100% 50%"):u.append("left"),f=0;f<r.length;f++)e=r[f],h=e.color,b=n.valueOrDefault(e.stop,0),o=h.toRGB(),k="rgba({0},{1},{2},{3})".format(o[0],o[1],o[2],o[3]),u.append(p.format(Math.floor(b),k));n(this).css("background-image",y.format(u.toString()))}}}(jQuery),function(){function i(n,t){for(var n=r(n),t=u(t),l=0,a=0,e,o,i=n[0],f=t[0],v=[];i;)if(f||console.warn("Bad gradient stops"),f.location<i.location){e||console.warn("Bad gradient - Impossible that previous stop doesn't exist");var s=f.location,h=e.location,c=i.location,y=e.value,p=i.value,w=$.Color([Math.floor($.calculateMeanValue(s,h,c,y[0],p[0])),Math.floor($.calculateMeanValue(s,h,c,y[1],p[1])),Math.floor($.calculateMeanValue(s,h,c,y[2],p[2])),$.calculateMeanValue(s,h,c,$.valueOrDefault(y[3],1),$.valueOrDefault(p[3],1))]);v.push({location:f.location,opacity:f.value,color:w});a++;o=f;f=t[a]}else if(i.location<f.location){o||console.warn("Bad gradient - Impossible that previous stop doesn't exist");var s=i.location,h=o.location,c=f.location,b=$.calculateMeanValue(s,h,c,o.value,f.value);v.push({location:i.location,opacity:b,color:i.value});l++;e=i;i=n[l]}else v.push({location:i.location,opacity:f.value,color:i.value}),l++,e=i,i=n[l],a++,o=f,f=t[a];return f&&console.warn("Bad gradient stops"),v}function r(t){return n(o(t),$.Color("black"),e,function(n){return $.Color(n)})}function u(t){return n(t,1,f,function(n){return n})}function f(n,t){return n===t}function e(n,t){return n&&t?$.color.isEqual(n,t):n===t}function o(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push({location:i.location,value:$.Color(i.value).toRGB()});return r}function n(n,i,r,u){var f,e,o,c;if(n.length==0)return[{location:0,value:i},{location:100,value:i}];for(f=[],e=0;e<n.length;e++)f.push(n[e]);return s(f)||h(f),o=f[0],c=f[f.length-1],o.location!=0&&f.unshift({location:0,value:u(o.value)}),c.location!=100&&f.push({location:100,value:u(c.value)}),f=t(f,function(n,t,i){return t.location!=n.location||t.location!=i.location}),f[0].location==f[1].location&&f.shift(),f[f.length-1].location==f[f.length-2].location&&f.pop(),t(f,function(n,t,i){return!r(t.value,n.value)||!r(t.value,i.value)})}function t(n,t){var r,i,u;if(n.length<3)return n;for(r=[n[0]],i=1;i<n.length-1;i++)u=n[i],t(n[i-1],u,n[i+1])&&r.push(u);return r.push(n[n.length-1]),r}function s(n){if(n.length>1)for(var t=1;t<n.length;t++)if(n[t].location<n[t-1].location)return!1;return!0}function h(n){n.orderBy(function(n,t){return[n.location,t]},function(n,t){return n[0]!=t[0]?n[0]-t[0]:n[1]-t[1]})}$.normalizeGradientStops=function(n){for(var t,r,f=i(n.colorStops,n.opacityStops),e=[],u=0;u<f.length;u++)t=f[u],r=t.color,r[3]=$.adjustFraction($.valueOrDefault(r[3],1)*t.opacity,2),e.push({stop:t.location,color:r});return e}}(jQuery);ContextValue=new function(){var n=Class.extend("ContextValueController",{init:function(n){this._valueChangeCallback=$.valueOrDefault(n,$.noop)},set:function(n){if(n!==this._currentValue){var t=this._currentValue;return this._currentValue=n,this._valueChanged(this._currentValue,t),this._valueChangeCallback(this._currentValue,t),!0}return!1},_valueChanged:$.noop,get:function(){return this._currentValue},clear:function(){this.set(undefined)},toggle:function(n,t){t?this.set(n):this._currentValue===n&&this.clear()}}),t,i,r;this.create=function(t){return new n(t)};t=n.extend("ContextClassController",{init:function($super,n,t){$super(t);this._getTarget=n},_valueChanged:function(n,t){var i=$.evaluateWhenFunction(this._getTarget);t!==undefined&&i.removeClass(t);n!==undefined&&i.addClass(n)}});this.createContextClass=function(n){return $.isPlainObject(n)||(n={getTarget:n}),n=$.quickExtend({getTarget:undefined,valueChangeCallback:$.noop},n),new t(n.getTarget,n.valueChangeCallback)};i=Class.extend("ClassesFlagsController",{init:function(n){this._getTarget=n;this._currentFlags={}},clear:function(){this.set($.mapDictionary(this._currentFlags,$.returnFalse))},getActiveClasses:function(){var n=[];return $.eachEntry(this._currentFlags,function(t,i){i&&n.push(t)}),n},set:function(n){var i=[],r=[],t,u,f,e;for(t in n)u=n[t],f=!!this._currentFlags[t],u&&!f&&r.push(t),!u&&f&&i.push(t),this._currentFlags[t]=u;(r.length>0||i.length>0)&&(e=$.isFunction(this._getTarget)?this._getTarget():this._getTarget,r.length>0&&e.addClass(r.join(" ")),i.length>0&&e.removeClass(i.join(" ")))}});this.createClassesFlags=function(n){return new i(n)};r=Class.extend("SingleTargetClassController",{init:function(n){this._className=n},setTarget:function(n){var t=this._$currentTarget;t&&!t.is(n)&&t.removeClass(this._className);this._$currentTarget=t=n;t&&t.addClass(this._className)},getTarget:function(){return this._$currentTarget},clear:function(){this.setTarget(undefined)}});this.createSingleTargetClass=function(n){return new r(n)}},function(n){var t;n.preventClick=function(){t===undefined&&(t=n("<div class='events-catcher'><\/div>").addDisplayingStates().toggleDisplayed(!1).appendTo("body"));t.toggleDisplayed(!0);n(document).one("mouseup",function(){t.toggleDisplayed(!1)})};n.whenMouseFocused=function(t){var u,s;t=n.extend({sensitivity:7,interval:100,triggeringEvent:undefined,callback:n.noop},t);var f=t.sensitivity,h=t.interval,e=t.triggeringEvent,c=t.callback,o=n.weakID(".mousefocused"),i,r;return e&&(i=n.getMouseOffset(e),r=i),u={},n(document).bind("mousemove"+o,function(t){r=n.getMouseOffset(t);i||(i=r)}),s=setInterval(function(){!r||Math.abs(r.top-i.top)<=f&&Math.abs(r.left-i.left)<=f?(u.stop(),c()):i=r},h),n.extend(u,{stop:function(){n(document).unbind("mousemove"+o);clearInterval(s)}})};n.onDistanceMove=function(t,i,r){var u="mousemove.distancemove"+n.uniqueID(),f;return isFinite(i)&&(i={horizontal:i,vertical:i}),f=n.getMouseOffset(t),n(document).bind(u,function(t){var o=n.getMouseOffset(t),e=!1,s,h;i.horizontal!==undefined&&(s=Math.abs(o.left-f.left),s>=i.horizontal&&(e=!0));e||i.vertical===undefined||(h=Math.abs(o.top-f.top),h>=i.vertical&&(e=!0));e&&(n(document).unbind(u),r(t,o))}),function(){n(document).unbind(u)}};n.onceMouseUpInArea=function(t,i,r){isFinite(i)&&(i={horizontal:i,vertical:i});var u=n.getMouseOffset(t);n(document).one("mouseup",function(t){var e=n.getMouseOffset(t),f=!1,o,s;i.horizontal!==undefined&&(o=Math.abs(e.left-u.left),o>i.horizontal&&(f=!0));f||i.vertical===undefined||(s=Math.abs(e.top-u.top),s>i.vertical&&(f=!0));f||r(t,e)})}}(jQuery);PoolingController=new function(){this.create=function(n){function u(){n.onStartPooling();f();n.onEndPooling();e=window.setTimeout(function(){u()},n.timeout)}function f(){if(i.isTrue()){var r,n;for(r in t)n=t[r],n&&n.isPostponed.isFalse()&&(n.currentValue=n.startCallback());for(r in t)n=t[r],n&&n.isPostponed.isFalse()&&n.finishCallback(n.currentValue)}}n=$.quickExtend({onStartPooling:$.noop,onEndPooling:$.noop,timeout:100},n);var t={},i=ObservableFlag.createConditionalPositive(),e,r={attach:function(n,i,u){return u=u?u:$.uniqueID(),t[u]={isPostponed:ObservableFlag.createConditionalNegative(),startCallback:n,finishCallback:i},{callbackId:u,detach:function(){r.detach(u)},postpone:function(n){r.postponePooling(u,n)},unPostpone:function(n){r.unPostponePooling(u,n)}}},detach:function(n){delete t[n]},postponePooling:function(n,i){var r=t[n];r&&r.isPostponed.setValue(!0,i)},unPostponePooling:function(n,i){var r=t[n];r&&r.isPostponed.setValue(!1,i)},getCallbacksLength:function(){return $.count(t)},stopPooling:function(n){i.setValue(!1,n)},startPooling:function(n){i.setValue(!0,n);i.isTrue()&&f()}};return u(),r}};ObservableObject=function(){function n(n,t){t=$.extend({valueConverter:$.identity,equalityComparer:$.defaultEqualityComparer,valueChangeCallback:$.noop,tag:undefined},t);this._currentValue=n;this._tag=t.tag;this._options=t;this.valueChangedEvent=SimpleEvent.create()}return n.prototype.adjustValue=function(n,t){var i=this;i.setValue(n(i.getValue()),t)},n.prototype.getValue=function(){return this._currentValue},n.prototype.setValue=function(n,t){var i=this,r=i._options,f=i._currentValue,u;return(n=r.valueConverter(n),!r.equalityComparer(f,n))?(u=f,i._currentValue=n,i.valueChangedEvent.fireNew(n,u,t),r.valueChangeCallback(n,u,t),!0):!1},n.prototype.getTag=function(){return this._tag},n.prototype.isEqual=function(n){var t=this,i=t._options,r=t._currentValue;return i.equalityComparer(r,n)},n.prototype.onValueChanged=function(n){return this.valueChangedEvent.bind(n)},n.prototype.createValueListener=function(n){return SimpleEvent.createEventListener(this.valueChangedEvent,n)},n.prototype.trackValues=function(n,t){var u,r,i;return t=$.quickExtend({setCallback:$.noop,unsetCallback:$.noop,statusChangeCallback:$.noop},t),u=this,r=u._currentValue,n=$.asArray(n),i=$.inArray(r,n)>=0,i&&t.setCallback(),u.valueChangedEvent.bind(function(){$.inArray(r,n)>=0&&!i?(i=!0,t.setCallback(),t.statusChangeCallback(!0)):$.inArray(r,n)<0&&i&&(i=!1,t.unsetCallback(),t.statusChangeCallback(!1))})},n.prototype.bind=function(n,t){var i=this,r=i._currentValue,t=i.valueChangedEvent.bind(n,t);return n(r),t},n.prototype.unbind=function(n){this.valueChangedEvent.unbind(n)},n.create=function(t,i){return new n(t,i)},n.createNumerical=function(t,i){return n.create(t,$.extend({},i,{equalityComparer:$.referencesEqualityComparer}))},n.createTextual=function(t,i){return n.create($.valueOrDefault(t,""),$.extend({},i,{equalityComparer:$.referencesEqualityComparer}))},n.createReferenceObject=function(t){return n.create(undefined,$.extend({},t,{equalityComparer:$.referencesEqualityComparer}))},n.createJqueryObject=function(t){return n.create(undefined,$.extend({},t,{equalityComparer:function(n,t){return!n||!t?n===t:n.length!==t.length?!1:n.not(t).length===0}}))},n.isObservableObject=function(t){return t instanceof n},n.createValueBinding=function(n,t){function h(n){if(!s)if(r){n=t.valueConverter(n);e=!0;var h=o;o=n;t.notifiedValuesFilter(n,h)&&(t.valueChangeCallback(n),i.valueChangedEvent.fireNew(n));e=!1}else f=n,u=undefined}t=$.extend({notifiedValuesFilter:$.returnTrue,valueConverter:$.identity,valueChangeCallback:$.noop,synchronizeToCurrentValue:!1,autoActivate:!1},t);var i={},u=undefined,f=undefined,o=undefined,r=!1,s=!1,e=!1,c=n.valueChangedEvent.bind(h);return $.extend(i,{valueChangedEvent:SimpleEvent.create(),adjustValue:function(t){e||i.setValue(t(n.getValue()))},setValue:function(t){e||(r?(s=!0,o=t,n.setValue(t),s=!1):(u=t,f=undefined))},activate:function(){r||(r=!0,u!==undefined&&i.setValue(u),f&&h(f))},deactivate:function(){r&&(u=undefined,r=!1)},toggleActive:function(n){n?i.activate():i.deactivate()},destroy:function(){c.unbind()}}),t.autoActivate&&i.activate(),t.synchronizeToCurrentValue&&h(n.getValue()),i},n.createPropertyBinding=function(t,i){var e;i=$.extend({propertyName:undefined,observableObject:undefined},i);var f=OperationsBatch.create(),u=i.observableObject?i.observableObject:n.create(),r=i.propertyName,o=u.valueChangedEvent.bind(function(n){f.performOperation(function(){t.properties[r].bindingValue=n;PropertiesManager.recomputePropertyValue(t,r)},"binding")});return t.properties[r].bindingObject=u,e={clearBinding:function(){delete t.properties[r].bindingValue;delete t.properties[r].bindingConroller;o.unbind();PropertiesManager.recomputePropertyValue(t,r)},getObservable:function(){return u},setValue:function(n){u.setValue(n)},getValue:function(){return u.getValue()},postponeUpdates:function(){f.start()},unPostponeUpdates:function(){f.finish()}},t.properties[r].bindingConroller=e,e},n}(),function(n){function i(i,r,u,f){var o,s,e;return(f=n.extend({valueConverter:n.identity,executeOnStart:!0,textOnly:!1,whenUndefined:""},f),o=f.valueConverter,s=f.executeOnStart,r=n.valueOrDefault(n.evaluateWhenFunction(r),f.whenUndefined),typeof r=="string")?(u?i.text(r):i.html(r),t):(e=r.createValueListener(function(){var n=o(r.getValue());u?i.text(n):i.html(n)}),s?e.activateAndExecute():e.activate(),e)}var t={activate:n.noop,deactivate:n.noop,dispose:n.noop,activateAndExecute:n.noop};n.fn.bindContent=function(n,t){return i(this,n,!1,t)};n.fn.bindTextContent=function(n,t){return i(this,n,!0,t)};n.fn.bindClassName=function(i,r){var e,o,f,s,u;return(r=n.extend({valueConverter:n.identity,whenUndefined:"",executeOnStart:!0},r),e=r.valueConverter,o=r.executeOnStart,i=n.valueOrDefault(n.evaluateWhenFunction(i),r.whenUndefined),f=this,typeof i=="string")?(f.addClass(i),t):(s=ContextValue.createContextClass(f),u=i.createValueListener(function(){var n=e(i.getValue());s.set(n)}),o?u.activateAndExecute():u.activate(),u)}}(jQuery),function(){function r(){var i=u();i||n.fireNew(t)}function u(){var n=$.calculateWindowSize(),i=EqualityComparers.SizeEqualityComparer(t,n);return t=n,i}var n,i,t,f=$(window);$.getWindowSize=function(){return i?t:$.calculateWindowSize()};$.getWindowSizeEvent=function(){if(!n){var t=$.uniqueID();i=!0;f.bind("resize."+t,function(n){(n.target===window||n.target===document)&&r()});u();n=SimpleEvent.create()}return n};$.resetWindowSize=function(){r()};$.setDocumentTitle=function(n){var i=Global.IsDesigner?ApplicationManager.getBrandText()+" Editor ({0})":"{0}",t=undefined;Global.IsDesigner&&(t=$.getRootDocument()[0]);t||(t=window.document);t&&(t.title=i.format(n))};$.callRootFunction=function(n){var i=arguments.length-1,r,t,u,f;if(i>=0){for(r=new Array(i),t=0;t<i;t++)r[t]=arguments[t+1];u=$.getRootWindow();f=u[n];f!==undefined&&f.apply(u,r)}}}();var DynamicFonts=new function(){var n=DeferredObject.create(function(){var n=$('<style rel="stylesheet" type="text/css" />').appendTo("head"),t=n[0],r=t[t.sheet?"sheet":"styleSheet"],i=!1;try{r.insertRule(createFontRule("test","test"),0);i=!0}catch(u){}return n.remove(),i}),t=DeferredObject.create(function(){return!$.browser.msie});this.create=function(i){function c(){h||(h=!0,f=v(),u=f[f.sheet?"sheet":"styleSheet"])}function v(){var u=i.fonts,n=new StringBuilder,t;for(n.append('<style rel="stylesheet" type="text/css" >'),t=0;t<u.length;t++){var f=u[t],e=f.fontFamily,s=f.fontUrlPrefix,o=a(e,s);n.append(o);r[e]={ruleCSS:o}}return n.append("<\/style>"),$(n.toString()).appendTo("head")[0]}function y(n,t){n.deleteRule?n.deleteRule(t):n.removeRule(t)}function l(){$(f).remove();f=$('<style rel="stylesheet" type="text/css" />').appendTo("head")[0];var n=f.sheet?"sheet":"styleSheet";u=f[n];u.cssText=$.map(r,function(n){return n.ruleCSS}).join("\n")}function a(n,t){var r=new StringBuilder,i="?"+document.domain;return r.append("@font-face {").append('font-family: "{0}";',n).append("src:url('{0}.eot{1}');",t,i).append("src:url('{0}.eot{1}#iefixhlochz') format('embedded-opentype'),",t,i).append("url('{0}.woff{1}') format('woff'),",t,i).append("url('{0}.ttf{1}') format('truetype'),",t,i).append("url('{0}.svg{1}#font') format('svg');",t,i).append("}"),r.toString()}i=$.extend({fonts:[]},i);var r={},h=!1,u,f,o=[],s=[],e={};return $.extend(e,{FontsUpdateBatch:OperationsBatch.create({batchFinishCallback:function(){o.length>0&&(e.addFonts(o),o=[]);s.length>0&&(e.removeFonts(s),s=[])}}),getStyleSheet:function(){return u},getRegisteredFonts:function(){return r},isRegisteredFont:function(n){return r[n]!==undefined},addFont:function(n,t){e.addFonts([{fontFamily:n,fontUrlPrefix:t}])},addFonts:function(t){var f,p,i,v;if(c(),t=$.asArray(t),e.FontsUpdateBatch.isActive()){$.merge(o,t);return}for(f=[],i=0;i<t.length;i++){var y=t[i],h=y.fontFamily,w=y.fontUrlPrefix,s=r[h];s===undefined&&(p=a(h,w),s={ruleCSS:p},r[h]=s,f.push(s))}if(n.get())for(i=0;i<f.length;i++)v=f[i],u.insertRule(v.ruleCSS,0),v.rule=u.cssRules[0];else f.length>0&&l()},removeFonts:function(n){var f,o,h,i,c,a;if(n=$.asArray(n),e.FontsUpdateBatch.isActive()){$.merge(s,n);return}for(f=[],i=0;i<n.length;i++)o=n[i],h=r[o],h!==undefined&&(f.push(h.rule),delete r[o]);if(t.get())for(i=0;i<f.length;i++)c=f[i],a=$.inArray(c,u.cssRules),y(u,a);else f.length>0&&l()}}),i.fonts.length>0&&c(),e}},ImageBoxLayout={Stretched:"fill",Cover:"stretchedToFill",Fit:"stretched",FitWhenBigger:"fitWhenBigger",Original:"normal",Tile:"repeat",TileHorizontally:"repeatHorizontally",TileVertically:"repeatVertically",Custom:"custom"},ImageBoxState={NoImage:"state-no-image",LoadingImage:"state-loading-image",ImageLoaded:"state-image-loaded",ImageError:"state-image-error",PendingImage:"state-pending-image"},PendingImage={},ImageBoxUtil={calculateImageSizeInLayout:function(n,t,i){var r;if(i.width===0||i.height===0||n.width===0||n.height===0)return{width:0,height:0};if($.isPlainObject(t))r={width:t.widthRatio*i.width,height:t.heightRatio*i.height};else switch(t){case ImageBoxLayout.Stretched:r={width:i.width,height:i.height};break;case ImageBoxLayout.Cover:r=$.stretch(n,i,!0,{ceilFractions:!0});break;case ImageBoxLayout.Fit:r=$.stretch(n,i,!1,{ceilFractions:!0});break;case ImageBoxLayout.FitWhenBigger:r=n.width>i.width||n.height>i.height?$.stretch(n,i,!1,{ceilFractions:!0}):$.extend({},n);break;case ImageBoxLayout.Original:r=$.extend({},n)}return{width:Math.floor(r.width),height:Math.floor(r.height)}},isCustomLayout:function(n){return $.isPlainObject(n)}};(function(n){function f(n,r){var u=i(r);n.$imageWrapper.css(u);t(n,r);n.viewportChangedEvent.fireNew(u)}function e(i,r,u){function h(){u&&(o&&o.remove(),i.$image=f,i.setAlt(i.alt),r.imageInfo=e,r.$asyncImage=undefined,r.loadingImageInfo=undefined,f.quickShow());s?u&&t(i,r):(n.unite(f,i.$imageWrapper).removeClass("unknown-size"),r.useBackgroundImage&&r.useBackgroundImageClass.set("use-image-element"),r.imageInfo.imageSize={width:f.prop("width"),height:f.prop("height")},r.useBackgroundImage&&r.useBackgroundImageClass.set("use-background-image"),t(i,r))}var e,o,f,s;if(r.pendingImageInfo!==undefined){if(e=r.pendingImageInfo,r.pendingImageInfo=undefined,r.$asyncImage&&(r.$asyncImage.unbind().remove(),r.$asyncImage=undefined),o=i.$image,o&&o.unbind(),!e||e===PendingImage){o&&o.remove();i.$imageWrapper.css("background-image","");i.$image=undefined;r.imageInfo=undefined;e===PendingImage?r.state.setValue(ImageBoxState.PendingImage):r.state.setValue(ImageBoxState.NoImage);return}f=n("<img class='image-box-image-new' />").appendTo(i.$imageWrapper);u?(f.quickHide(),r.$asyncImage=f,r.loadingImageInfo=e):(o&&o.remove(),i.$image=f,r.imageInfo=e,i.setAlt(i.alt));s=e.imageSize!==undefined;r.state.setValue(ImageBoxState.LoadingImage);f.one("load",function(){r.state.setValue(ImageBoxState.ImageLoaded);h()}).one("error",function(){r.state.setValue(ImageBoxState.ImageError);h()});n.unite(f,i.$imageWrapper).toggleClass("unknown-size",!s);f.attr("src",e.imageUrl);s&&t(i,r)}}function t(t,u){var e,f,h;u.viewPort&&u.position&&u.layout&&u.imageInfo&&u.imageInfo.imageSize!==undefined&&(e=u.forceBackgroundImage&&!!n.support.backgroundSize||o(u.layout)||l()&&r(u.borderRadius),u.useBackgroundImageClass.set(e?"use-background-image":"use-image-element"),u.useBackgroundImage=e,f=undefined,e?(t.$imageWrapper.css("background-image","url("+u.imageInfo.imageUrl+")"),o(u.layout)?t.$imageWrapper.css("background-size",""):(f=ImageBoxUtil.calculateImageSizeInLayout(u.imageInfo.imageSize,u.layout,i(u)),t.$imageWrapper.css("background-size","{width}px {height}px".format(f)))):(t.$imageWrapper.css("background-image",""),f=ImageBoxUtil.calculateImageSizeInLayout(u.imageInfo.imageSize,u.layout,i(u)),h=u.layout===ImageBoxLayout.Stretched?{marginLeft:0,marginTop:0}:s(u.position,f,i(u),u.layout),t.$image.css(f).css(h).attr("width",f.width).attr("height",f.height)),u.imageSizeInLayout=f)}function i(n){var i=n.viewPort,t=n.borderWidth,r=t.left+t.right,u=t.top+t.bottom;return{width:i.width-r,height:i.height-u}}function s(t,i,r,u){var f=0,e=0;if(n.isPlainObject(u))e=u.leftRatio*r.width,f=u.topRatio*r.height;else{switch(t.horizontal){case"right":e=r.width-i.width;break;case"center":e=Math.round(r.width/2-i.width/2)}switch(t.vertical){case"bottom":f=r.height-i.height;break;case"center":f=Math.round(r.height/2-i.height/2)}}return{marginTop:f,marginLeft:e}}function h(n,t){return n===undefined||t===undefined?n===t:n.horizontal===t.horizontal&&n.vertical===t.vertical}function c(t,i){return t===undefined||i===undefined?t===i:n.isPlainObject(t)!==n.isPlainObject(i)?!1:n.isPlainObject(t)?t.leftRatio===i.leftRatio&&t.topRatio===i.topRatio&&t.widthRatio===i.widthRatio&&t.heightRatio===i.heightRatio:t===i}function o(n){switch(n){case ImageBoxLayout.TileHorizontally:case ImageBoxLayout.TileVertically:case ImageBoxLayout.Tile:return!0;default:return!1}}function r(n){return n&&(n.topLeft>0||n.topRight>0||n.bottomLeft>0||n.bottomRight>0)}function l(){return!!n.browser.opera}var u=n.createFieldsEqualityComparer(["imageUrl"]);n.fn.makeImageBoxNew=function(o){o=n.extend({autoLoad:!0,optimizeSpeed:!0,layout:ImageBoxLayout.Fit,position:{vertical:"center",horizontal:"center"},viewPort:{width:0,height:0},imageUrl:undefined,imageSize:undefined},o);var l={},a=this.addClass("image-box-new").toggleClass("optimize-speed",o.optimizeSpeed),v=n("<span class='image-box-image-wrapper block'><\/span>").appendTo(a),s={id:n.weakID("imagebox"),loadingAnimation:undefined,viewPort:undefined,layout:undefined,position:undefined,imageInfo:undefined,pendingImageInfo:undefined,loadingImageInfo:undefined,imageSizeInLayout:undefined,forceBackgroundImage:!1,useBackgroundImage:!1,borderRadius:{bottomRight:0,topRight:0,topLeft:0,bottomLeft:0},borderWidth:{top:0,left:0,bottom:0,right:0},layoutClass:ContextValue.createContextClass({getTarget:function(){return v}}),horizontalPositionClass:ContextValue.createContextClass({getTarget:function(){return v}}),verticalPositionClass:ContextValue.createContextClass({getTarget:function(){return v}}),useBackgroundImageClass:ContextValue.createContextClass({getTarget:function(){return v}}),stateClass:ContextValue.createContextClass({getTarget:function(){return a}}),state:ObservableObject.create(undefined,{valueChangeCallback:function(n){s.stateClass.set(n);l.stateChangedEvent.fire(l,n)}})};return n.extend(l,{$element:a,$imageWrapper:v,$image:undefined,stateChangedEvent:SimpleEvent.create(),viewportChangedEvent:SimpleEvent.create(),getState:function(){return s.state},trackStates:function(n,t){return s.state.trackValues(n,t)},setImage:function(n,t){if(n!==undefined){typeof n=="string"&&(n={imageUrl:n,imageSize:undefined});n&&n!==PendingImage&&!n.imageUrl&&(n=null);var i=u(n,s.imageInfo)&&s.loadingImageInfo===undefined,r=u(n,s.loadingImageInfo);if(i||r){s.pendingImageInfo=undefined;return}return s.pendingImageInfo=n,o.autoLoad&&e(l,s,t),l}},clearImage:function(){return l.setImage(null),l},loadImage:function(n){return e(l,s,n),l},setBorderWidth:function(t){t=n.extend({top:0,left:0,right:0,bottom:0},s.borderWidth,t);n.borderWidthEqualityComparer(s.borderWidth,t)||(s.borderWidth=t,a.css({"border-top-width":t.top,"border-left-width":t.left,"border-bottom-width":t.bottom,"border-right-width":t.right}),f(l,s),n.updateInnerBorderRadius(l.$imageWrapper,s.borderRadius,s.borderWidth))},setBorderRadius:function(i){if(i=n.extend({topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},s.borderRadius,i),!n.borderRadiusEqualityComparer(s.borderRadius,i)){var u=s.borderRadius;s.borderRadius=i;n.updateInnerBorderRadius(l.$imageWrapper,s.borderRadius,s.borderWidth);r(u)!==r(i)&&t(l,s)}},setViewPort:function(t,i){t=n.extend({width:0,height:0},s.viewPort,t);(!n.sizesEqual(s.viewPort,t)||i)&&(s.viewPort=t,f(l,s))},getActualViewPort:function(){return i(s)},setAlt:function(n){l.alt=n;l.$image&&(n?l.$image.attr("alt",n):l.$image.removeAttr("alt"))},setPosition:function(i){i=n.extend({vertical:"center",horizontal:"center"},s.position,i);h(i,s.position)||(s.position=i,s.horizontalPositionClass.set("horizontal-"+i.horizontal),s.verticalPositionClass.set("vertical-"+i.vertical),t(l,s))},setLayout:function(n){c(n,s.layout)||(s.layout=n,s.layoutClass.set(n),t(l,s))},getLayout:function(){return s.layout},synchronizeViewPort:function(){l.setViewPort(a.elementSize())},toggleForceBackgroundImage:function(n){s.forceBackgroundImage=n;t(l,s)},getImageSizeInLayout:function(){return s.imageSizeInLayout},setLoadingAnimation:function(n){s.loadingAnimation=n;a.toggleClass("has-loading-animation",!!n)}}),l.setViewPort(o.viewPort),l.setPosition(o.position),l.setLayout(o.layout),o.imageUrl?l.setImage({imageUrl:o.imageUrl,imageSize:o.imageSize}):l.clearImage(),l}})(jQuery);
/*!
* jQuery.Rule - Css Rules manipulation, the jQuery way.
* Copyright (c) 2007-2011 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
* Dual licensed under MIT and GPL.
* Date: 02/7/2011
* Compatible with jQuery 1.2+
*
* @author Ariel Flesler
* @version 1.0.2
*
* @id jQuery.rule
* @param {Undefined|String|jQuery.Rule} The rules, can be a selector, or literal CSS rules. Many can be given, comma separated.
* @param {Undefined|String|DOMElement|jQuery) The context stylesheets, all of them by default.
* @return {jQuery.Rule} Returns a jQuery.Rule object.
*
* @example $.rule('p,div').filter(function(){ return this.style.display != 'block'; }).remove();
*
* @example $.rule('div{ padding:20px;background:#CCC}, p{ border:1px red solid; }').appendTo('style');
*
* @example $.rule('div{}').append('margin:40px').css('margin-left',0).appendTo('link:eq(1)');
*
* @example $.rule().not('div, p.magic').fadeOut('slow');
*
* @example var text = $.rule('#screen h2').add('h4').end().eq(4).text();
*/
(function(n){function o(n,t){n.length=0;Array.prototype.push.apply(n,t)}var f=n('<style rel="stylesheet" type="text/css" />').appendTo("head")[0],u=f.sheet?"sheet":"styleSheet",i=f[u],r=i.rules?"rules":"cssRules",s=i.deleteRule?"deleteRule":"removeRule",h=i.ownerNode?"ownerNode":"owningElement",e=/^([^{]+)\{([^}]*)\}/m,c=/([^:]+):([^;}]+)/,t;i.disabled=!1;t=n.rule=function(n,i){if(!(this instanceof t))return new t(n,i);if(this.sheets=t.sheets(i),n&&e.test(n)&&(n=t.clean(n)),typeof n!="object"||n.exec){if(o(this,this.sheets.cssRules().get()),n)return this.filter(n)}else o(this,n.get?n.get():n.splice?n:[n]);return this};n.extend(t,{sheets:function(t){var r=t;return typeof r!="object"&&(r=n.makeArray(document.styleSheets)),r=n(r).not(i),typeof t=="string"&&(r=r.ownerNode().filter(t).sheet()),r},rule:function(n){return n.selectorText?["",n.selectorText,n.style.cssText]:e.exec(n)},appendTo:function(n,t,f){var o,e;switch(typeof t){case"string":t=this.sheets(t);case"object":if(t[0]&&(t=t[0]),t[u]&&(t=t[u]),t[r])break;default:if(typeof n=="object")return n;t=i}return!f&&(o=this.parent(n))&&(n=this.remove(n,o)),e=this.rule(n),t.addRule?t.addRule(e[1],e[2]||";"):t.insertRule&&t.insertRule(e[1]+"{"+e[2]+"}",t[r].length),t[r][t[r].length-1]},remove:function(t,u){if(u=u||this.parent(t),u!=i){var f=u?n.inArray(t,u[r]):-1;f!=-1&&(t=this.appendTo(t,0,!0),u[s](f))}return t},clean:function(i){return n.map(i.split("}"),function(n){if(n)return t.appendTo(n+"}")})},parent:function(t){if(typeof t=="string"||!n.browser.msie)return t.parentStyleSheet;var i;return this.sheets().each(function(){if(n.inArray(t,this[r])!=-1)return i=this,!1}),i},outerText:function(n){return!n||!n.selectorText?"":[n.selectorText+"{","\t"+n.style.cssText,"}"].join("\n").toLowerCase()},text:function(n,t){return t!==undefined&&(n.style.cssText=t),n?n.style.cssText.toLowerCase():""}});t.fn=t.prototype={pushStack:function(n,i){var r=t(n,i||this.sheets);return r.prevObject=this,r},end:function(){return this.prevObject||t(0,[])},filter:function(t){var i;return t||(t=/./),t.split?(i=n.trim(t).toLowerCase().split(/\s*,\s*/),t=function(){var t=this.selectorText||"";return!!n.grep(t.toLowerCase().split(/\s*,\s*/),function(t){return n.inArray(t,i)!=-1}).length}):t.exec&&(i=t,t=function(){return i.test(this.selectorText)}),this.pushStack(n.grep(this,function(n,i){return t.call(n,i)}))},add:function(i,r){return this.pushStack(n.merge(this.get(),t(i,r)))},is:function(n){return!!(n&&this.filter(n).length)},not:function(i,r){return i=t(i,r),this.filter(function(){return n.inArray(this,i)==-1})},append:function(t){var r=this,i;return n.eachItem(t.split(/\s*;\s*/),function(n,t){(i=c.exec(t))&&r.css(i[1],i[2])}),this},text:function(n){return arguments.length?this.each(function(){t.text(this,n)}):t.text(this[0])},outerText:function(){return t.outerText(this[0])}};n.eachEntry({ownerNode:h,sheet:u,cssRules:r},function(t,i){var u=i==r;n.fn[t]=function(){return this.map(function(){return u?n.makeArray(this[i]):this[i]})}});n.fn.cssText=function(){return this.filter("link,style").eq(0).sheet().cssRules().map(function(){return t.outerText(this)}).get().join("\n")};n.eachItem("remove,appendTo,parent".split(","),function(i,r){t.fn[r]=function(){var i=n.makeArray(arguments),u=this;return i.unshift(0),this.each(function(n){i[0]=this;u[n]=t[r].apply(t,i)||u[n]})}});n.eachItem("each,index,get,size,eq,slice,map,attr,andSelf,css,show,hide,toggle,queue,dequeue,stop,animate,fadeIn,fadeOut,fadeTo".split(","),function(i,r){t.fn[r]=n.fn[r]});n(window).unload(function(){n(i).cssRules().remove()})})(jQuery);TransitionOrder={Simultaneously:1,EnterBeforeExit:2,ExitBeforeEnter:3};RemoteSettings=new function(){this.create=function(n){n=$.extend({getSettingsValue:function(){},setSettingsValue:function(){}},n);var i={},r={},u={},t={getValue:function(t,f){var e,o;if(r[t])return i[t];if(e=n.getSettingsValue(t),e!==undefined)try{e=JSON.parse(e)}catch(s){}return o=e!==undefined,o||(e=f),u[t]=o,i[t]=e,r[t]=!0,e},setValue:function(t,u,f){f=$.extend({onSuccess:$.noop,onError:$.noop},f);i[t]=u;r[t]=!0;n.setSettingsValue(t,JSON.stringify(u),f)},createObservableObject:function(n,u,f){f=$.extend({observableObjectOptions:undefined,updateOptions:undefined,updateServerOnChange:!0},f);var o=f.observableObjectOptions,s=f.updateOptions,h=f.updateServerOnChange,c=t.getValue(n,u),e=ObservableObject.create(c,o);return e.valueChangedEvent.bind(function(u){h?t.setValue(n,u,s):(i[n]=u,r[n]=!0)}),e},createObservableFlag:function(n,i,r,u){var e=t.getValue(n,i),f=ObservableFlag.create(e,r);return f.valueChangedEvent.bind(function(i){t.setValue(n,i,u)}),f}};return t}},function(n){var t=undefined;n.isIOS=function(){if(t===undefined){var n=navigator.appVersion;t=/iphone|ipad|ipod/gi.test(n)}return t};n.getIOSWindowHeight=function(){var n=document.documentElement.clientWidth/window.innerWidth;return window.innerHeight*n};n.getHeightOfIOSToolbars=function(){var t=(window.orientation===0?screen.height:screen.width)-n.getIOSWindowHeight();return t>1?t:0}}(jQuery);var StyleListener=new function(){function f(n,t){switch(t){case"width":case"outerWidth":case"height":case"outerHeight":case"offset":return n[t]();case"scrollHeight":return n[0].scrollHeight;case"scrollWidth":return n[0].scrollWidth;default:return n.css(t)}}function e(n,t,i){switch(n){case"offset":return t.top===i.top&&t.left===i.left;default:return t===i}}var r=this,u=SimpleEvent.create(),t=OperationsBatch.create(),n=$.createPolling(function(){t.start();u.fireNew($.now());t.finish()},100),i=!1;this.IsActive=ObservableFlag.createConditionalNegative({valueChangeCallback:function(t){t?n.start():n.stop()}});this.setInterval=function(t){n.setDefaultInterval(t)};this.checkNow=function(){i=!0;n.poll();i=!1};this.create=function(n,o){o=$.quickExtend({minInterval:0,properties:undefined,callback:undefined},o);var h=$.asArray(o.properties),c=o.callback,p=o.minInterval;if(c===undefined)throw new Error("Style change callback is missing");var l=[],s,a=function(i){var r,u;for(s=i,r=undefined,u=0;u<h.length;u++){var o=h[u],a=f(n,o),v=l[u];v!==undefined&&e(o,v,a)||(l[u]=a,r||(r={}),r[o]={value:a,prevValue:v})}return r?(t.performOperation(function(){c(r)}),!0):!1},v=$.weakID("styleListener"),y=SimpleEvent.createEventListener(u,function(n){!i&&s!==undefined&&n-s<p||a(n)},{activationCallback:function(){r.IsActive.setTrue(v)},deactivationCallback:function(){r.IsActive.setFalse(v)}});return y.checkForChanges=function(){return a($.now())},y}},ColorsHelper=new function(){function n(n){switch(n){case ColorSpaceComponent.R:return 0;case ColorSpaceComponent.G:return 1;case ColorSpaceComponent.B:return 2;case ColorSpaceComponent.H:return 0;case ColorSpaceComponent.S:return 1;case ColorSpaceComponent.L:return 2}}this.compositeColorsEqualityComparer=function(n,t){var i=ColorsHelper.isGradient(n),o=ColorsHelper.isGradient(t),r,u;if(i!==o)return!1;if(i){if(r=n.orientation,u=t.orientation,r!==u)return!1;var f=n.gradient,e=t.gradient,s=$.arraysEqual(f.colorStops,e.colorStops,{equalityComparer:function(n,t){return n.location!==t.location?!1:ColorsHelper.bindableColorsEqualityComparer(n.value,t.value)}});return s?$.arraysEqual(f.opacityStops,e.opacityStops,{equalityComparer:function(n,t){return n.location===t.location&&n.value===t.value}}):!1}return ColorsHelper.bindableColorsEqualityComparer(n,t)};this.bindableColorsEqualityComparer=function(n,t){var i=ThemeColorsManager.isColorBinding(n),r=ThemeColorsManager.isColorBinding(t);return i!==r?!1:i?ThemeColorsManager.themeColorBindingEqualityComparer(n,t):$.colorsEqual(n,t)};this.cloneColor=function(n){return n?$.isGradient(n)?ColorsHelper.cloneGradient(n):ThemeColorsManager.isSolidColorBinding(n)?ColorsHelper.cloneSolidColorBinding(n):$.Color(n):n};this.cloneSolidColorBinding=function(n){return n?ThemeColorsManager.createThemeColorBinding(n.mainColor,{variation:n.variation,opacity:n.opacity,brightness:n.brightness}):n};this.cloneGradient=function(n){if(!n)return n;var t=n.gradient;return{gradient:{colorStops:$.map(t.colorStops,function(n){return{location:n.location,value:ColorsHelper.cloneColor(n.value)}}),opacityStops:$.map(t.opacityStops,function(n){return{location:n.location,value:n.value}})},orientation:n.orientation}};this.convertToApplicableColor=function(n){return n?ThemeColorsManager.isSolidColorBinding(n)||typeof n=="string"?n:ColorsHelper.isGradient(n)?ColorsHelper.mapGradientColorValues(n,function(n){return ColorsHelper.convertToApplicableColor(n)}):$.Color(n).toCSS():n};this.toggleGradientOrientation=function(n){return n?ColorsHelper.adjustGradientOrientation(n,n.orientation===Orientation.Vertical?Orientation.Horizontal:Orientation.Vertical):n};this.adjustGradientOrientation=function(n,t){return n?(n=ColorsHelper.cloneGradient(n),n.orientation=$.evaluateWhenFunction(t),n):n};this.reverseGradient=function(n){if(!n)return n;n=ColorsHelper.cloneGradient(n);var t=n.gradient;return t.colorStops=$.reverseArray(t.colorStops,function(n){return{value:n.value,location:n.location=100-n.location}}),t.opacityStops=$.reverseArray(t.opacityStops,function(n){return{value:n.value,location:n.location=100-n.location}}),n};this.getBrightness=function(n){return $.adjustFraction($.getCoordinateValue(n,ColorCoordinate.Brightness),2)};this.getHue=function(n){return $.adjustFraction($.getCoordinateValue(n,ColorCoordinate.Hue),2)};this.getSaturation=function(n){return $.adjustFraction($.getCoordinateValue(n,ColorCoordinate.Saturation),2)};this.changeBrightness=function(n,t){return n=$.Color(n).toHSL(),$.Color([n[0],n[1],Math.max(0,Math.min(1,$.adjustFraction(t,2)))],"HSL")};this.isGradient=function(n){return!!n&&n.gradient!==undefined};this.getGradientColorValues=function(n){return $.map(n.gradient.colorStops,function(n){return n.value})};this.mapGradientColorValues=function(n,t){var i=n.gradient.opacityStops,r=n.gradient.colorStops;return{gradient:{opacityStops:$.map(i,function(n){return $.extend({},n)}),colorStops:$.map(r,function(n){return{location:n.location,value:t(n.value)}})},orientation:n.orientation}};this.getColorComponentValue=function(t,i){return t=ColorsHelper.convertToColorSpace(t,ColorsHelper.getColorSpaceByComponent(i)),t[n(i)]};this.getCompositeColorOpacity=function(n){return ThemeColorsManager.isSolidColorBinding(n)?$.valueOrDefault(n.opacity,1):ColorsHelper.isGradient(n)?$.valueOrDefault(n.opacity,1):ColorsHelper.getOpacity(n)};this.adjustOpacity=function(n,t){var i,r;return ThemeColorsManager.isSolidColorBinding(n)?ThemeColorsManager.adjustThemeColorBinding(n,{opacity:t($.valueOrDefault(n.opacity,1))}):ColorsHelper.isGradient(n)?(i=ColorsHelper.cloneGradient(n),i.opacity=t($.valueOrDefault(i.opacity,1)),i):(n=$.Color(n),r=$.merge([],n),r[3]=t($.valueOrDefault(r[3],1)),$.Color(r,n.space))};this.adjustBrightness=function(n,t){if(n)if(ColorsHelper.isGradient(n))n=ColorsHelper.cloneGradient(n),$.eachItem(n.gradient.colorStops,function(n,i){i.value=ColorsHelper.adjustBrightness(i.value,t)});else return ThemeColorsManager.isSolidColorBinding(n)?ThemeColorsManager.adjustThemeColorBinding(n,{brightness:Math.min(1,Math.max(-1,t($.valueOrDefault(n.brightness,0))))}):ColorsHelper.adjustColorComponent(n,ColorSpaceComponent.L,t);else return n};this.getOpacity=function(n){return n=$.Color(n),$.valueOrDefault(n[3],1)};this.adjustColorComponent=function(t,i,r){t=ColorsHelper.convertToColorSpace(t,ColorsHelper.getColorSpaceByComponent(i));var f=n(i),u=$.merge([],t);return u[f]=r(u[f]),$.Color(u,t.space)};this.convertToColorSpace=function(n,t){n=$.Color(n);switch(t){case ColorSpace.RGB:return n.toRGB();case ColorSpace.HSL:return n.toHSL();default:return n}};this.getColorSpaceByComponent=function(n){switch(n){case ColorSpaceComponent.R:case ColorSpaceComponent.G:case ColorSpaceComponent.B:return ColorSpace.RGB;case ColorSpaceComponent.H:case ColorSpaceComponent.S:case ColorSpaceComponent.L:return ColorSpace.HSL}}},ScrollingView=function(){var n=Class.extend("ScrollingView",{init:function(n,t){var w,o,c;t=$.quickExtend({scrollbarClass:undefined,instanceClass:undefined,themeClass:undefined,$scrollbar:undefined,$customMouseWheelTarget:undefined,scrollingItemEventSupport:!1,scrollingVerticalDistance:0,scrollingItemSelector:undefined,$fixedHeader:undefined},t);var i=this,l=t.instanceClass,a=t.themeClass,b=t.scrollbarClass,u=t.$scrollbar,k=t.$customMouseWheelTarget,d=t.scrollingItemEventSupport,v=t.$fixedHeader,s=new StringBuilder(" ");l&&s.append(l);a&&s.append(a);var f=s.toString(),r=$('<div class="scrolling-view positioned"><\/div>').addClass(f),e=$('<div class="scrolling-pane positioned"><\/div>').addClass(f).appendTo(r),h=$('<div class="scrolled-content"><\/div>').addClass(f).appendTo(e),y=[r[0],e[0],h[0]],p;v&&(p=$("<div class='scrolling-view-fixed-headers'><\/div>").addClass(f).append(v).prependTo(r),y.push(p[0]));w=$(y);u||(u=$('<div class="scrollbar"><\/div>').appendTo(r));u.addClass(b).addClass(f);r.insertBefore(n);n.appendTo(h);o=e.scrollable({scrollableContainer:$.valueOrDefault(k,e)});c=u.scrollBar({reactToSlideAreaClick:!0,handleMinSize:80,autoHide:!0}).connectToScrollable(o);c.isVisible.valueChangedEvent.bindAndExecute(function(){w.chooseClass(c.isVisible.isTrue(),"scrollbar-visible","scrollbar-hidden")});d&&(this._scrollingItemEventSupport=!0,this._scrollingVerticalDistance=t.scrollingVerticalDistance,this.scrollingItemEvent=SimpleEvent.create(),this._scrollingItemSelector=t.scrollingItemSelector,this._scrollingEventListener=SimpleEvent.createEventListener(o.scrollingEvent,function(){if(i._ignoreScrollingEvent){delete i._ignoreScrollingEvent;return}var n=i._calculateScrollingItemIndex(i.$scrollingPane.scrollTop());n!==undefined&&(i._lastScrollIndex===undefined||n!==i._lastScrollIndex)&&(i._lastScrollIndex=n,i.scrollingItemEvent.fireNew(i._scrollingItemAnchors[n].$item))}));this.$element=r;this.$scrollingPane=e;this.$scrolledContent=h;this.$scrollbar=u;this.scrollingController=o},isSupportScrollingItems:function(){return!!this._scrollingItemEventSupport},updateScrollingPosition:function(){if(!this.isSupportScrollingItems())throw new Error("scrollingItemEventSupport is not enabled");var n=this.getScrollOffset(),t=this.$scrollingPane.offset().top-n,i=this._scrollingItemAnchors=[];$(this._scrollingItemSelector,this.$scrolledContent).each(function(){var n=$(this),r=n.offset().top-t;i.push({$item:n,top:r})})},activateScrollingItems:function(){if(!this.isSupportScrollingItems())throw new Error("scrollingItemEventSupport is not enabled");this.updateScrollingPosition();this._scrollingEventListener.activateAndExecute()},deactivateScrollingItems:function(){if(!this.isSupportScrollingItems())throw new Error("scrollingItemEventSupport is not enabled");delete this._scrollingItemAnchors;delete this._lastScrollIndex;this._scrollingEventListener.deactivate()},toggleAutoRefresh:function(n){this.scrollingController.toggleAutoRefresh(n)},refreshScrolling:function(){this.scrollingController.refresh()},scrollTo:function(n,t){t=$.quickExtend({deltaY:0,animateScrolling:!1,completeCallback:$.noop},t);var u=t.completeCallback,f=this.$scrollingPane,e=n.offset().top-f.offset().top,o=this.getScrollOffset(),r=o+e+t.deltaY,i=this;this.scrollToOffset(r,t.animateScrolling,function(){i.isSupportScrollingItems()&&(i._lastScrollIndex=i._calculateScrollingItemIndex(r),i._ignoreScrollingEvent=!0);u()})},scrollToOffset:function(n,t,i){return this.scrollingController.scrollToOffset(n,t,i)},getScrollOffset:function(n){return this.scrollingController.getScrollOffset(n)},_calculateScrollingItemIndex:function(n){n-=this._scrollingVerticalDistance;for(var i=this._scrollingItemAnchors,t=i.length-1;t>=0;t--)if(i[t].top<=n)return t;return undefined},bringToViewport:function(n){this.scrollingController.bringToViewport(n)},setMoveScrolling:function(n){this.$scrollingPane.setMoveScrolling(this.scrollingController,n)}});return n.create=function(t,i){return new n(t,i)},n}();
/**
 * FontDetect - A simple library to detect if an internal font is present or an external font got loaded.
 * 
 * TO USE: 
 *     Include jQuery. This was developed using jQuery 1.7.
 *     Include this file. If desired, you can load this file after the BODY.
 *     Create a new fontdetect().
 *     After you load the fonts you want to test, call either of these methods:
 *     
 *	       fontDetect = new fontdetect();
 *	       
 *	       // Checks that the font is loaded now.
 *	       isLoaded = fontDetect.isFontLoaded(fontname);
 *     
 *         // Polls for the font getting loaded and calls a callback when it does.
 *	       fontDetect.onFontLoaded(fontname, callback [, {onFail: xxx, msInterval: yyy, msTimeout: zzz}]);
 *     
 *     Note: For externally loaded fonts, you may have to wait for more than a second to get a reliable 
 *     answer. Internal browser fonts can be detected immediately.
 *     
 *         // Determines which font in the font stack is being used for a given element.
 *	       sFontname = fontDetect.whichFont(element);
 *     
 * @author		Jennifer Simonds
 * @copyright	2012 Jennifer Simonds
 * @license	MIT License http://opensource.org/licenses/MIT
 * 
 * @version 1.0  2012-04-11	Created.
 * 
 * @version 1.0  2012-04-12	Refined the algorithm to use fewer helper elements, more reference fonts,
 *								and quicker detection of a nonexistent font.
 * 
 * @version 2.0  2012-06-01	Added onFontLoaded for a callback to execute as soon as the font is 
 *								detected or when a timeout has passed without loading. Added whichFont
 *								to determine which font actually loaded. Changed the license from BSD 
 *								3-clause to MIT.
 *								
 * @version 2.1  2012-08-12	Fixed a bug that caused horizontal scrollbar to show up in FF & IE.
 *                              (Thanks to Geoff Beaumont for the bug report & fix)
 */
FontDetect=new function(){function t(){n||(n=!0,$("body > :first-child").before('<div id="fontdetectHelper"><span>abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ<\/span><\/div>'),$("#fontdetectHelper").css({position:"absolute",visibility:"hidden",top:"-200px",left:"-100000px",width:"100000px",height:"200px","font-size":"100px"}))}var n=!1,i=["serif","sans-serif","monospace","cursive","fantasy"],r={};this.initialize=t;this.onFontLoaded=function(i,r){var o,f;r=$.extend({successCallback:$.noop,errorCallback:$.noop,finishCallback:$.noop,interval:100,timeout:2e3},r);var e=r.successCallback,s=r.errorCallback,u=r.finishCallback,h=r.interval,c=r.timeout;n||t();FontDetect.isFontLoaded(i)&&(e(i),u(i));o=(new Date).getTime();f=setInterval(function(){if(FontDetect.isFontLoaded(i))clearInterval(f),e(i),u(i);else{var n=(new Date).getTime();n-o>c&&(clearInterval(f),s(i),u(i))}},h)};this.isFontLoaded=function(u){var f,o;if(!u)return!0;var e=0,s=0,h=u.toLowerCase();if(n||t(),r[h])return!0;for(f=0;f<i.length;++f){if(o=$("#fontdetectHelper > SPAN"),o.css("font-family",u+","+i[f]),e=o.width(),f>0&&e!=s)return!1;s=e}return r[h]=!0,!0};this.whichFont=function(n){for(var r=$(n).css("font-family"),i=r.split(","),t=i.shift();t;){if(t=t.replace(/^\s*['"]?\s*([^'"]*)\s*['"]?\s*$/,"$1"),FontDetect.isFontLoaded(t))return t;t=i.shift()}return null}},function(n){n.rememberScrolling=function(){if(ViewManager.isDesignMode())return DesignerManager.rememberScrollingViewport();var t=n.getScrollingController(),i=t.$scrollableForRead.scrollTop(),r=t.$scrollableForRead.scrollLeft();return{restore:function(){t.$scrollableForWrite.scrollTop(i);t.$scrollableForWrite.scrollLeft(r)}}};n.getScrollingController=function(){var t,i;return ViewManager.isDesignMode()?i=t=DesignerManager.getScrollablePane():Global.IsDesigner&&ViewMobileWrapperMode.IsActive.isTrue()?i=t=ViewMobileWrapperMode.getScrollablePane():(t=n(document),i=n("html, body")),{$scrollableForRead:t,$scrollableForWrite:i}};n.getScrollOffset=function(){var t=n.getScrollingController().$scrollableForRead;return{top:t.scrollTop(),left:t.scrollLeft()}}}(jQuery);var AjaxNavigation=new function(){function c(){var t=window.location,i,r,n,u;return t.hostname==="localhost"?(i=t.pathname.split("/"),r=$.getLocationOrigin()+"/view/"+i[2]+"/"+i[3],r+"/"):(n=t.hostname.split("."),(n[n.length-2]==="webzai"||n[n.length-2]=="thebestswebsitebuilder")&&n[n.length-1]==="com"?(u=t.pathname.split("/")[1],$.getLocationOrigin()+"/"+u+"/"):$.getLocationOrigin()+"/")}function l(){var n=window.location.href.match(v);return n?n[1]:""}function r(n,t){return n==null?i?n=l():(n=decodeURI(window.location.pathname).replace(h,"").replace(s,""),t&&!n&&(n=l())):n=decodeURI(n).trim(" ").replace(h,"").replace(s,""),n.trim(" ").toLowerCase()}function u(t){var i=n;n=r(t);n!==i&&f();o(n)}function e(){var t=r();if(t===n)return!1;u(t)}var a=this,n,t,o,i,s=/\/$/,h=/^\//,v=/#(.*)$/,f;this.initialize=function(u){if(u=$.extend({usePushState:!0,useHash:!1,useGlobalBindClick:!0,useHashFallbackAsFragment:!1,fragmentChangedCallback:$.noop,globalBindClass:"internal-link",loadFragmentCallback:undefined,hashCheckInterval:50},u),t=u.usePushState&&Modernizr.history,i=u.useHash,o=u.loadFragmentCallback,f=u.fragmentChangedCallback,i)if(Modernizr.hashchange)$(window).on("hashchange",e);else setInterval(e,u.hashCheckInterval);if(t)$(window).on("popstate",e);if(u.useGlobalBindClick)$(document).on("click."+u.globalBindClass,"a."+u.globalBindClass,function(n){var r=$(n.currentTarget),u=r.attr("target"),i,t;u!=="_blank"&&u!=="_top"&&(n.preventDefault(),i=c(),t=r.attr("href"),t.indexOf(i)===0&&(t=t.substring(i.length)),a.navigate(t));n.stopPropagation()});n=r(undefined,u.useHashFallbackAsFragment)};this.isPushState=function(){return t};this.getFragment=function(){return n};this.getFullHtmlUrl=function(n){return c()+n};this.navigate=function(e,o){var h,c,s;if(o=$.extend({disableLoading:!1,forceNavigation:!1},o),e=r(e||""),h=o.disableLoading,c=o.forceNavigation,n===e){c&&u(e);return}h&&(n=e);i?(h||u(e),window.location.hash="#"+e):(s=this.getFullHtmlUrl(e),e===""&&s!=="/"&&(s=s.slice(0,-1)),t?(window.history.pushState(null,document.title,s),h||u(e)):window.location.assign(s));h&&(i||t)&&f()}},MouseTargetTracker=new function(){this.create=function(n,t){function p(t){n.on("mousemove"+e,function(n){c(n)}).on("mouseleave"+e,function(){i.setValue(undefined)});f.refresh();t&&c(t)}function h(){i.setValue(undefined);n.off(e)}function c(n){for(var r,f=$.getMouseOffset(n),t=0;t<u.length;t++)if(r=u[t],$.isInsideArea(r.area,f,$.evaluateWhenFunction(s))){i.setValue(r.trackedArea);return}i.setValue(undefined)}t=$.extend({trackedAreasSelector:[],onStartedBeingTarget:$.noop,onStoppedBeingTarget:$.noop,onMouseTargetChange:$.noop,areaSelector:$.identity,relativeOffset:{left:0,top:0}},t);var o=t.trackedAreasSelector,l=t.onStartedBeingTarget,a=t.onStoppedBeingTarget,v=t.onMouseTargetChange,s=t.relativeOffset,y=t.areaSelector,u=[],i=ObservableObject.createReferenceObject({valueChangeCallback:function(n,t){t&&a(t);n&&l(n);v(n,t)}}),r=ObservableFlag.createConditionalNegative(),e=$.weakID(".mouse-tracker"),f={getCurrentMouseTarget:function(){return i.getValue()},setCurrentMouseTarget:function(n){return i.setValue(n)},setTrackedAreas:function(n){o=n},refresh:function(){var t,n,i,r;for(u=[],t=$.evaluateWhenFunction(o),n=0;n<t.length;n++)i=t[n],r=y(i),u.push({area:$.getRelativeArea(r,$.evaluateWhenFunction(s)),trackedArea:i})},activate:function(n,t){var i=r.isTrue();return r.setTrue(t),!i&&r.isTrue()&&p(n),f},deactivate:function(n){var t=r.isTrue();return r.setFalse(n),t&&r.isFalse()&&h(),f},dispose:function(){h()}};return f}},ButtonsList=new function(){this.create=function(n){return ButtonsList.createOnElement($("<div><\/div>"),n)};this.createOnElement=function(n,t){t=$.extend({itemCreationFunction:undefined,listLayout:undefined,themeClass:undefined,buttonsToolTip:!1,toolTipField:"toolTip"},t);var f=t.itemCreationFunction,e=t.listLayout,o=t.themeClass,s=t.buttonsToolTip,h=t.toolTipField;n.addClass("buttons-list").addClass(o);var i={},r=new ObservableCollection,c=CollectionObserver.create(r,!0),u=n.makeItemsList({items:r,itemCreationFunction:f,itemAddedCallback:function(n){var t=n.item,i=t.command,r=n.$item;i&&r.bindCommand(i);t.onButtonCreated(r)}}).onButtonClick(function(n){n.item.onClick()});return s&&u.attachItemHoverToolTip(CommonToolTips.ButtonTitle2.Above,{content:function(n,t){var i=t.item;return $.evaluateWhenFunction(i[h],i)}}),e&&u.addLayoutSupport(!0).setLayout(ItemsListLayoutsFactory.createSingleRowSpread({separatorClass:"item-operations-list-items-separator"})),$.extend(i,{addButton:function(n){n=$.extend({onButtonCreated:$.noop,onClick:$.noop,command:undefined},n);n.id=$.weakID();r.put(n)},associateWithPanel:function(n){return n.associateCollectionObserver(c),n.associateItemsList(u),i}}),i}},LayoutRowItem=new function(){this.renderRowElement=function(n){var t=new StringBuilder;return t.append('<div class="row-element positioned {0}">'.format(n?"root-row":"desc-row")),t.append('<div class="cells-container positioned">'),t.append("<\/div>"),t.append("<\/div>"),$(t.toString())};this.create=function(n,t){return RowItemObj.create(n,t)};this.getOrCreateRowByCellItem=function(n,t){var r=n.getRowId(),i=r?RowsManager.getRowById(r):undefined,f=i&&i.containerInstance&&i.containerInstance.id!==t.id,u,e;return(!i||f)&&(u=t.getPropertyValue("rowsItems"),e=f?{id:$.uniqueID()}:u&&r?u[r]:{id:r},i=LayoutRowItem.create([],e)),i}},RowItemObj=function(){var n=Class.extend("RowItemObj",{init:function(n,t){var i=this;t=$.extend({id:undefined,cellsSpacing:undefined},t);t.id=t.id?t.id:$.uniqueID();this.options=t;n=$.asArray(n);this.id=t.id;this.cellItems=$.mapArray(n,$.returnValue,$.defaultIdFunction);this.isRowInPage=ObservableFlag.create(!1);this.isInitialized=ObservableFlag.create(!1);this.isBuilt=ObservableFlag.create(!1);this.cellsSpacingObservable=ObservableObject.create(t.cellsSpacing);this.lastCell=null;this.globalCellsSpacingListener=SimpleEvent.createEventListener([{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"cellsSpacing"},this.cellsSpacingObservable.valueChangedEvent],function(){i.updateCellsSpacing()});RowsManager.addRowToPage(this);$.eachItem(n,function(n,t){t.setRowParent(i)})},getDataForSave:function(){return{id:this.id,settings:this.settings,cellsSpacing:this.cellsSpacingObservable.getValue()}},build:function(n){var t=this;t.isBuilt.isFalse()&&(t.$element=LayoutRowItem.renderRowElement(n),t.$cellsContainer=$(".cells-container",t.$element),t.isBuilt.setTrue())},setContainerInstance:function(n){this.containerInstance=n;n.addRowToContainer(this);this.addToContainer(this.containerInstance.getContentLayer())},addToContainer:function(n){this.globalCellsSpacingListener.activate();this.getElement().appendTo(n);this.isRowInPage.setTrue()},removeFromContainer:function(){this.globalCellsSpacingListener.deactivate();this.getElement()&&this.getElement().detach();this.isRowInPage.setFalse()},remove:function(){this.globalCellsSpacingListener.deactivate();this.isRowInPage.setFalse();var n=this.containerInstance;n&&this.containerInstance.removeRowFromContainer(this);this.removeCells($.getValues(this.getCells()));this.$element&&this.$element.remove();RowsManager.removeRowFromPage(this);n&&$.eachItem(n.childInstances,function(n,t){t.childIndex.setValue(-1)});OrderManager.reassignElementsOrders()},getElement:function(){return this.$element},getCellsContainer:function(){return this.$cellsContainer},initializeCellItems:function(){var n=this;$.eachEntry(this.cellItems,function(t,i){i.setRowParent(n);i.addToContainer(n.getCellsContainer())});n.updateCellsSpacing();this.containerInstance&&($.eachItem(this.containerInstance.childInstances,function(n,t){t.childIndex.setValue(-1)}),OrderManager.reassignElementsOrders())},updateCurrentCells:function(n){var t=this;n=$.asArray(n);$.eachItem(n,function(n,i){t.cellItems[i.id]=i;i.setRowParent(t)});RowsManager.UpdateBatch.fireEvent(RowsManager.CellsContainerChangedEvent,{containerInstance:this.containerInstance})},toggleFirstRow:function(n){var t=this.containerInstance.data.firstRow;n?(t&&t.id!==this.id&&t.toggleFirstRow(!1),this.containerInstance.data.firstRow=this,this.$element.addClass("first")):t&&t.id===this.id&&this.$element.removeClass("first")},toggleLastRow:function(n){var t=this.containerInstance.data.lastRow;n?(t&&t.id!==this.id&&t.toggleLastRow(!1),this.containerInstance.data.lastRow=this,this.$element.addClass("last")):t&&t.id===this.id&&this.$element.removeClass("last")},getOrder:function(){return $.getValues(this.cellItems)[0].getInstance().getPropertyValue("order")},getMaxOrder:function(){var n=0,t;if(this.cellItems!==undefined)return $.eachEntry(this.cellItems,function(i,r){var u=r.getInstance().getPropertyValue("order");u>n&&(n=u,t=i)}),{value:n,item:this.cellItems[t]}},getMinOrder:function(){var n=Infinity,t;if(this.cellItems!==undefined)return $.eachEntry(this.cellItems,function(i,r){var u=r.getInstance().getPropertyValue("order");u<n&&(n=u,t=i)}),{value:n,item:this.cellItems[t]}},markChilds:function(){var n=0,t,i=Infinity,r;this.cellItems!==undefined&&($.eachEntry(this.cellItems,function(u,f){var e=f.getInstance().getPropertyValue("order");e>n&&(n=e,t=u);e<i&&(i=e,r=u);f.$element.removeClass("first");f.$element.removeClass("last")}),this.firstCell=this.cellItems[r],this.lastCell=this.cellItems[t],this.firstCell.$element.addClass("first"),this.lastCell.$element.addClass("last"))},updateCellsSpacing:function(){var n=$.getValues(this.cellItems),i=this.getCellsSpacingRatio(),t=0,r;$.eachItem(n,function(n,i){t+=i.getWidth()});t?(r=100/t,$.eachItem(n,function(n,t){t.setWidth(t.getWidth()*r,i)})):$.eachItem(n,function(t,r){r.setWidth(100/n.length,i)})},updateCellsWidth:function(n){var u={},r=0,i;$.eachItem(n,function(n,t){u[t.cellItem.id]=t.cellItem;r+=t.width});var o=this,f=this.getCellsSpacingRatio(),e=o.cellItems,t=0;$.eachEntry(e,function(n,i){u[i.id]||(t+=i.getWidth())});t&&(i=(100-r)/t,$.eachEntry(e,function(n,t){u[t.id]||t.setWidth(t.getWidth()*i,f)}));i=1;t+r!==100&&(i=100/(t+r));$.eachItem(n,function(n,t){t.cellItem.setWidth(t.width*i,f)})},updateCellsWidthFromResizing:function(n){var t=this.getCellsSpacingRatio();$.eachItem(n,function(n,i){var r=i.beforeWidth,u=i.delta,f=i.cellItem,e=i.width,o=$.maxValue([Math.floor((u/r+1)*e),1]);f.setWidth(o,t)})},getCellsSpacing:function(){var n=this.cellsSpacingObservable.getValue();return n===undefined?RowsManager.getCellsSpacing():n},addCellItems:function(n){var t=this;if(n=$.asArray(n),n.length!==0){var r=$.count(t.cellItems),i=r+n.length,f=r/i,e=t.getCellsSpacing(),u=(100-e*(i-1))/100;$.eachEntry(this.getCells(),function(n,t){t.setWidth(t.getWidth()*f,u);t.instance.hasFeature(Features.HasRichContent)&&t.instance.refreshContentSize()});$.eachItem(n,function(n,r){var f=r.getRowParent();f&&f.removeCells(r);r.setRowParent(t);r.addToContainer(t.getCellsContainer());t.cellItems[r.id]=r;r.setWidth(100/i,u);r.instance.hasFeature(Features.HasRichContent)&&r.instance.refreshContentSize()});$.eachItem(this.containerInstance.childInstances,function(n,t){t.childIndex.setValue(-1)});OrderManager.reassignElementsOrders()}},removeCells:function(n){var t=this,i;if(n=$.asArray(n),n.length!==0){i=$.mapArray(n,$.returnValue,$.defaultIdFunction);$.eachEntry(i,function(n,i){i.setRowParent(undefined);i.removeFromContainer();delete t.cellItems[n]});var u=$.count(t.cellItems),f=this.getCellsSpacingRatio(),r=0;$.eachEntry(t.cellItems,function(n,t){r+=t.getWidth()});$.eachEntry(t.cellItems,function(n,t){t.setWidth(100*(t.getWidth()/r),f);t.getInstance().childIndex.setValue(-1)});u===0?t.remove():OrderManager.reassignElementsOrders()}},getCellsSpacingRatio:function(){var n=$.count(this.cellItems),t=this.getCellsSpacing();return(100-t*(n-1))/100},getCalculatedWidth:function(n){var t=this.getCellsSpacingRatio();return n*t},getNewColumnCalculatedWidth:function(){var n=$.count(this.cellItems),t=this.getCellsSpacing(),i=(100-t*n)/100,r=100/($.count(this.cellItems)+1);return r*i},getWidth:function(){var n=PositionManager.getContentSize(this.containerInstance);return n.width},getArea:function(n){var t=this.$element.getArea();return n?$.getAbsoluteArea(t,PositionManager.getPositioningRootOffset()):$.getRelativeArea(t,PositionManager.getPositioningRootOffset())},getCells:function(){return this.cellItems},getCellsArray:function(){return $.getValues(this.cellItems)}});return n.create=function(t,i){return new n(t,i)},n}(),LayoutCellItem=new function(){this.renderCellElement=function(n){var t=new StringBuilder;return t.append("<span class='cell-element positioned inline-block' style='width:{0}%'".format(Math.floor(n.width))+">"),t.append("<div class='cell-element-container positioned'><\/div>"),t.append("<\/span>"),$(t.toString())};this.create=function(n,t){return new CellItemObj(n,t)};this.getOrCreateCellFromInstance=function(n){var t=n.getCellItemData(),i=t?RowsManager.getCellById(t.id):undefined;return i||(i=LayoutCellItem.create(n,t)),i};this.getCellItemsFromInstances=function(n){var t=[];return $.eachItem(n,function(n,i){t.push(i.getCellItem())}),t};this.getInstancesFromCellItems=function(n){var t=[];return $.eachEntry(n,function(n,i){t.push(i.getInstance())}),t}};(function(){window.CellItemObj=function(n,t){t=$.extend({id:undefined,settings:undefined,rowId:undefined,width:100},t);t.id=t.id?t.id:$.uniqueID();this.id=t.id;this.width=t.width;this.calculatedWidth=t.width;this.settings=t.settings;this.rowId=t.rowId;this.instance=n;n.setCellItem(this);n.updateCellItemData(this);RowsManager.addCellToPage(this);this.isCellInContainer=ObservableFlag.create(!1);this.isInitialized=ObservableFlag.create(!1)},function(n,t){t.getDataForSave=function(){var n=this;return{id:n.id,settings:n.settings,width:n.getWidth(),rowId:this.getRowId()}};t.addToContainer=function(n){this.build();this.instance.setCellItem(this);this.instance.addToCellItem();this.getElement().appendTo(n);this.isCellInContainer.setTrue()};t.removeFromContainer=function(){this.isCellInContainer.isTrue()&&(this.getElement().detach(),this.instance.removeElementFromCellItem(),this.isCellInContainer.setFalse())};t.setWidth=function(n,t){var i=this;i.width=n;i.calculatedWidth=n*t;i.getInstance().updateCellItemData(this);RenderingCoordinator.requestWriteOperation(function(){i.getElement().css("width",Math.floor(n*t)+"%");RenderingCoordinator.requestReadOperation(function(){i.calculateCellWidth()},"setWidth"+i.id)},"setWidth"+i.id);LayoutManager.refreshElementsLayout(this.getInstance())};t.getWidth=function(){return this.width};t.clearCellItem=function(){this.getElement().detach();this.instance.reAttachElementToContainer();this.instance.setCellItem(null);this.isCellInContainer.setFalse()};t.build=function(){var n=this;n.isInitialized.isFalse()&&(n.$element=LayoutCellItem.renderCellElement({width:n.getWidth()}),n.$elementContainer=$(".cell-element-container",n.$element),n.isInitialized.setTrue())};t.remove=function(){this.clearCellItem();RowsManager.removeCellFromPage(this);this.getRowParent().removeCells([this]);this.instance.removeCellItem();this.$element.remove()};t.getElement=function(){return this.$element};t.getElementContainer=function(){return this.$elementContainer};t.getRowId=function(){return this.rowId};t.getRowParent=function(){return this.rowParent};t.setRowParent=function(n){this.rowParent=n;this.rowId=n?n.id:undefined};t.getInstance=function(){var n=this;return n.instance};t.getOrder=function(){return this.instance.getPropertyValue("order")};t.getCellWidth=function(){return this.cellCalculatedPixelsWidth||this.calculateCellWidth(),this.cellCalculatedPixelsWidth};t.calculateCellWidth=function(){this.cellCalculatedPixelsWidth=this.$element.width()};t.getArea=function(n){var t=this.$element.getArea();return n?$.getAbsoluteArea(t,PositionManager.getPositioningRootOffset()):$.getRelativeArea(t,PositionManager.getPositioningRootOffset())}}(CellItemObj,CellItemObj.prototype)})();var BatchOperationsSet=function(){function r(n){while(!n.isEmpty()){var t=n._operations,r=n._endOperations,u=t.deferredEach(),f=r.deferredEach();n._lockedRequests={};t.clear();r.clear();i(u);i(f)}n._lockedRequests={}}function t(n,t,i,r){r=$.valueOrCalculate(r,$.weakID);n.isLocked(r)||t.setField(r,i);n.isActivated()||n.executeOperations()}function i(n){n(function(n,t){t()})}var n=Class.extend("BatchOperationsSet",{init:function(n){n=$.valueOrDefault(n,$.noopWithCallback);this.id=$.weakID();this._operations=Dictionary.create();this._endOperations=Dictionary.create();this._lockedRequests={};this._isActive=!0;this._executionFunction=n;this._scope=Scope.create()},activate:function(){this._scope.start()},deactivate:function(){this._scope.finish()},isActivated:function(){return this._scope.isActive()},requestOperation:function(n,i){t(this,this._operations,n,i)},requestEndOperation:function(n,i){t(this,this._endOperations,n,i)},lockRequest:function(n){this._lockedRequests[n]=!0},unLockRequest:function(n){delete this._lockedRequests[n]},isLocked:function(n){return this._lockedRequests[n]},isEmpty:function(){return this._operations.isEmpty()&&this._endOperations.isEmpty()},executeOperations:function(){var n=this;n._executionFunction(function(){return r(n)})}});return n.create=function(t){return new n(t)},n}(),ReadWriteController=new function(){var t=this,n={requestWriteOperation:function(n){n()},requestReadOperation:function(n){n()},requestIndpendentWriteOperation:function(n){n()},requestIndpendentReadOperation:function(n){n()}},i=BatchOperationsSet.create(),r=BatchOperationsSet.create();t.ReadWriteScope=Scope.create();t.PendingReadOperations=i;t.PendingWriteOperations=r;this.initialize=function(t){n=t};this.requestWriteOperation=function(t,i){n.requestWriteOperation(t,i)};this.requestReadOperation=function(t,i){n.requestReadOperation(t,i)};this.requestIndpendentWriteOperation=function(t,i){n.requestIndpendentWriteOperation(t,i)};this.requestIndpendentReadOperation=function(t,i){n.requestIndpendentReadOperation(t,i)}},TabularLayoutComponentsTypes={Column:1,Cell:2,Row:3},TabularLayout=function(){function a(n,t){var f=n._cells,e=n._items,i,u,r;for(i in t)u=t[i],r=f[i],r&&u.appendTo(r._node)}function n(n){n.structureChangedEvent.fire(n,n._structure)}function r(n){n.$element&&(it(n),y(n),f(n))}function v(n,t){return t instanceof l?t.getId():t}function y(n){var r,s,e,c,l,o;if(n.$element){r=n._rows;for(s in r){var u=r[s],a=u.isDisplayed(),v=u.getElement();v.chooseClass(a,"state-displayed","state-hidden");for(var h=u.getChildColumns(),y=0,p=0,w=h.length,f=[],i,t=0;t<w;t++)i=h[t],e=i.isDisplayed(),c=i.getElement(),c.chooseClass(e,"state-displayed","state-hidden"),e?f.push(i):(y+=i.getWidth(),p++);for(l=f.length,t=0;t<l;t++)o=f[t],o.getElement().css("width",o.getWidth()+"%")}}}function t(t){t._visibleCells=[];t._hiddenCells=[];var i=new ByRef(!1),r=p(t,t._rootRows,i);i.getValue()&&(t.cellsVisibilityChangedEvent.fireNew(),n(t));t.isEmptyFlag.setValue(!r)}function p(n,t,i){for(var o=t.length,u=!1,r=0;r<o;r++){var f=t[r],s=g(n,f._children,i),e=s;f._toggleIsDisplayed(e);e&&(u=!0)}return u}function g(n,t,i){for(var et=t.length,nt=!1,s=[],tt=[],l=[],c=[],u,f,h,a,it,v,o,b,ut,k,d,ft,g,r=0;r<et;r++)u=t[r],h=u.getCell(),h?(a=h.isDisplayed(),a?n._visibleCells.push(h):n._hiddenCells.push(h),f=a):(it=p(n,u._children,i),f=it),v=u.isDisplayed(),u._toggleIsDisplayed(f),f&&(nt=!0),v&&l.push(u),f&&c.push(u),v!==f&&(f?s.push(u):tt.push(u),i.setValue(!0));var y=s.length,ot=tt.length,rt=l.length,w=c.length,e;if(y>0){for(b=100/w,r=0;r<y;r++)o=s[r],ut=o.getWidth(),ut>b&&o._setWidth(b);if(k=$.sum(s,function(n){return n.getWidth()}),rt>0)for(e=(100-k)/100,r=0;r<rt;r++)d=l[r],d._setWidth(d.getWidth()*e);else for(e=100/k,r=0;r<y;r++)o=s[r],o._setWidth(o.getWidth()*e)}if(ot>0&&w>0)for(ft=$.sum(c,function(n){return n.getWidth()}),e=100/ft,r=0;r<w;r++)g=c[r],g._setWidth(g.getWidth()*e);return nt}function i(n){n._rows={};n._columns={};n._cells={};n._orderedColumns=[];n._orderedRows=[];n._orderedCells=[];w(n,n._structure.rows,undefined)}function w(n,t,i){for(var l=t.length,a=n._rows,s=n._orderedRows,e=[],u=undefined,f=0;f<l;f++){var o=t[f],h=o.id,r=new c({id:h,ref:o,tabularLayout:n,node:undefined,next:undefined,prev:u,column:i,parent:i,collectionStructure:t,index:f,globalIndex:s.length});e.push(r);u&&(u._next=r);a[h]=r;s.push(r);u=r;nt(n,o.columns,r)}i?i._children=e:n._rootRows=e}function nt(n,t,i){for(var o,h,s,p=t.length,b=n._columns,k=n._cells,c=n._orderedColumns,a=n._orderedCells,v=[],u=undefined,f=0;f<p;f++){var e=t[f],y=e.id,r=new d({tabularLayout:n,id:y,ref:e,node:undefined,next:undefined,prev:u,parent:i,row:i,collectionStructure:t,index:f,globalIndex:c.length});v.push(r);u&&(u._next=r);b[y]=r;c.push(r);u=r;o=e.cell;o?(h=o.id,s=new l({tabularLayout:n,id:h,ref:o,node:undefined,parent:r,column:r,globalIndex:a.length}),k[h]=s,a.push(s),r._cell=s):w(n,e.rows,r)}i&&(i._children=v)}function f(n){n.$element&&b(n,n._rootRows)}function b(n,t){for(var r=t.length,o=n._columnGap,s=n._rowGap,i=0;i<r;i++){var u=t[i],h=u.getElement(),f=$.grep(u._children,function(n){return n.isDisplayed()}),e=f.length;h.css({paddingRight:e>1?o*(e-1):0,marginBottom:i<r-1?s:0});tt(n,f)}}function tt(n,t){for(var u,f,r=t.length,e=n._columnGap,i=0;i<r;i++)u=t[i],f=u.getElement(),f.css({marginRight:i<r-1&&r>1?e:0}),b(n,u._children)}function it(n){var t=n.$element;if(t){var i=n._cells,r=n._rows,u=n._columns,f=n._items,e=n.$element.find("."+n._id);e.each(function(){var e=this.getAttribute("data-part"),n=this.getAttribute("data-id"),t;switch(e){case"column":u[n]._node=this;break;case"row":r[n]._node=this;break;case"cell":i[n]._node=this;t=this.firstChild;t&&(f[n]=$(t))}})}}function e(n,t,i,r){for(var u,f,s,h,c=i.length,e=0;e<c;e++)u=i[e],t.append('<div class="tabular-layout-column {0}" data-part="column" data-id="{1}">',n._id,u.id,u.width),f=u.cell,f?(s=f.id,t.append('<div class="tabular-layout-cell {0}" data-part="cell" data-id="{1}">',n._id,f.id),r&&r(t,s),t.append("<\/div>")):(h=u.rows,o(n,t,h,r,!1)),t.append("<\/div>")}function o(n,t,i,r,u){for(var o,s,h,l,c=i.length,f=0;f<c;f++)o=i[f],s=["tabular-layout-row",n._id],u&&s.push("tabular-layout-root-row"),t.append('<div class="{0}" data-part="row" data-id="{1}">',s.join(" "),o.id),t.append('<div class="tabular-layout-columns-container">'),h=o.columns,l=h.length,e(n,t,h,r),t.append("<\/div>"),t.append("<\/div>")}var k=Class.extend("TabularLayoutColumnResizingController",{init:function(n,t){var i=t.getParentRow(),r=t.getNextDisplayed();this._column=t;this._nextColumn=r;this._columnWidth=t.getWidth();this._nextColumnWidth=r.getWidth();this._row=i;this._rowWidth=i.getElement().width();this._tabularLayout=n},resize:function(t){var r=this._tabularLayout,i=t/this._rowWidth*100,u=this._column,f=this._nextColumn;u._setWidth(this._columnWidth+i,!0);f._setWidth(this._nextColumnWidth-i,!0);n(r)}}),s=Class.extend("TabularLayoutPart",{init:function(n){this._id=n.id;this._ref=n.ref;this._node=n.node;this._globalIndex=n.globalIndex;this._tabularLayout=n.tabularLayout;this._parent=n.parent},getId:function(){return this._id},_toggleIsDisplayed:function(n){var t=this._ref;n?delete t.collaped:t.collaped=!0},getGlobalIndex:function(){return this._globalIndex},isDisplayed:function(){return!this._ref.collaped},getStructure:function(){return this._ref},getParent:function(){return this._parent},getElement:function(){return $(this._node)}}),h=s.extend("TabularLayoutContainerPart",{init:function($super,n){$super(n);this._next=n.next;this._prev=n.prev;this._collectionStructure=n.collectionStructure;this._index=n.index;this._children=[]},getNextDisplayed:function(){for(var n=this._next;n&&!n.isDisplayed();)n=n._next;return n},getPreviousDisplayed:function(){for(var n=this._prev;n&&!n.isDisplayed();)n=n._prev;return n},countChildren:function(){return this._children.length}}),c=h.extend("TabularLayoutRow",{init:function($super,n){$super(n);this._column=n.column},countSiblings:function(){var n=this._column;return n?n._children.length-1:this._tabularLayout._rootRows.length-1},getParentColumn:function(){return this._column},getChildColumns:function(){return this._children},getDisplayedChildColumns:function(){return $.grep(this._children,function(n){return n.isDisplayed()})}}),d=h.extend("TabularLayoutColumn",{init:function($super,n){$super(n);this._row=n.row;this._cell=undefined},_setWidth:function(n,t){if(this._ref.width=n,t){var i=this._node;i&&$(i).css("width",n+"%")}},_adjustWidth:function(n){var t=this._ref;t.width+=n},getWidth:function(){return this._ref.width},countSiblings:function(){return this._row._children.length-1},getParentRow:function(){return this._row},getCell:function(){return this._cell},hasCell:function(){return this._cell!==undefined}}),l=s.extend("TabularLayoutCell",{init:function($super,n){$super(n);this._column=n.column},getParentColumn:function(){return this._column},getParentRow:function(){return this._column._row}}),u=Class.extend("TabularLayout",{init:function(n,r){var u=$.quickExtend({rowGap:0,columnGap:0},r);this._structure=n;this._id=$.weakID("tl-");this._items={};this._rootRows=[];this._visibleCells=[];this._hiddenCells=[];this._rowGap=u.rowGap;this._columnGap=u.columnGap;this.structureChangedEvent=SimpleEvent.create();this.cellsVisibilityChangedEvent=SimpleEvent.create();this.isEmptyFlag=ObservableFlag.create();i(this);t(this)},getLayoutStructure:function(){return this._structure},getHiddenCells:function(){return this._hiddenCells},getVisibleCells:function(){return this._visibleCells},adjustStructure:function(){},getInsertionAreas:function(n,t){var e,v,y,p;t=$.valueOrDefault(t,10);for(var b=t/2,u,f,i=[],k=this._columnGap,d=this._rowGap,dt=this._columns,gt=this._rows,g=this._orderedRows,r=g.length-1;r>=0;r--){var nt=g[r],tt=nt.getId(),s=$.calculateAreaInfo(nt.getElement().getOuterArea()),it=s.top,rt=s.bottom,ut=s.left,ft=s.right;i.push({relativePosition:RelativePositions.Above,componentType:TabularLayoutComponentsTypes.Row,componentId:tt,area:{left:ut+t,right:ft-t,bottom:it+t/2,top:it-d/2}});i.push({relativePosition:RelativePositions.Below,componentType:TabularLayoutComponentsTypes.Row,componentId:tt,area:{left:ut+t,right:ft-t,bottom:rt+d/2,top:rt-t/2}})}for(e in this._cells){var et=this._cells[e],o=$.calculateAreaInfo(et.getElement().getOuterArea()),ot=o.top,st=o.bottom,l=o.left,a=o.right,ht=o.center,ct=ht.top,ni=ht.left,lt=et.getParentRow(),at=lt.countChildren()===1;u=at?TabularLayoutComponentsTypes.Row:TabularLayoutComponentsTypes.Cell;f=at?lt.getId():e;i.push({relativePosition:RelativePositions.Below,componentType:u,componentId:f,area:{left:l+t,right:a-t,bottom:st,height:t}});i.push({relativePosition:RelativePositions.Above,componentType:u,componentId:f,area:{left:l+t,right:a-t,top:ot,height:t}});v=Math.min(ot+t,ct-b);y=Math.max(st-t,ct+b);i.push({relativePosition:RelativePositions.BeyondLeft,componentType:TabularLayoutComponentsTypes.Cell,componentId:e,area:{left:l+t,width:t,top:v,bottom:y}});i.push({relativePosition:RelativePositions.BeyondRight,componentType:TabularLayoutComponentsTypes.Cell,componentId:e,area:{right:a-t,width:t,top:v,bottom:y}})}for(p=this._orderedColumns,r=0;r<p.length;r++){var w=p[r],pt=w.getId(),h=$.calculateAreaInfo(w.getElement().getOuterArea()),vt=h.top,yt=h.bottom,wt=h.left,bt=h.right,c=w.getCell(),kt=c?c.getId():undefined;u=c?TabularLayoutComponentsTypes.Cell:TabularLayoutComponentsTypes.Column;f=c?kt:pt;i.push({relativePosition:RelativePositions.BeyondRight,componentType:u,componentId:f,area:{left:bt-t,width:k+t*2,bottom:yt,top:vt}});i.push({relativePosition:RelativePositions.BeyondLeft,componentType:u,componentId:f,area:{right:wt+t,width:k+t*2,bottom:yt,top:vt}})}return $.each(i,function(t,i){var r=i.area;n&&(r=$.relativeArea(r,n));i.area=$.calculateAreaInfo(r)}),i},startColumnResizing:function(n){return new k(this,n)},applyOnElement:function(n){var i,u,t,f;this.$element=n;r(this);i=this._cells;u=this._items;for(t in i){var s=i[t],e=s._node,o=e.firstChild;o?u[t]=$(o):(f=u[t],f&&f.appendTo(e))}},renderToString:function(n){var t=new StringBuilder;return this.render(t,n),t.toString()},render:function(n,t){var i=this._structure;n.append('<div class="tabular-layout">');o(this,n,i.rows,t,!0);n.append("<\/div>")},setContent:function(){},getColumnByElement:function(n){var t=n[0].getAttribute("data-id");return this._columns[t]},getRowByElement:function(n){var t=n[0].getAttribute("data-id");return this._rows[t]},getComponentByElement:function(n){var t=n[0].getAttribute("data-id");return n.is(".tabular-layout-cell")?this._cells[t]:n.is(".tabular-layout-row")?this._rows[t]:n.is(".tabular-layout-column")?this._columns[t]:undefined},getComponentById:function(n,t){switch(n){case TabularLayoutComponentsTypes.Cell:return this._cells[t];case TabularLayoutComponentsTypes.Column:return this._columns[t];case TabularLayoutComponentsTypes.Row:return this._rows[t]}},getCellByElement:function(n){var t=n[0].getAttribute("data-id");return this._cells[t]},trackHoveredCell:function(n){var i=this,t=ObservableObject.createReferenceObject({valueChangeCallback:n}),r=$.weakID(".interaction");this.$element.on("mouseenter"+r,".tabular-layout-column",function(){var r=$(this),u=i.getColumnByElement(r),n=u.getCell();n&&t.setValue(n)}).on("mouseleave"+r,".tabular-layout-column",function(){var r=$(this),u=i.getColumnByElement(r),n=u.getCell();n&&t.isEqual(n)&&t.setValue(undefined)});return{hoveredCell:t,stop:function(){i.$element.unbind(r)}}},appendTo:function(n,t){var r=this.renderToString(t),i=$($.parseHTML(r));n.append(i);this.applyOnElement(i)},toggleItemDisplay:function(n,i){var u=v(this,n),r=this._cells[u];i===undefined&&(i=!r.isDisplayed());r._toggleIsDisplayed(i);t(this);f(this);y(this)},removeItem:function(u){for(var s=v(this,u),y=this._cells[s],p=y.getParentColumn(),w=!!this.$element,f=p,o,a;f&&f.countSiblings()===0;)f=f.getParent();if(delete this._items[s],f||(f=this._rootRows[0]),f instanceof c)f._collectionStructure.splice(f._index,1);else{var e=f,b=e.getParent(),k=b.getChildColumns(),h=e._collectionStructure,d=e.getWidth(),l=k.length-1,g=d/l;for(h.splice(e._index,1),o=0;o<l;o++)a=h[o],a.width+=g}i(this);t(this);w&&(f.getElement().remove(),r(this));n(this)},addItem:function(n,t,i,r,u){switch(n){case RelativePositions.Below:this.addRow(LayoutOrder.After,t,i,r,u);break;case RelativePositions.Above:this.addRow(LayoutOrder.Before,t,i,r,u);break;case RelativePositions.BeyondLeft:this.addColumn(LayoutOrder.Before,t,i,r,u);break;case RelativePositions.BeyondRight:this.addColumn(LayoutOrder.After,t,i,r,u)}},addRow:function(u,f,s,h,c){var v,b={},tt=this._cells,et=this._rows,rt,ut,d,p,g;if(tt[h])throw new Error("A cell with id '{0}' already exists".format(h));c&&(b[h]=c,this._items[h]=c);var w={id:$.uniqueID(),columns:[{id:$.uniqueID(),width:100,cell:{id:h}}]},k=!!this.$element,it,y,l=undefined;if(f===TabularLayoutComponentsTypes.Cell?(it=tt[s],y=it.getParentColumn(),y._collectionStructure.length===1&&(l=y.getParentRow())):l=et[s],l)rt=l._index+(u===LayoutOrder.Before?0:1),l._collectionStructure.splice(rt,0,w),i(this),k&&(v=new StringBuilder,o(this,v,[w],undefined,!l.getParentColumn()),ut=$.parseHTML(v.toString()),d=$(ut),u===LayoutOrder.Before?d.insertBefore(l._node):d.insertAfter(l._node));else if(p=y._ref,g={id:$.uniqueID(),columns:[{id:$.uniqueID(),width:100,cell:p.cell}]},p.rows=u===LayoutOrder.Before?[w,g]:[g,w],delete p.cell,i(this),k){v=new StringBuilder;e(this,v,[p]);var ft=$.parseHTML(v.toString()),ot=$(ft),nt=this._items[s];nt&&(nt.detach(),b[s]=nt);$(y._node).replaceWith(ft)}t(this);k&&(r(this),a(this,b));n(this)},addColumn:function(u,f,o,s,h){var v,b={},k=this._cells,ut=this._columns,c,d,l,p,w;if(k[s])throw new Error("A cell with id '{0}' already exists".format(s));h&&(b[s]=h,this._items[s]=h);f===TabularLayoutComponentsTypes.Cell?(d=k[o],c=d.getParentColumn()):c=ut[o];var ft=!!this.$element,g=c.getParentRow().getChildColumns(),y=g.length,nt=Math.floor(100/(y+1)),ot=Math.ceil(nt/y),tt=0;for(l=0;l<y;l++){var et=g[l],it=et._ref,rt=it.width*((100-nt)/100);tt+=rt;it.width=rt}p={id:$.uniqueID(),width:100-tt,cell:{id:s}};c._collectionStructure.splice(c._index+(u===LayoutOrder.Before?0:1),0,p);i(this);t(this);ft&&(v=new StringBuilder,e(this,v,[p]),w=$($.parseHTML(v.toString())),u===LayoutOrder.Before?w.insertBefore(c._node):w.insertAfter(c._node),r(this),a(this,b));n(this)},putItems:function(n){var u=this._cells,f=this._items,t,i,r;for(t in n)i=n[t],f[t]=i,r=u[t],r&&i.appendTo(r._node)},beginUpdate:function(){},endUpdate:function(){},setGaps:function(n){if(n){var t=n.columnGap,i=n.rowGap;t!==undefined&&(this._columnGap=t);i!==undefined&&(this._rowGap=i);f(this)}},getColumnGap:function(){return this._columnGap},getRowGap:function(){return this._rowGap}});return u.create=function(n,t){return new u(n,t)},u}();
/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
(function(n){n.fn.clearHoverIntent=function(t){return t=n.valueOrDefault(t,"hoverIntent"),clearTimeout(this["hoverIntent_t"+t]),this["hoverIntent_t"+t]=undefined,this["hoverIntent_s"+t]=undefined,this.unbind("."+t)};n.fn.hoverIntent=function(t,i,r){var u={interval:100,sensitivity:6,timeout:0,selector:undefined,namespace:"hoverIntent",disable:undefined};u=typeof t=="object"?n.extend(u,t):n.isFunction(i)?n.extend(u,{over:t,out:i},r):n.extend(u,{over:t,out:t},i);var e=u.namespace,o="hoverIntent_s"+e,f="hoverIntent_t"+e,s,h,c,l,a=function(n){s=n.pageX;h=n.pageY},y=function(t,i){if(i[f]=clearTimeout(i[f]),Math.sqrt((c-s)*(c-s)+(l-h)*(l-h))<u.sensitivity)return n(i).off("mousemove."+e,a),i[o]=!0,u.over.apply(i,[t]);c=s;l=h;i[f]=setTimeout(function(){y(t,i)},u.interval)},w=function(n,t){return t[f]=clearTimeout(t[f]),t[o]=!1,u.out.apply(t,[n])},p=function(t){var r=n.extend({},t),i=this;if(i[f]&&(i[f]=clearTimeout(i[f])),t.type!=="mouseenter"||u.disable&&u.disable())n(i).off("mousemove."+e,a),i[o]&&(i[f]=setTimeout(function(){w(r,i)},u.timeout));else{c=r.pageX;l=r.pageY;n(i).on("mousemove."+e,a);i[o]||(i[f]=setTimeout(function(){y(r,i)},u.interval))}},v={};v["mouseenter."+e]=p;v["mouseleave."+e]=p;return this.on(v,u.selector)}})(jQuery);StateBinding=function(){function i(n,t){var i=n._stateBinding,e=i._comparisonCondition,r=n._id,u,f;e===ComparisonCondition.Any?(u=i._stasifiedConditions,t?u.setField(r,!0):u.removeField(r),i._isSatisfied.setValue(!u.isEmpty())):(f=i._unstasifiedConditions,t?f.removeField(r):f.setField(r,!0),i._isSatisfied.setValue(f.isEmpty()))}var n=0,t=Class.extend("BindingCondition",{init:function(t){this._id=n++;this._stateBinding=t;this._stateListener=undefined},getId:function(){return this._id},associateStateListener:function(n){this._stateListener=n},activate:function(){var n=this._stateListener;n&&n.activateAndExecute()},deactivate:function(){var n=this._stateListener;n&&n.deactivate()},reportState:function(n){i(this,n)}});return Class.extend("StateBinding",{init:function(n){this._conditions=[];this._comparisonCondition=n;this._isSatisfied=ObservableFlag.create(!1);this._isActivatedFlag=ObservableFlag.create(!1);this._id=$.weakID("sb");n===ComparisonCondition.Any?this._stasifiedConditions=Dictionary.create():this._unstasifiedConditions=Dictionary.create()},_addCondition:function(){var n=new t(this);return this._conditions.push(n),n},_onStateChanged:function(n){var t=this._isSatisfied,i=this._isActivatedFlag;if(t.valueChangedEvent.bind(n),i.isTrue())n(t.getValue());else i.onceTrue(function(){n(t.getValue())});return this},activate:function(){return $.eachItem(this._conditions,function(n,t){t.activate()}),this._isActivatedFlag.setTrue(),this},deactivate:function(){return $.eachItem(this._conditions,function(n,t){t.deactivate()}),this._isActivatedFlag.setFalse(),this},associateWithPanel:function(n){return n.associateBinding(this),this},when:function(n,t){var i=this._addCondition(),r=n._isSatisfied;return i.associateStateListener(SimpleEvent.createEventListener(r.valueChangedEvent,function(){i.reportState(r.getValue()===t)})),this},whenObjectIs:function(n,t){var i=this._addCondition();return i.associateStateListener(SimpleEvent.createEventListener(n.valueChangedEvent,function(){i.reportState(t(n.getValue()))})),this},whenObjectEquals:function(n,t){var i=this._addCondition();return i.associateStateListener(SimpleEvent.createEventListener(n.valueChangedEvent,function(){i.reportState(n.isEqual(t))})),this},whenObjectNotEquals:function(n,t){var i=this._addCondition();return i.associateStateListener(SimpleEvent.createEventListener(n.valueChangedEvent,function(){i.reportState(!n.isEqual(t))})),this},whenAllObservedFlagsAre:function(n,t){var i=this._addCondition();return i.associateStateListener(SimpleEvent.createEventListener(n.valueChangedEvent,function(){i.reportState(n.allOfValue(t))})),this},whenSomeObservedFlagsAre:function(n,t){var i=this._addCondition();return i.associateStateListener(SimpleEvent.createEventListener(n.valueChangedEvent,function(){i.reportState(n.someOfValue(t))})),this},whenFlagIs:function(n,t){var i=this._addCondition();return i.associateStateListener(SimpleEvent.createEventListener(n.valueChangedEvent,function(){i.reportState(n.getValue()===t)})),this},whenFlagIsTrue:function(n){return this.whenFlagIs(n,!0)},whenFlagIsFalse:function(n){return this.whenFlagIs(n,!1)},setObjectValue:function(n,t,i){return this._onStateChanged(function(r){n.setValue(r?t:i)})},setFlag:function(n){var t=this._id;return this._onStateChanged(function(i){n.setValue(i,t)})},hideElement:function(n){var t=this._id;return n.addDisplayingStates(),this._onStateChanged(function(i){n.toggleDisplayed(!i,t)})},showElement:function(n){var t=this._id;return n.addDisplayingStates(),this._onStateChanged(function(i){n.toggleDisplayed(i,t)})},disableElement:function(){},enableElement:function(){}})}();BindingManager=new function(){this.whenAll=function(){return new StateBinding(ComparisonCondition.All)};this.whenAny=function(){return new StateBinding(ComparisonCondition.Any)}},function(n){n.fn.hideWhen=function(n){return n.hideElement(this),this};n.fn.showWhen=function(n){return n.hideElement(this),this}}(jQuery);var ListsService=new function(){function n(){return"{0}/services/lists".format(PageData.ServicesBasePath?"/"+PageData.ServicesBasePath:"")}this.fetchItemData=function(t,i,r,u,f){$.ajaxJason(n(),"fetchItem",{listName:i,listId:t,alias:r.alias,id:r.id},u,f)};this.saveListItems=function(t,i,r,u,f,e){e=$.extend({createNewList:undefined},e);$.ajaxJason(n(),"saveItem",{listName:i,listId:t,items:r,createNewList:e.createNewList},u,f)};this.deleteListItems=function(t,i,r,u,f,e){e=$.extend({createNewList:undefined},e);$.ajaxJason(n(),"deleteItems",{listName:i,listId:t,ids:r,createNewList:e.createNewList},u,f)};this.fetchListsContent=function(t,i,r){$.ajaxJason(n(),"fetchContent",t,i,r)};this.fetchAllListsContent=function(t,i,r){$.ajaxJason(n(),"fetchAllListsContent",{lists:t},i,r)}},ViewersService=new function(){function n(){return"/form"}this.submitForm=function(t,i,r,u,f,e,o){$.ajaxJason(n(),"Submit",{siteID:t,siteType:i,formID:r,formValues:f},e,o)}},ElementInstance=function(){function n(n,t){t=$.quickExtend({initialPropertiesValues:undefined,elementID:undefined},t);var i=this;i._isInstance_=!0;i.id=t.elementID!==undefined?t.elementID:StructureLoadingManager.generateWebsiteId();i.$element=null;i.decorators={};i.backgroundLayers={};i.data={};i.currentActions={};i.currentEffects={};i.currentPropertiesValues={};i.parentInstance=null;i.childInstances=[];i.$container=null;i.elementType=n;i.isVisible=!0;i.properties={};i.affectedProperties={};i.bindings=[];i.borderTargetAddedEvent=SimpleEvent.create();i.visibilityChangedEvent=SimpleEvent.create();i.sizeChangedEvent=SimpleEvent.create();i.contentSizeChangedEvent=SimpleEvent.create();i.offsetChangedEvent=SimpleEvent.create();i.propertyChangedEvent=SimpleEvent.createNamedEvents();i.actualPropertyValueChanged=SimpleEvent.createNamedEvents();i.propertyChangedEventSimple=SimpleEvent.create();i.elementEnterEvent=SimpleEvent.create();i.elementLeaveEvent=SimpleEvent.create();i.instanceRemoving=SimpleEvent.create();i.instanceRemoved=SimpleEvent.create();i.resizingStarted=SimpleEvent.create();i.resizingStopped=SimpleEvent.create();i.triggerActivated=SimpleEvent.createNamedEvents();i.elementStateActivated=SimpleEvent.createNamedEvents();i.elementStateRemoved=SimpleEvent.createNamedEvents();i.properties=PropertiesManager.createProperties(n.getTypeProperties(),t.initialPropertiesValues,n.getPropertiesDefaults());i.onCreation();Global.IsDesigner&&i.onCreationInDesigner()}function i(n,t){var i={};return $.eachEntry(n,function(n,r){(!t||t(r))&&(i[r.id]=r)}),i}function u(){var i=t,n;if(t=[],i.length>0){for(RenderingCoordinator.startRenderingBatch(),n=0;n<i.length;n++)i[n].isDeleted||PropertiesManager.invalidateElement(i[n],!0);for(PropertiesManager.UpdateBatch.finish(),RenderingCoordinator.finishRenderingBatch(),RenderingCoordinator.startRenderingBatch(),n=0;n<i.length;n++)i[n].isDeleted||r(i[n]);RenderingCoordinator.finishRenderingBatch();t=[]}else PropertiesManager.UpdateBatch.finish()}function r(n){n.isInitialized=!0;n.onInitialized();Global.IsDesigner&&n.onInitializedInDesigner();ElementsManager.Events.InstanceInitialized.fireNew(n);n.InstancePropertiesInitialized.isFalse()&&n.InstancePropertiesInitialized.setTrue();n.setToCurrentMode()}var t=[];return n.InstancesInitializationBatch=OperationsBatch.create({batchStartCallback:function(){PropertiesManager.UpdateBatch.start()},batchFinishCallback:u,batchFinishingStartedCallback:function(){ElementsManager.PropertiesUnpostponingBatch.start()},batchFinishingCompletedCallback:function(){ElementsManager.PropertiesUnpostponingBatch.finish()}}),n.create=function(n,t){var i=n.getDynamicType();return new i(t,n)},n.isElementInstance=function(n){return n._isInstance_},n.getSupportedStates=function(n){return n.elementType.getSupportedStates()},n.prototype.getElementDefinitions=function(){return this.elementType.getElementDefinitions()},n.prototype.isCalculatedProperty=function(n){return this.elementType.isCalculatedProperty(n)},n.prototype.getFeaturesMap=function(){return this.elementType.getFeaturesMap()},n.prototype.hasFeature=function(n){return this.elementType.hasFeature(n)},n.prototype.isTypeOf=function(n){return this.elementType.isTypeOf(n)},n.prototype.isType=function(n){return this.elementType.isType(n)},n.prototype.hasOneOfDefinitions=function(n){return this.elementType.hasOneOfDefinitions(n)},n.prototype.getAncestorsMap=function(){return this.elementType.getAncestorsMap()},n.prototype.hasAncestorType=function(n){return this.elementType.hasAncestorType(n)},n.prototype.initialize=function(){var i=this;return i.initializationTriggered?i:(i.onInitializing(),Global.IsDesigner&&i.onInitializingInDesigner(),n.InstancesInitializationBatch.isActive()?t.push(i):(PropertiesManager.invalidateElement(i),r(i)),i.initializationTriggered=!0,i)},n.prototype.isInstanceVisible=function(){return PositionManager.isElementVisible(this)},n.prototype.getCalculatedPropertiesMap=function(){return this.elementType.getCalculatedPropertiesMap()},n.prototype.isInstanceDeleted=function(){return this.isDeleted},n.prototype.activateAction=function(n,t,i,r){var u=this;(ViewManager.isViewMode()||n.isForDesigner&&SelectionManager.isSelected(i.$element))&&(u.currentActions[n.name]=n,n.activateFunction(i,u,t,i,r))},n.prototype.setIsContent=function(n){this.data.isContent=n},n.prototype.isContent=function(){return this.data.isContent},n.prototype.getPageId=function(){return ElementsManager.getInstanceRootID(this)},n.prototype.setParent=function(n){ElementsManager.setElementParent(this,n)},n.prototype.detach=function(){var n=this,t;if(n.hasParent()&&(t=n.getParent(),t.childInstances=$.grep(t.childInstances,function(t){return t!=n})),n.$element.detach(),n.$container=undefined,t&&t!==null)t.onChildElementRemoved(n);PositionManager.visibilityTreeDetach(n);n.parentInstance=null;n.onDetached()},n.prototype.isInTopLayer=function(){var n=this;return n.isType(ElementsTypes.page)||n.hasFeature(Features.PageSection)?!0:!1},n.prototype.getInstanceDataForSaving=function(n){n=$.extend({forSaving:!1,propertiesFilter:undefined},n);var t=this,r=t.getSize(),i=PropertiesManager.clonePropertiesValues(t,{forSaving:n.forSaving,propertiesFilter:n.propertiesFilter});return n.forSaving||(i.name=null,i.formID=null),n.adjustSize&&r&&$.extend({},i.sizeAndPosition,r),{type:t.elementType.name,id:t.id,elementProperties:i,metaData:t.getMetaDataForSaving()}},n.prototype.getChildElements=function(){return ElementsManager.getChildElements(this.$element)},n.prototype.getSupportedStates=function(){return this.elementType.getSupportedStates()},n.prototype.getTargetConnections=function(n){var t=this;return i(BehavioursManager.getInstanceTargetConnections(t.id),n)},n.prototype.getSourceConnections=function(n){var t=this;return i(BehavioursManager.getInstanceSourceConnections(t.id),n)},n.prototype.findParent=function(n,t){var r=this,i;for(t===undefined&&(t=!1),i=t?r:r.parentInstance;i&&!n(i);)i=i.parentInstance;return i},n.prototype.hasAncestor=function(n,t){return this.findParent(n,t)!==null},n.prototype.getParents=function(n){var i=[],t=this;for(n&&i.push(t);t.parentInstance;)i.push(t.parentInstance),t=t.parentInstance;return i},n.prototype.getSiblings=function(n){var o,f,u,e;n=$.extend({ignoreSections:!1},n);var t=this,i=[],r=t.parentInstance;if(r)if(t.isType(ElementsTypes.SectionElement))$.eachItem(t.getPageContentInstance().getSectionsByPage(PageManager.getCurrentPage()),function(n,r){t!==r&&i.push(r)});else if(!t.isType(ElementsTypes.PageContentElement)&&t.parentInstance&&(t.parentInstance.hasFeature(Features.PageSection)||t.parentInstance.isType(ElementsTypes.page)))o=PageManager.getCurrentPage(),$.eachItem(o.childInstances,function(n,r){r.hasFeature(Features.PageSection)?$.eachItem(r.childInstances,function(n,r){r!==t&&i.push(r)}):r!==t&&i.push(r)});else if(!t.hasFeature(Features.PageSection)&&!t.isType(ElementsTypes.PageContentElement))for(f=n.ignoreSections&&(r.hasFeature(Features.PageSection)||r===PageManager.getCurrentPage())?ElementsManager.getPageRootInstances():r.childInstances,u=0;u<f.length;u++)e=f[u],e!==t&&i.push(e);return i},n.prototype.hasParent=function(){var n=this;return n.parentInstance!==null&&n.parentInstance!==ElementsRoot},n.prototype.getParent=function(){return this.parentInstance},n.prototype.getPropertyMobileValue=function(n){var t=this,i=PropertiesManager.getPropertyValueInCustomState(t.properties[n],MobileVersionViewManager.MobileStateName,"coordinator",t);return i?i.stateValue:undefined},n.prototype.getPropertyNormalValue=function(n,t){var r=this,i=r.properties[n].value;return i!==undefined&&t!==undefined?i[t]:i},n.prototype.getPropertyValue=function(n,t){var r=this,i=PropertiesManager.getValue(r,n);return i!==undefined&&t!==undefined?i[t]:i},n.prototype.notifyCalculatedPropertyChange=function(n){PropertiesManager.notifyCalculatedPropertyChange(this,n)},n.prototype.getPropertiesValues=function(n){return PropertiesManager.getPropertiesValues(this,n)},n.prototype.setPropertyFieldsValues=function(n,t){var i=this;i.setPropertyValue(n,$.extend({},i.getPropertyValue(n,undefined,!0),t))},n.prototype.setPropertyFieldValue=function(n,t,i){var r=this,u={};u[t]=i;r.setPropertyValue(n,$.extend({},r.getPropertyValue(n,undefined,!0),u))},n.prototype.setPropertyValue=function(n,t,i,r){var f=this,u={};u[n]=t;f.setPropertiesValues(u,i,r)},n.prototype.updatePropertiesValues=function(n){var t=this;PropertiesManager.updatePropertiesValues(t,n)},n.prototype.setPropertiesValues=function(n,t,i){var r=this;PropertiesManager.setPropertiesValues(r,n,t,i)},n.prototype.animatePart=function(n,t,i,r,u){var s,l,f;u=$.extend({complete:$.noop,isInitialization:!1},u);var h=this,o=u.isInitialization,e=r!==undefined,c=Global.IsDesigner&&(ViewManager.isViewMode()||h.isForTemplateUse());return i!==undefined&&i!==!1&&$.support.transition?(i===!0&&(i=t),e?(c&&(s=ViewManager.Events.SwitchedToDesignMode.one(function(){n.stopAllPropertiesAnimation()})),l=u.complete,window.setTimeout(function(){n.animateProperties(i,{duration:r.transitionDuration,complete:function(){s!==undefined&&(ViewManager.Events.SwitchedToDesignMode.unbind(s),l())}})},0)):o||n.stopPropertiesAnimation($.getKeys(i))):((e||!o)&&(f=n.data("activeQueues"),f||(f={},n.data("activeQueues",f))),$.eachEntry(t,function(t,i){var s=h.id+t,a={},l,v;if(a[t]=i,l=undefined,c&&e){l=$.uniqueID();ViewManager.Events.SwitchedToDesignMode.one(function(){l=undefined;n.stop(s,!0,!0);delete f[s]},l)}!o&&f[s]&&(n.stop(s,!0),delete f[s]);e&&(v=u.complete,u=$.extend({},u,{duration:r.transitionDuration,easing:"linear",queue:s,complete:function(){l!==undefined&&(ViewManager.Events.SwitchedToDesignMode.unbind(l),delete f[s],v())}}),f[s]=!0,n.animate(a,u).dequeue(s))})),e||(n.css(t),u.complete()),e},n.prototype.setActualPropertyValue=function(n,t){var i=this;i.currentPropertiesValues[n]=t;i.actualPropertyValueChanged.fireNew(n,t)},n.prototype.getActualPropertyValue=function(n){var t=this,i=t.currentPropertiesValues[n];return i===undefined?t.getPropertyValue(n):i},n.prototype.isDescendantOf=function(n){var t=this;return n.id===t.id?!0:t.parentInstance?t.parentInstance.isDescendantOf(n):!1},n.prototype.isDescendantOfByCondition=function(n){var t=this;return n(t.parentInstance)?!0:t.parentInstance?t.parentInstance.isDescendantOfByCondition(n):!1},n.prototype.getElementContent=function(){return this.$elementContent},n.prototype.addBackgroundLayer=function(n,t){var s=this,h=n.name,c=n.priority,r=s.backgroundLayers,u=r[h],f,i,l,e,o;if(!u){f=t();for(l in r)e=r[l],o=e.priority,c<o&&(!i||i.priority>o)&&(i=e);i?f.insertBefore(i.$element):f.insertBefore(s.$elementBorderBox);u={priority:c,$element:f};r[h]=u}return u.$element},n.prototype.getBackgroundLayer=function(n){var i=this,t=i.backgroundLayers[n.name];return t?t.$element:undefined},n.prototype.setBorderTarget=function(n){var t=this;t.$elementBorderTarget.pushElements(n.addClass("element-border-target"));t.borderTargetAddedEvent.fireNew(n)},n.prototype.getDescendingInstances=function(n,t){function i(f){var e;if(t)for(e=0;e<f.childInstances.length;e++)i(f.childInstances[e]);if((n||f!==r)&&u.push(f),!t)for(e=0;e<f.childInstances.length;e++)i(f.childInstances[e])}n===undefined&&(n=!0);var r=this,u=[];return i(r),u},n.prototype.getContentSize=function(){return PositionManager.getContentSize(this)},n.prototype.getSize=function(){return PositionManager.getElementSize(this)},n.prototype.getPosition=function(n){return PositionManager.getElementOffset(this,n)},n.prototype.getArea=function(n){return PositionManager.getElementArea(this,n)},n.prototype.getRelativeToParentArea=function(n){var t=this,r,i;return t.parentInstance?(r=n?n:t.parentInstance.getArea(),i=t.getArea(),i?$.expandArea(i,{top:r.top,bottom:-r.top}):i):t.getArea()},n.prototype.getChildIndex=function(){return this.childIndex.getValue()},n.prototype.getChildInstances=function(){return this.childInstances},n.prototype.unbindPropertyChange=function(n,t){return this.propertyChangedEvent.unbind(t)},n.prototype.bindPropertyChange=function(n,t,i){return this.propertyChangedEvent.bind(n,t,i)},n.prototype.activateState=function(n,t,i){t=$.valueOrDefault(t,!1);var r=this;(t||ViewManager.isViewMode()||r.isForTemplateUse())&&(typeof n!="string"&&(n=n.name),PropertiesManager.addGlobalState(n,r,undefined,i),r.applyComplexStatesOnInstance(ElementStates[n],i))},n.prototype.deactivateState=function(n,t,i){t=$.valueOrDefault(t,!1);var r=this;(t||ViewManager.isViewMode()||r.isForTemplateUse())&&(LayoutManager.layoutUpdateBatch.start(),PropertiesManager.UpdateBatch.start(),typeof n!="string"&&(n=n.name),PropertiesManager.removeGlobalState(n,r,undefined,i),r.removeComplexStateFromInstance(ElementStates[n],i),PropertiesManager.UpdateBatch.finish(),LayoutManager.layoutUpdateBatch.finish())},n.prototype.activateTrigger=function(n,t){var i=this;(ViewManager.isViewMode()||i.isForTemplateUse())&&(i.triggerActivated.fireNew(n.name,t),$.eachItem(n.activatedStates,function(n,t){i.activateState(t)}),$.eachItem(n.deactivatedStates,function(n,t){i.deactivateState(t)}))},n.prototype.applyComplexStatesOnInstance=function(n,t){var i=this;i.currentStates[n.id]=n.id;$.eachEntry(i.currentStates,function(r){r=parseInt(r);var u=ElementStatesManager.getComplexIdFromIds(r,n.id);r!==n.id&&!i.currentStates[u]&&ElementStates[u]&&(PropertiesManager.addGlobalState(ElementStates[u],i,undefined,t),i.currentStates[u]=u)})},n.prototype.removeComplexStateFromInstance=function(n,t){var i=this;delete i.currentStates[n.id];$.eachEntry(i.currentStates,function(r){var u=ElementStatesManager.getComplexIdWithOutId(r,n.id);r=parseInt(r);r!==n.id&&i.currentStates[u]&&(PropertiesManager.removeGlobalState(ElementStates[r],i,undefined,t),delete i.currentStates[r])})},n.prototype.getSupportedTriggers=function(){var t=this,n=[];return $.eachItem(t.getElementDefinitions(),function(t,i){i.triggers&&$.merge(n,i.triggers)}),n},n}(),ElementsRenderer=function(){function t(n,t){if(n._currentInstance=t,t){var i=t.elementType;n._currentInstanceId=t.id;n._currentInstanceClass=i.typeClass}}var n=StringBuilder.extend("ElementsRenderer",{init:function($super){$super();this._instancesStack=[];this._tagsStack=[];this._currentInstance=undefined},startInstanceRendering:function(n,i){this._instancesStack.push(n);t(this,n);var r=["design-element"];return i&&r.push(i),this.openTag("div",r.join(" "),undefined,n.id),this},finishInstanceRendering:function(){var n=this._instancesStack;return n.pop(),t(this,n[n.length-1]),this.closeTag(),this},startElementContentRendering:function(n,t){var i=["element-content"];t&&i.push(t);this.openTag(n,i.join(" "))},finishElementContentRendering:function(){return this.closeTag()},addTag:function(n,t,i){return this.openTag(n,t,i).closeTag()},openTag:function(n,t,i,r){var e=this._currentInstanceClass,s=this._currentInstanceId,u=this,f=[],o;return t&&f.push(t),i&&f.push("remember-part"),e&&f.push(e),o=f.join(" "),u.append("<").append(n).append(' class="').append(o),r!==undefined&&u.append('" id="').append(r),u.append('" data-element-id="').append(s).append('"'),i&&u.append(' data-element-part="').append(i).append('"'),u.append(">"),this._tagsStack.push(n),this},closeTag:function(){var n=this,t=this._tagsStack.pop();return n.append("<\/").append(t).append(">"),this}});return n.renderElement=function(t){var i=new n;return t.renderElement(i),i.toString()},n}(),ElementType=function(){var n=Class.extend("ElementType",{init:function(n,t){var b,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w;this.name=n;this.title=t.title;b=t.itemName;b&&(this.itemName=t.itemName);i=t.itemTitle;i&&(this.itemTitle=i);r=t.properties;r&&(this.properties=r);u=t.methods;u&&(this.methods=u);f=t.ancestorElementType;f&&(this.ancestorElementType=f);e=t.features;this.features=e!==undefined?e:[];o=t.aggregatedMethods;this.aggregatedMethods=o!==undefined?o:{};s=t.triggers;s&&(this.triggers=s);h=t.defaultProperties;h&&(this.defaultProperties=h);c=t.className;c&&(this.className=c);l=t.calculatedProperties;l&&(this.calculatedProperties=l);a=t.delegatedDefinitionsProperties;a&&(this.delegatedDefinitionsProperties=a);v=t.customDelegatedProperties;v&&(this.customDelegatedProperties=v);y=t.supportedStates;y&&(this.supportedStates=y);p=t.extensions;p&&$.quickExtend(this,p);w=t.convertFunction;w&&(this.convertFunction=w)}});return n.create=function(t,i){return new n(t,i)},n}(),ElementsModel=new function(){function r(n,r){if(i&&PropertiesTypes[n]!==undefined)throw new Error("Duplicate property registration ({0})".format(n));r.name=n;r.isBound||(r.isBound=$.returnFalse);r.isBoundToObservableWithValue=o;r.isBoundToObservable=e;r._onChange=r.onChange;r.onChange=f;r.priority===undefined&&(r.priority=-1);r.isStateProperty===undefined||r.isStateProperty===!1?r.isStateProperty=$.returnFalse:r.isStateProperty===!0&&(r.isStateProperty=$.returnTrue);r.getResetValue||(r.getResetValue=r.defaultValue?r.defaultValue:$.returnUndefined);Global.IsDesigner&&u(n,r);var s=t++;r._index=s;PropertiesTypes[n]=r;PropertiesArray[s]=r}function u(n,t){typeof t.category=="string"&&(t.category=PropertiesCategories[t.category]);t.category=$.valueOrDefault(t.category,PropertiesCategories.Other);t.iconClass=t.category.iconClass;t.category&&(PropertiesCategories[t.category.name].properties[n]=n)}function f(n,t,i,r,u){var f=this._onChange;f&&(n.elementType.isDelegatedProperty(this.name)||(n.disableStyleProperties()&&PropertiesManager.getEditableStylePropertiesMap()[this.name]?f.call(n,n,this.getResetValue(),i,t,u):f.call(n,n,t,i,r,u)))}function e(n){return n.bindingObject!==undefined}function o(n){return n.descriptor.isBoundToObservable(n)&&n.bindingValue!==undefined}this.UseCompiledMode=!0;var n=0,t=0,i=typeof DevMode!="undefined"&&!DevMode.profile;this.initialize=function(){this.UseCompiledMode?ElementsModelCompiled.initialize():ElementsModelOld.initialize()};this.registerDefinition=function(t,i){var l=t===ElementsTypes,f,o,s,u,c,e,h;for(f in i){if(o=i[f],s=n++,l?u=ElementType.create(f,o):(c={name:f,properties:{},methods:{},ancestorElementType:undefined,features:[],aggregatedMethods:{definitions:{},aggregations:{}},triggers:{},isFeature:!0},u=$.extendMissing(o,c)),u._typeIndex=s,TypesArray[s]=u,e=u.properties,e)for(h in e)r(h,e[h]);t[f]=u}};this.registerPropertiesCategories=function(n){var t,i;for(t in n)i=n[t],PropertiesCategories[t]=$.quickExtend(i,{name:t,properties:{}})};this.registerMenuItemTypes=function(n){var t,i;for(t in n)i=n[t],MenuItemTypes[t]=$.quickExtend(i,{name:t})}},ElementsTypes={},Features={},TypesArray=[],PropertiesArray=[],PropertiesCategories={},PropertiesTypes={},MenuItemTypes={};ElementsModel.registerPropertiesCategories({Other:{title:"General",iconClass:"sprite-icon sprite-property-category-misc"},Line:{title:"Line",iconClass:"sprite-icon sprite-property-category-line",shortTitle:"Line"},Layout:{title:"Layout",iconClass:"sprite-icon sprite-property-category-layout"},SizeAndPosition:{title:"Size And Position",iconClass:"sprite-icon sprite-property-category-size-and-position"},Shadow:{title:"Shadow",iconClass:"sprite-icon sprite-property-category-shadow",shortTitle:"Shadow"},Rotation:{title:"Rotation",iconClass:"sprite-icon sprite-property-category-rotation"},Padding:{title:"Padding",iconClass:"sprite-icon sprite-property-category-padding"},Margin:{title:"Margin",iconClass:"sprite-icon sprite-property-category-margin"}});var ElementsModelCompiled=new function(){function s(){return t}function h(){ElementType.extendPrototype({isDelegatedProperty:d,hasFeature:g,isTypeOf:nt,hasOneOfDefinitions:tt,isType:it,getSupportedStates:rt,getElementDefinitions:ut,getFeaturesMap:ft,getAncestorsMap:et,hasAncestorType:ot,isCalculatedProperty:st,getDynamicType:s,getTypeProperties:v,getPropertiesDefaults:y,getPropertiesDefaultValues:p,getCalculatedPropertiesMap:l,getDelegatedProperties:a})}function c(n,t){var i,r;n._typeMethods=new Array(TypesArray.length);n._compiledType=t;n.typeClass=t.c;i=t.dd;i&&(delete t.dd,n.delegatedDefinitionsMap=u(i));r=t.i;r&&(n._inheritedTypesMap=u(r))}function l(){return i(this)}function i(n){var t=n._calculatedPropertiesMap,u,i,f,r;if(t===undefined&&(t=n._calculatedPropertiesMap={},u=n._compiledType,i=u.cp,i)){for(f=i.length,r=0;r<f;r++)t[i[r]]=!0;delete u.cp}return t}function r(n){var o=n._compiledType,s=o.p,t,r,i,u,f,l,e;delete o.p;var h=s.length,a=n._typeProperties=new Array(h),c=n._propertiesDefaults={};for(t=0;t<h;t++)r=s[t],i=r,i.i!==undefined&&(i=i.i),u=PropertiesArray[i],f=u.name,a[t]=u,r.d!==undefined?(l=TypesArray[r.d],c[f]=l.defaultProperties[f]):(e=u.defaultValue,c[f]=e?e:$.returnUndefined)}function a(){var n=this._delegatedProperties,r,t,f,i,u;if(!n)if(r=this._compiledType,t=r.dp,t)for(delete r.dp,f=t.length,n=this._delegatedProperties={},i=0;i<f;i++)u=PropertiesArray[t[i]],n[u.name]=u;else n=this._delegatedProperties={};return n}function u(n){var r={},u,t,i;if(n)for(u=n.length,t=0;t<u;t++)i=TypesArray[n[t]],r[i.name]=i;return r}function v(){var n=this._typeProperties;return n?n:(r(this),this._typeProperties)}function y(){var n=this._propertiesDefaults;return n?n:(r(this),this._propertiesDefaults)}function p(){var n=this._propertiesDefaultValues,t;return n||(n=this._propertiesDefaultValues={},t=this.getPropertiesDefaults(),$.eachEntry(t,function(t,i){n[t]=i()})),n}function n(n,t){var r=TypesArray[n].aggregatedMethods,u=r.aggregations,i;return u&&(i=u[t],i)?i:r.definitions[t]}function w(n,t){return function(i,r,u,f,e){var o=this,s=function(n,i,r,u,f){return t.call(o,n,i,r,u,f)};return n.call(this,s,i,r,u,f,e)}}function b(n,t,i,r,u,f,e){for(var s=t.length,o=0;o<s;o++)t[o].call(n,i,r,u,f,e)}function k(n){return function(t,i,r,u,f){b(this,n,t,i,r,u,f)}}function d(n){return!!this.getDelegatedProperties()[n]}function g(n){return e(this)[n.name]!==undefined}function nt(n){var r=this,u,t,i;for(n=$.asArray(n),u=n.length,t=0;t<u;t++)if(i=n[t],r===i||r.hasAncestorType(i))return!0;return!1}function tt(n){var t=this;return n=$.asArray(n),$.any(n,function(n){return t===n||t.hasFeature(n)||t.hasAncestorType(n)})}function it(n){var u=this,i,t,r;for(n=$.asArray(n),i=n.length,t=0;t<i;t++)if(r=n[t],u===r)return!0;return!1}function rt(){var u=this,n=u._supportedStates,i,f,t,r;if(!n)for(n=u._supportedStates=[],i=this._elementDefinitions,f=i.length,t=0;t<f;t++)r=i[t],r.supportedStates&&$.merge(n,r.supportedStates);return n}function f(n){var e=n._featuresMap={},o=n._elementDefinitions=[],r=n._compiledType,u=r.d,f,i,t;for(delete r.d,f=u.length,i=0;i<f;i++)t=TypesArray[u[i]],o.push(t),t.isFeature&&(e[t.name]=t)}function ut(){var n=this._elementDefinitions;return n?n:(f(this),this._elementDefinitions)}function ft(){return e(this)}function e(n){var t=n._featuresMap;return t?t:(f(n),n._featuresMap)}function et(){return this._inheritedTypesMap}function ot(n){var t=this._inheritedTypesMap;return t!==undefined&&t[n.name]!==undefined}function st(n){return!!i(this)[n]}function ht(n,t){function i(t,i){n.call(this,i,t)}__extends(i,n);var r=t.methods;return ct(i.prototype,r,t.methodNames),lt(i.prototype,r.length,t.aggregated,t.aggregatedNames),i}function ct(n,t,i){for(var f,u,e=t.length,r=0;r<e;r++)f=t[r],u=i[r],n[u]=vt(r,f,u)}function lt(n,t,i,r){for(var e,f,o=i.length,u=0;u<o;u++)e=i[u],f=r[u],n[f]=wt(u+t,e,f)}function at(n,t,i,r,u,f,e,o,s){var c=n.elementType,l=c._typeMethods,h=l[t];return h===undefined&&(h=yt(c,i,r),l[t]=h),n[r]=h,h.call(n,u,f,e,o,s)}function vt(n,t,i){return function(r,u,f,e,o){return at(this,n,t,i,r,u,f,e,o)}}function yt(n,t,i){var r=t[n._typeIndex],e,u,f,o;if(r===undefined)throw new Error(n.name+" is not implement "+i);if(e=r.length,e===undefined)return TypesArray[r].methods[i];for(u=TypesArray[r[0]].methods[i],f=1;f<e;f++)o=TypesArray[r[f]].methods[i],u=w(o,u);return u}function pt(n,t,i,r,u,f,e,o,s){var c=n.elementType,l=c._typeMethods,h=l[t];h===undefined&&(h=bt(c,i,r),l[t]=h);n[r]=h;h.call(n,u,f,e,o,s)}function wt(n,t,i){return function(r,u,f,e,o){return pt(this,n,t,i,r,u,f,e,o)}}function bt(t,i,r){var u=i[t._typeIndex],e,s,f;if(u===undefined)throw new Error(t.name+" is not implement "+r);if(u===null)return o;if((e=u.length)===undefined)return n(u,r);if(e===1)return n(u[0],r);for(s=new Array(e),f=0;f<e;f++)s[f]=n(u[f],r);return k(s)}var o=$.noop,t;this.initialize=function(){var n,r,u,i;h();typeof DevMode!="undefined"&&typeof CompiledComponents=="undefined"&&preCompileCode();n=CompiledComponents.ElementsModel;r=n.types;for(u in ElementsTypes)i=ElementsTypes[u],c(i,r[i._typeIndex]);t=ht(ElementInstance,n);delete CompiledComponents.ElementsModel}},DataSourcesManager=new function(){var n={};this.initialize=function(){regiterDataSourceItems()};this.setDataSourcesFromSave=function(t){t||(t={});n=t};this.loadDataSource=function(n,t,i,r){return DataSourcesManager.registerDataSourceInstance(n,t,i,r)};this.registerDataSourceInstance=function(n,t,i,r){var f=n.get(),u=new f(t,i,r);return DataSources[t]=u,u};this.registerDataSourceItemFields=function(n){$.eachItem(n,function(n,t){DataSourceItemsFields[t.type]=$.quickExtend({iconClass:"sprite-icon sprite-tool-category-apps",convertValueToFieldValue:$.returnValue,convertFieldValueToValue:$.returnValue},t)})};this.getFieldDefaultProperties=function(n,t){var i={};return n.initialPropertiesValues&&(i=n.initialPropertiesValues[t]?n.initialPropertiesValues[t]:n.initialPropertiesValues.Default),$.cloneObject(i)}},DataSources={},DataSourcesDefinitions={},DataSourceItemsFields={},BaseDataSource=Class.extend("BaseDataSource",{init:function(n,t,i){this.id=n;this.name=n;this.dataSourceInfo=t;this.instance=i;this.instanceId=i?i.id:undefined;this.itemUpdatedEvent=SimpleEvent.createNamedEvents();this.dataSourceRemoved=SimpleEvent.create();this.itemAddedEvent=SimpleEvent.create();this.dataSourceRefreshed=SimpleEvent.create();this.currentItemChangedEvent=SimpleEvent.create();this.itemsInformation=new ObservableCollection;this.collectionItems=CollectionObserver.create(this.itemsInformation);this.sortedItems=[];var r=this;r.sortingFunction&&r.collectionItems.itemsChangedEvent.bind(function(){r.sortedItems=$.getValues(r.collectionItems.getItems()).sort(r.sortingFunction)});r.fieldsInformation=new ObservableCollection({idFunction:function(n){return n.name}});this.collectionFields=CollectionObserver.create(this.fieldsInformation);r.dataSourceRemoved.bind(function(){r.clear()});r.collectionItems.itemChangedEvent.bind(function(n){r.itemUpdatedEvent.fireNew(n)});r.dataSourceRefreshedObserver=SimpleEvent.createPostponedEventListener(r.dataSourceRefreshed,function(){i.onDataSourceRefresh()});r.dataSourceRefreshedObserver.activate();r.onViewInitialized()},manageItemsPanelName:undefined,manageItemsPanelTitle:undefined,onViewInitialized:$.noop,sortingFunction:function(n,t){var u=n,f=t,i=parseInt(u.index),r=parseInt(f.index);return i!==undefined&&r!==undefined?i-r:i!==undefined?-1:r!==undefined?1:0},invalidateAllItems:function(){this.itemsInformation.invalidateItems(this.itemsInformation.getItemsValues())},onWizardFinished:function(n){var i=this,t=i.instance,r={currentTemplate:t.elementType.itemName?t.getDefaultTemplate(t.elementType.itemName):undefined,currentItemsInfo:t.getPropertyValue("dataInfo"),itemFields:i.getItemFields(),items:i.getAllDataItems()};LayoutManager.layoutUpdateBatch.executeWithActivation(function(){onDialogCommitted(t,i,r,n)})},getIndexBetweenTwoItems:function(n,t){return n+(t>n?(t-n)*.5:(n-t)*.5)},openItemsDialog:function(n){var f;n=$.quickExtend({selectedItemId:undefined},n);var t=this,i=t.instance,u=i.getPropertyValue("dataInfo"),e=Panels[t.manageItemsPanelName],r=u.currentData;r.items&&(r=r.items);f=$.objectGet(t,["dataSourceInfo","currentData","collectionItems"]);Dialogs.MasterDetailsDialog.usePanel(e).withActivationArgs({headerTitle:t.manageItemsPanelTitle,currentData:u.currentData,items:i.elementType===ElementsTypes.Menu?t.getAllDataItems():r,itemsMap:u.itemsMap,itemFields:t.getItemFields(),defaultItems:f?f.getItems():undefined,synchronizeWithPages:i.getPropertyValue("synchronizeWithPages"),selectedItemId:n.selectedItemId}).open({header1:t.manageItemsPanelTitle,innerPanelControlBox:function(n){return n.getHeaderControlBox()},buttonsOptions:[{type:ConfirmationButtonsTypes.OK,title:"Save"}],onConfirm:function(n,t){var r,u;if(n){r=t.getItemsData();i.elementType==ElementsTypes.ButtonsGroup&&(r={items:r});u={itemsData:r,itemsFields:t.getItemsFields(),itemsMap:t.getItemsMap()};i.getDataSource().onWizardFinished(u)}}})},getCollectionItems:function(){return this.collectionItems},getCollectionFields:function(){return this.collectionFields},getAllItems:function(){return this.collectionItems.getItems()},getAllDataItems:function(){return this.collectionItems.getItems()},getSortedItems:function(){return this.sortedItems},fetchAllItems:function(n){var t=this.sortedItems;n({fetchedItems:t,totalCount:t.length})},fetchItems:function(n,t,i,r,u){var o=this.sortedItems,e=o.length,f;return u.fetchAlways&&n>=e&&(f=t-n,n=$.divideNoReminder(e-1,f)*f,t=n+f),i({fetchedItems:o.slice(n,t),totalCount:e})},getItem:function(n){return this.collectionItems.getItem(n)},fetchDataItem:function(n,t,i,r){var u=this.collectionItems.getItem(n);return!u&&r&&r(),u&&i&&i(u),u}}),DataSourceItemsData={Text:0,TextArea:1,Image:2,TextInput:4,Icon:5,Link:6,Video:7,paypal:8,Date:9,FontIcon:10,Alt:11,Content:12};var SocialIconsSetCollection={StaticCollection:{icons:DictionaryUtils.addKeyAsField({facebook:{collectionName:"public-font-icons",iconName:"facebook"},googlePlus:{collectionName:"public-font-icons",iconName:"google-plus"},twitter:{collectionName:"public-font-icons",iconName:"twitter2"},linkedin:{collectionName:"public-font-icons",iconName:"linkedin"},pinterest:{collectionName:"public-font-icons",iconName:"pinterest"},reddit:{collectionName:"public-font-icons",iconName:"reddit"},instagram:{collectionName:"public-font-icons",iconName:"instagram"},youtube:{collectionName:"public-font-icons",iconName:"youtube"},flickr:{collectionName:"public-font-icons",iconName:"flickr"},soundCloud:{collectionName:"public-font-icons",iconName:"soundcloud"},tripAdvisor:{collectionName:"public-font-icons",iconName:"tripadvisor"},picasa:{collectionName:"public-font-icons",iconName:"picasa"},behance:{collectionName:"public-font-icons",iconName:"behance"},etsy:{collectionName:"public-font-icons",iconName:"etsy"},tumblr:{collectionName:"public-font-icons",iconName:"tumblr"},dribbble:{collectionName:"public-font-icons",iconName:"dribbble"},vimeo:{collectionName:"public-font-icons",iconName:"vimeo-2342"},vk:{collectionName:"public-font-icons",iconName:"vk"},renren:{collectionName:"public-font-icons",iconName:"renren"},weibo:{collectionName:"public-font-icons",iconName:"weibo"}},"name")},Collection1:{icons:DictionaryUtils.addKeyAsField({facebook:{collectionName:"public-font-icons",iconName:"facebook"},googlePlus:{collectionName:"public-font-icons",iconName:"google-plus"},twitter:{collectionName:"public-font-icons",iconName:"twitter2"},linkedin:{collectionName:"public-font-icons",iconName:"linkedin"},pinterest:{collectionName:"public-font-icons",iconName:"pinterest"},reddit:{collectionName:"public-font-icons",iconName:"reddit"},instagram:{collectionName:"public-font-icons",iconName:"instagram"},youtube:{collectionName:"public-font-icons",iconName:"youtube"},flickr:{collectionName:"public-font-icons",iconName:"flickr"},soundCloud:{collectionName:"public-font-icons",iconName:"soundcloud"},tripAdvisor:{collectionName:"public-font-icons",iconName:"tripadvisor"},picasa:{collectionName:"public-font-icons",iconName:"picasa"},behance:{collectionName:"public-font-icons",iconName:"behance"},etsy:{collectionName:"public-font-icons",iconName:"etsy"},tumblr:{collectionName:"public-font-icons",iconName:"tumblr"},dribbble:{collectionName:"public-font-icons",iconName:"dribbble"},vimeo:{collectionName:"public-font-icons",iconName:"vimeo-2342"},vk:{collectionName:"public-font-icons",iconName:"vk"},renren:{collectionName:"public-font-icons",iconName:"renren"},weibo:{collectionName:"public-font-icons",iconName:"weibo"}},"name")},Collection2:{icons:DictionaryUtils.addKeyAsField({facebook:{collectionName:"public-font-icons",iconName:"facebook"},googlePlus:{collectionName:"public-font-icons",iconName:"google-plus"},twitter:{collectionName:"public-font-icons",iconName:"twitter2"},linkedin:{collectionName:"public-font-icons",iconName:"linkedin"},pinterest:{collectionName:"public-font-icons",iconName:"pinterest"},reddit:{collectionName:"public-font-icons",iconName:"reddit"},instagram:{collectionName:"public-font-icons",iconName:"instagram"},youtube:{collectionName:"public-font-icons",iconName:"youtube"},flickr:{collectionName:"public-font-icons",iconName:"flickr"},soundCloud:{collectionName:"public-font-icons",iconName:"soundcloud"},tripAdvisor:{collectionName:"public-font-icons",iconName:"tripadvisor"},picasa:{collectionName:"public-font-icons",iconName:"picasa"},behance:{collectionName:"public-font-icons",iconName:"behance"},etsy:{collectionName:"public-font-icons",iconName:"etsy"},tumblr:{collectionName:"public-font-icons",iconName:"tumblr"},dribbble:{collectionName:"public-font-icons",iconName:"dribbble"},vimeo:{collectionName:"public-font-icons",iconName:"vimeo-2342"},vk:{collectionName:"public-font-icons",iconName:"vk"},renren:{collectionName:"public-font-icons",iconName:"renren"},weibo:{collectionName:"public-font-icons",iconName:"weibo"}},"name")}},TriggerType={PageLoad:1,State:2,Trigger:3},BehavioursManager=new function(){this.Events={BehaviourAdded:SimpleEvent.create(),BehaviourUpdated:SimpleEvent.create(),BehaviourRemoved:SimpleEvent.create()};var u={},t={},i={},r={},n={};this.getInstanceSourceConnections=function(n){return t[n]?t[n]:{}};this.getInstanceTargetConnections=function(n){return i[n]?i[n]:{}};this.getInstanceInitializedTargetConnections=function(t){return n[t]?n[t]:{}};this.addBehaviourToCollection=function(n){var u=n.sourceElementID,r=n.targetElementID,f=n.id;$.objectSetIfUndefined(i,u,$.returnEmptyObject);i[u][f]=n;r&&($.objectSetIfUndefined(t,r,$.returnEmptyObject),t[r][f]=n)};this.addBehaviourToInitializedCollection=function(t){var i=t.sourceElementID,u=t.targetElementID,e=t.id,f;$.objectSetIfUndefined(n,i,$.returnEmptyObject);n[i][e]=t;u&&($.objectSetIfUndefined(r,u,$.returnEmptyObject),r[u][e]=t);f=ElementsManager.getInstanceByID(i);f&&f.hasActions.setTrue()};this.removeBehaviourFromCollection=function(n){var u=n.sourceElementID,r=n.targetElementID,f=n.id;i[u]&&delete i[u][f];r&&t[r]&&delete t[r][f]};this.removeBehaviourFromInitializedCollection=function(t){var i=t.sourceElementID,u=t.targetElementID,e=t.id,f;n[i]&&delete n[i][e];u&&r[u]&&delete r[u][e];$.count(n[i])===0&&(f=ElementsManager.getInstanceByID(i),f&&f.hasActions.setFalse())};this.registerBehaviours=function(n){$.each(n,function(n,t){t=$.quickExtend({onConnectionRemoved:$.noop,onConnectionAdded:$.noop,initializeBehaviourDefinition:$.returnValue,activateFunction:$.noop,deactivateFunction:$.noop,activateCallback:$.noop,deactivateCallback:$.noop},t);$.extendMissing(t,{name:n});var i=t.activateFunction,r=t.deactivateFunction;t.activateFunction=function(t,r,u){PageManager.PageChangingOperation.performOperation(function(){r&&!r.data.activatedBehaviours&&(r.data.activatedBehaviours={});i(t,r,u);r&&(r.data.activatedBehaviours[n]=!0)})};t.deactivateFunction=function(t,i,u){PageManager.PageChangingOperation.performOperation(function(){i&&!i.data.activatedBehaviours&&(i.data.activatedBehaviours={});i&&i.data.activatedBehaviours[n]&&(r(t,i,u),i.data.activatedBehaviours[n]=!1)})};t=t.initializeBehaviourDefinition(t);Behaviours[n]=t})};this.extendBehaviour=function(n,t){$.quickExtend(n,t)};this.createActionBehaviour=function(n){var t={},i={};return n.activate=function(r,u,f,e){var s,o;if(!f.isTemplateConenction||(s=ElementActivationManager.getSameConnections(r.id,u?u.id:undefined,n.name,f),!(s.length>1)))switch(f.triggerType){case TriggerType.PageLoad:n.activateCallback(r,u,f);o=!1;PageManager.PageChangingOperation.performOperation(function(){var t=PageManager.getCurrentPage();t.id==r.getPageId()&&(n.activateFunction(r,u,f),o=!0)});t[e]=PageManager.Events.PageChanged.bind(function(){if(o)o=!1;else{var t=PageManager.getCurrentPage();t.id==r.getPageId()&&n.activateFunction(r,u,f)}});break;case TriggerType.State:t[e]=r.elementStateActivated.bind(f.triggerName,function(){if(PageManager.Flags.isInPageChanging.isTrue()){var t=$.quickExtend({},f);t.animationDuration=0;n.activateFunction(r,u,t)}else n.activateFunction(r,u,f)});i[e]=r.elementStateRemoved.bind(f.triggerName,function(){n.deactivateFunction(r,u,f)});n.activateCallback(r,u,f);break;case TriggerType.Trigger:t[e]=r.triggerActivated.bind(f.triggerName,function(){n.activateFunction(r,u,f)});n.activateCallback(r,u,f)}},n.deactivate=function(r,u,f,e){switch(f.triggerType){case TriggerType.PageLoad:t[e]&&PageManager.Events.PageChanged.unbind(t[e]);n.deactivateCallback(r,u,f);break;case TriggerType.State:t[e]&&r.elementStateActivated.unbind(t[e].bindingName);i[e]&&r.elementStateRemoved.unbind(i[e].bindingName);n.deactivateCallback(r,u,f);break;case TriggerType.Trigger:t[e]&&r.triggerActivated.unbind(t[e].bindingName);n.deactivateCallback(r,u,f)}},n};this.initBehaviours=function(n){$.each(n.getInitializedTargetConnections(),function(n,t){var i=ElementsManager.getInstanceByID(t.targetElementID),r;i&&i.shouldInitInstanceOnPageChange()&&(r=ElementsManager.getInstanceByID(t.sourceElementID),Behaviours[t.behaviourName].deactivateFunction(r,i,{animationDuration:0},t.id))})};this.activateBehaviours=function(n){$.each(n.getInitializedTargetConnections(),function(n,t){BehavioursManager.activateBehaviour(t)})};this.activateBehaviour=function(n){var t=ElementsManager.getInstanceByID(n.sourceElementID),i=ElementsManager.getInstanceByID(n.targetElementID);t&&(!n.targetElementID||i)&&!u[n.id]&&(u[n.id]=!0,Behaviours[n.behaviourName].activate(t,i,n.options,n.id))};this.deactivateBehaviours=function(n){$.each(n.getInitializedTargetConnections(),function(n,t){BehavioursManager.deactivateBehaviour(t)})};this.deactivateBehaviour=function(n){var t=ElementsManager.getInstanceByID(n.sourceElementID),i=ElementsManager.getInstanceByID(n.targetElementID);u[n.id]=!1;t&&(!n.targetElementID||i)&&Behaviours[n.behaviourName].deactivate(t,i,n.options,n.id)}},Behaviours={},TriggersManager=new function(){this.registerTriggers=function(n){$.eachEntry(n,function(n,t){var i=$.quickExtend({activatedStates:[],deactivatedStates:[]},t);$.extendMissing(i,{name:n});Triggers[n]=i})};this.extendTrigger=function(n,t){$.quickExtend(n,t)}},Triggers={},ElementStatesManager=new function(){var n=this;this.registerElementStates=function(n){var t,i;for(t in n)i=n[t],i.name=t,$.extendMissing(i,{priority:0}),ElementStates[t]=i};this.extendElementState=function(n,t){$.quickExtend(n,t)};this.getComplexStateId=function(t){var i=1;return $.each(t,function(t,r){i=n.getComplexIdFromIds(i,r.id)}),i};this.getComplexIdFromIds=function(n,t){return n*t};this.getComplexIdWithOutId=function(n,t){return n/t};this.getStatesMapFromIds=function(n){for(var i={},t=0;t<n.length;t++){if(!ElementStates[n[t]])return null;i[n[t]]=ElementStates[n[t]]}return i};this.getComplexStatePriority=function(n){var t=1,i=10;return $.each(n,function(n,r){t+=r.priority+i}),t};this.registerComplexState=function(t){var u,r,i;if(t&&t.length>1)return(u={},r=n.getStatesMapFromIds(t),r===null)?!1:(i=n.getComplexStateId(r),ElementStates[i]||(u[i]={ids:t,priority:ElementStatesManager.getComplexStatePriority(r),id:i,name:i,isComplex:!0,statesMap:r},ElementStatesManager.registerElementStates(u)),ElementStates[i])}},ElementStates={};(function(){var n,t,i,r;ElementStatesManager.registerElementStates({NormalState:{id:1},MouseDownState:{priority:3,id:3},ElementSelectedState:{priority:3,id:5},ElementFocusedState:{priority:3,id:7},BeforeLoadedState:{priority:4,id:11},BeforeOpenedState:{priority:4,id:17},FirstButton:{priority:1,id:19},LastButton:{priority:1,id:23},MobileState:{priority:7,id:29}});ElementStatesManager.registerElementStates({MouseOverState:{priority:2,id:13}});for(n in ElementStates)t=ElementStates[n],n!==ElementStates.NormalState.name&&n!==ElementStates.MobileState.name&&(i=[ElementStates.MobileState.name,t.name],r=ElementStatesManager.registerComplexState(i))})(),function(){TriggersManager.registerTriggers({GotFocus:{activatedStates:[ElementStates.ElementFocusedState]},LostFocus:{deactivatedStates:[ElementStates.ElementFocusedState]},MouseClick:{},MouseDown:{activatedStates:[ElementStates.MouseDownState]},MouseUp:{deactivatedStates:[ElementStates.MouseDownState]},MouseEnter:{activatedStates:[ElementStates.MouseOverState]},MouseLeave:{deactivatedStates:[ElementStates.MouseOverState]},PageLeave:{deactivatedStates:[ElementStates.BeforeLoadedState,ElementStates.BeforeOpenedState]},PageLoaded:{activatedStates:[ElementStates.BeforeLoadedState,ElementStates.BeforeOpenedState]},PageOpened:{activatedStates:[ElementStates.BeforeOpenedState,ElementStates.BeforeLoadedState]},Selected:{activatedStates:[ElementStates.ElementSelectedState]},Unselected:{deactivatedStates:[ElementStates.ElementSelectedState]}})}(),function(){BehavioursManager.registerBehaviours({ScrollToFixedBehaviour:{activate:function(n,t,i){return;var r},deactivate:function(){return}}})}(),function(){function n(n,t,i){var r,u,f;$.browser.msie&&parseInt($.browser.version)<9||(i=$.extend({animationDuration:0},i),r=t===1?"":"scale({0})".format(t),u={},u[$.support.transformCSS]=r,i.animationDuration&&(f={transitionDuration:i.animationDuration}),n.animatePart(n.$element,{transform:r},u,f,{complete:function(){PositionManager.updatePosition(n)}}))}BehavioursManager.registerBehaviours({ScaleBehaviour:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(t,i,r){n(i,r.ratio,r)},deactivateFunction:function(t,i,r){n(i,1,r)},deactivateCallback:function(n,t){this.deactivateFunction(n,t,{});PositionManager.invalidateAreas(n)}}})}(),function(){function n(n,t,i,r){var u,f,e,o;$.browser.msie&&parseInt($.browser.version)<9||(i=$.extend({animationDuration:0,animationDirection:"left"},i),u=t,i&&i.animationDirection==="left"&&r&&(u=-t),f=u?"rotate({0}deg)".format(u):"rotate(0deg)",e={},e[$.support.transformCSS]=f,o=n.data.rotateBehaviourWrapper,n.animatePart(o,{transform:f},e,{transitionDirection:i.animationDirection,transitionDuration:i.animationDuration}),PositionManager.invalidateAreas(n))}BehavioursManager.registerBehaviours({RotateBehaviour:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(t,i,r){n(i,r.degree,r,!0)},activateCallback:function(n,t){var i=$('<span class="design-element-rotation-wrapper"><\/span>');t.getMainBox().wrap(i);t.data.rotateBehaviourWrapper=t.getMainBox().parent()},deactivateFunction:function(t,i,r){n(i,0,r,!1)},deactivateCallback:function(n,t,i){t.getMainBox().unwrap();this.deactivateFunction(n,t,{animationDirection:i.animationDirection});PositionManager.invalidateAreas(t)}}})}(),function(){BehavioursManager.registerBehaviours({TriggerGoogleEvent:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(n,t,i){Global.IsDesigner||$.triggerGoogleEvent($.extend({category:PageManager.getCurrentPage().getPropertyValue("name"),action:"deafaultAction",label:undefined,value:undefined},i))}}})}(),function(){function t(t,i){if(Global.IsDesigner)ConfirmationPanel.getController().openModal({header1:"Form Submission",header2:"Form submission works only in the published version of your site.",buttons:ConfirmationPanel.OkButton});else{var s=i.getPropertyValue("formID"),r=[],u,f=[];if($.each(i.getItemsControllers(),function(n,t){var i=t.getInstance(),e=i.getDataItem(),u=i.getValue();e.fieldOptions.isOptional||u!==undefined&&u!==null&&u!==""||r.push(e.fieldName);f.push(i)}),r.length===0&&(u=$.map(f,function(n){var t=n.getDataItem();return{fieldName:SiteManager.getFormFieldName(t),fieldValue:n.getValue()}})),r.length===0)ViewersService.submitForm(Global.SiteID,SiteManager.getSiteType(),s,null,u,function(r){var u=i.getPropertyValue("submitAddress"),e,o,f;if(i.getPropertyValue("formOptions").clearOnSubmit&&n(t,i),!u||$.isEmptyObject(u))r===!1?alert(i.getPropertyValue("submitError")):alert(i.getPropertyValue("submitText"));else if(u.type===LinkTypes.Pages){if(o=PageManager.getPageData(u.url),!o)return;e=PageManager.getPageFragmentValue(u.url);UrlManager.navigate(e)}else f=u.url,f.indexOf("://")<0&&(f="http://"+f),e=f,window.location=e},function(){alert(i.getPropertyValue("submitError"))});else{var e="",o=" , ";$.each(r,function(n,t){n===r.length-1&&(o=".");e+=t+o});alert("You must fill out the fields below: "+e)}}}function n(n,t){var i=$.grep(t.getDescendingInstances(!1),function(n){return n.elementType===ElementsTypes.skinInputElement});$.each(i,function(){this.clear()})}BehavioursManager.registerBehaviours({SubmitForm:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:t},ClearForm:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:n}})}(),function(){function n(n,t,i){i=$.quickExtend({entranceAnimation:undefined,entranceAnimationSpeed:undefined,entranceAnimationDirection:undefined,exitAnimation:undefined,exitAnimationSpeed:undefined,exitAnimationDirection:undefined},i);t.navigate(1,!0,undefined,i)}function t(n,t,i){var r=$.quickExtend({animationDuration:0},i);ElementsManager.scrollToInstanceInPreview(t,r)}function i(n,t,i){i=$.quickExtend({entranceAnimation:undefined,entranceAnimationSpeed:undefined,entranceAnimationDirection:undefined,exitAnimation:undefined,exitAnimationSpeed:undefined,exitAnimationDirection:undefined},i);t.navigate(-1,!0,undefined,i)}BehavioursManager.registerBehaviours({ShowTab:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(n,t,i){if(i=$.extend({performAnimation:!0,animationOptions:{},targetTab:undefined},i),i.targetTab){var r=ElementsManager.getInstanceByID(i.targetTab);r&&t.showItem(r,i.performAnimation,undefined,i.animationOptions)}},activateCallback:function(n,t,i){n.data["currentItemChangedEventShowTab"+t.id]=t.currentItemChangedEvent.bind(function(){ViewManager.isDesignMode()||(t.getCurrentItem().id===i.targetTab?n.userSelect(!0):n.userSelect(!1))})},deactivateCallback:function(n,t){t.currentItemChangedEvent.unbind(n.data["currentItemChangedEventShowTab"+t.id])}},NavigateTo:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:t},NavigateNext:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:n},NavigatePrev:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:i},NextPage:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(){PageManager.switchToNextPage()}},PrevPage:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(){PageManager.switchToPrevPage()}}})}(),function(){BehavioursManager.registerBehaviours({ActivateState:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(n,t,i){StatesGroupsManager.activateStateGroupState(i.groupId,i.stateId)},deactivateFunction:function(n,t,i){StatesGroupsManager.deactivateStateGroup(i.groupId)}},DeactivateState:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(n,t,i){StatesGroupsManager.deactivateStateGroup(i.groupId)},deactivateFunction:function(n,t,i){StatesGroupsManager.activateStateGroupState(i.groupId,i.stateId)}},ActivateAllStates:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(n,t,i){StatesGroupsManager.activateStateGroupStates(i.groupId)},deactivateFunction:function(n,t,i){StatesGroupsManager.deactivateStateGroup(i.groupId)}}})}(),function(){function n(n,t){t.stop()}function t(n,t){t.pause()}function i(n,t){t.play()}BehavioursManager.registerBehaviours({PlayVideo:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,deactivateFunction:n,activateFunction:i,deactivateCallback:function(t,i){n(t,i)}},StopVideo:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:n,deactivateCallback:function(t,i){n(t,i)}},PauseVideo:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,deactivateFunction:n,activateFunction:t,deactivateCallback:function(t,i){n(t,i)}}})}(),function(){function n(n,t,r,u){r||(r={});var f=i(r,u);PropertiesManager.updateComputedValue(t,t.properties.isVisible,!1,f,!0)}function t(n,t,r,u){r||(r={});var f=i(r,u);PropertiesManager.updateComputedValue(t,t.properties.isVisible,!0,f,!0)}function i(n,t){return $.extend({transitionEffect:Animations.NoAnimation.name,transitionDuration:0,transitionSlideDirection:"left",transitionFlyDirection:{vertical:"top",horizontal:"left"}},{transitionEffect:n.animationType,transitionDuration:t?0:n.animationDuration,transitionSlideDirection:n.animationSlideDirection,transitionFlyDirection:n.animationDirection})}BehavioursManager.registerBehaviours({showInCenter:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,activateFunction:function(n,t){PopUpManager.showInPopup(t)}},ShowElement:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,deactivateFunction:n,activateFunction:t},HideElement:{initializeBehaviourDefinition:BehavioursManager.createActionBehaviour,deactivateFunction:t,activateFunction:n}})}(),function(){BehavioursManager.registerBehaviours({ExternalAppConnectionBehaviour:{activate:function(n,t,i){if(!n.hasFeature(Features.ConnectableExternalApp))throw new Error("Invalid use");n.connectFeatureInstance(i.featureName,t)},deactivate:function(n,t,i){if(!n.hasFeature(Features.ConnectableExternalApp))throw new Error("Invalid use");n.disconnectFeatureInstance(i.featureName,t)}}})}();var PropertiesHelper=new function(){this.isUnifiedValue=function(n,t){if($.isPlainObject(n)){var i=!0;return t===undefined&&(t=n[$.getKeys(n)[0]]),$.eachEntry(n,function(n,r){if(!$.defaultEqualityComparer(t,r))return i=!1,!1}),i}return t===undefined||$.defaultEqualityComparer(n,t)}},EditorManager=new function(){function i(i){if(i&&i.editorCoordinator){var r=i.editorCoordinator;r.isCoordinator=!0;t=r;StructureLoadingManager.loadHierarchy(r);n=ElementsManager.addHierarchyInfo(t,{withRendering:!1})[0]}else n=ElementsManager.addInstance(ElementsTypes.EditorCoordinator,null,{elementID:"editorCoordinator"}),Global.Events.ElementsAdded.fireNew({instances:[n]});PageManager.Events.CoordinatorInitialized.fireNew()}this.Flags={PcEditing:ObservableFlag.create(!0),MobileEditing:ObservableFlag.create(!1,{valueChangeCallback:function(n){DesignerStateManager.toggleState(DesignerStates.MobileEditing,n)}}),InUserEditingMode:ObservableFlag.create(!0)};this.contextEditingClass=ContextValue.createContextClass({getTarget:function(){return $("body")}});this.MobileDesktopViewClass="mobile-desktop-mode";this.PcDesktopViewClass="pc-desktop-mode";var n,t;this.setEditingClass=function(n){EditorManager.contextEditingClass.set(n)};this.getEditorCoordinator=function(){return n};this.initialize=function(n){Global.IsDesigner&&i(n);Global.Events.LastEventOnInitiailizatGlobal.one(function(){EditorManager.setEditingClass(Global.IsMobileView?EditorManager.MobileDesktopViewClass:EditorManager.PcDesktopViewClass)})};this.getCoordinatorHierarchyForSave=function(){var i=ElementsManager.getHierarchyInfo(n,{forSaving:!0,saveToServer:!0,idsInHierarchy:!0,copyAffectedStates:!1,copyAffectingStates:!0,copyMobileStates:!1});return t&&(i=ElementsManager.adjustHierarchyWithBaseHierarchy(i,t,function(n,t,i){return i===MobileVersionViewManager.MobileStateName&&ElementsManager.getInstanceByID(t)&&t!=="coordinator"?!1:!0})),StructureLoadingManager.preSaveHierarchy(i),i}},PayPalButtonManager=new function(){"use strict";var n=this;this.createPayPalButton=function(n,t,i){var r,e,s,f;if(n){i=i?i:EcommerceManager.ButtonTypes.buynow.value;r=$.extend({env:"www",business:n,size:"large",cmd:"_xclick"},t);switch(i){case EcommerceManager.ButtonTypes.cart.value:r.cmd="_cart";r.add="true";break;case EcommerceManager.ButtonTypes.donate.value:r.cmd="_donations";break;case EcommerceManager.ButtonTypes.view.value:i="cart";r.cmd="_cart";r.add="true"}r.bn="JavaScriptButton_{0}".format(i);var u=document.createElement("form"),o=document.createElement("input"),h=r.size;u.method="post";u.action="https://{0}.paypal.com/cgi-bin/webscr".format(r.env);u.className="paypal-button";u.target="_blank";o.type="hidden";for(e in r)s=r[e],f=o.cloneNode(!0),f.name=e,f.value=s,u.appendChild(f);return $(u)}}},FormFieldsManager=new function(){this.registerFormFields=function(n){$.each(n,function(n,t){FormFields[n]=$.extend({name:n},t)})}},FormFields={};FormFieldsManager.registerFormFields({LabelField:{name:"LabelField"}});var FontsManager=new function(){function t(){var n=[{fontFamily:"Arial"},{fontFamily:"Open Sans",fileNamePrefix:"ALyKWGaVsEemWmMSYxY8yg"},{fontFamily:"Open Sans Semi Bold",fileNamePrefix:"1aJZYUlSkk6puu4aOD3swQ"},{fontFamily:"Open Sans Extra Bold",fileNamePrefix:"I7CsSHRfZ0GB3AlD-DX-CQ"},{fontFamily:"Open Sans Condensed Light",fileNamePrefix:"zrpWq297sEeRsdU269eKIw"},{fontFamily:"Abril Fatface",fileNamePrefix:"gDLUCJWR_kqtWwfvIU_PaA"},{fontFamily:"Old Standard TT",fileNamePrefix:"kQqAlUNfAUWwCMQC0RiqsA"},{fontFamily:"Old Standard TT Italic",fileNamePrefix:"5ef35NcXqE-Sn4NiR-kJ3w"},{fontFamily:"Old Standard TT Bold",fileNamePrefix:"YWxRPXjKo0GD6sF4iTxb1A"},{fontFamily:"Amatic SC Bold",fileNamePrefix:"vncilunqC0SNXw6uCxWKYw"},{fontFamily:"Amatic SC",fileNamePrefix:"J-Q2uiHPAUWsLt1eszDGwg"},{fontFamily:"Bad Script",fileNamePrefix:"1Bgd0dJpN0GXJNyBAzkHww"},{fontFamily:"Dancing Script Bold",fileNamePrefix:"-BbHXw_ndE26qvVGfs-anQ"},{fontFamily:"Droid Sans Bold",fileNamePrefix:"ne7cbOZqTkedYy1HwYydZg"},{fontFamily:"Droid Serif",fileNamePrefix:"ePS3nDDdtEGk9UXdlz3xaw"},{fontFamily:"Gravitas One",fileNamePrefix:"Ia_3RDEl902d_biCJt5AFA"},{fontFamily:"Julius Sans One",fileNamePrefix:"w7D5mT_LT0-R_obV2nz21A"},{fontFamily:"Kaushan Script",fileNamePrefix:"N7N-3fd-v0qOnhTu-9GamA"},{fontFamily:"Lato Light",fileNamePrefix:"JYwDjrpa8U6xfI7FKlWegw"},{fontFamily:"Lato",fileNamePrefix:"kMHuzhNgr0KObYFogkU9qg"},{fontFamily:"Lobster",fileNamePrefix:"kPGhPwcvbkOCT9x5L5PHhw"},{fontFamily:"Neuton Bold",fileNamePrefix:"qFokD41aVU27THVC-6RMuw"},{fontFamily:"Neuton Extra Light",fileNamePrefix:"jk72vychhEmjX17_Z5nbjg"},{fontFamily:"Neuton",fileNamePrefix:"6a8BIp-h8EWtgJAOTPMYAw"},{fontFamily:"Nixie One",fileNamePrefix:"xctC69Fg002n2dGvXpnZIw"},{fontFamily:"Oleo Script",fileNamePrefix:"dCfhlsJpIk2_PlZcLee6-w"},{fontFamily:"PT Mono",fileNamePrefix:"mKwJ41VczkuadvZQFB69iQ"},{fontFamily:"PT Sans",fileNamePrefix:"ujtBJKYCkk-aGRvjqZ2Q6g"},{fontFamily:"PT Sans Bold",fileNamePrefix:"jyCuK2Q9ckmUVHo_bxIt1w"},{fontFamily:"PT Sans Narrow Bold",fileNamePrefix:"R3vKkDHIkEqPkFN_BbFEYA"},{fontFamily:"PT Serif",fileNamePrefix:"k0Q0RpzRHUa3xsKlKajrYw"},{fontFamily:"Source Sans Pro Light",fileNamePrefix:"N-FTQm6wJUid2Llo-YmLXw"},{fontFamily:"Source Sans Pro Semi Bold",fileNamePrefix:"Cuwea6LnvkOqcMrkyGOEWA"},{fontFamily:"Vollkorn",fileNamePrefix:"9_jFFW9MXU2YKrxUFFf7Tw"},{fontFamily:"Vollkorn Italic",fileNamePrefix:"_NLTS5Xqx0u8VVDeXpU6xQ"},{fontFamily:"Vollkorn Bold",fileNamePrefix:"KvLEhsX3PEeA-FNngJB2qQ"}];return $.eachItem(n,function(n,t){t.ownerID=null;t.storageServer===undefined&&(t.storageServer=AssetsStorageServers.AzureBlob)}),n}function i(){return[{id:"c09c885d-6218-410b-8870-0567be7bacd2",fontFamily:"ChunkFive",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"XYicwBhiC0GIcAVnvnus0g",storageServer:4,ownerID:null},{id:"0218ee78-8fb2-4a8a-a104-07af0fb595f6",fontFamily:"Trade Winds",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"eO4YArKPikqhBAevD7WV9g",storageServer:4,ownerID:null},{id:"7dbceeb3-6db6-4340-b511-07d698996ebb",fontFamily:"Monofett",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"s-68fbZtQEO1EQfWmJluuw",storageServer:4,ownerID:null},{id:"c62d3acb-e722-4ee7-9bd1-0989f096666d",fontFamily:"Daniel",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"yzotxiLn506b0QmJ8JZmbQ",storageServer:4,ownerID:null},{id:"e52e2b3b-cf41-4efd-bfaf-12310555a963",fontFamily:"Sansation",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"Oysu5UHP_U6_rxIxBVWpYw",storageServer:4,ownerID:null},{id:"3a19ffeb-9eb2-4352-80bd-13cd8161dbf7",fontFamily:"Journal",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"6_8ZOrKeUkOAvRPNgWHb9w",storageServer:4,ownerID:null},{id:"ae6ac39d-1c58-4844-af75-153e93e35a7b",fontFamily:"Smokum",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"ncNqrlgcREivdRU-k-Naew",storageServer:4,ownerID:null},{id:"8a9d8040-0523-4c66-93f1-19930b7cbac9",fontFamily:"Astloch",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"QICdiiMFZkyT8RmTC3y6yQ",storageServer:4,ownerID:null},{id:"317350d9-ac32-40e9-bf24-1995387d7609",fontFamily:"Flavors",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"2VBzMTKs6UC_JBmVOH12CQ",storageServer:4,ownerID:null},{id:"642b8eaa-b418-4db8-b9ea-1b9c8aa86d00",fontFamily:"Ultra",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"qo4rZBi0uE256huciqhtAA",storageServer:4,ownerID:null},{id:"2c3211e9-2b6a-49c6-b63a-1e40b49fa28f",fontFamily:"Oxygen",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"6REyLGorxkm2Oh5AtJ-ijw",storageServer:4,ownerID:null},{id:"31757e21-a23d-4b2b-af66-2de414ece485",fontFamily:"Loved by the King",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"IX51MT2iK0uvZi3kFOzkhQ",storageServer:4,ownerID:null},{id:"78ec2b16-7746-4d71-b549-2e02bcddbb58",fontFamily:"Ubuntu",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"FivseEZ3cU21SS4CvN27WA",storageServer:4,ownerID:null},{id:"3a767f73-88f9-4a5b-b9d9-314b6953ff2b",fontFamily:"alegreya",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"c392OvmIW0q52TFLaVP_Kw",storageServer:4,ownerID:null},{id:"367e3596-460d-4385-8894-33bc86900d45",fontFamily:"Geostar Fill",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"ljV-Ng1GhUOIlDO8hpANRQ",storageServer:4,ownerID:null},{id:"9a12ddc9-4d39-484b-88f8-3ba12992301a",fontFamily:"GoodDog",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"yd0SmjlNS0iI-DuhKZIwGg",storageServer:4,ownerID:null},{id:"481951ac-767c-411a-94ad-42178d05bd9e",fontFamily:"WalkWay",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"rFEZSHx2GkGUrUIXjQW9ng",storageServer:4,ownerID:null},{id:"790f646a-9f89-4aac-9793-530d241b955d",fontFamily:"IM Fell English SC",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"amQPeYmfrEqXk1MNJBuVXQ",storageServer:4,ownerID:null},{id:"aa1aa242-4565-493d-8dc8-53672f30e967",fontFamily:"Metamorphous",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"QqIaqmVFPUmNyFNnLzDpZw",storageServer:4,ownerID:null},{id:"265b03e5-acde-4773-9b5d-55a462006730",fontFamily:"Droid Sans",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"5QNbJt6sc0ebXVWkYgBnMA",storageServer:4,ownerID:null},{id:"cf62fd55-956a-418a-bbc1-577c0bdb2ddc",fontFamily:"Fredericka the Great",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"Vf1iz2qVikG7wVd8C9st3A",storageServer:4,ownerID:null},{id:"fcae94e7-2fec-4ea0-8e29-584a2b3498e9",fontFamily:"Eater",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"55Su_OwvoE6OKVhKKzSY6Q",storageServer:4,ownerID:null},{id:"c87f2751-0273-48ca-b050-5bd471272166",fontFamily:"Vast Shadow",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"USd_yHMCykiwUFvUcSchZg",storageServer:4,ownerID:null},{id:"a1fec907-1d82-4efd-8ea5-72aa2462692a",fontFamily:"Shadows Into Light",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"B8n-oYId_U6OpXKqJGJpKg",storageServer:4,ownerID:null},{id:"bca1239b-cfd9-4674-a3f3-77bfe865cd9e",fontFamily:"Sail",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"myOhvNnPdEaj83e_6GXNng",storageServer:4,ownerID:null},{id:"c0c4ebfa-376e-456d-b52f-7bc3a5524511",fontFamily:"Monoton",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"-uvEwG43bUW1L3vDpVJFEQ",storageServer:4,ownerID:null},{id:"4d70accc-c3eb-4e30-831f-87c2aebbba92",fontFamily:"Windsong",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"zKxwTevDME6DH4fCrru6kg",storageServer:4,ownerID:null},{id:"649495ea-c170-4cf0-a7c1-899801f3b23a",fontFamily:"Frijole",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"6pWUZHDB8EynwYmYAfOyOg",storageServer:4,ownerID:null},{id:"ce47876c-91e9-4828-bcdd-8c969c79eed4",fontFamily:"Montserrat Alternates",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"bIdHzumRKEi83YyWnHnu1A",storageServer:4,ownerID:null},{id:"d3c0077c-8bf2-4eab-846a-8f423e34340d",fontFamily:"Geostar",supportedLanguages:["eng"],classification:"serif",fileNamePrefix:"fAfA0_KLq06Eao9CPjQ0DQ",storageServer:4,ownerID:null},{id:"0cb005e2-6cb1-4f9a-b41d-915a272a1b76",fontFamily:"Creepster",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"4gWwDLFsmk-0HZFaJyobdg",storageServer:4,ownerID:null},{id:"7cade256-3cb9-45aa-a4d8-97b306fd4dbc",fontFamily:"Love Ya Like A Sister",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"VuKtfLk8qkWk2JezBv1NvA",storageServer:4,ownerID:null},{id:"2071d878-f419-47cd-b047-9bb130909aae",fontFamily:"Raleway",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"eNhxIBn0zUewR5uxMJCarg",storageServer:4,ownerID:null},{id:"88e68407-dc4c-4ed4-ada4-b4c89c83f206",fontFamily:"Merienda One",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"B4TmiEzc1E6tpLTInIPyBg",storageServer:4,ownerID:null},{id:"6ac971e7-32c6-4cf8-9960-bd37457038ea",fontFamily:"Titillium Web",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"53HJasYy-EyZYL03RXA46g",storageServer:4,ownerID:null},{id:"5e1f36d2-2c8e-4e67-bdc9-be3821863d46",fontFamily:"Fascinate",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"0jYfXo4sZ069yb44IYY9Rg",storageServer:4,ownerID:null},{id:"6a0c7754-700e-4c3e-9bb9-c7c28ac10924",fontFamily:"Megrim",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"VHcMag5wPkybucfCisEJJA",storageServer:4,ownerID:null},{id:"b040c83c-d7a1-4fd5-96e2-ccfea301d539",fontFamily:"Ballpark",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"PMhAsKHX1U-W4sz-owHVOQ",storageServer:4,ownerID:null},{id:"4228bbc5-24cf-4b16-9962-d16e83224608",fontFamily:"Miltonian",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"xbsoQs8kFkuZYtFugyJGCA",storageServer:4,ownerID:null},{id:"dabde0dc-c2ac-445b-ae82-d17271036830",fontFamily:"Average Sans",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"3OC92qzCW0SugtFycQNoMA",storageServer:4,ownerID:null},{id:"a1f56792-8d49-47b5-b238-e176eee56874",fontFamily:"Questrial",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"kmf1oUmNtUeyOOF27uVodA",storageServer:4,ownerID:null},{id:"d2a8a6f3-ae33-4f02-9873-e319979ebc3c",fontFamily:"Plaster",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"86ao0jOuAk-Yc-MZl568PA",storageServer:4,ownerID:null},{id:"55445c86-6517-4786-a23b-e7969bd58cc7",fontFamily:"Ubuntu Condensed",supportedLanguages:["eng"],classification:"sanserif",fileNamePrefix:"hlxEVRdlhkeiO-eWm9WMxw",storageServer:4,ownerID:null},{id:"589684e8-cae5-44d9-a4e8-ecaaabbd07f3",fontFamily:"Seymour One",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"6ISWWOXK2USk6Oyqq70H8w",storageServer:4,ownerID:null},{id:"0399ce94-4c94-4280-aa47-f257929bf1b6",fontFamily:"Butcherman",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"lM6ZA5RMgEKqR_JXkpvxtg",storageServer:4,ownerID:null},{id:"b4d1d6e8-0d30-4b5a-9dae-f46e9d0200e0",fontFamily:"MarketingScript",supportedLanguages:["eng"],classification:"hand",fileNamePrefix:"6NbRtDANWkudrvRunQIA4A",storageServer:4,ownerID:null},{id:"fe4e0d3a-2ef7-4331-8f57-ff80a693729a",fontFamily:"Caesar Dressing",supportedLanguages:["eng"],classification:"decorative",fileNamePrefix:"Og1O_vcuMUOPV_-AppNymg",storageServer:4,ownerID:null}]}var n=this;this.SiteFonts=new ObservableCollection({idFunction:function(n){return n.fontFamily}});this.PreviewFontsUpdateBatch=OperationsBatch.create({batchStartCallback:function(){n.PreviewFonts.FontsUpdateBatch.start()},batchFinishCallback:function(){n.PreviewFonts.FontsUpdateBatch.finish()}});this.useFontFamily=function(){};this.getSiteFonts=function(){return $.getValues(FontsManager.SiteFonts.getItems())};this.initialize=function(r){r===undefined&&(r=i());var u=t(),f=$.makeSet(u,function(n){return n.fontFamily});r=$.grep(r,function(n){return!f[n.fontFamily]});r=$.merge(u,r);FontsManager.SiteFonts.put(r);n.SiteFontsController=DynamicFonts.create({fonts:$.mapItem(r,function(n){return n.fileNamePrefix?{fontFamily:n.fontFamily,fontUrlPrefix:AssetsManager.resolveFontUrl(n)}:undefined})});FontsManager.SiteFonts.itemsAddedEvent.bind(function(t){n.SiteFontsController.addFonts($.map(t,function(n){return{fontFamily:n.fontFamily,fontUrlPrefix:AssetsManager.resolveFontUrl(n)}}))});FontsManager.SiteFonts.itemRemovingEvent.bind(function(t){n.SiteFontsController.removeFonts(t.fontFamily)});Global.IsDesigner&&(n.PreviewFonts=DynamicFonts.create())};this.loadSupportedGoogleFonts=$.noop;this.getFontDisplayText=function(n){return ThemeFontsManager.isFontBinding(n)?"{0} ({1})".format(ThemeFontsManager.getThemeFontType(n),ThemeFontsManager.evaluateFontBinding(n)):n};this.addPreviewFonts=function(t){t=$.asArray(t);n.PreviewFonts.FontsUpdateBatch.start();$.eachItem(t,function(t,i){var r="font"+i.fileNamePrefix,u=AssetsManager.resolveFontUrl(i);n.PreviewFonts.addFont(r,u)});n.PreviewFonts.FontsUpdateBatch.finish()};this.setPreviewFont=function(t,i){n.addPreviewFonts(i);t.css("font-family","font"+i.fileNamePrefix)}},AccountsManager=new function(){var n=DeferredObject.create(function(){return{paypal:"YourPayPalEmail@domain.com",facebookPageUrl:SocialLinksManager.getBrandSocialDefaultLink("facebook"),siteEmail:"youremail@domain.com",googleCard:"youremail@domain.com",googlePlus:SocialLinksManager.getBrandSocialDefaultLink("googlePlus"),twitter:SocialLinksManager.getBrandSocialDefaultLink("twitter"),linkedin:"http://www.linkedin.com"}});this.Types={PayPal:"paypal",SiteEmail:"siteEmail",Facebook:"facebookPageUrl",GoogleCard:"googleCard",GooglePlus:"googlePlus",Twitter:"twitter",Linkedin:"linkedin"};this.Events={AccountsChangedEvent:SimpleEvent.create()};this.getDefaultAccountId=function(t){return n.get()[t]};this.getAccountID=function(t){return SiteSettingsManager.getValue(t+"AccountId",n.get()[t])};this.setAccountID=function(n,t,i){SiteSettingsManager.setValue(n+"AccountId",t,{onSuccess:i,onError:$.noop})}},InstancePoolingManager=new function(){var i=this,t,n={};this.initialize=function(){t=PoolingController.create();i.stopPooling()};this.attach=function(r,u,f){var c=[],s,l;for(u=u?u:$.returnTrue,f=f?f:$.noop,r=$.asArray(r),s=0;s<r.length;s++){var e=r[s],h=$.uniqueID(),o=e.id;n[o]||(e.data.poolingVisibilityChanaged=e.visibilityChangedEvent.bind(function(){var n=PositionManager.isElementVisible(e);n?i.unPostponeSamples(e,"visibility"):i.postponeSamples(e,"visibility")}),l={id:o,callbacksItems:{}},n[o]=l);n[o].callbacksItems[h]=t.attach(u,f,h);c.push({callbackId:h,id:o})}return t.getCallbacksLength()>0&&i.startPooling(),c};this.stopPooling=function(n){n=n?n:"default";t.stopPooling(n)};this.startPooling=function(n){n=n?n:"default";t.startPooling(n)};this.postponeSamples=function(t,i){i=i?i:"default";t=$.asArray(t);$.each(t,function(t,r){var u=n[r.id];u&&$.each(u.callbacksItems,function(n,t){t.postpone(i)})})};this.unPostponeSamples=function(t,i){i=i?i:"default";t=$.asArray(t);$.each(t,function(t,r){var u=n[r.id];u&&$.each(u.callbacksItems,function(n,t){t.unPostpone(i)})})};this.detach=function(r){var f,u,e;for(r=$.asArray(r),f=0;f<r.length;f++)u=r[f],n[u.id]&&(n[u.id].callbacksItems[u.callbackId].detach(),delete n[u.id].callbacksItems[u.callbackId],$.count(n[u.id].callbacksItems)===0&&(delete n[u.id],e=ElementsManager.getInstanceByID(u.id),e&&e.visibilityChangedEvent.unbind(e.data.poolingVisibilityChanaged)));t.getCallbacksLength()===0&&i.stopPooling()}},StatesGroupsManager=new function(){var t=this,i={},n={};this.activateStateGroupState=function(i,r){if(i&&r){t.deactivateStateGroupState(i,n[i]);var u=PageManager.getCoordinator();PropertiesManager.addGlobalState({name:r.toString()},u);n[i]=r}};this.deactivateStateGroupState=function(t,i){if(t&&i){var r=PageManager.getCoordinator();PropertiesManager.removeGlobalState({name:i.toString()},r);n[t]=undefined}};this.deactivateStateGroup=function(t){if(t&&n[t]){var i=PageManager.getCoordinator();PropertiesManager.removeGlobalState({name:n[t].toString()},i);n[t]=undefined}};this.activateStateGroupStates=function(r){if(r){var u=i[r].getItemsValues();$.each(u,function(n,i){window.setTimeout(function(){t.activateStateGroupState(r,i.id)},1e3*n)});window.setTimeout(function(){t.deactivateStateGroupState(r,n[r])},1e3*u.length)}}},RowsLayoutController=new function(){function n(n,t,i){i?i.$rowsArray=n:t.$rowsArray=n}function t(n,t){var i;return i=t?t.$rowsArray:n.$rowsArray,i||(i=[]),i}this.reorderControllers=function(i,r,u){var k,h,c,e,nt,f;u=$.extend({elementsPerRow:1,$container:undefined,currentControllersMap:undefined,parentInstance:undefined},u);var p=u.currentControllersMap,tt=u.$container,l=u.elementsPerRow,it=r.length,w=Math.ceil(it/l),a=u.parentInstance,o=t(i,a),v=o.length,s=v-w,b=$.mapArray(r,$.returnValue,$.defaultIdFunction);if(p&&$.eachEntry(p,function(n,t){b[n]||t.detach()}),s!==0&&s<0)for(f=0;f<-s;f++)k=$("<div class='positioned no-wrap'><\/div>"),o.push(k[0]);for(f=0;f<w;f++){var d=$([]),y=$(o[f]),g=!1;for(h=0;h<l;h++)c=h+f*l,e=r[c],e&&(nt=$.objectGet(e,["data","currentIndex"]),$.objectSet(e,["data","currentIndex"],c),(e.$element.parent()[0]!==y[0]||nt!==c)&&(g=!0),d.pushElements(e.$element),e.lastRowParent=y,e.appendTo(o[f],a,!0),e.showElement());g&&y.applyChildrenSorting(d)}if(s&&tt.applyChildrenSorting(o),s>0)for(f=v-1;f>v-1-s;f--)$(o[f]).remove(),o.pop();return n(o,i,a),b}},DataLayoutsManager=new function(){function n(n){var t=n.getArrangement(),i=n.isInEmptyState();n.getDataItemsController().getInstance().canResizeVertically.setValue(t.canResize.vertically||i,"isInLayout");n.getDataItemsController().getInstance().canResizeHorizontally.setValue(t.canResize.horizontally||i,"isInLayout")}function t(){return[]}var i=this;this.registerDataLayoutTypes=function(i,r){$.eachEntry(i,function(i,u){var f=$.extend({categoryName:r.name,removeLayout:$.noop,orderElements:$.noop,startLayout:$.noop,getNavigatableInstances:t,navigateTo:$.noop,refreshLayout:$.noop,getCurrentItem:function(n){return n.data.pagesInstance},canItemResize:{vertically:!1,horizontally:!1},canResize:{vertically:!0,horizontally:!0},fields:{},canSelectItems:!0,showItem:$.noop,fetchItemsInformationToArrange:function(n,t,i,r){n.getDataItemsController().fetchAllControllers(i,r)},refreshEmptyState:$.noop},u,{name:i});DataLayouts[i]=f;var e=f.arrange,o=f.startLayout,s=f.refreshEmptyState;f.arrange=function(n,t,i){var r=e(n,t,i);return r&&($.eachItem(r.controllersToArrange,function(n,t){var i=t.getInstance();i&&(i.canResizeHorizontally.setValue(f.canItemResize.horizontally,"dataListItem"),i.canResizeVertically.setValue(f.canItemResize.vertically,"dataListItem"),i.canSelectFlag.setValue(f.canSelectItems,"dataListItem"))}),r.options=i),r};f.startLayout=$.hookAfterMethod(o,n);f.refreshEmptyState=$.hookAfterMethod(s,n);r.items[i]=DataLayouts[i]})};this.calculateItemSize=function(n,t,i){var r=n;return t.fixedSize?r=t.fixedSize:t.keepItemSize&&i.fixedSize&&(r=i.fixedSize),r}},DataLayouts={},DataLayoutsCategories={Pages:{name:"Pages",iconClass:"sprite-icon sprite-tool-category-panels",title:"Pages",isActive:!0,items:{}},Normal:{name:"Normal",iconClass:"sprite-icon sprite-tool-category-panels",title:"Normal",isActive:!0,items:{}},FormLayouts:{name:"FormLayouts",iconClass:"sprite-icon sprite-tool-category-panels",title:"Form Layouts",isActive:!1,items:{}}};DataArrangements={Horizontal:{getFixedSize:function(n,t,i){var r=(n.width-i.lineSpacing*(t-1))/t,u=n.height;return{width:r,height:u}},getLayoutOptions:function(n){return{elementsPerRow:n}},orderItemsLayout:RowsLayoutController.reorderControllers,arrange:function(n,t){var e,o,i,r,f,s,u,h;for(t=$.extend({lineSpacing:10,length:undefined,calculatedFixedSize:undefined},t),e=t.length,o=t.size,r=0;r<n.length;r++)f=n[r],i=caclulateFixedSize(t.fixedSize,f,t),s=r>0?1*t.lineSpacing:0,f.setSize(i),f.setMargin({marginLeft:s});return u=Math.ceil(i.width*e+(e-1)*t.lineSpacing),u=u>0?u:o.width,h={height:i.height,width:u},{fixedSize:i,contentSize:h}}},Vertical:{getFixedSize:function(n,t,i){var r=(n.height-i.columnSpacing*(t-1))/t,u=n.width;return{width:u,height:r}},getLayoutOptions:$.returnEmptyObject,orderItemsLayout:RowsLayoutController.reorderControllers,arrange:function(n,t){var o,e,i,r,f,s,u,h;for(t=$.extend({columnSpacing:10,length:undefined},t),o=t.size,e=t.length,r=0;r<n.length;r++)f=n[r],i=caclulateFixedSize(t.fixedSize,f,t),s=r>0?1*t.columnSpacing:0,f.setSize(i),f.setMargin({marginTop:s});return u=Math.ceil(i.height*e+(e-1)*t.columnSpacing),u=u>0?u:o.height,h={width:i.width,height:u},{fixedSize:i,contentSize:h}}},Grid:{getFixedSize:function(n,t,i){var r=i.cols,u=Math.floor(t/r),o=t%r,f,e;return o!==0&&u++,f=(n.height-i.rowsSpacing*(u-1))/u,e=(n.width-i.colsSpacing*(r-1))/r,{width:e,height:f}},getLayoutOptions:function(n,t){return{elementsPerRow:parseInt(Math.min(parseInt(t.cols),n))}},orderItemsLayout:RowsLayoutController.reorderControllers,arrange:function(n,t){var a=t.size,s,u,p,h,f,e;t=$.extend({rowsSpacing:10,colsSpacing:10,cols:3,length:undefined},t);var v=t.length,i=t.cols,o=Math.floor(v/i),w=v%i;w!==0&&o++;var c=0,y=0,r,l=n.length;for(s=0;s<o&&l>0;s++){for(c=0,u=0;u<i&&l>0;u++)p=s*i+u,h=n[p],r=caclulateFixedSize(t.fixedSize,h,t),c=u>0?1*t.colsSpacing:0,h.setSize(r),h.setMargin({marginTop:y,marginLeft:c}),l--;y=t.rowsSpacing}return f=Math.ceil(r.width*i+(i-1)*t.colsSpacing),f=f>0?f:a.width,e=Math.ceil(r.height*o+(o-1)*t.rowsSpacing),e=e>0?e:a.height,{fixedSize:r,contentSize:{width:f,height:e}}}},OneColumn:{getFixedSize:function(n,t,i){var r=(n.height-i.rowsSpacing*(t-1))/t,u=n.width;return{width:u,height:r}},getLayoutOptions:$.returnEmptyObject,orderItemsLayout:RowsLayoutController.reorderControllers,arrange:function(n,t){var h=t.size,s,u,o,i,r,f,e;for(t=$.extend({rowsSpacing:10,length:undefined},t),s=t.length,u={width:0,height:0},i=0;i<n.length;i++)r=n[i],o=caclulateFixedSize(t.fixedSize,r,t),f=r.getSize(),e=i>0?1*t.rowsSpacing:0,u.height+=f.height+e,r.setSize({width:o.width,height:f.height}),r.setMargin({marginTop:e});return u.width=t.calculatedFixedSize.width,{fixedSize:t.calculatedFixedSize,contentSize:u}}},Columns:{getFixedSize:function(n,t,i){var r=parseInt(Math.min(parseInt(i.cols),t)),u=Math.floor(t/r),o=t%r,f,e;return o!==0&&u++,f=(n.height-i.rowsSpacing*(u-1))/u,e=(n.width-i.colsSpacing*(r-1))/r,{width:e,height:f}},getLayoutOptions:function(n,t){return{elementsPerRow:parseInt(Math.min(parseInt(t.cols),n))}},orderItemsLayout:RowsLayoutController.reorderControllers,arrange:function(n,t){var p=t.size,s,u,f;t=$.extend({rowsSpacing:10,colsSpacing:10,cols:3,length:undefined},t);var e=t.length,i=parseInt(Math.min(parseInt(t.cols),e)),w=Math.floor(e/i),b=e%i;b!==0&&w++;var c=0,l=0,r=0,o=0,a=n.length;for(s=0;s<w&&a>0;s++){for(c=0,o=0,u=0;u<i&&a>0;u++){var k=s*i+u,h=n[k],v=caclulateFixedSize(t.fixedSize,h,t),y=h.getSize();c=u>0?1*t.colsSpacing:0;h.setSize({width:v.width,height:y.height});h.setMargin({marginTop:l,marginLeft:c});a--;o<y.height&&(o=y.height);e--}r+=o+l;l=t.rowsSpacing}return f=v.width*i+(i-1)*t.colsSpacing,f=f>0?f:p.width,r=r>0?r:p.height,{fixedSize:v,contentSize:{width:f,height:r}}}},Rows:{getFixedSize:function(n,t,i){var r=parseInt(Math.min(i.rows,t)),u=Math.floor(t/r),o=t%r,f,e;return o!==0&&u++,f=(n.height-i.rowsSpacing*(r-1))/r,e=(n.width-i.colsSpacing*(u-1))/u,{width:e,height:f}},arrange:function(n,t){var a=t.size,i,f,o;t=$.extend({rowsSpacing:10,colsSpacing:10,rows:5},t);var s=parseInt(Math.min(t.rows,n.length)),h=Math.floor(n.length/s),b=n.length%s;b!==0&&h++;var l=n.length,r=0,u=0,c=caclulateFixedSize(t.fixedSize,n[0],t);for(i=0;i<h&&l>0;i++){var v={},y=t.$columns[i],k=i>0?t.colsSpacing:0;for(y.css("width",c.width),y.css("marginLeft",k),r=0,f=0;f<s&&l>0;f++){var d=i*s+f,e=n[d],p=e.getSize(),w=f>0?t.rowsSpacing:0;e.setSize({width:c.width,height:p.height});e.setMargin({marginTop:w});e.column=i;e.columnData=v;r+=p.height+w;l--}u<r&&(u=r);r=0;v.height=r}return o=c.width*h+(h-1)*t.colsSpacing,o=o>0?o:a.width,u=u>0?u:a.height,{fixedSize:c,contentSize:{width:o,height:u}}}}};$.eachEntry(DataLayoutsCategories,function(n){DataLayouts[n]={}});var ViewManager=new function(){function s(){$.eachEntry(ElementsManager.getAllPageInstances(),function(n,t){t.isInitialized&&t.onBeforePageOpen()})}function h(){$.eachEntry(ElementsManager.getAllPageInstances(),function(n,t){t.isInitialized&&t.onBeforePageLeave()})}function c(){RenderingCoordinator.startRenderingBatch();$.eachEntry(ElementsManager.getAllPageInstances(),function(n,t){t.isInitialized&&t.setToPreview()});RenderingCoordinator.finishRenderingBatch()}function o(){RenderingCoordinator.startRenderingBatch();$.eachEntry(ElementsManager.getAllPageInstances(),function(n,t){t.isInitialized&&t.setToDesign()});RenderingCoordinator.finishRenderingBatch()}function f(){ViewManager.getBodyTargets().toggleClass("design-mode",t).toggleClass("view-mode",!t)}this.Events={SwitchedToViewMode:SimpleEvent.create(),SwitchedToDesignMode:SimpleEvent.create(),ViewModeChanged:SimpleEvent.create(),BeforeViewModeChanged:SimpleEvent.create()};this.IsElementInFullScreen=ObservableFlag.create(!1);var n=this,t=!!Global.IsDesigner,i,e,u,r;this.initialize=function(){i=$("#body-element");e=$("body");r=$('<div class="body-element-container"><div class="body-element-wrapper"><\/div><\/div>');u=$(".body-element-wrapper",r);r.insertBefore(i);i.appendTo(u);FreemiumBanners.initialize();n.getBodyTargets().addClass("standard-layout");f();PageManager.Events.BeforePageChanged.bind(function(){PageManager.PageChangingOperation.whenFinished(function(){n.isViewMode()?(s(),c()):o()},"PageManager.Events.BeforePageChanged")});PageManager.Events.PageChanging.bind(function(){n.isViewMode()&&h()});(!$.browser.msie||parseInt($.browser.version)>=9)&&(document.addEventListener("fullscreenchange",function(){n.IsElementInFullScreen.setValue(!!document.fullscreenElement)},!1),document.addEventListener("mozfullscreenchange",function(){n.IsElementInFullScreen.setValue(!!document.mozFullscreenElement)},!1),document.addEventListener("webkitfullscreenchange",function(){n.IsElementInFullScreen.setValue(!!document.webkitFullscreenElement)},!1),document.addEventListener("msfullscreenchange",function(){n.IsElementInFullScreen.setValue(!!document.msFullscreenElement)},!1));$("html").on("selectstart",function(n){var r=$(n.target),i=r.parents().andSelf(),u=!i.is(".content-editable, .selectable-text, :input")&&(t||i.hasClass("webzai-clickable-behaviour")||!i.hasClass("has-text"));return!u})};this.getBodyElementWrapper=function(){return u};this.getBodyElementContainer=function(){return r};this.getBodyElement=function(){return i};this.getBodyTargets=function(){return $.unite(e,i)};this.getSiteScrollableElement=function(){return $.getScrollingController().$scrollableForWrite};this.isDesignMode=function(){return t};this.isViewMode=function(){return!t};this.switchToViewMode=function(){t=!1;n.Events.BeforeViewModeChanged.fireNew();f();n.Events.SwitchedToViewMode.fireNew();n.Events.ViewModeChanged.fireNew()};this.switchToDesignMode=function(){t=!0;n.Events.BeforeViewModeChanged.fireNew();i.scrollTop(0);$("html, body").scrollTop(0);f();o();n.Events.SwitchedToDesignMode.fireNew();n.Events.ViewModeChanged.fireNew();window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}},ElementActivationManager=new function(){function n(n){u(n);f(n)}function u(n){$.eachEntry(BehavioursManager.getInstanceSourceConnections(n),function(n,t){ElementActivationManager.removeConnection(t)})}function f(n){$.eachEntry(BehavioursManager.getInstanceTargetConnections(n),function(n,t){ElementActivationManager.removeConnection(t)})}function r(n,t,i,r,u){var e=i.name,f={sourceElementID:n,targetElementID:t,behaviourName:e,options:r};return f.id=u?u:StructureLoadingManager.generateWebsiteId(),BehavioursManager.addBehaviourToCollection(f),ElementsManager.performOnInstancesCreated([n,t],function(){BehavioursManager.addBehaviourToInitializedCollection(f);var t=ElementsManager.getInstanceByID(n);t.influenceChanged.fireNew();ViewManager.isViewMode()&&t.performWhenVisible(function(){RenderingCoordinator.performOnLayoutUpdate(function(){BehavioursManager.activateBehaviour(f)},"connection-activaion"+f.id);t.refreshCursor()})}),f}function t(n,t,i,r){var u=BehavioursManager.getInstanceTargetConnections(n),f=[];return u&&$.eachEntry(u,function(n,u){u.targetElementID===t&&u.options.triggerName===r.triggerName&&u.behaviourName===i&&u.options.triggerType===r.triggerType&&f.push(u)}),f}var i=this;this.initialize=function(){Global.Events.ElementRemoving.bind(function(t){var i=t.removedInstance,u,f,r;n(i.id);i.hasFeature(Features.DataList)&&(i.getDataSource()?u=i.getDataSource().getAllItems():(f=i.getPropertyValue("dataInfo"),f&&(r=f.currentData,r&&(u=r.items?r.items:r))),u&&$.eachEntry(u,function(t){n(i.id+t)}))});Global.Events.ConnectionAdded.bind(function(n){var t,i;if(OperationsManager.Flags.ConnectionRecordEnabled.isTrue()&&OperationsManager.Flags.shouldRecordOperations.isTrue()){if(t=ElementsManager.getInstanceByID(n.sourceElementID),t&&t.isForTemplateUse())return;Global.IsDesigner&&(i=UndoOperation.create({type:OperationsManager.Types.PrePropertiesChangeType,name:"ConnectionAdded",connectionInfo:n,getInstances:function(){var t=ElementsManager.getInstanceByID(n.sourceElementID);return t?[t]:[]},performOperation:function(){var t=ElementsManager.getInstanceByID(n.sourceElementID);return(ElementActivationManager.removeConnection(n),t)?[t]:[]}}),OperationsManager.informOnOperation(i))}});Global.Events.ConnectionRemoved.bind(function(n){var t,i;if(OperationsManager.Flags.ConnectionRecordEnabled.isTrue()&&OperationsManager.Flags.shouldRecordOperations.isTrue()){if(t=ElementsManager.getInstanceByID(n.sourceElementID),t&&t.isForTemplateUse())return;Global.IsDesigner&&(i=UndoOperation.create({type:OperationsManager.Types.PrePropertiesChangeType,name:"ConnectionRemoved",getInstances:function(){var t=ElementsManager.getInstanceByID(n.sourceElementID);return t?[t]:[]},performOperation:function(){var t=ElementsManager.getInstanceByID(n.sourceElementID);return(ElementActivationManager.applyConnections([n]),t)?[t]:[]}}),OperationsManager.informOnOperation(i))}})};this.getConnection=function(n,i,r,u){var f=t(n,i,r,u);return f.length==1?f[0]:undefined};this.applyConnections=function(n){n||(n={});$.eachEntry(n,function(n,t){i.connectElement(t.sourceElementID,t.targetElementID,t.behaviourName,t.options,t.id)})};this.applyConnectionsToSource=function(n,t){$.each(n,function(){var n=ElementsManager.getInstanceByID(this.targetElementID);t&&n?i.connectElement(t.id,n.id,this.behaviourName,this.options):console.warn("Bad element ID")})};this.updateConnection=function(n,t,i,u,f){var s=f?f.priority:undefined,e=ElementsManager.getInstanceByID(i),o=ElementsManager.getInstanceByID(u),h=f.name?n.connectionData:n.options;ViewManager.isViewMode()&&f.deactivate(e,o,t);BehavioursManager.removeBehaviourFromCollection(n);BehavioursManager.removeBehaviourFromInitializedCollection(n);n=r(i,u,f,t,n.id);Global.Events.ConnectionUpdated.fire(this,n)};this.removeConnection=function(n){var t,r;if(Global.Events.ConnectionRemoving.fireNew(),OperationsManager.beginAtomicBatch(!1,"Remove Action"),BehavioursManager.removeBehaviourFromCollection(n),BehavioursManager.removeBehaviourFromInitializedCollection(n),t=ElementsManager.getInstanceByID(n.sourceElementID),r=ElementsManager.getInstanceByID(n.targetElementID),!t){Global.Events.ConnectionRemoved.fire(this,n);return}var i=n.behaviourName?Behaviours[n.behaviourName]:undefined,u=i?i.priority:undefined,f=n.connectionData?n.connectionData:n.options;ViewManager.isViewMode()&&i.deactivate(t,r,n.options);Global.Events.ConnectionRemoved.fire(this,n);t.influenceChanged.fireNew();OperationsManager.endAtomicBatch()};this.removeInstanceConnections=function(t){n(t.id)};this.connectElement=function(n,i,u,f,e){var o,s,h,c,v;if(u&&typeof u!="string"&&(u=u.name),o=$.extend({isTemplateConenction:ViewManager.isDesignMode()&&TemplateEditingManager.Flags.IsInEditingTemplate.isTrue()},f),s=u?Behaviours[u]:{},s){OperationsManager.beginAtomicBatch();Global.Events.ConnectionAdding.fireNew();var h=null,y=t(n,i,u,o),l=$.grep(y,function(n){return n.options.isTemplateConenction===o.isTemplateConenction}),a=!0;l.length===1&&(h=l[0],a=!1,c=!1,$.defaultEqualityComparer(o,h.options)||(c=!0),c&&ElementActivationManager.updateConnection(h,o,n,i,s));a&&(v=r(n,i,s,o,e),Global.Events.ConnectionAdded.fireNew(v));OperationsManager.endAtomicBatch()}};this.getSameConnections=t},OrderManager=new function(){var n=this,u=!1,f=!1,t=!1,i=1,e,r;return this.Events={ElementsReordered:SimpleEvent.create()},this.IsEnabled=ObservableFlag.createConditionalPositive(),this.OrderingBatch=OperationsBatch.create({batchStartCallback:function(){t=!1;f=!0},beforeFinishingCallback:function(){f=!1;t&&(OrderManager.reassignElementsOrders(),r.activate())}}),this.isReorderDomOnContainerEnabled=function(n){return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()||n.isType(ElementsTypes.page)},this.initialize=function(){r=SimpleEvent.createEventListener([PositionManager.Events.ElementsVisibilityChanged,{name:"order",event:PropertiesManager.Events.NamedPropertyValueChanged},ElementsManager.Events.InstancesRemoved],function(){OrderManager.reassignElementsOrders()});r.activate()},this.disable=function(n){OrderManager.IsEnabled.setFalse(n)},this.enable=function(n){OrderManager.IsEnabled.setTrue(n)},this.beginReorderingBatch=function(){n.OrderingBatch.start()},this.endReorderingBatch=function(){n.OrderingBatch.finish()},this.setReassignmentRequired=function(n){t=n},this.reassignElementsOrders=function(){function s(t){t.setPropertyValue("order",n);e[n]=t;n++}function l(n,t){var v,f,y,p,i,e,o,l,c;s(n);var u=[],w=[],r=[],a=[];for($.eachItem(n.childInstances,function(n,t){t.hasFeature(Features.PageSection)?($.merge(u,t.childInstances),t.childInstances=[],r.push(t)):t.isType(ElementsTypes.PageContentElement)?a.push(t):(u.push(t),w.push(t))}),n.childInstances=[],u=u.orderBy(function(){return this.getPropertyValue("order")},$.nullLastComparer),r=r.orderBy(function(){return this.getPropertyValue("order")+(this.isType(ElementsTypes.HeaderElement)?-Infinity:0)+(this.isType(ElementsTypes.FooterElement)?Infinity:0)},$.nullLastComparer),v=a.concat(r),r=$.grep(r,function(n){return n.isInstanceVisible()}),f=$.grep(r,function(n){return n.isType(ElementsTypes.SectionElement)}),r.length>0&&(y=r[0],p=r[r.length-1]),n.pageContentInstancesCount.setValue(a.length),n.sectionsCount.setValue(r.length),n.contentSectionsCount.setValue(f.length),r.length>0&&(n.firstSectionInstance.setValue(y),n.lastSectionInstance.setValue(p),n.firstSectionContextClass.setTarget(y.$element),n.lastSectionContextClass.setTarget(p.$element),f.length>0&&(n.firstContentSectionInstance.setValue(f[0]),n.lastContentSectionInstance.setValue(f[f.length-1]),n.firstContentSectionContextClass.setTarget(f[0].$element),n.lastContentSectionContextClass.setTarget(f[f.length-1].$element))),$.eachItem(v,function(n,t){s(t)}),n.childInstances=v,$.eachItem(u,function(n,t){t.parentInstance.childInstances.push(t)}),l={},i=0;i<n.childInstances.length;i++)e=n.childInstances[i],e.childIndex.getValue()!==i&&(l[n.id]=n),e.childIndex.setValue(i);for(i=0;i<r.length;i++)for(o=r[i],c=0;c<o.childInstances.length;c++)e=o.childInstances[c],e.childIndex.getValue()!==c&&(l[o.id]=o),e.childIndex.setValue(c);for(i=0;i<u.length;i++)h(u[i],t);for((l[n.id]||t)&&OrderManager.requestReorderingChildElements(n),i=0;i<r.length;i++)o=r[i],(l[o.id]||t)&&OrderManager.requestReorderingChildElements(o);for(i=0;i<u.length;i++)e=u[i],e.zIndex.setValue(i+1)}function h(n){var i,t,u,r;for(s(n),i=n.childInstances.orderBy(function(){return{order:this.getPropertyValue("order"),elementType:this.elementType}},function(n,t){return $.nullLastComparer(n.order,t.order)}),n.childInstances=i,u=!1,t=0;t<i.length;t++)r=i[t],r.childIndex.getValue()!==t&&(u=!0),r.childIndex.setValue(t),r.zIndex.setValue(t+1);for(t=0;t<i.length;t++)h(i[t]);u&&OrderManager.requestReorderingChildElements(n)}if(OrderManager.IsEnabled.isTrue()){if(u)return;if(f){t=!0;r.deactivate();return}u=!0;OperationsManager.beginAtomicBatch();e=[];var n=0,o=ElementsManager.getRootInstance(),c=MobileVersionViewManager.Flags.IsInMobileContext.isTrue();o.isType(ElementsTypes.page)?l(o,c):h(o,c);i=n+n;u=!1;OrderManager.Events.ElementsReordered.fireNew();OperationsManager.endAtomicBatch()}},this.requestReorderingChildElements=function(n){if(OrderManager.isReorderDomOnContainerEnabled(n))return n.reorderChildElements()},this.bringForward=function(t){var e,r,f;for(OperationsManager.beginAtomicBatch(),n.beginReorderingBatch(),t=$.asArray(t),e=$.makeSet(t,function(n){return n.id}),r=0;r<t.length;r++){var i=t[r],o=i.getPropertyValue("order"),h=PositionManager.getOverlappingInstances(i,i.getSiblings(),2),s=$.grep(h,function(n){return e[n.id]===undefined&&n.getPropertyValue("order")>o}),u;s.length>0?(u=$.minValue(s,function(n){return n.getPropertyValue("order")}),i.setPropertyValue("order",u+(1-1/(o+1)))):(f=i.getPropertyValue("order"),u=$.minValue(i.parentInstance.childInstances,function(t){var i=t.getPropertyValue("order");return i-f>0?i-f:n.getMaxOrder()}),i.setPropertyValue("order",f+u+.1))}n.endReorderingBatch();OperationsManager.endAtomicBatch()},this.bringToFront=function(t){t=$.asArray(t);OperationsManager.beginAtomicBatch();n.beginReorderingBatch();$.eachItem(t,function(n,t){var r=t.getPropertyValue("order");PropertiesManager.setPropertiesValues(t,{order:i+r})});n.endReorderingBatch();OperationsManager.endAtomicBatch()},this.sendBackward=function(t){var e,r,f;for(OperationsManager.beginAtomicBatch(),n.beginReorderingBatch(),t=$.asArray(t),e=$.makeSet(t,function(n){return n.id}),r=0;r<t.length;r++){var i=t[r],o=i.getPropertyValue("order"),h=PositionManager.getOverlappingInstances(i,i.getSiblings(),2),s=$.grep(h,function(n){return e[n.id]===undefined&&n.getPropertyValue("order")<o}),u;s.length>0?(u=$.maxValue(s,function(n){return n.getPropertyValue("order")}),i.setPropertyValue("order",u-1/(o+1))):(f=i.getPropertyValue("order"),u=$.minValue(i.parentInstance.childInstances,function(t){var i=t.getPropertyValue("order");return i-f>=0?n.getMaxOrder():f-i}),i.setPropertyValue("order",f-u-.1))}n.endReorderingBatch();OperationsManager.endAtomicBatch()},this.sendToBack=function(t){OperationsManager.beginAtomicBatch();n.beginReorderingBatch();$.each(t,function(n,t){var i=$instance(t),r=i.getPropertyValue("order");PropertiesManager.setPropertiesValues(i,{order:-1-1/r})});n.endReorderingBatch();OperationsManager.endAtomicBatch()},this.getMaxOrder=function(){return i},this.increaseMaxOrder=function(){i++},this},SiteSettingsManager=function(){var n={},t=RemoteSettings.create({getSettingsValue:function(n){return typeof PageData!="undefined"&&PageData.siteSettings?PageData.siteSettings[n]:undefined},setSettingsValue:function(t,i,r){r=$.quickExtend({isPublic:!0},r);SiteManager.isSavedSite()?ApplicationService.setSiteSettingValue(SiteManager.getSiteID(),t,i,r.isPublic,r.onSuccess,r.onError):(n[t]={value:i,isPublic:r.isPublic},r.onSuccess())}});return t.getPendingSettings=function(){return n},t}(),BackgroundLayers={BackgroundColor:{priority:1,name:"BackgroundColor"},BackgroundImage:{priority:2,name:"BackgroundImage"},BackgroundImageOverlay:{priority:3,name:"BackgroundImageOverlay"},BackgroundOverlay:{priority:4,name:"BackgroundOverlay"}},ElementsManager=new function(){function s(n,t,u){var e,h;u=$.quickExtend({initialPropertiesValues:undefined,elementID:undefined,isContent:!1,isVisible:!0,isForTemplateUse:!1,pageId:null},u);var c=u.initialPropertiesValues,l=u.elementID,a=u.isContent,v=u.isVisible,y=u.isForTemplateUse,p=u.pageId,w=t===null,s=w||!t.root?null:t.root.id;if(n=o(n),e=ElementInstance.create(n,{initialPropertiesValues:c,elementID:l}),t&&!t.hasFeature(Features.ItemsContainer))for(h=!1,t=t.parentInstance;!h&&t;)t.accept(e)&&e.canRedropTo(t)&&t.isDroppable()?h=!0:t=t.parentInstance;return y?(e.data.isForTemplateUse=!0,f[e.id]=e):(s=s===null?p:s,s===null&&(s=e.id,i[s]={}),i[s][e.id]=e,r[e.id]=s,e.currentPageId.setValue(s),e.root=i[s][s],e.setIsContent(a),e.isVisible=v&&(Global.IsDesigner||!e.hasFeature(Features.Hideable)||e.getPropertyValue("isVisible")===!0),e.getPropertyValue("name")===null&&NamingManager.allocateName(e,t)),e.setParent(t),PositionManager.initializeStoredPosition(e),e}function h(n,i,r){var h,e,l,u,f,c,o,s;if(r=$.quickExtend({droppingArgs:undefined},r),h=r.droppingArgs,n.hasFeature(Features.DesignElement)){for(e=$.flattenStructure([n],{childrenGetter:function(n){return n.childInstances}}),l=$.mapToDictionary(e,$.identity,$.defaultIdFunction),t.connectInstancesWithElements($.parseHtmlAsJQuery(ElementsRenderer.renderElement(n)),l),c=e.length,f=0;f<c;f++)u=e[f],u.hasFeature(Features.HasContent)&&(o=u.creationFunction(u),o&&(o.addClass("element-content"),u.$elementContentContainer.append(o),u.$elementContent=o)),u!==n&&(u.$container=u.$element.parent());for(f=0;f<c;f++){if(u=e[f],s=u.parentInstance,i&&u===n&&(u.$container=s.addChildElement(u)),function(n){n.performWhenVisible(function(){PositionManager.isElementVisible(n)&&n.initialize()})}(u),s!==null){u.onAttached();s.onChildElementAdded(u,h);u.onElementAddedToContainer(s)}ElementsManager.Events.InstanceCreatedEvent.fireNew(u)}}else{if(i!==null){i.onChildElementAdded(n,h);n.onElementAddedToContainer(i)}ElementsManager.Events.InstanceCreatedEvent.fireNew(n);n.initialize()}}function o(n){return typeof n=="object"?n:ElementsTypes[n]}function l(n,t){var i=".remember-part",r=n.find(i);n.is(i)&&r.push(n[0]);$.eachItem(r,function(n,i){var e=i.getAttribute("data-element-id"),u=i.getAttribute("data-element-part"),f=t[e].data,r=f[u];r||(r=$([]),f[u]=r);r.push(i)})}function n(n,t,i,r){var u=n.find(r);n.is(r)&&u.push(n[0]);$.eachEntry(t,function(n,t){t[i]=$([])});$.eachItem(u,function(n,r){var u=r.getAttribute("data-element-id");t[u][i].push(r)})}function a(n,t){var c,f,u,e,k,l;t=$.quickExtend({parent:undefined,droppingArgs:undefined,initialProperties:undefined,isContent:!1,isVisible:!0,isLoading:!1,isForTemplateUse:!1,defaultProperties:undefined,dataSourceName:undefined,dataItemID:undefined,pageId:undefined},t);var r=t.parent,a=t.initialProperties,y=t.isForTemplateUse,p=t.droppingArgs,d=t.dataSourceName,g=t.dataItemID,nt=t.isContent,tt=t.isVisible,it=t.pageId;for(r?(r=$instance(r),r.isForTemplateUse&&r.isForTemplateUse()&&(y=!0)):r=null,c=[{structure:n,parent:r}],f=undefined;c.length>0;){var w=c.pop(),i=w.structure,rt=w.parent,b=i.id,v=$.quickExtend({},i.elementProperties);if(a&&($.quickExtend(v,a.all),$.quickExtend(v,a[b])),PositionManager.updateInstanceLastPositionAndSize(i.id,i.metaData),u=s(o(i.type),rt,{initialPropertiesValues:v,elementID:b,isContent:nt,isVisible:tt,isForTemplateUse:y,pageId:it}),u.data.structureMetaData=i.metaData,u.data.baseStructure=n,i.dataFields&&u.setBinding(d,g,i.dataFields),f===undefined&&(f=u),e=i.childElements,e&&e.length>0)for(k=e.length,p=undefined,l=k-1;l>=0;l--)c.push({structure:e[l],parent:u})}return h(f,r,{droppingArgs:p}),f}var t=this,u;this.Events={InstanceInitialized:SimpleEvent.create(),InstanceCreatedEvent:SimpleEvent.create(),InstancesRemoved:SimpleEvent.create(),InstancesRemoving:SimpleEvent.create(),RemovingStarted:SimpleEvent.create(),ElementAddedToContainer:SimpleEvent.create(),ScrollingStartedEvent:SimpleEvent.create(),ScrollingFinishedEvent:SimpleEvent.create()};Global.IsDesigner&&(u=!1,t.Events.RemovingStarted.bind(function(n){var i,t,r;if(n.length>0&&OperationsManager.Flags.shouldRecordOperations.isTrue()){if(n[0]&&n[0].isForTemplateUse())return;u=!0;OperationsManager.beginAtomicBatch();i=ElementsManager.getHierarchyInfo(n,{copyAffectingStates:!0});t={};$.eachItem(n,function(n,i){t[i.id]=MasterPagesManager.isMasterPageRootInstance(i)});r=UndoOperation.create({type:OperationsManager.Types.FirstOperationsType,name:"RemovingStarted",getInstances:function(){return[]},hierarchyInfo:i,performOperation:function(n){OrderManager.beginReorderingBatch();var i=ElementsManager.addHierarchyInfo(n.hierarchyInfo,{useContainerId:!0});return MasterPagesManager.setAsMasterPageRoots($.grep(i,function(n){return t[n.id]===!0})),OrderManager.endReorderingBatch(),i}});OperationsManager.informOnOperation(r);OperationsManager.Flags.ConnectionRecordEnabled.setFalse("RemovingStarted");OperationsManager.Flags.PropertiesRecordEnabled.setFalse("RemovingStarted");OperationsManager.endAtomicBatch()}}),t.Events.InstancesRemoved.bind(function(){OperationsManager.Flags.shouldRecordOperations.isTrue()&&u&&(u=!1,OperationsManager.Flags.ConnectionRecordEnabled.setTrue("RemovingStarted"),OperationsManager.Flags.PropertiesRecordEnabled.setTrue("RemovingStarted"),OperationsManager.endAtomicBatch())}),Global.Events.ElementsAdding.bind(function(){OperationsManager.Flags.shouldRecordOperations.isTrue()&&(OperationsManager.Flags.ConnectionRecordEnabled.setFalse("ElementsAdding"),OperationsManager.Flags.PropertiesRecordEnabled.setFalse("ElementsAdding"),OperationsManager.Flags.CustomStatesPropertiesRecordEnabled.setFalse("ElementsAdding"))}),Global.Events.ElementsAdded.bind(function(n){if(OperationsManager.Flags.shouldRecordOperations.isTrue()){if(n.instances[0]&&n.instances[0].isForTemplateUse())return;var t=n.instances,i=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"ElementsAdded",getInstances:function(){return[]},performOperation:function(){t=$.grep(t,function(n){return ElementsManager.getInstanceByID(n.id)!==undefined});var n=[],i={};return $.each(t,function(t,r){var u=ElementsManager.getInstanceByID(r.id);u&&(n.push(u),u.parentInstance&&(i[u.parentInstance.id]=u.parentInstance))}),ElementsManager.removeInstances(n),$.getValues(i)}});OperationsManager.informOnOperation(i);OperationsManager.Flags.ConnectionRecordEnabled.setTrue("ElementsAdding");OperationsManager.Flags.PropertiesRecordEnabled.setTrue("ElementsAdding");OperationsManager.Flags.CustomStatesPropertiesRecordEnabled.setTrue("ElementsAdding")}}),Global.Events.ContainerChanging.bind(function(n){var t,i;OperationsManager.Flags.shouldRecordOperations.isTrue()&&(t={},t[n.id]=n.parentInstance.id,i=UndoOperation.create({type:OperationsManager.Types.PrePropertiesChangeType,name:"ContainerChanging",getInstances:function(){var n=[];return $.eachEntry(t,function(t,i){var u=ElementsManager.getInstanceByID(i),r=ElementsManager.getInstanceByID(t);r&&u&&n.push(r)}),n},performOperation:function(){var n=[];return $.eachEntry(t,function(t,i){var u=ElementsManager.getInstanceByID(i),r=ElementsManager.getInstanceByID(t);r&&u&&(r.isDeleted||ElementsStructureHelper.reattachInstances([r],u,{noLayoutPreserving:!0}),n.push(r))}),n}}),OperationsManager.informOnOperation(i))}));this.HierarchyChangedUpdateBatch=OperationsBatch.create();this.PropertiesUnpostponingBatch=OperationsBatch.create();this.Templates={GroupElement:{id:"group-element-template"}};var i={},c={},f={},r={},e;return this.performOnInstancesInitialization=function(n,i){var u,r,f,e,o,s;for(n=$.asArray(n),u={},r=0,f=0;f<n.length;f++)e=n[f],o=t.getInstanceByID(e),o&&o.isInitialized||(u[e]=!0,r++);r>0?s=ElementsManager.Events.InstanceInitialized.bind(function(t){var f=t.id;u[f]&&(delete u[f],r--,r===0&&(ElementsManager.Events.InstanceInitialized.unbind(s),i(n)))}):i(n)},this.performOnInstancesCreated=function(n,i){var u,r,f,e,o,s;for(n=$.asArray(n),u={},r=0,f=0;f<n.length;f++)e=n[f],o=t.getInstanceByID(e),o||(u[e]=!0,r++);r>0?s=ElementsManager.Events.InstanceCreatedEvent.bind(function(t){var f=t.id;u[f]&&(delete u[f],r--,r===0&&(ElementsManager.Events.InstanceCreatedEvent.unbind(s),i(n)))}):i(n)},this.isRootInstance=function(n){return t.getInstanceRootID(n)===n.id},this.getInstanceRootID=function(n){return r[n.id]},this.setElementParent=function(n,t){if(n.parentInstance!==null&&n.parentInstance!==undefined&&(n.parentInstance.childInstances=$.grep(n.parentInstance.childInstances,function(t){return t!=n})),t&&!t.hasFeature(Features.ItemsContainer)){var i=!1;for(t=t.parentInstance;!i&&t;)t.accept(n)&&n.canRedropTo(t)&&t.isDroppable()?i=!0:t=t.parentInstance}n.parentInstance=t;t!==null&&t.childInstances.push(n);ElementsManager.updateInstanceRoot(n,t)},this.updateInstanceRoot=function(n,t){var u=n.root,f=t?t.root:u,e;u===f||n.isForTemplateUse()||(e=n.getDescendingInstances(!0),$.eachItem(e,function(n,t){var e,s,o;t.root=f;e=t.id;u&&(s=u.id,delete i[s][e]);o=f.id;r[e]=o;$.objectSet(i,[o,e],t);t.currentPageId.setValue(o)}))},this.removeInstances=function(n,t,u){var o,h,e,l,a,f,s,v,y;for(ElementsManager.HierarchyChangedUpdateBatch.start(),LayoutManager.beginLayoutUpdateBatch(),n instanceof Array||(n=[n]),e=ElementsUtil.getHierarchiesRoots(n),e=$.grep(e,function(n){return!n.isInDeleteProcess}),l={},ElementsManager.Events.RemovingStarted.fireNew(e),PositionManager.VisibilityUpdateBatch.start(),o=0;o<e.length;o++){for(h=e[o],a=h.getDescendingInstances(!0,!0),s=0;s<a.length;s++)f=a[s],f.isInDeleteProcess=!0,f.elementIsSelected&&f.elementIsSelected.setValue(!1),Global.Events.ElementRemoving.fireNew({removedInstance:f,fromUser:u}),f.instanceRemoving.fireNew({fromUser:u});for(s=0;s<a.length;s++)f=a[s],f.onRemove(),v=f.id,l[v]=f}for(PositionManager.VisibilityUpdateBatch.finish(),ElementsManager.Events.InstancesRemoving.fireNew({removedInstancesMap:l,removedRootInstances:e,fromUser:u}),$.eachEntry(l,function(n,t){if(!t.isDeleted){c[n]=!0;var u=r[n];u&&delete i[u][n];delete r[n];t.isDeleted=!0;t.instanceRemoved.fireNew()}}),o=0;o<e.length;o++)h=e[o],h.detach(),h.$element.remove();LayoutManager.endLayoutUpdateBatch();y=ElementsManager.getRootInstance().id;ElementsManager.getInstanceByID(y)&&OrderManager.reassignElementsOrders();ElementsManager.Events.InstancesRemoved.fireNew(l);ElementsManager.HierarchyChangedUpdateBatch.fireEvent(Global.Events.HieararchyChanged);ElementsManager.HierarchyChangedUpdateBatch.finish()},this.setLastInstancesResizingSize=function(n){n=$.asArray(n);OperationsManager.beginAtomicBatch();$.eachItem(n,function(n,t){t.setLastResizingSize()});OperationsManager.endAtomicBatch()},this.getAllPageInstances=function(n){if(!n){var t=ElementsManager.getRootInstance();if(!t)return{};n=t.id}return i[n]},this.getInstancesWithHierarchyFromRoots=function(n){function r(n){var i=n.instance,u=i.childInstances;$.eachItem(u,function(i,u){var f={instance:u,childInstancesHierarchies:[]};t.push(u);r(f);n.childInstancesHierarchies.push(f)})}var t=[],i=[];return n=$.asArray(n),$.eachItem(n,function(n,u){t.push(u);var f={instance:u,childInstancesHierarchies:[]};r(f);i.push(f)}),{rootInstancesHierarchies:i,allInstances:t}},this.getPageInstancesByType=function(n){var i=[],r=t.getAllPageInstances();return $.eachEntry(r,function(t,r){(r.hasFeature(n)||r.elementType===n)&&!r.isContent()&&i.push(r)}),i},this.getInstancesIds=function(n){var t=[];return n&&$.eachItem(n,function(n,i){t.push(i.id)}),t},this.getInstanceData=function(n){return $(n).data("instance-data")},this.getInstanceByID=function(n){var t=r[n];return t!==undefined?i[t][n]:f[n]?f[n]:undefined},this.isIdExistInTheCurrentPage=function(n){var t,i,r,u;if(n){if(t=ElementsManager.getRootInstance().id,i=ElementsManager.getInstanceByID(n),i)return i.getPageId()===t;if(r=n.split(TemplateItemInstanceIdSeperator),r.length===2)return u=ElementsManager.getInstanceByID(r[0]),u&&u.getPageId()===t}return!1},this.getParentById=function(n){var t,i;if(n){if(t=ElementsManager.getInstanceByID(n),t)return t.parentInstance;if(i=n.split(TemplateItemInstanceIdSeperator),i.length===2)return ElementsManager.getInstanceByID(i[0])}return undefined},this.getItemIdFromDataListInstanceId=function(n){return n.split(TemplateItemInstanceIdSeperator)[1]},this.showParentsById=function(n,t,i){var e,u;if(t=t?t:!1,e=ElementsManager.getInstanceByID(n),e)return e.showParents(t,i);var r=ElementsManager.getParentById(n),f=r.getParents(!0),o=!1;for(u=1;u<f.length&&!o;u++)f[u].hasFeature(Features.Navigatable)&&f[u].navigateTo(f[u-1],t,i),PositionManager.isElementVisible(f[u])&&(o=!0);if(r.hasFeature(Features.TemplatePagesList)&&r.getPropertyValue("usePagesLayout")){var s=r.getDataSource(),h=s.fetchDataItem(ElementsManager.getItemIdFromDataListInstanceId(n)),c=h.index,l=r.getPropertyValue("dataLayoutOptions").elementsPerPage,a=Math.floor(c/l);r.navigate(a-r.getCurrentItem().getChildIndex(),!1)}},this.getParents=function(n,t,i){function f(n){n&&!o[n.id]&&(o[n.id]=!0,(!i||i.call(n))&&e.push(n),f(n.parentInstance))}for(var u,e=[],o={},r=0;r<n.length;r++)u=n[r],t?f(u):f(u.parentInstance);return e},this.setRootInstance=function(n){e=n},this.getRootInstance=function(){return e?e:PageManager.getCurrentPage()},this.getChildElements=function(n){var t=$.map($instance(n).getChildInstances(),function(n){return n.$element[0]});return $(t)},this.scrollToContext=function(n,t){var i,r;n=$.valueOrDefault(n,200);t=$.valueOrDefault(t,0);i=SelectionArea.getSelectionBoxArea(!0);i&&(PositionManager.isAreaInViewPort(i)||(r=ViewManager.getSiteScrollableElement(),n?r.animate({scrollTop:i.top-t},{duration:n}):r.scrollTop(i.top-t)))},this.scrollToInstance=function(n,t,i,r){var e,o;t=t===undefined?200:t;i=$.valueOrDefault(i,0);r=$.valueOrDefault(r,$.noop);var u=PositionManager.getElementOffset(n,!0).top,s=PositionManager.getElementSize(n),f=DesignerManager.calculateDesignerArea();if(u+s.height<f.bottom&&u>f.top)return r(),!1;e=DesignerManager.calculateScrollTop(u-f.top);o=ViewManager.getSiteScrollableElement();t?o.animate({scrollTop:e-i},{duration:t},undefined,r):(o.scrollTop(e),r())},this.scrollToInstanceInPreview=function(n,i){(i=$.quickExtend({animationDuration:0,scrollToTop:!0},i),!n||n.isInstanceVisible())&&RenderingCoordinator.performUpdateOnRenderingFinished(function(){var s=$.getScrollingController(),h,u,o;n||(n=PageManager.getCurrentPage());n.showParents();var r,c=i.scrollToTop,f=n.getArea(),e=PageManager.getCurrentPage(),l=e.getArea();n.isFixed()?n.isType(ElementsTypes.HeaderElement)?r=0:n.isType(ElementsTypes.FooterElement)&&(h=l.bottom,r=h+f.height):(r=f.top,u=e.getHeaderInstance(),u&&u.isType(ElementsTypes.HeaderElement)&&u.isFixed()&&(r-=e.getHeaderInstanceHeight()));r=c?r:r+f.height;t.Events.ScrollingStartedEvent.fireNew(n);s.$scrollableForRead.scrollTop()!==r?(PositionManager.disableMouseOver(),o=!1,s.$scrollableForWrite.stop(!0,!0).animate({scrollTop:r},{duration:i.animationDuration,always:function(){o||(PositionManager.enableMouseOver(),t.Events.ScrollingFinishedEvent.fireNew(n),o=!0)}})):t.Events.ScrollingFinishedEvent.fireNew(n)})},this.addElementToContainerElement=function(n,t,i){var u,r,f;for(OperationsManager.beginAtomicBatch(!1,"Change Container"),CommandsManager.UpdateBatch.start(),RenderingCoordinator.startRenderingBatch(),t=$.makeArray(t),t=t.orderBy(function(n){var t=n.getPropertyValue("order");return t!==null?n.getPropertyValue("order"):Infinity}),u=0;u<t.length;u++)if(r=t[u],f=r.parentInstance,f!==n){f&&(Global.Events.ContainerChanging.fireNew(r),r.detach(),r.containerChanging.fireNew());r.$container=n.addChildElement(r);r.setParent(n);r.onAttached();n.onChildElementAdded(r,i);r.onElementAddedToContainer(n);Global.Events.ContainerChanged.fireNew(r,n,f);r.containerChanged.fireNew()}ElementsManager.HierarchyChangedUpdateBatch.fireEvent(Global.Events.HieararchyChanged);RenderingCoordinator.finishRenderingBatch();CommandsManager.UpdateBatch.finish();OperationsManager.endAtomicBatch()},this.getPageRootInstances=function(){var t=PageManager.getCurrentPage(),n=[];return $.eachItem(t.childInstances,function(t,i){i.hasFeature(Features.PageSection)?$.merge(n,i.childInstances):i.isType(ElementsTypes.PageContentElement)||n.push(i)}),n},this.adjustHierarchyWithBaseHierarchy=function(n,t,i){var r=n.idsInHierarchy,u=n.connections.targetConnections,f=n.customStatesProperties;return t&&t.connections&&t.connections.targetConnections&&($.eachEntry(t.connections.targetConnections,function(n,t){if(!u[n]&&(!t.targetElementID||r[t.targetElementID])&&r[t.sourceElementID]){var i=ElementsManager.getInstanceByID(t.targetElementID),f=ElementsManager.getInstanceByID(t.sourceElementID);(!t.targetElementID||i)&&f&&(!t.targetElementID||i.isInitialized)&&f.isInitialized||(u[n]=t)}}),n.connections.targetConnections=u),r&&t&&t.customStatesProperties&&($.eachEntry(t.customStatesProperties,function(n,t){var u=ElementsManager.getInstanceByID(n);(!u||u.isInstanceDeleted())&&$.eachEntry(t,function(t,e){var s,h,o,l,c;for(s in e){h=e[s];for(o in h)l=h[o],c=ElementsManager.getInstanceByID(o),!r[o]||u&&u.isInitialized&&c&&c.isInitialized||(!i||i(o,n,s))&&$.objectSet(f,[n,t,s,o],l)}})}),n.customStatesProperties=f),n},this.getHierarchyInfo=function(n,t){function c(n){var i=n.instance,f,u,e;return t.filter(i)?(f=i.getTargetConnections(t.connectionFilter),$.quickExtend(o,f),t.copyAffectedStates&&$.extend(!0,r,PropertiesManager.copyAffectedCustomProperties(i,t).copiedCustomStatesProperties),t.copyAffectingStates?$.extend(!0,r,PropertiesManager.copyAffectingCustomProperties(i,t)):t.copyMobileStates&&$.extend(!0,r,PropertiesManager.copyAffectingCustomProperties(i,{filterFunction:function(n,t,i){if(i===MobileVersionViewManager.MobileStateName)return!0}})),u=i.getInstanceDataForSaving(t),h[i.id]=!0,n.childInstancesHierarchies.length>0&&(u.childElements=[],$.eachItem(n.childInstancesHierarchies,function(n,i){var r=i.instance,i;(!r.isContent()||t.allowContent)&&(i=c(i),i&&u.childElements.push(i))}),i.hasFeature(Features.DataList)&&(e=i.getDataSource(),e&&$.eachEntry(i.getDataSource().getAllItems(),function(n){$.quickExtend(o,BehavioursManager.getInstanceTargetConnections(i.getDataItemInstanceId(n),function(n){return!n.isTemplateConenction&&t.connectionFilter(n)}))}))),u):undefined}var i,u,f,s;t=$.quickExtend({forSaving:!1,saveToServer:!1,saveRootsOffsets:!1,filter:$.returnTrue,propertiesFilter:undefined,allowContent:!1,idsInHierarchy:!1,adjustSize:!1,adjustPosition:!1,clearRootsLayout:!1,copyAffectedStates:!0,copyAffectingStates:!1,copyMobileStates:!0,connectionFilter:$.returnTrue,rootInstancesHierarchies:undefined},t);n.length===undefined&&(n=[n]);i=t.rootInstancesHierarchies;i||(i=ElementsManager.getInstancesWithHierarchyFromRoots(n).rootInstancesHierarchies);var h={},e=[],o={},r={};return e.length=0,u=99999999,f=99999999,$.eachItem(i,function(n,i){var s=i.instance,r=c(i,!0),o;r&&(o=s.getPosition(!0),o&&(r.offset=o,o.left<f&&(f=o.left),o.top<u&&(u=o.top)),s.parentInstance&&(r.containerId=s.parentInstance.id),t.clearRootsLayout&&(r.elementProperties.fillLayout={fillVertical:!1,fillHorizontal:!1},r.elementProperties.verticalLayout=LayoutManager.Layout.normal,r.elementProperties.horizontalLayout=LayoutManager.Layout.normal),e.push(r))}),s={structures:e,connections:{targetConnections:o,sourceConnections:{}},customStatesProperties:r,pageId:PageManager.getCurrentPageId(),version:StructureLoadingManager.CurrentStructureVersion,id:StructureLoadingManager.generateWebsiteId(),relativePoint:{left:f,top:u}},t.idsInHierarchy&&(s.idsInHierarchy=h),s},this.addHierarchyInfo=function(n,t){var i=HierarchyController.create(n);return i.addHierarchyAndApply(t)},this.addInstance=function(n,t,i){var u,r;return i=$.quickExtend({initialPropertiesValues:undefined,elementID:undefined,droppingArgs:undefined,isContent:!1,isVisible:!0,isForTemplateUse:!1},i),u=i.droppingArgs,OrderManager.beginReorderingBatch(),n=o(n),r=s(n,t,{initialPropertiesValues:i.initialPropertiesValues,elementID:i.elementID,isContent:i.isContent,isVisible:i.isVisible,isForTemplateUse:i.isForTemplateUse}),h(r,t,{droppingArgs:u}),OrderManager.endReorderingBatch(),r},this.connectInstancesWithElements=function(t,i){var u,r,e,f,o;for(i instanceof ElementInstance?(r=i,i={},i[r.id]=r,u=[r]):u=$.getValues(i),l(t,i),n(t,i,"$element",".design-element"),n(t,i,"$elementContentBox",".element-content-box"),n(t,i,"$elementContentContainer",".content-container-type"),n(t,i,"$elementSizeBox",".element-size-target"),n(t,i,"$elementMainBox",".element-main-box"),n(t,i,"$elementBorderBox",".design-element-border-box"),n(t,i,"$paddingBox",".element-padding-box"),n(t,i,"$elementBackgroundLayer",".element-background-layer"),n(t,i,"$elementBorderTarget",".element-border-target"),n(t,i,"$elementContent",".element-content"),Global.IsExplorerMode&&n(t,i,"$elementBackgroundTarget",".element-background-target-explorer"),e=u.length,f=0;f<e;f++)r=u[f],o=r.$element,r.$elementPositionBox=r.$element,Global.IsExplorerMode||(r.$elementBackgroundTarget=r.$elementBackgroundLayer),o.data("instance-data",r)},this.duplicateHierarchyInfo=function(n,t){function e(n){var r=n.elementProperties.dataInfo,o=n.type,s=n.elementProperties.connections,p=n.elementProperties.buttonAction,h=n.elementProperties.fieldsMap,c=n.elementProperties.fieldsData,w=n.elementProperties.fieldsTemplates,f=n.elementProperties.skinBinding,k=n.elementProperties.formID,l,u,t,a,v;if(w&&(l=$.uniqueID(),$.eachEntry(w,function(n,t){$.eachEntry(t,function(n,i){if(o!==ElementsTypes.FormElement&&(l=$.uniqueID()),i.hierarchy&&i.hierarchy.structures[0].elementProperties.skinBinding&&i.hierarchy.structures[0].elementProperties.skinBinding.hierarchy){var r=i.hierarchy.structures[0].elementProperties.skinBinding.hierarchy,u=i.hierarchy.structures[0].type,f=r.fieldsToValues,e=r.statesAnimations;t[n].hierarchy=SkinEditingManager.convertFieldsToTemplate(t[n].hierarchy);t[n].hierarchy=SkinEditingManager.convertTemplateToSkinTemplateWithFields(r,u,l);t[n].hierarchy.structures[0].elementProperties.skinBinding.hierarchy.fieldsToValues=f;t[n].hierarchy.structures[0].elementProperties.skinBinding.hierarchy.statesAnimations=e}else i.hierarchy&&(t[n].hierarchy=SkinEditingManager.convertTemplateToSkinTemplateWithFields(i.hierarchy,undefined,l))})})),f&&f.hierarchy&&(ElementsTypes[o].hasFeature(Features.SkinElement)?ElementsTypes[o].hasFeature(Features.DataListItem)||ElementsTypes[o]===ElementsTypes.SkinNavigationButton||(f.skinName=StructureLoadingManager.generateWebsiteId()):(f.hierarchy=SkinEditingManager.convertFieldsToTemplate(f.hierarchy),f.hierarchy=SkinEditingManager.convertTemplateToSkinTemplateWithFields(f.hierarchy,o))),r&&r.currentData){if(u=r.currentData,t=r.itemsMap,t&&$.count(t)!==0||(t=u.itemsMap,t||(t={})),r.itemsMap=t,a={},i.oldToNewIDMapping[u.id]&&o===ElementsTypes.Menu.name){var d=i.oldToNewIDMapping[u.id],y={},b=0;$.eachEntry(u.items,function(n,i){var r=d+"p"+b;a[r]=i.id;y[r]=i;y[r].id=r;b++;t[r]=t[n];delete t[n]});u.items=y;r.currentData=u;r.itemsMap=t}v=u.items;v||(v=u);$.eachEntry(v,function(t){var r=a[t]?n.oldId+TemplateItemInstanceIdSeperator+a[t]:n.oldId+TemplateItemInstanceIdSeperator+t;i.oldToNewIDMapping[r]=n.id+TemplateItemInstanceIdSeperator+t});r=$.replaceValuesKey(r,"id",i.oldToNewIDMapping);n.elementProperties.dataInfo=r}return p&&(n.elementProperties.buttonAction=$.replaceValuesKey(p,"targetId",i.oldToNewIDMapping)),s&&(s=$.replaceValuesKey(s,"targetId",i.oldToNewIDMapping),s=$.replaceKeys(s,i.oldToNewIDMapping),n.elementProperties.connections=s),h&&(h=$.replaceKeys(h,i.oldToNewIDMapping),n.elementProperties.fieldsMap=h),c&&(c=$.replaceKeys(c,i.oldToNewIDMapping),n.elementProperties.fieldsData=c),k&&(n.elementProperties.formID="id"+$.uniqueID()),n.childElements&&$.eachItem(n.childElements,function(t,i){n.childElements[t]=e(i)}),n}function o(n,t,r){function f(n,u){var e=n.id;return u&&t.rootsIds[r]||((t.generateNewID||ElementsManager.getInstanceByID(e))&&(e=StructureLoadingManager.generateWebsiteId()),i.oldToNewIDMapping[n.id]=e,i.newToOldIDMapping[e]=n.id),n.id=e,n=t.structureProcessor(n),n.childElements&&$.eachItem(n.childElements,function(t,i){n.childElements[t]=f(i)}),n}var u=$.deepCloneObject(n);return u.oldId===undefined&&(u.oldId=n.id),t.rootsIds[r]&&(i.oldToNewIDMapping[n.id]=t.rootsIds[r],i.newToOldIDMapping[t.rootsIds[r]]=n.id,u.id=t.rootsIds[r]),u.containerId=undefined,f(u,!0)}var i,u,r,f;return t=$.quickExtend({generateNewID:!0,rootsIds:[],structureProcessor:$.returnValue},t),i={id:StructureLoadingManager.generateWebsiteId()},i.newToOldIDMapping={},i.oldToNewIDMapping={},i.connections={},i.customStatesProperties={},i.structures=[],i.defaultProperties=n.defaultProperties,i.defaultDefinitonNamesMap=n.defaultDefinitonNamesMap,i.version=n.version,i.StructureVersion=n.StructureVersion,$.eachItem(n.structures,function(n,r){var u=o(r,t,n);i.structures.push(u)}),n.connections&&(u=n.connections.targetConnections,u&&$.eachEntry(u,function(n){i.oldToNewIDMapping[n]||(i.oldToNewIDMapping[n]=$.uniqueID())})),$.eachItem(i.structures,function(n,t){e(t)}),n.connections&&(u=n.connections.targetConnections,r={},u&&(r=$.replaceKeys(u,i.oldToNewIDMapping),r=$.replaceValuesKey(r,"sourceElementID",i.oldToNewIDMapping),r=$.replaceValuesKey(r,"targetElementID",i.oldToNewIDMapping),r=$.replaceValuesKey(r,"id",i.oldToNewIDMapping)),i.connections.targetConnections=r,i.connections.sourceConnections={}),n.customStatesProperties&&(i.customStatesProperties=$.replaceKeys(n.customStatesProperties,i.oldToNewIDMapping),f={},$.eachEntry(i.customStatesProperties,function(n,t){t.rowsItems&&(t.rowsItems=$.replaceValuesKeyByFunction(t.rowsItems,"id",f,function(){return $.uniqueID()}))}),$.eachEntry(i.customStatesProperties,function(n,t){t.cellItem&&(t.cellItem=$.replaceValuesKeyByFunction(t.cellItem,"id",f,function(){return $.uniqueID()}),t.cellItem=$.replaceValuesKeyByFunction(t.cellItem,"rowId",f,function(){return $.uniqueID()}))}),$.eachEntry(i.customStatesProperties,function(n,t){t.cellItem&&(t.cellItem=$.replaceKeys(t.cellItem,f));t.rowsItems&&(t.rowsItems=$.replaceKeys(t.rowsItems,f))})),i},this.addInstanceToRoot=function(n){var t=PageManager.getPagesRoot();n.$element.appendTo(t);n.$container=t;PositionManager.visibilityTreeAttach(n);n.parentInstance=null},this.addPageContent=function(){OperationsManager.beginAtomicBatch(!0,"Add Header");Global.Events.ElementsAdding.fireNew();var n=ElementsManager.addInstance(ElementsTypes.PageContentElement,PageManager.getCurrentPage()),t=ElementsManager.addInstance(ElementsTypes.SectionElement,PageManager.getCurrentPage(),{initialPropertiesValues:{pageContentId:n.id}});MasterPagesManager.EditingMasterPage.valueChangedEvent.one(function(){PositionManager.updatePosition(t)});return SelectionManager.selectInstances([n],!0),Global.Events.ElementsAdded.fireNew({instances:[n,t]}),OperationsManager.endAtomicBatch(),{pageContentInstance:n,sectionInstance:t}},this.addCustomSection=function(n,t){var u,e,o,i,f,r,s,h;return t=$.quickExtend({categoryID:undefined,relativeSectionInstance:undefined,side:Side.Top,isNamedSection:!1,sectionName:undefined},t),OperationsManager.beginAtomicBatch(!0,"Add Section"),OrderManager.beginReorderingBatch(),u=t.relativeSectionInstance,u&&(e=u.getPropertyValue("order")+(t.side===Side.Top?-.1:.1),o=PropertiesManager.getPropertyValueInCustomState(u.properties.order,MobileVersionViewManager.MobileStateName,PageManager.getCoordinator().id,u)),f=undefined,n?(r=ElementsTypes.SectionElement,t.categoryID===RemoteTemplatesCategories.SectionFooter?(r=ElementsTypes.FooterElement,f=r.defaultProperties.sectionName()):t.categoryID===RemoteTemplatesCategories.SectionHeader&&(r=ElementsTypes.HeaderElement,f=r.defaultProperties.sectionName()),n.structures[0].type=r.name,ElementsUtilizationManager.utilizeTemplate(n,function(n){i=n[0];r===ElementsTypes.SectionElement&&i.setPropertyValue("order",e)},undefined,{selectUtilizedInstances:!1})):i=ElementsManager.addSection(undefined,{initialPropertiesValues:{order:e,sizeAndPosition:{height:300}}}),o&&PropertiesManager.setValueInCustomState(i,i.properties.order,MobileVersionViewManager.getMobileState(),o+.1),f!==undefined?i.setPropertyValue("sectionName",f):i.isType(ElementsTypes.SectionElement)&&(t.isNamedSection?s=t.sectionName:(h=$.extractFieldValue(SectionsManager.CurrentPageSections.getItems(),"title"),s=$.findAvailableName(function(n){return"Section "+String.fromCharCode(64+n)},h,!0)),i.setPropertyValue("sectionName",s)),OrderManager.bringToFront(i.childInstances),OrderManager.endReorderingBatch(),OperationsManager.endAtomicBatch(),SelectionManager.selectInstances([i],!0),i},this.addSection=function(n,t){if(PageManager.getCurrentPage().getPageContentInstances().length>0){t=$.quickExtend({},t);t.initialPropertiesValues=$.quickExtend(n?{pageContentId:n.id}:undefined,t.initialPropertiesValues);OperationsManager.beginAtomicBatch(!1,"Add Header");Global.Events.ElementsAdding.fireNew();var i=ElementsManager.addInstance(ElementsTypes.SectionElement,PageManager.getCurrentPage(),t);return MasterPagesManager.setAsPageContentElement(i),Global.Events.ElementsAdded.fireNew({instances:[i]}),OperationsManager.endAtomicBatch(),i}alert("there is no Page Content In The Page")},this.addFooterInstance=function(){OperationsManager.beginAtomicBatch(!0,"Add Header");Global.Events.ElementsAdding.fireNew();var n=ElementsManager.addInstance(ElementsTypes.FooterElement,PageManager.getCurrentPage());SelectionManager.selectInstances([n],!0);Global.Events.ElementsAdded.fireNew({instances:[n]});OperationsManager.endAtomicBatch()},this.addHeaderInstance=function(){OperationsManager.beginAtomicBatch(!0,"Add Header");Global.Events.ElementsAdding.fireNew();var n=ElementsManager.addInstance(ElementsTypes.HeaderElement,PageManager.getCurrentPage());SelectionManager.selectInstances([n],!0);Global.Events.ElementsAdded.fireNew({instances:[n]});OperationsManager.endAtomicBatch()},this.addInstancesHierarchyFromStructure=function(n,t){function f(n,i){i||t.isForTemplateUse||(t.parentsMap&&t.parentsMap[n.id]?t.parent=t.parentsMap[n.id]:t.useContainerId?t.parent=ElementsManager.getInstanceByID(n.containerId):Global.IsDesigner&&n.type!=="page"&&ElementsManager.getRootInstance()&&TemplateEditingManager.Flags.IsInEditingMode.isTrue()&&(t.parent=ElementsManager.getRootInstance().$element))}var r,i,u;return t=$.quickExtend({parent:undefined,parentsMap:undefined,isLoading:!1,isForTemplateUse:!1,filterFunction:$.returnTrue,afterAddingCallback:$.noop,useContainerId:!1,pageId:undefined,withRendering:!0},t),r=t.withRendering,t.isForTemplateUse||(Global.Events.ElementsAdding.fireNew(),OperationsManager.beginAtomicBatch(!1,"Add Hierarchy"),CommandsManager.UpdateBatch.start()),r&&RenderingCoordinator.startRenderingBatch(),i=[],u=t.parent,$.eachItem(n,function(n,r){f(r,u);t.filterFunction(r)&&i.push(a(r,t))}),t.afterAddingCallback(),ElementsManager.HierarchyChangedUpdateBatch.fireEvent(Global.Events.HieararchyChanged),r&&RenderingCoordinator.finishRenderingBatch(),Global.Events.ElementsAdded.fireNew({instances:i}),t.isForTemplateUse||(CommandsManager.UpdateBatch.finish(),OperationsManager.endAtomicBatch()),i},this};var LayoutManager=new function(){function o(n){n();ContentPushingManager.executePushing()}function s(){var p=null,n,f,s=!1,e,o,y;for(r.isEmpty()&&i.isEmpty()&&t.isEmpty()||(s=!0,PositionManager.UpdateBatch.start()),e=PageManager.getCurrentPage(),o=undefined,p=null;!r.isEmpty();){var c=[],l=[],v=[],w=r.deferredEach();r.clear();w(function(t,i){var y,b,rt,k,w,d,g;if(n=i.instance,n.isDeleted)return!0;var p=n.getParent(),h=n.isRelativePositioned(),nt=n.getActualPropertyValue("lineWidth"),l=n.getActualPropertyValue("padding"),st=n.getActualPropertyValue("borderWidth"),ht=n.isType(ElementsTypes.line),a=st?n.getActualPropertyValue("borderWidth"):StructureLoadingManager.createValueToObjectValueConverter(["left","top","bottom","right"])(!ht&&nt?nt:0),c=n.getPropertyValue("fillLayout"),s=n.currentMargin?n.currentMargin:StructureLoadingManager.createValueToObjectValueConverter(["left","top","bottom","right"])(0),tt=!n.isType(ElementsTypes.HeaderElement)&&!n.isType(ElementsTypes.FooterElement);f=n.getActualPropertyValue("sizeAndPosition");y=n.getAutoLayoutProperties();c=c?c:{};var u={left:0,right:0,top:0,bottom:0},r={},it=HorizontalAlignment.Left;if(p&&p.hasFeature(Features.HasChildrenLayoutAnchor)&&(it=p.getPropertyValue("childrenAnchor")),!PositionManager.isElementVisible(n))return!0;if(n.hasFeature(Features.HasLayout)){if(ViewManager.isViewMode()&&p===e&&n.isFixed()&&(Global.IsDesigner&&(b=DesignerManager.ResponsiveViewPort.getValue(),b&&(o||(o=$.getWindowSize().width),u.left=u.right=(o-b)/2),MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?(rt=ViewMobileWrapperMode.getMobileContainerArea(),u.bottom+=ViewMobileWrapperMode.getMobileContainerBottom(),u.top+=rt.top):u.top+=DesignerHeader.getOuterHeight()),(!Global.IsDesigner||MobileVersionViewManager.Flags.IsInMobileContext.isFalse())&&(u.bottom+=FreemiumBanners.getFooterHeight()),tt&&(u.top+=e.getHeaderInstanceHeight()),tt&&(u.bottom+=e.getFooterInstanceHeight()+PrivacyPolicyBar.getPrivacyPolicyActualHeight())),(c.fillHorizontal||n.hasFeature(Features.HasResponsiveItem)&&!n.isBlock())&&(h?$.extend(r,{right:"",left:"",width:"",marginLeft:s.left,marginRight:s.right}):$.extend(r,{right:s.right+u.right,left:s.left+u.left,width:"",marginLeft:"",marginRight:""}),i.left=s.left),c.fillVertical&&($.extend(r,{bottom:s.bottom+u.bottom,top:s.top+u.top,height:"",minHeight:"",marginTop:""}),i.top=s.top),n.isType(ElementsTypes.PageContentElement)&&$.extend(r,{marginBottom:s.bottom,marginTop:s.top}),!c.fillHorizontal){var ct=n.getPropertyValue("horizontalLayout"),ut=s.left+u.left,ft=s.right+u.right;switch(ct){case LayoutManager.Layout.dockLeft:$.extend(r,{left:h?"":ut,right:"",marginLeft:h?ut:"",marginRight:""});break;case LayoutManager.Layout.dockRight:$.extend(r,{right:h?"":ft,left:"",marginLeft:"",marginRight:h?ft:""});break;case LayoutManager.Layout.centered:$.extend(r,{right:"",left:"50%",marginLeft:"{0}px".format(0-f.width/2+s.left),marginRight:""})}}if(!c.fillVertical){var lt=n.getPropertyValue("verticalLayout"),et=s.top+u.top,ot=s.bottom+u.bottom;switch(lt){case LayoutManager.Layout.dockTop:$.extend(r,{top:h?"":et,bottom:"",marginTop:h?et:"",marginBottom:""});break;case LayoutManager.Layout.dockBottom:$.extend(r,{bottom:h?"":ot,top:"",marginTop:"",marginBottom:h?ot:""});break;case LayoutManager.Layout.centered:$.extend(r,{bottom:"",top:"50%",marginTop:0-f.height/2+s.top,marginBottom:""})}}}if(k=n.getMinSize(),w=n.getMaxSize(),y.width||(r.width=n.hasWidth()?$.minValue([w.width,$.maxValue([f.width-(l?l.left+l.right:0)-(a?a.left+a.right:0),k.width])]):""),y.height||(r.minHeight=n.hasHeight()?f.height-(l?l.top+l.bottom:0)-(a?a.top+a.bottom:0):n.isType(ElementsTypes.Tab)&&n.hasCellWrapper.isTrue()?n.parentInstance.getPropertyValue("sizeAndPosition").height:0),r.minHeight=$.minValue([w.height,$.maxValue([r.minHeight,k.height])]),n.elementType===ElementsTypes.Flash&&(r.height=r.minHeight),!y.left)if(h)r=n.hasCellWrapper.isTrue()?$.extend(r,{marginLeft:"",marginRight:"",left:"",right:""},n.getStaticMargin({vertically:!1})):$.extend(r,{marginLeft:"",marginRight:"",left:"",right:""});else switch(it){case HorizontalAlignment.Right:$.extend(r,{right:0-(f.left-u.right),left:"",marginLeft:"",marginRight:""});break;case HorizontalAlignment.Centered:$.extend(r,{right:"",left:"50%",marginLeft:f.left,marginRight:""});break;default:d=w.width;g=f.left+f.width;$.extend(r,{left:d<g?$.max([0,g-d]).value:f.left+u.left,right:"",marginLeft:"",marginRight:""})}y.top||(h?n.hasCellWrapper.isTrue()?r=$.extend({top:"",bottom:"",marginTop:"",marginBottom:""},r,n.getStaticMargin({horizontally:!1})):$.extend(r,{top:"",bottom:"",marginTop:f.top+u.top,marginBottom:""}):$.extend(r,{top:f.top+u.top,bottom:"",marginTop:"",marginBottom:""}));n.isType(ElementsTypes.HeaderElement)&&$.extend(r,{top:u.top,bottom:"",left:u.left,right:u.right,marginTop:""});n.isType(ElementsTypes.FooterElement)&&$.extend(r,{top:"",bottom:u.bottom,left:u.left,right:u.right,marginTop:""});r=$.extend({right:"",left:"",marginLeft:"",marginRight:"",top:"",bottom:"",marginTop:"",marginBottom:"",width:"",height:"",minHeight:"",minWidth:""},r);v.push({pendingUpdate:i,instance:n,layoutStyle:r})});$.eachItem(v,function(n,t){var u=t.pendingUpdate,e=t.layoutStyle,i=t.instance,f=a(i,e),r=i.getAutoLayoutProperties();(f.sizeChanged||r.width||r.height||u.forceLayoutUpdate)&&c.push(i);(f.positionChanged||r.left||r.top||u.forceLayoutUpdate)&&l.push(i)});s&&(u(c,{updateOffset:!1,updateSize:!0}),u(l,{updateOffset:!0,updateSize:!1}));(c.length>0||l.length>0)&&ReadWriteController.PendingWriteOperations.executeOperations()}s&&(y=!1,i.isEmpty()&&t.isEmpty()||(y=!0),h(),ReadWriteController.PendingReadOperations.executeOperations(),PositionManager.UpdateBatch.finish())}function u(n,r){var e,o,f,u;for(r=$.quickExtend({updateOffset:!0,updateSize:!0},r),e=r.updateSize,o=r.updateOffset,f=0;f<n.length;f++)u=n[f],o&&t.setField(u.id,u),e&&i.setField(u.id,u)}function h(){while(!t.isEmpty()||!i.isEmpty())v(),y()}function v(){var o=i.deferredEach(),r,u,f,e;i.clear();var t={},s=[],n=[];for(o(function(i,r){r.isDeleted||(n.push(r),t[i]=!0)}),r=new ByRef(!0),u=c(n,t,r);!r.getValue();){s=[];n=[];for(f in u)e=u[f],e.isDeleted||(n.push(e),t[f]=!0);u=c(n,t,r)}}function c(n,t,i){for(var r,o,f,h={},c=PositionManager.updatePosition(n,{updateOffset:!1,updateSize:!0}).changedSizes,l=!0,e=0;e<c.length;e++){for(r=c[e],o=r.getLayoutAffectedInstances(),f=0;f<o.length;f++){var s=o[f],a=s.id,v=!t[a];v&&(h[a]=s,l=!1);u(s,{updateOffset:!0,updateSize:!1})}r.isRootInstance()&&u([r],{updateOffset:!0,updateSize:!1})}return i.setValue(l),h}function y(){var o=t.deferredEach(),r,u,f,e;t.clear();var i={},n=[],s=[];for(o(function(t,r){r.isDeleted||(n.push(r),i[t]=!0)}),r=new ByRef(!0),u=l(n,i,r);!r.getValue();){n=[];s=[];for(f in u)e=u[f],e.isDeleted||(n.push(e),i[f]=!0);u=l(n,i,r)}}function l(n,t,i){for(var c,e,r,v,u={},s=PositionManager.updatePosition(n,{updateOffset:!0,updateSize:!1}).changedOffsets,h=!0,f=0;f<s.length;f++)for(c=s[f],e=c.getLayoutAffectedInstances(),r=0;r<e.length;r++){var l=e[r],o=l.id,a=!t[o];a&&(v=u[o],u[o]=l,h=!1)}return i.setValue(h),u}function a(t,i){for(var c,u,l=$.extend({},t.actualSizeAndPosition),s={},h={},e=!1,o=!1,a=n.SizeProperties,r={},v=!1,y=!1,f=0;f<a.length;f++)u=a[f],i[u]!==l[u]&&(s[u]=i[u],r[u]=!0,y=!0);for(c=n.PositionProperties,f=0;f<c.length;f++)u=c[f],i[u]!==l[u]&&(h[u]=i[u],r[u]=!0,v=!0);t.actualSizeAndPosition=$.extend(t.actualSizeAndPosition,s,h);var w=i.left!==""&&i.right!=="",b=i.top!==""&&i.bottom!=="",p=t.isRelativePositioned();return w?(r.left||r.right)&&(e=!0):((r.left||r.right||r.marginLeft||p)&&(o=!0),r.width&&(e=!0,i.right!==""&&(o=!0))),b?(r.top||r.bottom)&&(e=!0):((r.top||r.bottom||r.marginTop||p)&&(o=!0),(r.height||r.minHeight)&&(e=!0,i.bottom!==""&&(o=!0))),y&&(AppProfiler.informOnWriteOperation(),t.changeElementSize(s)),v&&(AppProfiler.informOnWriteOperation(),t.getPositionBox().css(h)),{sizeChanged:e,positionChanged:o}}var n=this,f,e;this.SizeProperties=["width","minHeight","height","minWidth"];this.PositionProperties=["left","right","top","bottom","marginLeft","marginTop","marginRight","marginBottom"];n.Events={LayoutBatchFinished:SimpleEvent.create()};n.layoutUpdateBatch=OperationsBatch.create({name:"layoutUpdateBatch",beforeFinishingCallback:function(){s()},batchFinishCallback:function(){n.Events.LayoutBatchFinished.fireNew()}});n.ElementsFramesUpdateBatch=OperationsBatch.create({beforeFinishingCallback:function(){ContentPushingManager.recalaculateSiblingsAndParentAreas()}});f=Scope.create();e=Scope.create();this.LayoutContentBatch=OperationsBatch.create({batchStartCallback:function(){f.start();LayoutManager.LayoutContentOperationsSet.activate()},beforeFinishingCallback:function(){OperationsManager.disableOperationsRecording("LayoutContentBatch");LayoutManager.layoutUpdateBatch.start();LayoutManager.LayoutContentOperationsSet.executeOperations();LayoutManager.LayoutContentOperationsSet.deactivate()},batchFinishCallback:function(){e.start();LayoutManager.layoutUpdateBatch.finish();e.finish();f.finish();OperationsManager.enableOperationsRecording("LayoutContentBatch")}});this.isInLayoutContentUpdate=function(){return f.isActive()};this.isInFinishingLayoutContentUpdate=function(){return e.isActive()};this.LayoutContentOperationsSet=BatchOperationsSet.create(function(n){LayoutManager.isInLayoutContentUpdate()?o(n):RenderingCoordinator.performOnLayoutUpdate(function(){return o(n)},"LayoutContentOperationsSet")});this.Layout={normal:"normal",fill:"fill",fillVertical:"fillVertical",fillHorizontal:"fillHorizontal",centered:"centered",stretched:"stretched",stackedHorizontally:"stackedHorizontally",stackedVertically:"stackedVertically",dockLeft:"dockLeft",dockRight:"dockRight",dockTop:"dockTop",dockBottom:"dockBottom"};var r=Dictionary.create(),t=Dictionary.create(),i=Dictionary.create();n.autoAdjustLayoutToContent=ObservableFlag.createConditionalPositive();this.requestUpdatePosition=function(r,f){if(r instanceof Array||(r=[r]),u(r,f),!n.layoutUpdateBatch.isActive()){var e=!1;i.isEmpty()&&t.isEmpty()||(e=!0);LayoutManager.layoutUpdateBatch.start();PositionManager.UpdateBatch.start();h();e&&ReadWriteController.PendingReadOperations.executeOperations();PositionManager.UpdateBatch.finish();LayoutManager.layoutUpdateBatch.finish()}};this.refreshElementsLayout=function(t,i){var u,f;for(t instanceof Array||(t=[t]),u=0;u<t.length;u++)f=t[u],r.setField(f.id,{instance:f,forceLayoutUpdate:i});n.layoutUpdateBatch.isActive()||s()};this.beginLayoutUpdateBatch=function(){n.layoutUpdateBatch.start()};this.endLayoutUpdateBatch=function(){n.layoutUpdateBatch.finish()};this.setPageContentWidth=function(n){var t=PageManager.getCurrentPage(),i,r;t&&(i=PageManager.getContentWidth(),r=Math.floor((n-i)/2),PageManager.getCoordinator().setPropertyValue("contentWidth",n),LayoutManager.beginLayoutUpdateBatch(),$.eachItem(t.getChildInstances(),function(n,t){t.setPropertyFieldsValues("sizeAndPosition",{left:t.getPropertyValue("sizeAndPosition").left+r})}),LayoutManager.endLayoutUpdateBatch())};this.updateInstanceLayoutStyle=a},ElementsLayoutHelper=new function(){this.clearInstancesLayout=function(n){var i,t;for(RenderingCoordinator.startRenderingBatch(),i=0;i<n.length;i++)t=n[i],t.hasFeature(Features.HasLayout)&&(t.setPropertyValue("verticalLayout",LayoutManager.Layout.normal),t.setPropertyValue("horizontalLayout",LayoutManager.Layout.normal),t.setPropertyValue("fillLayout",{fillVertical:!1,fillHorizontal:!1}));RenderingCoordinator.finishRenderingBatch()};this.rememberLayoutProperties=function(n){for(var t,i,r=[],u=0;u<n.length;u++)t={},i=n[u],t.sizeAndPosition=$.quickExtend({},i.getPropertyValue("sizeAndPosition")),t.margin=$.quickExtend({},i.getPropertyValue("margin")),t.fillLayout=$.quickExtend({},i.getPropertyValue("fillLayout")),t.verticalLayout=i.getPropertyValue("verticalLayout"),t.horizontalLayout=i.getPropertyValue("horizontalLayout"),r.push({instance:i,storedProperties:t});return{restoreLayoutProperties:function(){PropertiesManager.UpdateBatch.executeWithActivation(function(){for(var n=0;n<r.length;n++)r[n].instance.setPropertiesValues(r[n].storedProperties)})}}};this.withLayoutPreserving=function(n,t,i){var r=!i||!i.noLayoutPreserving?ElementsLayoutHelper.rememberLayout(n,i):undefined;t();r?r.restoreLayout():undefined};this.restoreLayouts=function(n){n=$.asArray(n);RenderingCoordinator.startRenderingBatch();$.eachItem(n,function(n,t){t.restoreLayout()});RenderingCoordinator.finishRenderingBatch()};this.rememberLayout=function(n,t){var o,u,h,c,b;t=$.quickExtend({includeDockedElements:!0,rememberLeft:!0,rememberTop:!0,rememberWidth:!0,rememberHeight:!0,relativeTo:!1},t);n=$.asArray(n);var i=[],f=t.includeDockedElements,e=t.relativeTo;for(o=0;o<n.length;o++){var r=n[o],s=r.getPropertyValue("fillLayout"),k=r.getPropertyValue("horizontalLayout"),d=r.getPropertyValue("verticalLayout"),p=s&&s.fillHorizontal,w=s&&s.fillVertical,l=t.rememberLeft&&(f||!p&&k===LayoutManager.Layout.normal),a=t.rememberTop&&(f||!w&&d===LayoutManager.Layout.normal),v=t.rememberWidth&&(f||!p),y=t.rememberHeight&&(f||!w);(l||a||v||y)&&(u={instance:r,rememberLeft:l,rememberTop:a,rememberWidth:v,rememberHeight:y},h=r.$element,(l||a)&&(c=h.offset(),e&&(b=$.evaluateWhenFunction(e),c=$.getRelativeOffset(c,b)),u.offset=c),v&&(u.width=h.width()),y&&(u.height=h.height()),i.push(u))}return{restoreLayout:function(){var t,r;for(RenderingCoordinator.startRenderingBatch(),t=0;t<i.length;t++)i[t].currentOffset=i[t].instance.$element.offset();for(r={left:0,top:0},e&&(r=$.evaluateWhenFunction(e)),t=0;t<i.length;t++){var n=i[t],o=n.instance,s=n.currentOffset,u={},f={};n.rememberLeft&&(u.left=n.offset.left+r.left);n.rememberTop&&(u.top=n.offset.top+r.top);n.rememberWidth&&(f.width=n.width);n.rememberHeight&&(f.height=n.height);ElementsLayoutHelper.moveToOffset({instance:o,offset:s},u);ElementsLayoutHelper.setInstancesSize(o,f)}RenderingCoordinator.finishRenderingBatch()}}};this.setInstanceArea=function(n,t){ElementsLayoutHelper.moveToOffset(n,{left:t.left,top:t.top});ElementsLayoutHelper.setInstancesSize(n,{width:t.width,height:t.height})};this.translateInstancesArea=function(n,t,i){var o,s,h,c,l,a,r;i=$.quickExtend({verticalAlignment:VerticalAlignment.Top,horizontalAlignment:HorizontalAlignment.Left},i);n=$.asArray(n);var f=i.verticalAlignment,e=i.horizontalAlignment,u=[];for(o=0;o<n.length;o++)s=n[o].$element,f!==VerticalAlignment.Top||e!==HorizontalAlignment.Left?u.push(s.getArea()):u.push(s.offset());r={};e!==HorizontalAlignment.Left&&(l=$.maxValue(u,function(n){return n.right}));e!==HorizontalAlignment.Right&&(h=$.minValue(u,function(n){return n.left}));f!==VerticalAlignment.Top&&(a=$.maxValue(u,function(n){return n.bottom}));f!==VerticalAlignment.Bottom&&(c=$.minValue(u,function(n){return n.top}));switch(e){case HorizontalAlignment.Left:r.left=h;break;case HorizontalAlignment.Right:r.left=l;break;case HorizontalAlignment.Centered:r.left=Math.floor((h+l)/2)}switch(f){case VerticalAlignment.Top:r.top=c;break;case VerticalAlignment.Bottom:r.top=a;break;case VerticalAlignment.Centered:r.top=Math.floor((c+a)/2)}ElementsLayoutHelper.moveInstances(n,{left:t.left-r.left,top:t.top-r.top})};this.moveToOffset=function(n,t,i){var s,h,r,u,f,e;if(t){for(i=$.quickExtend({transitionData:undefined,callback:undefined},i),s=i.transitionData,h=i.callback,n=$.asArray(n),u=[],r=0;r<n.length;r++)f=n[r],ElementInstance.isElementInstance(f)?u.push({instance:f,offset:f.$element.offset()}):(e=f.instance,u.push({instance:e,offset:$.valueOrCalculate(f.offset,function(){return e.$element.offset()})}));for($.isFunction(t)&&(t=t(u)),RenderingCoordinator.startRenderingBatch(),r=0;r<u.length;r++){var c=u[r],l=c.offset,o={};t.top&&(o.top=t.top-l.top);t.left&&(o.left=t.left-l.left);ElementsLayoutHelper.moveInstances(c.instance,o,s,h)}RenderingCoordinator.finishRenderingBatch()}};this.setInstancesContentSize=function(n,t){var r,u,i;if(t){for(n=$.asArray(n),RenderingCoordinator.startRenderingBatch(),r=0;r<n.length;r++)u=n[r],i=ElementsUtil.getElementContentMargins(u),ElementsLayoutHelper.setInstancesSize(u,{width:t.width+i.left+i.right,height:t.height+i.top+i.bottom});RenderingCoordinator.finishRenderingBatch()}};this.setInstancesSize=function(n,t,i){var l,a,o,f,r,k,d,h;if(t){i=$.quickExtend({preserveVerticalMargins:!1,preserveHorizontalMargins:!1},i);l=i.preserveVerticalMargins;a=i.preserveHorizontalMargins;n=$.asArray(n);var u,e=t.width,c=t.height,v=e!==undefined,y=c!==undefined;if(v||y){for(o=[],u=0;u<n.length;u++){f=n[u];r={width:0,height:0};t=f.getSize();var p=f.getPropertyValue("sizeAndPosition"),s=f.getPropertyValue("fillLayout"),w="s",b="e";v&&(k=f.getPropertyValue("horizontalLayout"),r.width=e-t.width,s&&s.fillHorizontal?r.width=e-t.width:(r.width=e-p.width,a&&k===LayoutManager.Layout.dockRight&&(r.width=-r.width,b="w")));y&&(d=f.getPropertyValue("verticalLayout"),s&&s.fillVertical?r.height=c-t.height:(r.height=c-p.height,l&&d===LayoutManager.Layout.dockBottom&&(r.height=-r.height,w="n")));(r.width!==0||r.height!==0)&&o.push({instance:f,delta:r,axis:w+b})}for(RenderingCoordinator.startRenderingBatch(),u=0;u<o.length;u++)h=o[u],ElementsLayoutHelper.resizeInstances(h.instance,h.delta,{axis:h.axis,isSymmetric:!1});RenderingCoordinator.finishRenderingBatch()}}};this.resizeInstances=function(n,t,i){var b,k,rt,v,e,u,r,s,h,c,ri,ui,y,p,w,ht,ct,lt,bt,kt,dt,fi;if(i=$.quickExtend({axis:"se",isSymmetric:!1,lockRatio:!1,minWidth:undefined,minHeight:undefined,maxWidth:Infinity,resizeCenteredElementsSymmetrically:!1},i),t){t=$.quickExtend({width:0,height:0},t);n=$.asArray(n);var gt=i.minWidth,ni=i.minHeight,at=i.maxWidth,l=i.isSymmetric,ti=i.lockRatio,d=i.resizeCenteredElementsSymmetrically,a=$.resolveAxis(i.axis),g=gt!==undefined?0-Math.ceil(gt/(l?2:1)):-Infinity,ei=ni!==undefined?0-Math.ceil(ni/(l?2:1)):-Infinity,nt=at!==undefined&&at!==Infinity?Math.ceil(at/(l?2:1)):Infinity,f=$.valueOrDefault(t.width,0),o=$.valueOrDefault(t.height,0);a.north&&(o=0-o);a.west&&(f=0-f);f=Math.min(Math.max(g,f),nt);o=Math.max(ei,o);ti&&a.horizontal&&a.vertical&&(f=o*ti);f<g&&(f=g,o=g);f>nt&&(f=nt,o=nt);var vt=a.horizontal,yt=a.vertical,tt=vt&&(a.east||l),it=vt&&(a.west||l),pt=yt&&(a.north||l),ii=yt&&(a.south||l);for(SelectionArea.beginUpdateBatch(),RenderingCoordinator.startRenderingBatch(),b=[],k=[],rt=0;rt<n.length;rt++){v=n[rt];v._isInstance_?(u=undefined,r=undefined,s=undefined,h=undefined,c=undefined,e=v):(u=v.sizeAndPosition,r=v.margin,s=v.fillLayout,h=v.horizontalLayout,c=v.verticalLayout,e=v.instance);u=$.quickExtend({},u!==undefined?u:ElementsLayoutHelper.getInstnceActaulSizeAndPosition(e));var wt=!1,ut=!1,ft=!1,et=!1,ot=!1,st=!1;e.hasFeature(Features.HasLayout)&&(s=s!==undefined?s:e.getPropertyValue("fillLayout"),h=h!==undefined?h:e.getPropertyValue("horizontalLayout"),c=c!==undefined?c:e.getPropertyValue("verticalLayout"),y=s&&s.fillHorizontal,p=s&&s.fillVertical,wt=p||c===LayoutManager.Layout.dockTop,ut=p||c===LayoutManager.Layout.dockBottom,ft=y||h===LayoutManager.Layout.dockLeft,et=y||h===LayoutManager.Layout.dockRight,ot=!y&&h===LayoutManager.Layout.centered,st=!p&&c===LayoutManager.Layout.centered,ri=p||c!==LayoutManager.Layout.normal,ui=y||h!==LayoutManager.Layout.normal,(vt&&ui||yt&&ri)&&(r=$.quickExtend({},r!==undefined?r:e.getPropertyValue("margin")),w=e.getParentContentSize(),ht=r.right+r.left,ht>w.width&&(r.right=r.right/ht*w.width,r.left=r.left/ht*w.width),ct=r.top+r.bottom,ct>w.height&&(r.top=r.top/ct*w.height,r.bottom=r.bottom/ct*w.height),et&&tt&&(r.right-=f,y||(u.width+=f)),ft&&it&&(r.left-=f,y||(u.width+=f)),ut&&ii&&(r.bottom-=o,p||(u.height+=o)),wt&&pt&&(r.top-=o,p||(u.height+=o)),e.setPropertyValue("margin",r)));lt=e.getParent();bt=HorizontalAlignment.Left;lt&&lt.hasFeature(Features.HasChildrenLayoutAnchor)&&(bt=lt.getPropertyValue("childrenAnchor"));it&&!ft&&(u.width+=f*(d&&ot&&!l?2:1));tt&&!et&&(u.width+=f*(d&&ot&&!l?2:1));ft||et||ot||(bt===HorizontalAlignment.Right?tt&&k.push({instance:e,sizeAndPosition:u,margin:r,fillLayout:s,horizontalLayout:h,verticalLayout:c,mirrorLeft:!0}):it&&k.push({instance:e,sizeAndPosition:u,margin:r,fillLayout:s,horizontalLayout:h,verticalLayout:c}));pt&&!wt&&(u.height+=o*(d&&st&&!l?2:1),ut||st||b.push({instance:e,sizeAndPosition:u,margin:r,fillLayout:s,horizontalLayout:h,verticalLayout:c}));ii&&!ut&&(u.height+=o*(d&&st&&!l?2:1));e.setPropertyValue("sizeAndPosition",u)}kt=0;dt=0;pt&&(dt=0-o);(it||tt)&&(kt=0-f);k.length>0&&(fi=ElementsLayoutHelper.moveInstances(k,{left:kt}),b=$.map(b,function(n){var t=fi[n.instance.id];return t?t:n}));b.length>0&&ElementsLayoutHelper.moveInstances(b,{top:dt});RenderingCoordinator.finishRenderingBatch();SelectionArea.endUpdateBatch()}};this.getInstnceActaulSizeAndPosition=function(n){var t=n.getPropertyValue("sizeAndPosition"),i;return n.hasFeature(Features.DataListItem)?(i=n.getItemMainParent(),i?$.quickExtend({top:0,left:0},n.getSize()):t):t};this.getRelativeArea=function(n,t){if(n.isRelativePositioned())return n.getRelativeToParentArea(t);var r=ElementsLayoutHelper.getRelativeTopPosition(n),u=ElementsLayoutHelper.getRelativeLeftPosition(n),i=n.getSize();return{top:r,left:u,bottom:r+i.height,right:u+i.width,center:{top:r+i.height/2,left:u+i.width/2},height:i.height,width:i.width}};this.getRelativeTopPosition=function(n){var e=$.quickExtend({},n.getPropertyValue("sizeAndPosition")),t,i=!1;if(n.hasFeature(Features.HasLayout)){var u=$.quickExtend({},n.getPropertyValue("margin")),o=n.getPropertyValue("horizontalLayout"),r=n.getPropertyValue("verticalLayout"),f=n.getPropertyValue("fillLayout");(f.fillVertical||r!==LayoutManager.Layout.normal)&&(r===LayoutManager.Layout.dockBottom?(t=n.parentInstance.getContentSize().height-u.bottom-n.getSize().height,i=!0):r===LayoutManager.Layout.centered?(t=n.parentInstance.getContentSize().height/2+u.top-n.getSize().height/2,i=!0):(f.fillVertical||r===LayoutManager.Layout.dockTop)&&(t=u.top,i=!0))}return i||(t=e.top),t};this.getRelativeLeftPosition=function(n){var s=$.quickExtend({},n.getPropertyValue("sizeAndPosition")),t,r=!1,f=HorizontalAlignment.Left,i=n.parentInstance;if(i&&i.hasFeature(Features.HasChildrenLayoutAnchor)&&(f=i.getPropertyValue("childrenAnchor")),n.hasFeature(Features.HasLayout)){var e=$.quickExtend({},n.getPropertyValue("margin")),u=n.getPropertyValue("horizontalLayout"),o=n.getPropertyValue("fillLayout");(o.fillHorizontal||u!==LayoutManager.Layout.normal)&&(u===LayoutManager.Layout.dockRight?(t=n.parentInstance.getContentSize().width-e.right-n.getSize().width,r=!0):u===LayoutManager.Layout.centered?(t=n.parentInstance.getContentSize().width/2+e.left-n.getSize().width/2,r=!0):(o.fillHorizontal||u===LayoutManager.Layout.dockLeft)&&(t=e.left,r=!0))}return r||(t=s.left,f===HorizontalAlignment.Centered?t+=i.getContentSize().width/2:f===HorizontalAlignment.Right&&(t=i.getContentSize().width-t)),t};this.moveInstances=function(n,t,i){var v,a,c,l;for(n=$.asArray(n),t=$.quickExtend({left:0,top:0},t),RenderingCoordinator.startRenderingBatch(),v={},a=0;a<n.length;a++){var e=n[a],r=undefined,h=undefined,f=undefined,o=undefined,s=undefined,u=undefined,y=!1;e._isInstance_?r=e:(h=e.sizeAndPosition,f=e.margin,u=e.fillLayout,r=e.instance,o=e.horizontalLayout,s=e.verticalLayout,y=$.valueOrDefault(e.mirrorLeft,!1));h=$.quickExtend({},h!==undefined?h:r.getPropertyValue("sizeAndPosition"));c=!0;l=!0;r.hasFeature(Features.HasLayout)&&(f=$.quickExtend({},f!==undefined?f:r.getPropertyValue("margin")),o=o!==undefined?o:r.getPropertyValue("horizontalLayout"),s=s!==undefined?s:r.getPropertyValue("verticalLayout"),u=u!==undefined?u:r.getPropertyValue("fillLayout"),(u.fillHorizontal||o!==LayoutManager.Layout.normal)&&((u.fillHorizontal||o===LayoutManager.Layout.dockRight)&&(f.right-=t.left),(u.fillHorizontal||o===LayoutManager.Layout.dockLeft||o===LayoutManager.Layout.centered)&&(f.left+=t.left),c=!1),(u.fillVertical||s!==LayoutManager.Layout.normal)&&((u.fillVertical||s===LayoutManager.Layout.dockBottom)&&(f.bottom-=t.top),(u.fillVertical||s===LayoutManager.Layout.dockTop||s===LayoutManager.Layout.centered)&&(f.top+=t.top),l=!1),l&&c||r.setPropertyValue("margin",f,i));l&&(h.top+=t.top);c&&(h.left+=t.left*(y?-1:1));(l||c)&&r.setPropertyValue("sizeAndPosition",h,i);v[r.id]={instance:r,sizeAndPosition:h,margin:f,fillLayout:u,horizontalLayout:o,verticalLayout:s}}return RenderingCoordinator.finishRenderingBatch(),v};this.getHorizontalSpacingData=function(n,t){var i,e;if(t=$.quickExtend({shouldSort:!0,getInstanceArea:PositionManager.getElementArea},t),i=t.getInstanceArea,e=t.shouldSort,!n||n.length===1)return{maxSpacing:0,minSpacing:0,averageSpacing:0};e&&(n=ElementsLayoutHelper.sortByLeftPosition(n,i));var u=Infinity,f=0,r=0,o=0,s;return $.eachItem(n,function(n,t){if(n>0){var h=i(s,!1),c=i(t,!1),e=c.left-h.right;e>=0&&(e<u&&(u=e),e>f&&(f=e),r+=e,o++)}s=t}),r=r/o,{maxSpacing:f,minSpacing:u,averageSpacing:r}};this.isInsideElementArea=function(n,t){var r,i,u,f;if(!n||!t)return!1;for(r=n.elementType===ElementsTypes.group?$.grep(n.getDescendingInstances(!1),function(n){return n.elementType!==ElementsTypes.group}):[n],i=0;i<r.length;i++)if(u=r[i],PositionManager.isElementVisible(u)&&(f=PositionManager.getElementArea(u,!0),f&&$.isInsideArea(f,t)))return!0;return!1};this.calculateInstancesSurroundingArea=function(n,t,i){var u,r;for(i=i?i:PositionManager.getElementArea,n=$.asArray(n),u=[],r=0;r<n.length;r++)u.push(i(n[r],t));return $.unionAreas(u)};this.getAreaOverlappingInstances=function(n,t,i,r,u){if(!n||!t||t.length===0)return[];u=u?u:PositionManager.getElementArea;var f=n;return i&&(f=$.expandArea(f,i)),$.grep(t,function(n){if(n.elementType!==ElementsTypes.page){var t=u(n,r);return $.areasOverlap(t,f)}return!1})};this.getInstancesInsideArea=function(n,t,i,r,u){return!n||!t||t.length===0?[]:(u=u?u:PositionManager.getElementArea,i&&(n=$.expandArea(n,i)),$.grep(t,function(t){if(t.elementType!==ElementsTypes.page){var i=u(t,r);return $.containsArea(n,i)}return!1}))};this.sortByLeftPosition=function(n,t){return n.sort(function(n,i){var r=t(n),u=t(i);return r!==undefined&&u!==undefined?r.left-u.left!=0?r.left-u.left:r.top-u.top:r!==undefined?1:u!==undefined?-1:void 0})};this.getElementsAreaData=function(n,t,i){var f,e,o,s=f=e=o=n[0],r,u;i=i?i:PositionManager.getElementArea;r={top:Infinity,left:Infinity,bottom:-Infinity,right:-Infinity};u={};$.eachItem(n,function(n,h){var c=i(h,t);c&&(c.left<r.left&&(r.left=c.left,e=h),c.top<r.top&&(r.top=c.top,s=h),c.right>r.right&&(r.right=c.right,o=h),c.bottom>r.bottom&&(r.bottom=c.bottom,f=h),u[h.id]=r)});var h=$.max(n,function(n){return u[n.id]?u[n.id].height:0}).value,c=$.min(n,function(n){return u[n.id]?u[n.id].height:Infinity}).value,l=$.max(n,function(n){return u[n.id]?u[n.id].width:0}).value,a=$.min(n,function(n){return u[n.id]?u[n.id].width:Infinity}).value;return r.width=r.right-r.left,r.height=r.bottom-r.top,r=$.getArea(r,r),{topInstance:s,bottomInstance:f,leftInstance:e,rightInstance:o,maxWidth:l,maxHeight:h,minWidth:a,minHeight:c,area:r}}},ElementsStructureHelper=new function(){function n(n,t){for(var i,e={},s,u,h,v,o,r,c,l,a,f=0;f<n.length;f++)s=n[f],u=s.getParent(),u&&u.elementType===ElementsTypes.group&&(h=u.id,i=e[h],i||(i={instance:u,childInstances:[]},e[h]=i),i.childInstances.push(s));for(v in e){if(i=e[v],o=i.instance,r=o.getParent(),t)while(r.elementType===ElementsTypes.group)r=r.getParent();c=r.elementType===ElementsTypes.group;o.startGroupUpdating();c&&r.startGroupUpdating();l=[];a=[];i.instance.isFixed()&&(l=$.merge([],i.childInstances));MasterPagesManager.isMasterPageRootInstance(i.instance)&&(a=$.merge([],i.childInstances));ElementsStructureHelper.reattachInstances(i.childInstances,r);OperationsManager.disableOperationsRecording("groupUpdating");$.eachItem(l,function(n,t){t.setPropertyValue("isFixed",!0)});MasterPagesManager.setAsMasterPageRoots(a);OperationsManager.enableOperationsRecording("groupUpdating");c&&r.finishGroupUpdating();o.finishGroupUpdating()}}this.reattachToCurrentSection=function(n,t){var r,u,i;if(t=$.quickExtend({filterFunction:$.returnTrue,lastSectionIsDefault:!1},t),r=t.filterFunction,u=PageManager.getCurrentPage(),n=$.grep(n,function(n){return n.isReattchable()&&n.isInstanceVisible()&&!n.isFixed()}),n.length!==0){var f=ElementsLayoutHelper.getElementsAreaData(n,!0).area,o=PositionManager.getInstancesInOffset(f),e=$.grep(o,function(n){return n.instance.hasFeature(Features.PageSection)&&n.instance.isInstanceVisible()&&r(n.instance)});return e[0]?i=e[0].instance:$.eachItem(u.childInstances,function(n,t){if(t.hasFeature(Features.PageSection)&&t.isInstanceVisible()&&r(t)&&$.areasIntersects($.expandArea(t.getArea(),{left:1e3,right:1e3}),f))return i=t,!1}),i?ElementsStructureHelper.reattachInstances(n,i):t.lastSectionIsDefault&&(i=PageManager.getCurrentPage().lastSectionInstance.getValue(),ElementsStructureHelper.reattachInstances(n,i)),i}};this.getSectionByPosition=function(n){var i=PositionManager.getInstancesInOffset(n),t=$.grep(i,function(n){return n.instance.hasFeature(Features.PageSection)&&n.instance.isInstanceVisible()});if(t[0])return t[0].instance};this.reattachInstances=function(n,t,i){n=$.asArray(n);n=$.grep(n,function(n){return n.getParent()!==t});n.length>0&&ElementsLayoutHelper.withLayoutPreserving(n,function(){$.eachItem(n,function(n,i){t.isType(ElementsTypes.page)||i.setPropertyValue("isFixed",!1)});ElementsLayoutHelper.clearInstancesLayout(n);ElementsManager.addElementToContainerElement(t,n)},i)};this.unwrap=function(n){var u;if(!n.hasParent())return[];var t=n.getChildInstances(),i=[],r=[];return n.isFixed()&&(i=$.merge([],t)),MasterPagesManager.isMasterPageRootInstance(n)&&(r=$.merge([],t)),t.length>0&&(u=n.getParent(),ElementsStructureHelper.reattachInstances(t,u)),OperationsManager.disableOperationsRecording("unwrapChildsUpdating"),$.eachItem(i,function(n,t){t.setPropertyValue("isFixed",!0)}),MasterPagesManager.setAsMasterPageRoots(r),OperationsManager.enableOperationsRecording("unwrapChildsUpdating"),ElementsManager.removeInstances([n]),t};this.wrapInstances=function(n,t){var r=ElementsUtil.getCommonAncestors(n,!1,!1);if(r.length!==0){var u=r[0],f=TemplateCreator.addTemplateInstance({elementForCreation:{structures:[t]}},u),i=f.instances[0];return ElementsLayoutHelper.setInstanceArea(i,ElementsLayoutHelper.calculateInstancesSurroundingArea(n,!0)),ElementsStructureHelper.reattachInstances(n,i),i}};this.groupInstances=function(n){var i,r,t;if(n&&!(n.length<=1))return(OperationsManager.beginAtomicBatch(!1,"Group"),i=n[0].getParent(),!i)?void 0:(r=TemplateCreator.addTemplateInstance({elementForCreation:{structures:[{type:"group",elementProperties:{sizeAndPosition:{left:0,top:0,width:0,height:0},backgroundColor:"transparent",borderWidth:$.convertValueToObject(0,["top","left","bottom","right"]),padding:$.convertValueToObject(0,["top","left","bottom","right"])}}]}},i),t=r.instances[0],t.disableGroup("grouping"),ElementsStructureHelper.reattachInstances(n,t),t.enableGroup("grouping"),t.refreshGroupArea(),OperationsManager.endAtomicBatch(),t)};this.removeGroup=function(t){OperationsManager.beginAtomicBatch(!1,"Remove Group");n(t.getChildInstances(),!0);OperationsManager.endAtomicBatch()};this.removeFromGroup=function(t){OperationsManager.beginAtomicBatch(!1,"Remove From Group");n(t,!0);OperationsManager.endAtomicBatch()};this.releaseGroup=function(t){n(t.getChildInstances(),!1)}},DevicesNames={PC:"PC",Mobile:"Mobile"},PropertiesManager=new function(){function ht(n,t,r,u){var e,o,s;for(typeof n!="string"&&(n=n.name),e=PropertiesManager.getStateAffectedInstances(t,n),$.objectSet(i,[n,t.id],e),f=!0,o=0;o<e.length;o++)s=e[o],PropertiesManager.refreshState(s,r,undefined,u);t.elementStateActivated.fireNew(n)}function it(){var n=$.mapDictionary(r,function(){return!0});return $.extend(n,s)}function rt(n,t,r){var u,e,o;if(typeof n!="string"&&(n=n.name),u=PropertiesManager.getStateAffectedInstances(t,n),i[n]&&(delete i[n][t.id],$.isEmptyObject(i[n])&&delete i[n]),u!==undefined)for(e=0;e<u.length;e++)o=u[e],PropertiesManager.refreshState(o,r);$.isEmptyObject(i)&&(f=!1);t.elementStateRemoved.fireNew(n)}function ct(n,t,i){var r=t.valueConverter,u,f;if(r&&i!==undefined&&i!==null)if($.isArray(r))for(u=0;u<r.length;u++)i=r[u](i);else i=r(i);return f={value:i,customStatesValues:{},descriptor:t,transitionsStack:[]},w(f,f.value),f}function lt(n){$.eachEntry(n.properties,function(n,t){t&&t.customValueMarked&&t.customValueMarked&&(t.customValueMarked=undefined,t.customValue=undefined)})}function ut(n,t,i,r){n.propertiesRefreshingState=!0;$.eachEntry(n.properties,function(u,f){PropertiesManager.refreshProperty(n,f,t,i,r)});n.propertiesRefreshingState=!1}function p(n,t,i,r,u){b(n,t,r,i,u)}function e(n,t,i){return t===undefined?i!==undefined:n.comparer?!n.comparer(i,t):!$.defaultEqualityComparer(i,t)}function ft(n,t,i,r){var f=n.affectedProperties[i],u,e;f===undefined&&($.count(n.affectedProperties)===0&&n.hasStates.setTrue(),f={},n.affectedProperties[i]=f);u=f[t.id];u===undefined&&(u=[],f[t.id]=u);e=u.length>0;$.inArray(r,u)<0&&u.push(r);PropertiesManager.Events.CustomStatePropertyAddedSimple.fireNew({propertyName:r,stateName:i,affectedInstance:t,affectingInstance:n,sourceInstance:n});n.influenceChanged.fireNew()}function at(i,r,u,f,e){var l,c,h;if(r){if(l=r.descriptor.name,r.descriptor.valueConverter!==undefined&&u!==undefined&&u!==null)for(c=$.asArray(r.descriptor.valueConverter),h=0;h<c.length;h++)u=c[h](u);r.descriptor.isStateProperty()&&t!==undefined?n.setValueInCustomState(i,r,t,u):(n.shouldMarkPropertyAsCustom(i,l)?(r.customValue=u,r.customValueMarked=!0,s[i.id]=!0):(r.customValue=undefined,r.customValueMarked=!1,r.value=u),o(i,r,f,undefined,e))}}function o(n,t,f,o,s){var a,k,v,d,y,c;if(t){f===undefined&&(f=!1);var l=t.descriptor.name,p=wt(n,l,i),h=p.computedStateData;p.isCustomState?$.objectSet(r,[n.id,l],!0):(a=n.id,k=$.objectGet(r,[a,l]),k&&(v=r[a],delete v[l],$.isEmptyObject(v)&&delete r[a]));d=h.stateValue;y=t.computedValue;w(t,d);e(t.descriptor,y,t.computedValue)&&(c=undefined,f&&(typeof f=="object"?c=f:o===u.StateAdded?(h.transitionInDuration&&(c={transitionEffect:h.transitionInEffect,transitionDuration:h.transitionInDuration,transitionDirection:h.directionIn,transitionSlideDirection:h.transitionSlideInDirection}),h.transitionOutDuration?t.transitionsStack.push({transitionEffect:h.transitionOutEffect,transitionDuration:h.transitionOutDuration,transitionDirection:h.directionOut,transitionSlideDirection:h.transitionSlideOutDirection}):t.transitionsStack.push(undefined)):o===u.StateRemoved&&(c=t.transitionsStack.pop())),b(n,t,y,c,s))}}function w(n,t){n.computedValue=t}function b(n,t,i,r,u){var y=t.descriptor,f=y.name,s,a,o;if(l(n)&&(s=t.computedValue,a={instance:n,propertyName:f,propertyDescriptor:t.descriptor,newValue:s,oldValue:i},PropertiesManager.Events.ComputedValueChanged.fireNew(a)),PropertiesManager.UpdateBatch.isActive()&&f!=="isVisible"&&f!=="isVisibleInMode"&&f!=="name"&&f!=="order"){var e=n.id,v=h.getFieldOrInit(f,{}),p=c.getFieldOrInit(e,{});v[e]||(o={instance:n,property:t,oldValue:i,transitionData:r,callback:u},v[e]=o,f!=="order"&&(p[f]=o))}else et(n,t,i,r,undefined,u)}function vt(){var u,t,i,r,f,n;for(PropertiesManager.PropertiesChangesNotifyingBatch.start();!h.isEmpty()||!c.isEmpty();){for(u=c.deferredEach(),t=h.getEntries(),h.clear(),c.clear(),t.orderByDesc(function(n){return PropertiesTypes[n.key].priority}),i=0;i<t.length;i++){r=t[i].value;for(f in r)n=r[f],n.instance.isDeleted||(n.value=et(n.instance,n.property,n.oldValue,n.transitionData,!1,n.callback))}u(function(n,t){var i=ElementsManager.getInstanceByID(n);if(i){l(i)&&i.propertiesChanged.fireNew(t);i.onPropertiesChanged(t)}})}PropertiesManager.PropertiesChangesNotifyingBatch.finish()}function et(n,t,i,r,u,f){var o;if(n.isDeleted)return null;u===undefined&&(u=!0);nt||(r=undefined);var e=t.computedValue,s=t.descriptor,h=s.name;OperationsManager.beginAtomicBatch();s.onChange(n,e,r,i,f);OperationsManager.endAtomicBatch();n.onPropertyChange(s,e,i,r);if(k({instance:n,propertyName:h,propertyDescriptor:t.descriptor,newValue:e,oldValue:i}),u&&(o={},o[h]={property:t,oldValue:i,value:e,transitionData:r},l(n)&&n.propertiesChanged.fireNew(o),h!=="order"))n.onPropertiesChanged(o);return e}function l(){return!0}function k(n){var i=n.instance,t;l(i)&&(t=n.propertyName,PropertiesManager.Events.PropertyValueChanged.fireNew(n),PropertiesManager.Events.NamedPropertyValueChanged.fireNew(t,n),i.propertyChangedEvent.fireNew(t,n.newValue,n.oldValue),i.propertyChangedEventSimple.fireNew(t,n.newValue,n.oldValue))}function a(n,t,i,r){return st(n,t,i,r)}function ot(){var n=UndoOperation.create({instancesPropertiesMap:{},type:OperationsManager.Types.PropertiesChangeType,name:"PropertiesChange",instancesValues:{},getInstances:yt,performOperation:pt,getLength:function(){return $.count(n.instancesValues)}});return n}function yt(n){var t=[];return $.eachEntry(n.instancesValues,function(n,i){var u=ElementsManager.getInstanceByID(n),r;u&&(r=0,$.eachEntry(i,function(n){if(n!=="order"&&n!=="sectionName"&&n!=="menuHide"&&n!=="name")return r++,!1}),r>0&&t.push(u))}),t}function pt(n){OrderManager.beginReorderingBatch();LayoutManager.beginLayoutUpdateBatch();var t={};return $.eachEntry(n.instancesValues,function(n,i){var r=ElementsManager.getInstanceByID(n);r&&(PropertiesManager.UpdateBatch.start(),$.eachEntry(i,function(n,i){n==="sizeAndPosition"&&(r.duringResizing.setValue(!0),r.resizingStarted.fireNew());n!=="order"&&n!=="sectionName"&&n!=="menuHide"&&n!=="name"&&(t[r.id]=r);({})[n]=i;r.hasFeature(Features.HasPropertiesBinding)&&r.isPropertyBoundToStyleField(n)||r.setPropertyValue(n,i);n==="sizeAndPosition"&&(r.duringResizing.setValue(!1),r.resizingStopped.fireNew())}),PropertiesManager.UpdateBatch.finish())}),n.restoreLayout&&$.eachEntry(n.restoreLayout,function(n,t){t.restoreLayoutProperties()}),LayoutManager.endLayoutUpdateBatch(),OrderManager.endReorderingBatch(),$.getValues(t)}function st(n,t,i,r){var o=ElementsManager.getInstanceByID(i),s=n.descriptor.name,e=d(n,r),u=$.objectGet(n.customStatesValues,[t,i]),f,h;return(r.hasFeature(Features.HasPropertiesBinding)&&r.isPropertyBoundToStyleField(s)&&(o===r.getSkinInstanceBox()||o===PageManager.getCoordinator())&&SkinsManager.shouldReferToSkinValue()&&(u=r.getStyleFieldData(s,{stateName:t,sourceId:i,defaultValue:e,customStateData:u}),u=$.extend({stateValue:u.value},u.animation)),u===undefined)?undefined:(f=$.extend({},u),r.shouldReferToStateValue(n.descriptor.name,t,i)?n.descriptor.customStateValueGetter&&ElementStates[t]&&(h=n.descriptor.customStateValueGetter(e,f.stateValue,r,t,i),f.stateValue=h):f.stateValue=e,f)}function wt(n,i,r){var f=n.properties[i],o,e,s,u,h,c;if(t&&(!r||$.count(r)===1)){if(o=a(f,t.type.name,t.source,n),o&&!$.isEmptyObject(o))return{isCustomState:!0,computedStateData:o}}else if(e=f.prioritisedCustomStates,f.descriptor.isStateProperty()&&e&&e.length>0)for(s=0;s<e.length;s++)if(u=e[s],$.objectGet(r,[u.stateName,u.affectingInstanceID])&&n.shouldReferToStateValue(f.descriptor.name,u.stateName,u.affectingInstanceID)&&(h=st(f,u.stateName,u.affectingInstanceID,n),h))return{isCustomState:!0,computedStateData:h};return c=d(f,n),{isCustomState:!1,computedStateData:{stateValue:c}}}function d(n,t){var i=n.descriptor.name,r=bt(n),u;return t.hasFeature(Features.HasPropertiesBinding)&&t.isPropertyBoundToStyleField(i)&&SkinsManager.shouldReferToSkinValue()?(u=t.getStyleFieldData(i,{defaultValue:r}),u.value):n.descriptor.isBoundToObservableWithValue(n)?n.bindingValue:r}function bt(n){var t=n.value;return n.customValueMarked&&(t=n.customValue),t}function v(n,t){return n.properties[t]}function g(n,t){var r=t,i,f,u,e,o;if(typeof t=="string"?t=n.properties[t]:t&&(r=t.descriptor.name),t){i=[];f=n.id;n.hasFeature(Features.HasPropertiesBinding)&&n.isPropertyBoundToStyleField(r)&&(i=n.getPrioritizedStates(r));for(u in t.customStatesValues){e=t.customStatesValues[u];for(o in e)i.push({stateName:u,affectingInstanceID:o})}t.prioritisedCustomStates=i.orderByDesc(function(n){var i=n.affectingInstanceID===f?1:0,r;return n.stateName===MobileVersionViewManager.MobileStateName&&t.descriptor.name==="sizeAndPosition"&&(i=2),n.styleFieldState&&(i+=.1),r=1,ElementStates[n.stateName]&&(r=ElementStates[n.stateName].priority),[i,r]},$.arrayDefaultComparer)}}var n=this;n.TransitionsTypes={transitionInEffect:"transitionInEffect",transitionOutEffect:"transitionOutEffect",transitionInDuration:"transitionInDuration",transitionOutDuration:"transitionOutDuration",directionIn:"directionIn",directionOut:"directionOut",transitionSlideInDirection:"transitionSlideInDirection",transitionSlideOutDirection:"transitionSlideOutDirection"};this.Events={PropertyValueChanged:SimpleEvent.create(),NamedPropertyValueChanged:SimpleEvent.createNamedEvents(),ComputedValueChanged:SimpleEvent.create(),CustomStatePropertyRemovedSimple:SimpleEvent.create(),CustomStatePropertyAddedSimple:SimpleEvent.create(),CustomStatePropertyChangedSimple:SimpleEvent.create(),TransitionEffectUpdated:SimpleEvent.create()};this.Flags={PropertiesAreCustom:ObservableFlag.create(!1)};this.UpdateBatch=OperationsBatch.create({beforeFinishingCallback:function(){vt()}});this.PropertiesChangesNotifyingBatch=OperationsBatch.create();var t=undefined,i={},f=!1,s={},r={},nt=!0,h=Dictionary.create(),c=Dictionary.create(),y,tt,u={StateSet:0,StateAdded:1,StateRemoved:2};this.StateChangeTypes=u;this.setCanPerformTransition=function(n){nt=n};this.initialize=function(){Global.Events.ElementRemoving.bind(function(t){var i=t.removedInstance;n.removeStateAffected(i);n.removeStateAffecting(i);PropertiesManager.clearInstanceGlobalState(i)});y=[PropertiesTypes.backgroundColor.name,PropertiesTypes.borderColor.name,PropertiesTypes.fontColor.name,PropertiesTypes.backgroundOverlay.name,PropertiesTypes.iconColor.name,PropertiesTypes.borderWidth.name,PropertiesTypes.font.name,PropertiesTypes.fontSize.name,PropertiesTypes.roundness.name,PropertiesTypes.borderStyle.name,PropertiesTypes.elementOpacity.name,PropertiesTypes.shadow.name,PropertiesTypes.innerShadow.name,PropertiesTypes.glow.name,PropertiesTypes.innerGlow.name,PropertiesTypes.lineColor.name,PropertiesTypes.mapColor.name,PropertiesTypes.namedTextStyle.name,PropertiesTypes.lineHeight.name,PropertiesTypes.letterSpacing.name,PropertiesTypes.textStyle.name,PropertiesTypes.textDirection.name,PropertiesTypes.textShadow.name,PropertiesTypes.lineWidth.name,PropertiesTypes.lineStyle.name,PropertiesTypes.horizontalAlign.name];tt=$.mapToDictionary(y,$.returnValue,$.returnValue);Global.IsDesigner&&(PropertiesManager.Events.TransitionEffectUpdated.bind(function(n){if(OperationsManager.Flags.PropertiesRecordEnabled.isTrue()&&OperationsManager.Flags.shouldRecordOperations.isTrue()){var t=n.sourceId,r=n.typeName,i=n.instance,u=n.propertyName,f=n.transitionName,e=n.value,o=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"TransitionEffectUpdated",getInstances:function(){if(Modes.NormalMode.flag.isTrue()){var n=ElementsManager.getInstanceByID(t);return n?[n]:[]}return[n]},performOperation:function(){if(PropertiesManager.setStateTransitionEffect(i,u,f,e,{source:t,type:{name:r}}),Modes.NormalMode.flag.isTrue()){var n=ElementsManager.getInstanceByID(t);if(n)return[n]}else if(i)return[i];return[]}});OperationsManager.informOnOperation(o)}}),PropertiesManager.Events.CustomStatePropertyAddedSimple.bind(function(n){if(OperationsManager.Flags.PropertiesRecordEnabled.isTrue()&&OperationsManager.Flags.shouldRecordOperations.isTrue()){var u=n.propertyName,f=n.stateName,t=n.affectingInstance,i=n.affectedInstance,e=i.id,r=t.id,o=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"CustomStatePropertyAddedSimple",getInstances:function(){var n;return Modes.NormalMode.flag.isTrue()?(n=ElementsManager.getInstanceByID(t.id),n?[n]:undefined):(n=ElementsManager.getInstanceByID(i.id),n?[n]:undefined)},performOperation:function(){var i=ElementsManager.getInstanceByID(r),n=ElementsManager.getInstanceByID(e),t,o;return i&&n?(t=n.properties[u],o={type:ElementStates[f],source:r},t.descriptor.isStateProperty()&&PropertiesManager.setValueInCustomState(n,t,o,undefined),Modes.NormalMode.flag.isTrue()?[i]:[n]):[]}});OperationsManager.informOnOperation(o)}}),PropertiesManager.Events.CustomStatePropertyRemovedSimple.bind(function(n){if(OperationsManager.Flags.PropertiesRecordEnabled.isTrue()&&OperationsManager.Flags.shouldRecordOperations.isTrue()){var u=n.propertyName,s=n.stateName,t=n.affectingInstance,i=n.affectedInstance,f=i.id,r=t.id,e=n.oldValue,o=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"CustomStatePropertyRemovedSimple",getInstances:function(){var n;return Modes.NormalMode.flag.isTrue()?(n=ElementsManager.getInstanceByID(t.id),n?[n]:undefined):(n=ElementsManager.getInstanceByID(i.id),n?[n]:undefined)},performOperation:function(n){var o=ElementsManager.getInstanceByID(r),t=ElementsManager.getInstanceByID(f),i,s;return o&&t?(i=t.properties[u],s={type:ElementStates[n.stateName],source:r},i.descriptor.isStateProperty()&&PropertiesManager.setValueInCustomState(t,i,s,e),Modes.NormalMode.flag.isTrue()?[o]:[t]):[]}});OperationsManager.informOnOperation(o)}}))};this.getGlobalState=function(){return i};this.isEditorInState=function(){return f};this.isInState=function(n,t){return i[t]&&i[t][n.id]};this.getInstancesInCustomState=function(){return $.map(r,function(n,t){return ElementsManager.getInstanceByID(t)})};this.isInstanceInCustomState=function(n){return r[n.id]};this.getEditableStyleProperties=function(){return y};this.getEditableStylePropertiesMap=function(){return tt};this.removeStateAffected=function(t,i){i=i?i:$.returnTrue;$.eachEntry(t.properties,function(r,u){var f,e;for(f in u.customStatesValues)e=u.customStatesValues[f],$.eachEntry(e,function(u){var e=ElementsManager.getInstanceByID(u);e&&i(e,t,f,r)&&n.removeStateAffectedProperty(e,t,f,r)})})};this.removeStateAffecting=function(t){var u=!1,i,r;for(i in t.affectedProperties)r=t.affectedProperties[i],$.eachEntry(r,function(r,f){for(var e,s=f.length,o=0;o<s;o++)e=ElementsManager.getInstanceByID(r),e&&(u=!0,n.removeStateAffectedProperty(t,e,i,f[0]))})};this.addGlobalState=function(n,t,i,r){i===undefined&&(i=u.StateAdded);ht(n,t,i,r)};this.scalePropertyCustomStates=function(n,t,i,r){var f=n.properties[t].customStatesValues,u;u=n.data.scaleAnchorCustomStatesValues?n.data.scaleAnchorCustomStatesValues[t]:f;$.eachEntry(f,function(n,f){ElementStates[n]&&!ElementStates[n].responsiveState&&$.eachEntry(f,function(f,e){var s,h,o;if(i?e.stateValue[i]=u[n][f].stateValue[i]*r:e.stateValue=u[n][f].stateValue*r,s=PropertiesTypes[t],s.valueConverter!==undefined&&e.stateValue!==undefined&&e.stateValue!==null)for(h=$.asArray(s.valueConverter),o=0;o<h.length;o++)e.stateValue=h[o](e.stateValue)})})};this.setDefaultGlobalState=function(){var t=it();i={};f=!1;r={};s={};n.setCanPerformTransition(!1);$.eachEntry(t,function(n){var t=ElementsManager.getInstanceByID(n);t&&PropertiesManager.refreshState(t,u.StateSet,!0)});n.setCanPerformTransition(!0)};this.setCustomGlobalState=function(t,e){typeof t!="string"&&(t=t.name);var o=PropertiesManager.getStateAffectedInstances(e,t),h=it(),c=$.mapArray(o,function(){return!0},$.defaultIdFunction);$.extend(h,c);i={};r={};s={};$.objectSet(i,[t,e.id],o);f=!0;n.setCanPerformTransition(!1);$.eachEntry(h,function(n){var t=ElementsManager.getInstanceByID(n);t&&PropertiesManager.refreshState(t,u.StateSet,!0)});n.setCanPerformTransition(!0)};this.removeGlobalState=function(n,t){rt(n,t,u.StateRemoved)};this.clearInstanceGlobalState=function(n){for(var t in i)rt(t,n,u.StateSet)};this.inStateEditingMode=function(){return t!==undefined};this.getEditedState=function(){return t};this.startStateEditingMode=function(n){t={type:n.StateMode};n.sourceInstance&&(t.source=n.sourceInstance.id)};this.endStateEditingMode=function(){t=undefined};this.createProperties=function(n,t,i){var f,u;if(n!==undefined){for(f={},u=0;u<n.length;u++){var o=n[u],r=o.name,e,s=!0;t&&r in t&&(e=t[r],s=!1);s&&(e=i[r]());f[r]=ct(r,o,e)}return f}};this.getDefaultValues=function(n){var t={};return $.eachEntry(n.properties,function(n,i){i.defaultValue&&(t[n]=i.defaultValue())}),n.defaultProperties&&$.eachEntry(n.defaultProperties,function(n,i){t[n]=i()}),t};this.refreshState=function(n,t,i,r){if(n)if(PositionManager.isElementVisible(n)||n===PageManager.getCoordinator()||n.getPageId()===PageManager.getCurrentPageId())n.visibilityChangedEvent.hasNameBinding("refreshState")&&n.data.propertiesManagerRefreshStateVisibilityChangedEvent.unbind(),ut(n,t,i,r);else if($.eachEntry(n.properties,function(u,f){f.descriptor.shouldRefreshIfNotVisible&&PropertiesManager.refreshProperty(n,f,t,i,r)}),i&&lt(n),!n.visibilityChangedEvent.hasNameBinding("refreshState")){var u=n.visibilityChangedEvent.bind(function(){u.unbind();i=i?i:ViewManager.isDesignMode()?!0:!1;ut(n,t,i,r)},"refreshState");n.data.propertiesManagerRefreshStateVisibilityChangedEvent=u}};this.refreshProperty=function(n,t,i,r){t&&(t.descriptor.isStateProperty()||r&&t.customValueMarked)&&(r&&t.customValueMarked&&(t.customValueMarked=undefined,t.customValue=undefined),o(n,t,!0,i))};this.getStateTransitionEffect=function(n,i,r){if(t){var u=v(n,i);return $.objectGet(u.customStatesValues,[t.type.name,t.source,r])}};this.setStateTransitionEffect=function(n,i,r,u,f){var e=f?f:t,o,s;e&&(o=v(n,i),s=$.objectGet(o.customStatesValues,[e.type.name,e.source,r]),$.objectSet(o.customStatesValues,[e.type.name,e.source,r],u),PropertiesManager.Events.TransitionEffectUpdated.fireNew({instance:n,propertyName:i,typeName:e.type.name,sourceId:e.source,transitionName:r,value:u,oldValue:s}))};this.getValue=function(n,t){if(n.isCalculatedProperty(t))return n.getCalculatedPropertyValue(t);var i=v(n,t);return i===undefined?undefined:i.computedValue};this.resetCustomStateAffecting=function(n,t){var i=PropertiesManager.getAffectedInstancesByState(n,t.name);$.eachEntry(i,function(i,r){PropertiesManager.resetCustomState(r,{type:t,source:n.id})})};this.resetCustomState=function(i,r,u){var f,e;if(r===undefined&&(r=t),u||(u=$.returnTrue),r!==undefined)for(f in i.properties)e=i.properties[f],e.descriptor.isStateProperty()&&u(f)&&n.setValueInCustomState(i,e,r,undefined)};this.resetCustomStateProperty=function(i,r,u){if(r===undefined&&(r=t),r!==undefined){var f=i.properties[u];f&&f.descriptor.isStateProperty()&&n.setValueInCustomState(i,f,r,undefined)}};this.invalidateProperty=function(n,t,i,r,u){p(n,n.properties[t],i,r,u)};this.invalidateElement=function(n,t){t||RenderingCoordinator.startRenderingBatch();$.eachEntry(n.properties,function(t,i){p(n,i)});t||RenderingCoordinator.finishRenderingBatch()};this.resetInstanceStyleProperties=function(n){var i=n.getDescendingInstances(!0),t=PropertiesManager.getEditableStyleProperties();LayoutManager.beginLayoutUpdateBatch();$.eachItem(t,function(t,i){n.properties[i]&&p(n,n.properties[i])});LayoutManager.endLayoutUpdateBatch()};this.recomputePropertyValue=function(n,t,i){o(n,n.properties[t],i)};this.copyAffectingCustomProperties=function(n,t){var o,i,h,u,f,s,e,r;t=$.extend({filterFunction:$.returnTrue},t);o={};for(i in n.properties)if(h=n.properties[i],u=h.customStatesValues,u)for(f in u){s=u[f];for(e in s)r=s[e],r&&t.filterFunction(n.id,e,f)&&(PropertiesTypes[i].preSaveProcessing&&(r.stateValue=PropertiesTypes[i].preSaveProcessing(r.stateValue)),$.objectSet(o,[n.id,i,f,e],r))}return o};this.copyAffectedCustomProperties=function(n,t){var f,e,u,c,i,l,a,o,r,s,h;t=$.extend({propertiesFilter:undefined,saveToServer:undefined},t);f={};e={};for(u in n.affectedProperties){c=n.affectedProperties[u];for(i in c){if(e[i]||(e[i]={}),e[i][u]={},l=ElementsManager.getInstanceByID(i),!l){delete n.affectedProperties[u][i];continue}for(f[i]===undefined&&(f[i]={}),a=c[i],o=0;o<a.length;o++)(r=a[o],s=l.properties[r],(t.propertiesFilter===undefined||t.propertiesFilter(s))&&s.customStatesValues[u])&&(h=$.deepCloneObject(s.customStatesValues[u][n.id]),f[i][r]===undefined&&(f[i][r]={}),f[i][r][u]===undefined&&(f[i][r][u]={}),PropertiesTypes[r].preSaveProcessing&&(h.stateValue=PropertiesTypes[r].preSaveProcessing(h.stateValue)),f[i][r][u][n.id]=h,e[i][u][r]=r)}}return{copiedCustomStatesProperties:f,statesToPropertiesCopied:e}};this.getPropertiesValuesInState=function(n,t){var i={};return $.eachEntry(n,function(n,r){i[n]=t!==undefined&&r.customStatesValues[t]?$.extend({},r.customStatesValues[t]):r.value}),i};this.getStyleProperties=function(t){return n.getProperties(t,function(n){return n.descriptor.isStyleProperty})};this.getStateProperties=function(t){return n.getProperties(t,function(n){return n.descriptor.isStateProperty()})};this.getProperties=function(n,t){if(t===undefined)return n.properties;var i={};return $.eachEntry(n.properties,function(n,r){t(r)&&(i[n]=r)}),i};this.clonePropertiesValues=function(n,t){t=$.quickExtend({forSaving:!1,propertiesFilter:undefined},t);var i={};return $.eachEntry(n.properties,function(n,r){if(t.propertiesFilter!==undefined&&!t.propertiesFilter(r))return!0;var u=r.value;i[n]=$.isPlainObject(u)?$.deepCloneObject(u):$.isArray(u)?u.clone():u;r.descriptor.preSaveProcessing&&(i[n]=r.descriptor.preSaveProcessing(i[n]))}),i};this.updatePropertiesValues=function(t,i){var f={},r,u;for(r in i)u=t.getPropertyValue(r),e(PropertiesTypes[r],u,i[r])&&(f[r]=$.isPlainObject(i[r])?$.extend({},u,i[r]):i[r]);n.setPropertiesValues(t,f)};this.notifyCalculatedPropertyChange=function(n,t){n.isCalculatedProperty(t)&&k({instance:n,propertyName:t,propertyDescriptor:undefined,newValue:n.getPropertyValue(t),oldValue:undefined,isCalculated:!0})};this.setPropertiesValues=function(n,t,i,r){var s=n.properties,e=!1,u,f,o;$.hasMoreThanOneKey(t)&&(e=!0,LayoutManager.beginLayoutUpdateBatch(),PropertiesManager.UpdateBatch.start());for(u in t)f=t[u],o=n.isCalculatedProperty(u),o?(n.setCalculatedPropertyValue(u,f,i,r),k({instance:n,propertyName:u,propertyDescriptor:undefined,newValue:f,oldValue:undefined,isCalculated:!0})):at(n,s[u],f,i,r);e&&(PropertiesManager.UpdateBatch.finish(),LayoutManager.endLayoutUpdateBatch())};this.propertyValueHasChanged=e;this.propertyValueHasChanged=function(n,t,i){return e(PropertiesTypes[n],t,i)};this.addCustomStatesPropertiesValues=function(n){for(var t in n)ElementsManager.performOnInstancesCreated(t,function(t){var u=t[0],f=n[u],r=ElementsManager.getInstanceByID(u);$.eachEntry(f,function(n,t){if(r.properties[n]){r.properties[n].customStatesValues=$.extend(r.properties[n].customStatesValues,$.deepCloneObject(t));var u=r.properties[n];u.descriptor.isStateProperty()&&(g(r,u),o(r,u),$.eachEntry(t,function(t,u){$.eachEntry(u,function(u){var f=$.objectGet(i,[t,u]);f&&f.push(r);ElementsManager.performOnInstancesInitialization(u,function(i){var u=ElementsManager.getInstanceByID(i);u&&(ft(u,r,t,n),ViewManager.isViewMode()&&u.refreshCursor())})})}))}})})};this.isStyleAffecting=function(n,t){var i=!1,r,u;if(t!==undefined)typeof t!="string"&&(t=t.name),i=!$.isEmptyObject(n.affectedProperties[t]);else for(r in n.affectedProperties)n.affectedProperties.hasOwnProperty(r)&&($.isEmptyObject(n.affectedProperties[r])||(i=!0));return!i&&n.isType(ElementsTypes.skinHierarchyBox)&&(u=n.getStyleStateAffectedInstances(t),i=u.length>0),i};this.isStyleAffectingInPage=function(n,t,i){var r=!1,u;if(i!==undefined)typeof i!="string"&&(i=i.name),n.affectedProperties[i]&&$.eachEntry(n.affectedProperties[i],function(n){var i=ElementsManager.getInstanceByID(n);if(i&&i.getPageId()===t.id)return r=!0,!1});else for(u in n.affectedProperties)if(n.affectedProperties.hasOwnProperty(u)&&($.isEmptyObject(n.affectedProperties[u])||$.eachEntry(n.affectedProperties[u],function(n){var i=ElementsManager.getInstanceByID(n);if(i&&i.getPageId()===t.id)return r=!0,!1}),r))break;return r};this.getAffectedPropertiesDictionary=function(n,t,i){var f,e,r,u;if(typeof i!="string"&&(i=i.name),f={},e=t.affectedProperties[i],e!==undefined&&(r=e[n.id],r!==undefined))for(u=0;u<r.length;u++)f[n.properties[r[u]].descriptor.name]=n.properties[r[u]].descriptor;return f};this.getStateAffectedInstances=function(n,t){var i=[],u=n.affectedProperties[t],f,r,e;if(u!==undefined)for(f in u)r=ElementsManager.getInstanceByID(f),r&&i.push(r);return n.isType(ElementsTypes.skinHierarchyBox)&&(e=n.getStyleStateAffectedInstances(t),i=e.concat(i)),i};this.isAffectedInOtherStates=function(n,t,i){var f=!1,r,u;if(i.isComplex)return!0;for(r in n.affectedProperties)if(u=n.affectedProperties[r],r!==i.name&&u&&u[t.id])return f=!0,!1;return f};this.isAffectedInState=function(n,t,i){var r=n.affectedProperties[i];return r&&r[t.id]?!0:!1};this.getAffectedInstancesByState=function(n,t){var r={},u=n.affectedProperties[t];for(var i in u)$.eachItem(u[i],function(n,t){if(t){var u=ElementsManager.getInstanceByID(i);u&&!r[i]&&(r[i]=u)}});return r};this.removeStateAffectedProperty=function(n,t,i,r){var e=n.affectedProperties[i],o,s,u,h,f;if(e!==undefined&&(o=e[t.id],o!==undefined)){if(s=t.properties[r],u=t.properties[r].customStatesValues,$.isEmptyObject(u)||!u[i])return;h=u[i][n.id];f=a(s,i,n.id,t);f&&(f=f.stateValue);u[i]&&u[i][n.id]&&($.eachEntry(u[i][n.id],function(u,f){var e=PropertiesManager.TransitionsTypes[u];e&&PropertiesManager.Events.TransitionEffectUpdated.fireNew({instance:t,propertyName:r,typeName:i,sourceId:n.id,transitionName:e,value:undefined,oldValue:f})}),delete u[i][n.id]);$.isEmptyObject(u[i])&&delete u[i];o.removeItem(r);o.length==0&&(delete e[t.id],$.isEmptyObject(e)&&delete n.affectedProperties[i],$.count(n.affectedProperties)===0&&n.hasStates.setFalse());PropertiesManager.Events.CustomStatePropertyRemovedSimple.fireNew({affectedInstance:t,affectingInstance:n,propertyName:r,oldValue:f,stateName:i,sourceInstance:n});n.influenceChanged.fireNew()}};this.setValueInCustomState=function(t,i,r,u){var f,l,s,h;if(r&&r.type&&i&&(f=ElementsManager.getInstanceByID(r.source),f)){typeof i=="string"&&(i=v(t,i));var y=i.descriptor.name,c=!1,e=a(i,r.type.name,r.source,t);(e===undefined&&u!==undefined||e!==undefined&&u===undefined)&&(c=!0);u!==undefined&&(i.customStatesValues[r.type.name]===undefined&&(i.customStatesValues[r.type.name]={}),i.customStatesValues[r.type.name][r.source]===undefined&&(i.customStatesValues[r.type.name][r.source]={}));u!==undefined&&i.descriptor.customStateValueSetter&&(l=d(i,t),u=i.descriptor.customStateValueSetter(l,u,t,r.type.name));s=$.objectGet(i,["customStatesValues",r.type.name,r.source]);u!==undefined?s!==undefined?$.extend(i.customStatesValues[r.type.name][r.source],{stateValue:u}):$.objectSet(i,["customStatesValues",r.type.name,r.source],{stateValue:u}):e!==undefined&&s!==undefined&&$.eachEntry(s,function(n,i){var u=PropertiesManager.TransitionsTypes[n];u&&PropertiesManager.Events.TransitionEffectUpdated.fireNew({instance:t,propertyName:y,typeName:r.type.name,sourceId:f.id,transitionName:u,value:undefined,oldValue:i})});h=e?e.stateValue:undefined;c?u===undefined?n.removeStateAffectedProperty(f,t,r.type.name,i.descriptor.name,h):ft(f,t,r.type.name,i.descriptor.name):PropertiesManager.Events.CustomStatePropertyChangedSimple.fireNew({affectedInstance:t,propertyName:i.descriptor.name,oldStateValue:h});g(t,i);o(t,i)}};this.refreshPrioritisedCustomStates=g;this.updateComputedValue=function(n,t,i,r,u,f){var o=t.computedValue;w(t,i);(u||e(t.descriptor,o,t.computedValue))&&b(n,t,o,r,f)};this.shouldMarkPropertyAsCustom=function(n,t){return!n.isContent()&&(!Global.IsDesigner||EditorManager.Flags.PcEditing.isFalse())&&!PropertiesTypes[t].isNotForCustomProperty};this.getPropertiesValues=function(n,t){var i={};return $.eachEntry(n.properties,function(n,r){(t===undefined||t(r))&&(i[n]=r.computedValue)}),i};this.getPropertiesNormalValues=function(n,t){var i={};return $.eachEntry(n.properties,function(n,r){(t===undefined||t(r))&&(i[n]=r.value)}),i};this.rememberProperties=function(n,t){var i=n.getPropertiesValues(t);return{restore:function(){n.setPropertiesValues(i)}}};this.getPropertyValueInCustomState=a;this.addPropertyOperationToStack=function(n){var t;n=$.extend({instance:undefined,propertyName:undefined,oldValue:undefined},n);var r=n.instance,u=n.propertyName,i=n.oldValue;i!==undefined&&(t=ot(),$.objectSet(t.instancesValues,[r.id,u],i),OperationsManager.informOnOperation(t))};this.createPropertiesOperation=ot},UrlManager=new function(){function i(){!Global.IsDesigner&&AjaxNavigation.isPushState()&&ga&&ga("send","pageview",UrlManager.getFragment())}var t=$.makeDictionaryFromKeys(["<",">","/","%","?","*","\\"],!0),n=[];this.Events={UrlChangedEvent:SimpleEvent.create(),NavigationFinishedEvent:SimpleEvent.create()};this.Flags={inUrlChange:ObservableFlag.create(!1)};this.UrlChangingOperation=OperationsBatch.create();this.getFullHtmlUrl=function(n){return AjaxNavigation.getFullHtmlUrl(n)};this.isPageNameLegal=function(n){var i,r;if(!n)return!0;for(i=0;i<n.length;i++)if(r=n.charAt(i),t[r])return!1;return!0};this.registerUrlHandlers=function(t){$.eachItem(t,function(t,i){i=$.quickExtend({initialize:$.noop},i);i.initialize();n.push(i)})};this.getFragment=function(){return AjaxNavigation.getFragment()};this.getFragmentParts=function(n){var t=this.getFragment();return t?t.split($.valueOrDefault(n,"/")):[]};this.initialize=function(){UrlHandlersInitializer.initialize();PageManager.Events.PageChanged.bind(i);var n=Global.IsDesigner||PageData.IsSitePreview||PageData.IsTemplate;AjaxNavigation.initialize({usePushState:n?!1:SiteManager.AjaxNavigationFlag.isTrue(),useHash:n,useHashFallbackAsFragment:!0,fragmentChangedCallback:function(){UrlManager.Events.UrlChangedEvent.fire(UrlManager,AjaxNavigation.getFragment())},loadFragmentCallback:function(){UrlManager.handleUrlChange(!1)}})};this.handleUrlChange=function(t){UrlManager.UrlChangingOperation.start();var i=$.findFirst(n,function(n,i){return i.handle(UrlManager.getFragmentParts(),t)});if(!i)throw new Error("Couldn't find URL handler for this request");};this.navigate=function(n,t){t=$.quickExtend({finishedNavigationCallback:undefined,afterCurrentPageDetached:undefined,navigationOptions:undefined},t);var u=t.navigationOptions,i=t.finishedNavigationCallback,r=t.afterCurrentPageDetached;if(r)PageManager.Events.AfterCurrentPageDetached.one(r);if(i)UrlManager.Events.NavigationFinishedEvent.one(i);return AjaxNavigation.navigate(n,u)};this.changePage=function(n){UrlManager.Flags.inUrlChange.setTrue();PageManager.switchPage(n,function(){UrlManager.Flags.inUrlChange.setFalse();UrlManager.Events.NavigationFinishedEvent.fireNew();UrlManager.UrlChangingOperation.finish()})}},ConnectionManager=new function(){this.hasTargetConnectionsForTriggers=function(n){for(var u,r,o=arguments.length-1,i=new Array(o),f,e,t=0;t<o;t++)i[t]=arguments[t+1];for(f=n.getInitializedTargetConnections(),t=0;t<i.length;t++)r=i[t],typeof r!="string"&&(i[t]=r.name);return e=!1,f&&$.eachEntry(f,function(n,t){for(u=0;u<i.length;u++)if(r=i[u],t.options.triggerName===r)return e=!0,!1}),e};this.hasTargetConnectionsInPagesForTriggers=function(n){for(var u,r,e=Math.max(arguments.length-2,0),i=new Array(e),o,f,t=0;t<e;t++)i[t]=arguments[t+2];for(o=n.getInitializedTargetConnections(),t=0;t<i.length;t++)r=i[t],typeof r!="string"&&(i[t]=r.name);return f=!1,$.eachEntry(o,function(n,t){for(u=0;u<i.length;u++)if(r=i[u],t.options.triggerName===r)return f=!0,!1}),f}},LoadingRequirementsManager=new function(){var i=[],t=[],n=[];this.LoadingRequirements={ListsContent:{name:"ListsContent",create:function(n){return{require:LoadingRequirementsManager.LoadingRequirements.ListsContent.name,requestContent:n}}},Image:{name:"Image",create:function(){return{require:LoadingRequirementsManager.LoadingRequirements.Image.name}}},Font:{name:"Font",create:function(){return{require:LoadingRequirementsManager.LoadingRequirements.Font.name}}}};this.registerRequirementProcessor=function(n){n=$.extend(n,{processingFunction:function(t){var i=$.Deferred();return n.process(t,function(){i.resolve()},function(n){i.reject(n)}),i.promise()}});i.push(n)};this.performOnPageLoading=function(n){t.push(n)};this.performWhenRequirementsLoaded=function(t){n.push(t)};this.loadPageRequirements=function(r,u,f,e){var o=[],s;$.each(u,function(n,t){var i=t.getLoadingRequirements(r);i!==undefined&&o.push(i)});$.merge(o,t);t=[];s=[];$.each(i,function(n,t){s.push(t.processingFunction(o))});$.whenResults(s).done(function(){f(function(){$.each(n,function(n,t){t()});n=[]})}).fail(function(t){n=[];e(t)})}},PageManager=new function(){function yt(){var n=PageManager.NavigatablePagesInformation.getItems(),r=PageManager.PagesHierarchy.getIds(),t=[],i={};$.each(r,function(r,u){if(n[r]){var f=[];$.each(u.children,function(t){n[t]&&f.push(t)});f.length>0&&(i[r]=f);t.push(r)}});PageManager.NavigatableHierarchy.updateHierarchy(i,t)}function ft(){t.NavigatablePagesInformation.connectObservableCollection(t.PagesCollection,{normalizeCollection:et})}function et(){PageManager.NavigatablePageChangingOperation.performOperation(function(){function o(n){var t=n.menu;return t?MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?!t.isMobileDisabled:!t.isDesktopDisabled:!0}function f(t){i[t]=!0;delete n[t];r[t]&&$.each(r[t],function(n,t){f(t)})}var u;PageManager.NavigatablePagesInformation.beginUpdate();var n={},i={},e=t.PagesCollection.getItems(),r=t.PagesHierarchy.getHierarchies();$.each(e,function(t,r){o(r)?i[t]||(n[t]=r):f(t)});PageManager.NavigatablePagesInformation.remove($.getKeys(i));u=$.getValues(n).orderBy($.defaultIndexFunction,$.nullLastComparer);$.each(u,function(n,i){t.NavigatablePagesInformation.put($.quickExtend($.quickExtend({},i),{index:n+1}))});PageManager.NavigatablePagesInformation.endUpdate();yt()},"NormalizeNavigatablePagesInformation")}function ot(n){return $.findFirst(PageManager.AllPagesInformation.getItems(),n)}function st(n,t){PageManager.PagesUpdatingOperation.start();OrderManager.beginReorderingBatch();var r=PageManager.AllPagesInformation.getItem(n),f=r.index;u[n].exist=!1;i[n]&&(ElementsManager.removeInstances(i[n],i[n]),delete i[n]);PageManager.AllPagesInformation.remove(n);t&&!o(r)&&$.each(PageManager.PagesInformation.getItemsValues(),function(n,t){t.index>f&&(t.index--,PageManager.AllPagesInformation.updateItemFields(t.id,{index:t.index}))});PageManager.Events.PageDeleted.fire(PageManager,n);ct(n,r.tags);nt();OrderManager.endReorderingBatch();PageManager.PagesUpdatingOperation.finish()}function k(n){return y(n).getHierarchy()}function y(n){return e[n]||(e[n]=PagesStructures[n]?typeof PagesStructures[n]=="string"?HierarchyController.create(JSON.parse(PagesStructures[n])):HierarchyController.create(PagesStructures[n]):HierarchyController.create(ElementsManager.getHierarchyInfo(i[n],{forSaving:!0,saveToServer:!0,idsInHierarchy:!0,rootInstancesHierarchies:MobileVersionViewManager.getPageInstancesHierarchiesData(i[n]),filter:function(n){return!n.isMasterPageElement.isTrue()}}))),e[n]}function pt(n,t){$("body").addClass("loading-page");w=n;MasterPagesManager.setMasterPageInfo(n,function(){wt(n,t)})}function wt(n,i){p[n]||(p[n]=!0,w===n?t.isPageLoaded(n)?g(n,!1,i):$.ajax({url:SiteFilesMap["page-"+n],dataType:"script",cache:!0,success:ErrorHandler.wrapWithNotify(function(){var r=l.attach($.noop,function(){t.isPageLoaded(n)&&(l.detach(r.callbackId),l.getCallbacksLength()===0&&l.stopPooling(),w===n?g(n,!1,i):p[n]=!1)});l.startPooling()})}):p[n]=!1)}function g(n,i,r){var f,e,o;AppProfiler.profile("Page Initialization");f=t.getPageData(n);w=!1;e=f.title;n=n.toString();OperationsManager.disableOperationsRecording("switchPage");OrderManager.disable("switchPage");RenderingCoordinator.startRenderingBatch();i||ti(n,e);o=ni(n);u[n].initialized||ri(n);RenderingCoordinator.finishRenderingBatch();OrderManager.enable("switchPage");OperationsManager.enableOperationsRecording("switchPage");LoadingRequirementsManager.loadPageRequirements(f,o,function(t){gt(n,t,r)},function(n){ExceptionUtils.handleAjaxException(n);PageManager.navigateToPage(PageManager.getMainPageId())})}function bt(n){PageManager.PagesUpdatingOperation.start();t.FieldsInformation.put([{type:"index",title:"Index",name:"index",isDefaultField:!0},{type:"title",title:"Title",name:"title",isDefaultField:!0}]);e=$.mapDictionary(n.pages?n.pages:{},function(n,t){return HierarchyController.create(t)});var i=[];$.eachEntry(n.pagesData,function(n,t){u[n]=lt();i.push(t)});kt(i,n.pagesHierarchies);$.eachItem(i,function(n,t){t.id=t.id.toString();t.shareStyle===undefined&&(t.shareStyle=!0);ht(t.id,t.tags);dt(t);i[n]=$.quickExtend({metaTags:"",headerCode:"",footerCode:"",tags:[]},t)});PageManager.AllPagesInformation.put(i);nt();PageManager.PagesHierarchy.setHierarchies(n.pagesHierarchies);PageManager.PagesUpdatingOperation.finish()}function kt(n,t){if(ut<1.2044){var i=$.grep(n,o,!0),e=$.map(i,$.defaultIdFunction),r=new HierarchyCollection({ids:e,hierarchies:t}),u=r.getHierarchies(),s=1;function f(n){var t=$.grep(i,function(t){return $.oneOfValues(t.id.toString(),n)});t.orderBy(function(n){return n.index});$.each(t,function(n,t){t.index=s++;u[t.id]&&f(u[t.id])})}f(r.getRootIds())}}function dt(n){SiteManager.isTemplate()&&(n.isHomePage?(n.urlAlias="",n.useNameASUrl=!1):(n.urlAlias=UrlUtils.normalizeFriendlyUrl(n.title,"-"),n.useNameASUrl=!0))}function gt(f,e,o){OperationsManager.disableOperationsRecording("switchPage");var c=t.getPageData(f),l=r===f,h=u[f];Global.IsDesigner&&b.deactivate();RenderingCoordinator.startPageRenderingBatch();PageManager.Events.PageChanging.fireNew(r,f);PageManager.Flags.isInPageChanging.setTrue();ViewManager.isViewMode()||SelectionManager.disable();l||(s=n,r=f,n=i[f],MasterPagesManager.updateCurrentMasterPage(),h.initialized||ii(),s&&(s.detach(),PageManager.Events.AfterCurrentPageDetached.fireNew()),n.attachPage());e();PageManager.Events.PageLoaded.fireNew();h.initialized||(h.initialized=!0,PageManager.AllPagesInformation.getItem(f).supportsMobileStates||(h.markForSave.informOperation(),it(f)),PageManager.AllPagesInformation.getItem(f).supportsMobileStates=!0,PageManager.Events.PageInitialized.fireNew());PageManager.CurrentPageInstance.setValue(i[f]);PageManager.CurrentPageData.setValue(c);PageManager.Events.BeforePageChanged.fireNew();PageManager.Events.PageChanged.fireNew();PageManager.Events.AfterPageChanged.fireNew();PageManager.Flags.isInPageChanging.setFalse();o();Global.IsDesigner?ViewManager.isDesignMode()?d[r]?DesignerManager.setCurrentViewPort(d[r]):DesignerManager.setDefaultViewPort():DesignerManager.setPreviewViewPort():(ViewManager.getSiteScrollableElement().scrollTop(0),PositionManager.invalidatePositioningRootOffset());ViewManager.isViewMode()||(SelectionManager.enable(),SelectionManager.selectInstances([],!0));RenderingCoordinator.finishPageRenderingBatch();OperationsManager.enableOperationsRecording("switchPage");Global.IsDesigner&&b.activate();AppProfiler.profileEnd("Page Initialization")}function ni(n){var t=i[n],e=u[n],o=y(n),s=$.getValues(MasterPagesManager.getOrCreateMasterTemplateRootInstances(n)),h=ElementsUtil.getHierarchiesUnion(s),r,f;return e.initialized?r=t.getDescendingInstances():(t.data.pageContentRootInstances||(t.data.pageContentRootInstances=o.addHierarchyFromNode(n,{includeNode:!1,includeChildren:!0,parent:null,pageId:n})),f=t.data.pageContentRootInstances,r=f?ElementsUtil.getHierarchiesUnion(f):[],r.push(t)),$.merge(r,h)}function ti(n,t){var f,u;$("body").removeClass("loading-page");var e=y(n),r=k(n),o={StructureVersion:r.version,pagesStructure:{pages:[r]}};StructureLoadingManager.loadHierarchy(o);r.structures[0].type!==ElementsTypes.page.name&&($.triggerTrackingEvent({category:"UnreachableCode",action:"CreatePage"}),f=r.structures,r.structures=[{type:ElementsTypes.page.name,id:n,childElements:f}]);u=e.addHierarchyFromNode(n,{includeNode:!0,includeChildren:!1})[0];u.setPropertyValue("name",t);i[n]=u}function ii(){vt?ui():fi()}function ri(n){y(n).applyHierarchy()}function ui(){function u(){window.setTimeout(function(){RenderingCoordinator.startRenderingBatch();$.each(r,function(n,t){t.isDisplayed.setTrue("renderWithAboveTheFold")});RenderingCoordinator.finishRenderingBatch()},200)}var t=n.data.pageContentRootInstances,i=n.getHeaderInstance().getPropertyValue("sizeAndPosition").height,f=$.getWindowSize(),r=[];if(t&&$.each(t,function(t,u){var e=i<f.height&&!0;e||$.each(u.childInstances,function(n,t){t.isDisplayed.setFalse("renderWithAboveTheFold");r.push(t)});ElementsManager.addElementToContainerElement(n,u);i+=u.getPropertyValue("sizeAndPosition").height}),Global.IsDesigner)GroupDesigner.EditorLoaded.onceTrue(u);else u();delete n.data.pageContentRootInstances;OrderManager.reassignElementsOrders();t.length===0&&ElementsManager.addSection(n.getPageContentInstances()[0])}function fi(){var t=n.data.pageContentRootInstances;delete n.data.pageContentRootInstances;ElementsManager.addElementToContainerElement(n,t);OrderManager.reassignElementsOrders();t&&t.length!==0||ElementsManager.addSection(n.getPageContentInstances()[0])}function o(n){return!!n.pageListName}function ht(n,t){if(t&&n){var i=PageManager.PageToTags[n]?PageManager.PageToTags[n]:[],r=$.makeDictionaryFromKeys(t,!0),u=$.grep(i,function(n){return!r[n]});PageManager.PagesTags.put(t);$.eachItem(t,function(t,i){var r=PageManager.TagsToPagesMapObservableCollection[i];r||(r=new ObservableCollection,PageManager.TagsToPagesMapObservableCollection[i]=r);r.put({id:n})});ct(n,u);PageManager.PageToTags[n]=t}}function ct(n,t){t&&n&&$.eachItem(t,function(t,i){var r=PageManager.TagsToPagesMapObservableCollection[i];r?(r.remove(n),r.getItemsValues().length===0&&(PageManager.PagesTags.remove(i),r.clear(),delete PageManager.TagsToPagesMapObservableCollection[i])):PageManager.PagesTags.remove(i)})}function nt(){PageManager.AllPagesInformation.updateItemsFields(function(n){return{isHomePage:f===n}})}function lt(){return{initialized:!1,exist:!0,markForSave:VersionController.create()}}function ei(n){if(n&&n.coordinator){var t=n.coordinator;t.isCoordinator=!0;c=t;ut=c.version;StructureLoadingManager.loadHierarchy(t)}}function oi(n){n&&n.coordinator?h=ElementsManager.addHierarchyInfo(c,{withRendering:!1})[0]:(h=ElementsManager.addInstance(ElementsTypes.coordinator,null,{elementID:"coordinator"}),Global.Events.ElementsAdded.fireNew({instances:[h]}));PageManager.Events.CoordinatorInitialized.fireNew()}function tt(){RenderingCoordinator.performLayoutOrderUpdate(at,"refreshLastSectionHeight")}function at(){var n=PageManager.getCurrentPage(),f;if(n){var t=n.lastContentSectionInstance.getValue(),i=0,r=0;if(ViewManager.isViewMode()&&t){i=$.getWindowSize().height;Global.IsDesigner&&(ViewMobileWrapperMode.IsActive.isTrue()?i=ViewMobileWrapperMode.MobileViewHeight:i-=DesignerHeader.getOuterHeight());i-=FreemiumBanners.getFooterHeight()-PrivacyPolicyBar.getPrivacyPolicyHeight();f=0;$.each(n.getPageContentInstances()[0].getVisibleSectionsByPage(n),function(n,i){i!==t&&PositionManager.isElementVisible(i)&&(f+=i.getSize().height)});var u=n.getFooterInstance(),o=u&&PositionManager.isElementVisible(u)?u.getSize().height:0,e=n.getHeaderInstance(),s=u&&PositionManager.isElementVisible(e)?e.getSize().height:0;r=i-s-o-f;r=r>0?r:0}t&&(t.data.calculatedMinHeight=r,LayoutManager.LayoutContentOperationsSet.requestOperation(function(){LayoutManager.refreshElementsLayout(t)},"refreshLastSectionHeight"))}}function it(n,t){t=$.valueOrDefault(t,MasterPagesManager.getMasterPageIDByPage(n));MasterPagesManager.getMasterTemplateForSaveDirtyFlag(t).informOperation()}var t=this,l=PoolingController.create(),v,a,rt,n,r,s,f,h,c,ut,i={},u={},e={},b,vt=!1;this.Events={PageLoaded:SimpleEvent.create(),PageChanging:SimpleEvent.create(),InPageChanging:SimpleEvent.create(),PageChanged:SimpleEvent.create(),AfterPageChanged:SimpleEvent.create(),BeforePageChanged:SimpleEvent.create(),PageDeleted:SimpleEvent.create(),PageDeleting:SimpleEvent.create(),PageInitialized:SimpleEvent.create(),CoordinatorInitialized:SimpleEvent.create(),AfterCurrentPageDetached:SimpleEvent.create()};this.Flags={isPageSelected:ObservableFlag.create(!1),isInPageChanging:ObservableFlag.create(!1),HeaderExists:ObservableFlag.create(!1,{valueChangeCallback:function(n){$("body").toggleClass("header-exists",n)}}),FooterExists:ObservableFlag.create(!1,{valueChangeCallback:function(n){$("body").toggleClass("footer-exists",n)}}),InDynamicPage:ObservableFlag.create(!1)};this.PageChangingOperation=OperationsBatch.create();this.NavigatablePageChangingOperation=OperationsBatch.create();this.PagesUpdatingOperation=OperationsBatch.create();this.CurrentPageInstance=ObservableObject.create(undefined,{equalityComparer:$.defaultIdComparer});this.CurrentPageData=ObservableObject.create(undefined,{equalityComparer:$.defaultIdComparer,valueChangeCallback:function(n){PageManager.Flags.InDynamicPage.setValue(o(n))}});this.TagsToPagesMapObservableCollection={};this.PagesTags=new ObservableCollection({idFunction:function(n){return n}});this.PageToTags={};this.PagesHierarchy=new HierarchyCollection;this.NavigatableHierarchy=new HierarchyCollection;this.AllPagesInformation=new ObservableCollection;this.AllPagesCollection=CollectionObserver.create(t.AllPagesInformation);this.PagesInformation=CollectionUtils.connectObservableCollection(new ObservableCollection,t.AllPagesCollection,{filterFunction:$.oppositeFunction(o)});this.PagesCollection=CollectionObserver.create(t.PagesInformation);this.DynamicPagesInformation=CollectionUtils.connectObservableCollection(new ObservableCollection,t.AllPagesCollection,{filterFunction:o});this.NavigatablePagesInformation=new ObservableCollection;this.NavigatablePagesCollection=CollectionObserver.create(t.NavigatablePagesInformation);this.FieldsInformation=new ObservableCollection({idFunction:function(n){return n.name}});this.FieldsCollection=CollectionObserver.create(t.FieldsInformation);this.initialize=function(e){ei(e);Global.IsDesigner&&(b=SimpleEvent.createEventListener([OperationsManager.onOperationAdded,PropertiesManager.Events.PropertyValueChanged],function(){var i,t,f;ElementsManager.getRootInstance()===n&&EditorCore.EditorInitialized.isTrue()&&(i=u[r].markForSave,i.informOperation(),t=MasterPagesManager.getCurrentMasterPage(),t&&(f=t.id,MasterPagesManager.getMasterTemplateForSaveDirtyFlag(f).informOperation()))}),MasterPagesManager.MasterPageEditingModeChangedFinished.bind(function(){var n=PageManager.getCurrentPage();PositionManager.invalidateAreas($.merge([n],n.getPageContentInstances()))}));var s=!1;f=e.mainPageId;PageManager.Events.PageChanged.bind(function(){n.data.isLoaded?n.activateTrigger(Triggers.PageOpened):(n.data.isLoaded=!0,PropertiesManager.isStyleAffecting(n,ElementStates.BeforeLoadedState)?n.activateTrigger(Triggers.PageLoaded):n.activateTrigger(Triggers.PageOpened));n.activateTrigger(Triggers.PageLeave);n.refreshPageMetaData()});SimpleEvent.bind([Global.Events.ElementsAdded,ElementsManager.Events.InstancesRemoved,PageManager.Events.PageChanged],function(){n&&(PageManager.Flags.HeaderExists.setValue(n.getHeaderInstance()!==undefined),PageManager.Flags.FooterExists.setValue(n.getFooterInstance()!==undefined))});Global.IsDesigner&&SelectionManager.Events.SelectionChangedSimple.bind(function(){var i=SelectionManager.getSelectedInstances();i.length===1&&i[0]===n?t.Flags.isPageSelected.set():t.Flags.isPageSelected.reset()});SimpleEvent.bind([PageManager.PagesInformation.itemUpdatedEvent],function(n){if(!s){OperationsManager.disableOperationsRecording("PagesInformation");var t=n.id;u[t].initialized&&(i[t].setPropertyValue("name",n.title),PropertiesManager.notifyCalculatedPropertyChange(i[t],"pageTitle"));ht(t,n.tags);OperationsManager.enableOperationsRecording("PagesInformation")}});PageManager.PagesCollection.itemsChangedEvent.bind(function(t){t.updatedItems&&(OperationsManager.disableOperationsRecording("PagesCollection"),$.each(t.updatedItems,function(t,i){if(!i.markedForDelete){var r=ElementsManager.getInstanceByID(i.id);r&&(r.setPropertyValue("name",i.title),r===n&&(r.refreshPageMetaData(),PageManager.navigateToPage(i.id,{navigationOptions:{disableLoading:!0}})))}}),OperationsManager.enableOperationsRecording("PagesCollection"))});PageManager.NavigatablePageChangingOperation.startedEvent.bind(function(){PageManager.NavigatablePagesCollection.postponeUpdates()});PageManager.NavigatablePageChangingOperation.finishedEvent.bind(function(){PageManager.NavigatablePagesCollection.unPostponeUpdates()});PageManager.PagesUpdatingOperation.startedEvent.bind(function(){PageManager.NavigatablePageChangingOperation.begin();PageManager.AllPagesCollection.postponeUpdates()});PageManager.PagesUpdatingOperation.finishedEvent.bind(function(){PageManager.AllPagesCollection.unPostponeUpdates();PageManager.NavigatablePageChangingOperation.end()});PageManager.AllPagesInformation.itemsAddedEvent.bind(function(n){PageManager.PagesHierarchy.addIds($.map(n,function(n){if(!o(n))return n.id}))});PageManager.AllPagesInformation.itemsRemovedEvent.bind(function(n){PageManager.PagesHierarchy.removeIds(n)});MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent.bind(function(){PageManager.NavigatablePageChangingOperation.begin();PageManager.NavigatablePagesInformation.beginUpdate();PageManager.NavigatablePagesInformation.disconnectObservableCollection();ft();PageManager.NavigatablePagesInformation.endUpdate();PageManager.NavigatablePageChangingOperation.end()});bt(e);PageManager.NavigatablePageChangingOperation.begin();ft();PageManager.NavigatablePageChangingOperation.end();SimpleEvent.bind(PageManager.PagesHierarchy.hierarchyUpdateEvent,et)};this.getVisiblePageSections=function(t){var i,r,u;return t=$.valueOrDefault(t,!1),n?(i=[],r=n.getHeaderInstance(),t&&r&&i.push(r),i=$.merge(i,$.map(n.getPageContentInstances(),function(t){return t.getVisibleSectionsByPage(n)})),t&&(u=n.getFooterInstance(),u&&i.push(u)),i):[]};this.findPageByName=function(n){return ot(function(t,i){return i.title.toLowerCase()==n.toLowerCase()})};this.findPageByUrlAlias=function(n){return ot(function(t,i){return i.urlAlias===n})};this.getPagesRoot=function(){return v||(v=Global.IsDesigner?$("#pages-root"):$("#body-element")),v};this.getPageBody=function(){return a||(a=Global.IsDesigner?$("#page-body"):$("#body-element"),rt=a.parent()),a};this.getPageBodyParent=function(){return rt};this.getPageBodyHeight=function(){var t=n.getSize();return t?t.height:n.getPropertyValue("sizeAndPosition").height+n.getHeaderInstanceHeight()+n.getFooterInstanceHeight()};this.getSavingPagesVersionConrollers=function(){var n=[];return $.each(u,function(t,i){i.exist&&n.push(i.markForSave)}),n};this.findPageByUrlFragment=function(n,t){var i=null,r=t?PageManager.AllPagesInformation.getItems():PageManager.PagesInformation.getItems();return $.each(r,function(t,r){if(r.urlAlias===n)return i=r,!1;i||r.title.toLowerCase().trim(" ")!==n||(i=r)}),i};this.navigateToPage=function(n,t){t=$.quickExtend({finishedNavigationCallback:undefined,afterCurrentPageDetached:undefined,navigationOptions:undefined},t);t.navigationOptions=$.quickExtend({forceNavigation:n!==r},t.navigationOptions);UrlManager.navigate(PageManager.getPageFragmentValue(n),t)};this.switchToNextPage=function(){var n=r,t=PageManager.PagesInformation.getItemsLength(),i=PageManager.AllPagesInformation.getItem(r),u=o(i)?t:i.index;$.each(PageManager.PagesInformation.getItems(),function(i,r){if(r.index===u+1||u===t&&r.index===1)return n=i,!1});PageManager.navigateToPage(n)};this.switchToPrevPage=function(){var n=r,u=PageManager.PagesInformation.getItemsLength(),t=PageManager.AllPagesInformation.getItem(r),i=o(t)?1:t.index;$.each(PageManager.PagesInformation.getItems(),function(t,r){if(r.index===i-1||i===1&&r.index===u)return n=t,!1});PageManager.navigateToPage(n)};this.duplicateLoadedPageHierarchy=function(n,t,i){i=$.quickExtend({title:"Page"},i);var f=i.title,r=PageManager.getPage(n),e=ElementsManager.getHierarchyInfo(r,{forSaving:!0,saveToServer:!0,idsInHierarchy:!0,rootInstancesHierarchies:MobileVersionViewManager.getPageInstancesHierarchiesData(r),filter:function(n){return!n.isMasterPageElement.isTrue()}}),u=PageManager.addPageFromHierarchy(e,t,{title:f});PageManager.navigateToPage(u);it(u,t)};this.addPageFromHierarchy=function(n,t,i,r){var c,v,l,y,s,a,h;return i=$.quickExtend({id:undefined,title:"Page",pageTitle:"",metaTags:"",headerCode:"",footerCode:"",description:"",tags:[],keyWords:"",menu:undefined,pageType:undefined,pageListName:undefined,masterPageListName:undefined,urlAlias:undefined,useNameASUrl:undefined,markForSaving:!0,isHomePage:!1},i),r=$.quickExtend({duplicateHierarchy:!0},r),c=r.duplicateHierarchy,v=n.structures[0],v.type!==ElementsTypes.page.name?(n=PageManager.createPageHierarchyFromSections(n,{pageId:i.id}),c=!1):c&&(l=i.id,y={rootsIds:l?[l]:undefined},n=ElementsManager.duplicateHierarchyInfo(n,y)),PageManager.PagesUpdatingOperation.start(),s=n.structures[0].id,e[s]=HierarchyController.create(n),a=lt(),i.markForSaving&&a.markForSave.informOperation(),u[s]=a,h=i.index,o(i)||h!==undefined||(h=0,$.each(PageManager.PagesInformation.getItemsValues(),function(n,t){t.index>h&&(h=t.index)}),h++),i.urlAlias===undefined&&(i.urlAlias=UrlUtils.normalizeFriendlyUrl(i.title,"-"),i.useNameASUrl=!0),PageManager.AllPagesInformation.put({id:s,title:i.title,pageTitle:i.pageTitle,description:i.description,keyWords:i.keyWords,metaTags:i.metaTags,headerCode:i.headerCode,footerCode:i.footerCode,index:h,isHomePage:i.isHomePage,tags:i.tags,pageType:i.pageType,pageListName:i.pageListName,masterPageListName:i.masterPageListName,urlAlias:i.urlAlias,useNameASUrl:i.useNameASUrl,menu:i.menu}),t=$.valueOrDefault(t,MasterPagesManager.getDefaultMasterPageId()),MasterPagesManager.setMasterPage(s,t),i.isHomePage&&s!==f&&PageManager.setMainPageId(s),PageManager.PagesUpdatingOperation.finish(),s};this.createPageHierarchyFromSections=function(n,t){t=$.quickExtend({pageId:undefined},t);var r=$.valueOrDefault(t.pageId,StructureLoadingManager.generateWebsiteId()),i=ElementsManager.duplicateHierarchyInfo(n),u=i.structures;return i.idsInHierarchy&&(i.idsInHierarchy[r]=!0),i.pageId=r,i.structures=[{type:ElementsTypes.page.name,id:r,childElements:u,elementProperties:[]}],i};this.addEmptyPage=function(n,t){var r,i,u;return t=$.quickExtend({id:undefined,title:"Page"},t),r=t.title,i=$.valueOrDefault(t.id,StructureLoadingManager.generateWebsiteId()),t.id=i,u={structures:[{type:ElementsTypes.page.name,id:i,childElements:[{id:StructureLoadingManager.generateWebsiteId(),type:ElementsTypes.SectionElement.name,elementProperties:{pageContentId:PageManager.getCurrentPage().getPageContentInstances()[0].id,order:1}}],elementProperties:{name:r}}]},PageManager.addPageFromHierarchy(u,n,t,{duplicateHierarchy:!1})};this.addAndSwitchToPage=function(n,i,r){r=$.quickExtend({hierarchy:undefined},r);var f=r.hierarchy,u;u=f?t.addPageFromHierarchy(f,n,i):t.addEmptyPage(n,i);PageManager.navigateToPage(u);it(u,n)};this.removePage=function(n,i){var u,e;i=$.quickExtend({normalizeIndex:!0},i);PageManager.PagesUpdatingOperation.start();OrderManager.beginReorderingBatch();PageManager.Events.PageDeleting.fire(PageManager,n);PageManager.AllPagesInformation.updateItemFields(n,{markedForDelete:!0});n===f&&(u=$.findFirst(PageManager.PagesInformation.getItems(),function(t){return t!==n}),u?f=u.id:(e=MasterPagesManager.getMasterPageIDByPage(n),PageManager.addAndSwitchToPage(e,{isHomePage:!0})));s&&s.id===n&&(s=undefined);r===n?(t.navigateToPage(f,{finishedNavigationCallback:function(){st(n,i.normalizeIndex)}}),s=undefined):st(n,i.normalizeIndex);OrderManager.endReorderingBatch();PageManager.PagesUpdatingOperation.finish()};this.getPagesMetaData=function(){var i={},n,t,r;return $.each(u,function(n,t){if(t.exist){var r=$.quickExtend({},PageManager.AllPagesInformation.getItem(n));delete r.type;i[n]=r}}),n=ElementsManager.getHierarchyInfo(h,{forSaving:!0,saveToServer:!0,idsInHierarchy:!0,copyAffectedStates:!1,copyAffectingStates:!0,copyMobileStates:!1}),c&&(t=!0,$.each(PageManager.PagesInformation.getItems(),function(n,i){if(!i.supportsMobileStates)return t=!1,!1}),n=ElementsManager.adjustHierarchyWithBaseHierarchy(n,c,function(n,i,r){return t?!1:r===MobileVersionViewManager.MobileStateName&&ElementsManager.getInstanceByID(i)?!1:!0})),StructureLoadingManager.preSaveHierarchy(n),r=PageManager.PagesHierarchy.getHierarchies(),{editorCoordinator:EditorManager.getCoordinatorHierarchyForSave(),coordinator:n,mainPageId:f,pagesData:i,pagesHierarchies:r}};this.getPagesStructures=function(n){var t={};return $.each(u,function(r,u){var o,f;u.exist&&(o=u.markForSave.isDirty(),(o||!n)&&(u.initialized?(f=ElementsManager.getHierarchyInfo(i[r],{forSaving:!0,saveToServer:!0,idsInHierarchy:!0,filter:function(n){return!n.isMasterPageElement.isTrue()},rootInstancesHierarchies:MobileVersionViewManager.getPageInstancesHierarchiesData(i[r])}),f=ElementsManager.adjustHierarchyWithBaseHierarchy(f,k(r)),f.idsInHierarchy=undefined,t[r]=f):e[r]&&(t[r]=k(r))))}),t};this.getMainPageId=function(){return f};this.setMainPageId=function(n){f=n;nt()};this.getPages=function(){return i};this.getPage=function(n){return i[n]};this.isDynamicPage=function(n){return n&&t.DynamicPagesInformation.getItem(n)!==undefined};this.getPagesData=function(){return PageManager.AllPagesInformation.getItems()};this.getPagesStates=function(){return u};this.getCurrentPage=function(){return n};this.getHtmlPageUrl=function(t){return t||(t=n),Global.IsDesigner?SocialLinksManager.getBrandSocialDefaultLink("facebook"):$.getRootWindow().location.href+"/?page="+t.getPropertyValue("name")};this.getCoordinatorHeirarchy=function(){return c};this.getCoordinator=function(){return h};this.getContentWidth=function(){return PageManager.getCoordinator().getPropertyValue("contentWidth")};this.getCurrentPageId=function(){return n?n.id:r};this.getPrevPage=function(){return s};this.getPageData=function(n){var t=n.masterListPageId,i=$.valueOrDefault(t,n);return PageManager.AllPagesInformation.getItem(i)};this.getPageFragmentValue=function(n){var r=n.masterListPageId,u=$.valueOrDefault(r,n),t=PageManager.AllPagesInformation.getItem(u),i;return t?(i="",(!t.isHomePage||r&&n.suffix)&&(i=t.urlAlias||t.title),r&&n.suffix&&(i+="/"+n.suffix),i.trim(" ").toLowerCase()):""};this.isPageLoaded=function(n){return e[n]||PagesStructures[n]!==undefined};var d={},p={},w=!1;return this.switchPage=function(t,i){if(!i)throw new Error("Switch page can be called only by UrlManager, you should use PageManager.navigateToPage instead");Global.IsDesigner&&ViewManager.isDesignMode()&&ModeManager.Flags.InModeChanging.isFalse()&&r&&(d[r]=DesignerManager.getCurrentViewPort());var f=u[t];if(f.initialized&&!f.exist)return n;f.initialized===!1?pt(t,i):g(t,!0,i)},this.constructPagesHierarchy=function(n){oi(n)},this.whenCoordinatorAvailable=function(n){if(h)n(h);else PageManager.Events.CoordinatorInitialized.one(function(){n(h)})},this.initializeMinPageHeightRule=function(){var t=[ViewManager.Events.SwitchedToViewMode,ViewManager.Events.SwitchedToDesignMode],n=SimpleEvent.createEventListener([$.getWindowSizeEvent(),Global.PageHeightChanged,PageManager.Events.PageChanging],tt,{activationCallback:tt,deactivationCallback:tt});SimpleEvent.bindAndExecute(t,function(){ViewManager.isViewMode()?n.activate():n.deactivate()})},this.refreshLastSectionHeight=at,this},PopUpManager=new function(){function h(){var h;if(r){var l=t.getDataSource(),a=l.getAllItems(),c=a[n.getDataItemId()],s=c.image;s||$.each(c,function(n,t){if(t.imageUrl)return s=t,!1});h=s?AssetsManager.resolveImageUrl(s.imageUrl,o):undefined}else n.elementType===ElementsTypes.image&&(h=AssetsManager.resolveImageUrl(n.getPropertyValue("imageUrl"),o));$.unite(e,f).toggleDisplayed(r);i.toggleEnable(r);u.setImage(h,!1)}function a(){i=$("<span class='popup-image-box-container'><\/span>").css("backgroundColor","black");u=$("<span class='absolute-fill'><\/span>").appendTo(i).makeImageBoxNew({autoLoad:!0,layout:ImageBoxLayout.FitWhenBigger});f=$("<span class='popup-next-button popup-navigate-button'><span class='navigate-button-icon popup-next-button-icon'><\/span><\/span>").appendTo(i);e=$("<span class='popup-prev-button popup-navigate-button'><span class='navigate-button-icon popup-prev-button-icon'><\/span><\/span>").appendTo(i);c=$("<span class='popup-close-button'><\/span>").appendTo(i);c.makeSimpleButton().buttonClick(function(){s.hidePopup()});f.makeSimpleButton();i.makeSimpleButton().addDisablingStates();$.unite(f,i).buttonClick(function(){var u=t.getDataSource(),f=u.getAllItems(),i=parseInt(f[n.getDataItemId()].index),r=t.getItemsControllers();r.length<=i&&(i=0);n=r[i];h()});e.makeSimpleButton().buttonClick(function(){var u=t.getDataSource(),f=u.getAllItems(),i=parseInt(f[n.getDataItemId()].index)-1,r=t.getItemsControllers();1>i&&(i=r.length);n=r[i-1];h()})}var s=this,n,t,u,i,c,f,e,o,r,l=!1;this.showInPopup=function(c){var v,y;if(u||a(),n=c,o={width:$(window).width()*.7,height:$(window).height()*.7},i.css(o),c.elementType!==ElementsTypes.Gallery?(t=$.grep(c.getParents(),function(n){return n.elementType===ElementsTypes.Gallery})[0],t?(r=!0,v=$.grep(c.getParents(),function(n){return n.isDataListItem()})[0],v&&(n=v)):r=!1):(t=c,r=!0,n=t.getItemsControllers()[0]),t){var w=t.getDataSource(),b=w.getAllItems(),k=b[n.getDataItemId()],p=!1;if($.each(k,function(n,t){if(t.imageUrl)return p=!0,!1}),!p){t=undefined;n=undefined;r=!1;return}}u.clearImage();Dialog.open(i);y=Dialog.getDialogOverlay(i);y.css({backgroundColor:"black",opacity:.8});$([y]).one("mousedown.popup",function(){s.hidePopup()});l||($.unite(e,f).find(".navigate-button-icon").makeCentered({vertically:!0,horizontally:!1}),l=!0);u.synchronizeViewPort();h()};this.hidePopup=function(){var u=Dialog.getDialogOverlay(i);Dialog.close(i);u.removeClass("popup-overlay");$([u]).unbind("mousedown.popup");t=undefined;n=undefined;r=!1};ViewManager.Events.SwitchedToDesignMode.bind(function(){n&&s.hidePopup()})},PositionManager=new function(){function p(n,t){t.updateSize&&delete h[n.id];t.updateOffset&&delete s[n.id]}function i(n){return n?l[n.id]:null}function w(n){for(var u,t,r=0;r<n.length;r++)t=n[r],u=i(t),u&&u.isVisible?o[t.id]=t:delete o[t.id];for(r=0;r<n.length;r++)t=n[r],t.isDeleted||t.visibilityChangedEvent.fireNew({instance:t});PositionManager.Events.ElementsVisibilityChanged.fireNew({instances:n})}function b(t,r){var e=ElementsUtil.getHierarchiesUnion(t),o=[];if(e.length>0){var f=document.documentElement,s=(window.pageYOffset||f.scrollTop)-(f.clientTop||0),h=(window.pageXOffset||f.scrollLeft)-(f.clientLeft||0),l=c(),u=undefined;$.eachItem(e,function(t,f){var e=i(f),c,a,w,y,v;if(!e)return!0;c=e.isVisible;u&&c?a={left:u.left+e.offset.left,top:u.top+e.offset.top}:(AppProfiler.informOnReadOperation(),w=f.$element[0],y=w.getBoundingClientRect(),a={top:y.top+s,left:y.left+h});c&&p(f,{updateOffset:!0});v=c?$.relativeOffset(a,l):null;$.offsetsEqual(v,e.offset)||c&&(r&&u===undefined&&c&&(u={left:a.left-e.offset.left,top:a.top-e.offset.top}),e.offset=v,n.updateInstanceLastPosition(f.id,v),o.push(f),PositionManager.UpdateBatch.fireEvent(f.offsetChangedEvent,undefined,function(){return PositionManager.isElementVisible(f)?!0:(e=null,!1)}))})}return o}function k(t){var r=[];return $.eachItem(t,function(t,u){var e=i(u),o,f,s;if(!e)return!0;o=PositionManager.isElementVisible(u);f=null;o&&(AppProfiler.informOnReadOperation(),o&&p(u,{updateSize:!0}),f=u.$element.getOuterSize());$.sizesEqual(f,e.size)||o&&(s=$.cloneSize(e.size),f&&(f.width=f.width>0?f.width:0,f.height=f.height>0?f.height:0),e.size=$.cloneSize(f),n.updateInstanceLastSize(u.id,f),r.push(u),PositionManager.UpdateBatch.fireEvent(u.sizeChangedEvent,{prevSize:s,size:f},function(){return PositionManager.isElementVisible(u)?!0:(e=null,!1)}))}),r}function c(){return e===undefined&&(e=y.offset()),e}this.Events={ElementsAreaChanged:SimpleEvent.create(),ElementsVisibilityChanged:SimpleEvent.create(),PositionRootInvalidated:SimpleEvent.create()};this.UpdateBatch=OperationsBatch.create({batchFinishingStartedCallback:function(){LayoutManager.beginLayoutUpdateBatch()},batchFinishingCompletedCallback:function(){LayoutManager.endLayoutUpdateBatch()}});this.VisibilityUpdateBatch=OperationsBatch.create({batchFinishingStartedCallback:function(){ElementInstance.InstancesInitializationBatch.start()},batchFinishingCompletedCallback:function(){ElementInstance.InstancesInitializationBatch.finish()}});this.PageRearrangementBatch=OperationsBatch.create({batchFinishingStartedCallback:function(){PositionManager.executeAllUpdateSizeAndPositions()}});var n=this,l={},a={},v={},y,e=undefined,o={},r={},u={},t={},f=!1,s={},h={};this.initialize=function(){y=Global.OffsetAncestor;Global.Events.ElementRemoving.bind(function(n){var t=n.removedInstance;delete l[t.id];delete o[t.id];delete a[t.id];delete v[t.id]});$.getWindowSizeEvent().bind(function(){PositionManager.invalidatePositioningRootOffset();(!Global.IsDesigner||ViewManager.isViewMode())&&PositionManager.updatePosition($.getValues(ElementsManager.getAllPageInstances()))})};this.invalidateAreas=function(n,t){if(t=$.quickExtend({updateSize:!0,updateOffset:!0}),n=$.asArray(n),PositionManager.PageRearrangementBatch.isActive()){var i=$.mapArray(n,$.returnValue,$.defaultIdFunction);t.updateSize&&$.quickExtend(h,i);t.updateOffset&&$.quickExtend(s,i)}else LayoutManager.requestUpdatePosition(n,t)};this.executeAllUpdateSizeAndPositions=function(){LayoutManager.layoutUpdateBatch.start();var n=h,t=s;h={};s={};LayoutManager.requestUpdatePosition($.getValues(n),{updateOffset:!1});LayoutManager.requestUpdatePosition($.getValues(t),{updateSize:!1});LayoutManager.layoutUpdateBatch.finish()};this.invalidatePositioningRootOffset=function(){e=undefined;PositionManager.Events.PositionRootInvalidated.fireNew()};this.updateInstanceLastPositionAndSize=function(t,i){i&&(n.updateInstanceLastPosition(t,i.position),n.updateInstanceLastSize(t,i.size))};this.getInstanceLastPositionAndSize=function(t){return{position:n.getInstanceLastPosition(t),size:n.getInstanceLastSize(t)}};this.updateInstanceLastPosition=function(n,t){t&&(a[n]=t)};this.getInstanceLastPosition=function(n){return a[n]};this.updateInstanceLastSize=function(n,t){!t||t.width===0&&t.height===0||(v[n]=t)};this.getInstanceLastSize=function(n){return v[n]};this.initializeStoredPosition=function(n){l[n.id]={offset:null,size:null,isVisible:!1}};this.isTrackOver=function(n){return r[n.id]||u[n.id]?!0:!1};this.enableMouseOver=function(){f||(f=!0,PageManager.getPageBody().bind("mouseleave.trackMouseOver",function(){var i=$.getValues(t),n;for(t={},n=0;n<i.length;n++)i[n].elementLeaveEvent.fireNew()}).bind("mousemove.trackMouseOver",function(n){var k=$.getMouseOffset(n),s={},h={},f,e,a,o,p,c,b,y,l;for(f in r){if(e=r[f],PositionManager.isElementVisible(e))var d=$.getArea(PositionManager.getElementAbsoluteOffset(e),PositionManager.getElementSize(e)),a=$.isInsideArea(d,k),o=t[f]!==undefined;else a=!1,o=t[f]!==undefined;a&&!o?(t[f]=e,s[f]=e):!a&&o&&(delete t[f],h[f]=e)}for(p in u){var i=u[p],v=i.childInstances,o=t[i.id]!==undefined,w=0;for(c=0;c<v.length;c++)if(b=v[c],y=t[b.id]!==undefined,y&&!o){t[i.id]=i;s[i.id]=i;break}else!y&&o&&w++;w===v.length&&(delete t[i.id],h[i.id]=i)}for(l in s)s[l].elementEnterEvent.fireNew(n);for(l in h)h[l].elementLeaveEvent.fireNew(n)}))};this.disableMouseOver=function(){PageManager.getPageBody().unbind("mouseleave.trackMouseOver").unbind("mousemove.trackMouseOver");f=!1};this.trackMouseOver=function(t){t.elementType===ElementsTypes.group?(u[t.id]=t,$.eachItem(t.childInstances,function(t,i){n.trackMouseOver(i)})):r[t.id]=t};this.stopMouseOverTracking=function(i){i.elementType===ElementsTypes.group&&(delete u[i.id],$.eachItem(i.childInstances,function(t,i){n.stopMouseOverTracking(i)}));var e=i.id;r[e]&&(delete r[e],delete t[e],f&&$.isEmptyObject(r)&&(f=!1,PageManager.getPageBody().unbind(".trackMouseOver")))};this.getInstancesInOffset=function(n){var t=[],i=PositionManager.getVisibleInstances();return $.eachEntry(i,function(i,r){if(r.hasFeature(Features.Selectable)){var u=PositionManager.getElementArea(r,!0);u&&n&&$.isInsideArea(u,n)&&t.push({instance:r,order:r.getPropertyValue("order")})}}),t};this.getInstancesFromOffset=function(n,t){for(var r=[],i=n;i;)$.eachItem(i.childInstances,function(n,i){if(i.hasFeature(Features.DesignElement)&&i.canMove.isTrue()){var u=PositionManager.getElementOffset(i,!0);u&&u.top>=t&&r.push(i)}}),t=PositionManager.getElementOffset(i,!0).top+i.getSize().height,i=i.hasFeature(Features.PageSection)?null:i.parentInstance;return r};this.getVisibleInstances=function(){return o};this.visibilityTreeAttach=function(t){var u,s=t.isAttachedToVisibleNode(),f,e,r,o;if(s&&!n.isElementVisible(t)){for(PositionManager.UpdateBatch.start(),f=[],e=[t],u=0;u<e.length;u++)r=e[u],r.isVisible&&(f.push(r),o=i(r),o&&(o.isVisible=!0,$.merge(e,r.getChildInstances())));LayoutManager.requestUpdatePosition(t);LayoutManager.beginLayoutUpdateBatch();PositionManager.VisibilityUpdateBatch.start();LayoutManager.refreshElementsLayout(f,!0);w(f);PositionManager.VisibilityUpdateBatch.finish();LayoutManager.endLayoutUpdateBatch();PositionManager.UpdateBatch.finish()}};this.visibilityTreeDetach=function(t){var r,u,f,e,o;if(n.isElementVisible(t)&&!t.isDeleted){for(u=[],f=[t],r=0;r<f.length;r++)e=f[r],o=i(e),o&&o.isVisible&&(u.push(e),o.isVisible=!1,$.merge(f,e.getChildInstances()));PositionManager.UpdateBatch.start();LayoutManager.requestUpdatePosition(u);PositionManager.VisibilityUpdateBatch.start();w(u);PositionManager.VisibilityUpdateBatch.finish();PositionManager.UpdateBatch.finish()}};this.isElementVisible=function(n){var t=i(n);return!t||n.isDeleted?!1:t.isVisible};this.getElementAbsoluteOffset=function(t){return n.getElementOffset(t,!0)};this.getElementOffset=function(n,t){var e,r,f,u;return(t===undefined&&(t=!1),e={},r=i(n),!r)?n?$.quickExtend({},n.getPropertyValue("sizeAndPosition")):null:(f=r.offset,u=$.clonePosition(f),t?$.getAbsoluteOffset(u,c()):u)};this.getOverlappingInstances=function(n,t,i){if(!n||!t||t.length===0)return[];var r=PositionManager.getElementArea(n);return i&&(r=$.expandArea(r,i)),$.grep(t,function(t){if(t!==n&&t.elementType!==ElementsTypes.page){var i=PositionManager.getElementArea(t);return $.areasOverlap(i,r)}return!1})};this.getElementArea=function(n,t,i,r){return i=i?i:PositionManager.getElementOffset,r=r?r:PositionManager.getElementSize,PositionManager.isElementVisible(n)?$.getArea(i(n,t),r(n)):null};this.getElementContentArea=function(n,t){var i=PositionManager.getElementArea(n,t);return $.shrinkArea(i,ElementsUtil.getElementContentMargins(n))};this.getElementSize=function(n){var t=i(n);return t?$.cloneSize(t.size):$.quickExtend({},n.getPropertyValue("sizeAndPosition"))};this.getContentSize=function(n){var i,t,r;return i=n.hasFeature(Features.HasBorder)?n.getActualPropertyValue("borderWidth"):{left:0,top:0,bottom:0,right:0},t=n.getPropertyValue("padding"),t===undefined&&(t={left:0,top:0,bottom:0,right:0}),r=n.getSize(),r||(r=n.getPropertyValue("sizeAndPosition")),{width:r.width-i.left-i.right-t.left-t.right,height:r.height-i.top-i.bottom-t.top-t.bottom}};this.isAreaInViewPort=function(n){var t=DesignerManager.calculateDesignerArea();return n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right?!1:!0};this.updatePosition=function(t,i){var r,u,f;return i=$.quickExtend({updateOffset:!0,updateSize:!0,hintMoveTogether:!1},i),t=$.asArray(t),t=$.grep(t,function(t){return n.isElementVisible(t)}),PositionManager.UpdateBatch.start(),r=[],u=[],i.updateOffset&&(r=b(t,i.hintMoveTogether)),i.updateSize&&(u=k(t)),f=ElementsUtil.unionInstances(r,u),f.length>0&&PositionManager.Events.ElementsAreaChanged.fireNew(),PositionManager.UpdateBatch.finish(),{changedOffsets:r,changedSizes:u,changedInstances:f}};this.getPositioningRootOffset=function(){return c()}},ElementsUtil=new function(){this.getElementContentMargins=function(n){var i,t;return i=n.hasFeature(Features.HasBorder)?n.getActualPropertyValue("borderWidth"):{left:0,top:0,bottom:0,right:0},t=n.getPropertyValue("padding"),t===undefined&&(t={left:0,top:0,bottom:0,right:0}),{left:i.left+t.left,right:i.right+t.right,top:i.top+t.top,bottom:i.bottom+t.bottom}};this.areSameInstances=function(n,t){return DictionaryUtils.equalByKeys(ElementsUtil.mapInstancesByID(n),ElementsUtil.mapInstancesByID(t))};this.getHierarchiesRoots=function(n){function f(n){delete t[n.id];$.eachItem(n.childInstances,function(n,t){f(t)})}for(var r,t=ElementsUtil.mapInstancesByID(n),u=$.getValues(t),i=0;i<u.length;i++)r=u[i],r.parentInstance&&$.eachItem(r.childInstances,function(n,t){f(t)});return $.getValues(t)};this.getHierarchiesUnion=function(n){for(var o,u,i,f,e=ElementsUtil.mapInstancesByID(n),t=$.getValues(e),r=0;r<t.length;r++)for(o=t[r],u=o.getChildInstances(),i=0;i<u.length;i++)f=u[i],e[f.id]===undefined&&t.push(f);return t};this.unionInstances=function(){return $.getValues(ElementsUtil.mapInstancesByID.apply(this,arguments))};this.mapInstancesByID=function(){for(var i,n,r,u={},f=arguments.length,t=0;t<f;t++)for(i=arguments[t],n=0;n<i.length;n++)r=i[n],u[r.id]=r;return u};this.eliminateDescendingInstances=function(n){var f=ElementsUtil.mapInstancesByRoot(n),e=[],u,i,r;for(u in f){var t=[],o=f[u],s=$.count(o);for(t.push(ElementsManager.getInstanceByID(u)),i=0;i<t.length&&s>0;i++)r=t[i],o[r.id]===undefined?$.merge(t,r.getChildInstances()):(e.push(r),s--)}return e};this.getCommonAncestors=function(n,t,i){var e,o,r,f,u,s;if(i=$.valueOrDefault(i,!0),n=$.asArray(n),n.length===0)return[];if(t||(n=ElementsUtil.eliminateDescendingInstances(n)),n.length===1)return n[0].getParents(i);for(e={},o=n[0].getParents(!1),r=0;r<o.length;r++)e[o[r].id]=r;for(f=undefined,r=1;r<n.length;r++){for(u=n[r].getParent();u&&e[u.id]===undefined;)u=u.getParent();if(!u)return[];s=e[u.id];(f===undefined||s>f)&&(f=s)}return o.slice(f)};this.getAllAncestors=function(n,t){if(n=$.asArray(n),n.length===0)return{};var i={};return $.eachItem(n,function(n,r){if(!i[r.id])for(var f=r.getParents(t),u=0;u<f.length;u++)i[f[u].id]=f[u]}),i};this.findAncestor=function(n,t,i){i===undefined&&(i=!1);for(var r=i?n:n.parentInstance;r&&!t(r);)r=r.parentInstance;return r};this.mapInstancesByRoot=function(n){for(var i={},r=0;r<n.length;r++){var u=n[r],f=ElementsManager.getInstanceRootID(u),t=i[f];t===undefined&&(t={},i[f]=t);t[u.id]=u}return i};this.instancesToElements=function(n){var t=$([]);return $.eachItem(n,function(n,i){t.pushElements(i.$element)}),t};this.elementsToInstances=function(n){var t=[];return n.each(function(){t.push($instance(this))}),t}},FaceBookManager=new function(){this.FaceBookInitializedFlag=ObservableFlag.create(!1);var n=!1;this.isInitialized=function(){return n};this.initialize=$.noop},SiteManager=new function(){function h(n,t,r,u){SiteManager.BeforeSavingSiteEvent.fireNew();ApplicationService.saveSiteAs(t,SiteManager.getEditedTemplateID(),SiteManager.getSiteInformation(),i.getSiteType(),n,SiteManager.getTemplateCategory(),SiteManager.getTemplateCategoryPosition(),ListsManager.getListNamesToCreate(),typeof AdditionalPostData!="undefined"?AdditionalPostData:undefined,function(t){SiteManager.setEditedSite(t.id,t.name,n===SavedVersionType.Published);y(t.id);a();r(t);l(t)},u)}function c(n,t,r,f){SiteManager.BeforeSavingSiteEvent.fireNew();f(5);ApplicationService.saveSite(SiteManager.getSiteID(),SiteManager.getSiteInformation(),SiteManager.getBaseVersion(),i.getSiteType(),n,u?SiteManager.getEditedTemplateID():null,ListsManager.getListNamesToCreate(),function(n){SiteManager.isTemplate()&&a();t();l(n)},r,f)}function l(n){s=null;SiteManager.SiteSavedEvent.fire(SiteManager,n)}function y(t){n.isSaved||(n.isSaved=!0,f=t,SiteManager.SiteExists.setTrue(),n.siteCreatorUserName=WebzaiController.getCurrentUserName())}function a(){u&&($.callRootFunction("setSiteEditingScope",SiteManager.getSiteID()),u=!1)}function p(){n.isPublished||(n.isPublished=!0,i.SitePublishedEvent.fireNew())}function w(n){var t={};return $.each(n,function(n,i){if(i.type===ElementsTypes.FormElement.name){var r=i.elementProperties.formID,f=i.elementProperties.dataInfo,u={};$.each(f.currentData,function(n,t){var i=SiteManager.getFormFieldName(t);u[i]={name:i,type:FormFieldsTypes.ShortText,metaData:null}});t[r]={formID:r,email:i.elementProperties.targetEmail,fieldsInfo:u}}}),t}function b(n,t){var i={},r={};return $.each(n.pagesInstancesInfo,function(n,r){i[n]=t(r)}),$.each(n.masterPagesInstancesInfo,function(n,i){r[n]=t(i)}),{pages:i,masterPages:r}}function k(n,t){var i={},r={};return $.each(n,function(n,t){var r=[];i[n]=r;$.each(t.structures,function(n,t){$.merge(r,v(t))})}),$.each(t,function(n,t){var i=[];r[n]=i;t.hierarchyInfo&&t.hierarchyInfo.structures&&$.each(t.hierarchyInfo.structures,function(n,t){$.merge(i,v(t))})}),{pagesInstancesInfo:i,masterPagesInstancesInfo:r}}function v(n){function i(n){t.push({id:n.id,type:n.type,elementProperties:n.elementProperties,childElements:n.childElements});n.childElements&&$.each(n.childElements,function(n,t){i(t)})}var t=[];return i(n),t}var i=this,n,t,o,r,f,e={},u,s;this.SitePublishedEvent=SimpleEvent.create();this.SiteSavedEvent=SimpleEvent.create();this.EditedSiteChangedEvent=SimpleEvent.create();this.SiteExists=ObservableFlag.create();this.AjaxNavigationFlag=ObservableFlag.create(!0);this.BeforeSavingSiteEvent=SimpleEvent.create();Global.IsDesigner&&(this.SavingProcess=AjaxProcess.create({startCallback:function(n,t){t.displayInAjaxOperationsPanel&&Panels.AjaxOperationsPanel.getPanel().addAjaxProcess(n,{notification:"Saving Site",removeOnCompletion:!0})},hasProgress:!1}),this.PublishingProcess=AjaxProcess.create());this.initialize=function(t){n=t;t.siteMap&&(o=JSON.parse(t.siteMap),o&&(r=o.routing),r||(r={error404:{destination:RoutingDestination.HomePage},rules:[]}));u=n.isTemplate;s=n.baseVersion;f=u?n.targetSiteID:n.groupId;SiteManager.SiteExists.setValue(SiteManager.isExistingSite())};this.setSiteSettings=function(n){e=$.extend({ajaxBasedNavigation:!0,siteMetaTags:"",siteHeaderCode:"",siteFooterCode:""},n);i.AjaxNavigationFlag.setValue(e.ajaxBasedNavigation)};this.getBaseVersion=function(){return s};this.isResetTemplateMode=function(){return SiteManager.getBaseVersion()==="first"};this.getSiteSettings=function(){return e};this.getSiteMap=function(){return o};this.getSiteRouting=function(){return r};this.setSiteRouting=function(n){r=n};this.isPremium=function(){return n.isPremium};this.getSiteConfiguration=function(){return n};this.isPublished=function(){return n.isPublished};this.isSavedSite=function(){return n.isSaved};this.isTemplate=function(){return u};this.isExistingSite=function(){return SiteManager.getSiteID()!==null};this.getSiteName=function(){return n.groupName};this.getSiteCreatorUserName=function(){return n.siteCreatorUserName};this.getSiteLimitations=function(){return n.limitations};this.getSiteID=function(){return f};this.getSiteType=function(){return n.siteType};this.getTemplateCategory=function(){return n.templateCategory};this.getTemplateCategoryPosition=function(){return n.templateCategoryPosition};this.setEditedSite=function(t,r,u){n.groupName=r;n.isPublished=u;f=t;i.EditedSiteChangedEvent.fireNew()};this.getEditedTemplateID=function(){return n.templateID};this.getSiteLocation=function(n){return n=$.valueOrDefault(n,i.getSiteName()),n!==null?Settings.UserSiteAddressFormat.format({user:$.valueOrDefault(WebzaiController.getCurrentAccountSubdomain(),SiteManager.getSiteCreatorUserName()),site:SiteManager.getSiteName()}):void 0};this.publish=function(n,i){if(!t){t=!0;var r=VersionController.beginSaving(MasterPagesManager.getSavingMasterTemplatesVersionConrollers()),u=VersionController.beginSaving(PageManager.getSavingPagesVersionConrollers());SiteManager.PublishingProcess.start(function(n){c(SavedVersionType.Published,n.onSuccess,n.onError,n.onProgress)},{onSuccess:function(){p();n();t=!1;r.finishSaving();u.finishSaving()},onError:function(n){i&&i(n);t=!1}})}};this.publishAs=function(n,i,r){if(!t){var u=VersionController.beginSaving(MasterPagesManager.getSavingMasterTemplatesVersionConrollers()),f=VersionController.beginSaving(PageManager.getSavingPagesVersionConrollers());t=!0;h(SavedVersionType.Published,n,function(){t=!1;i();u.finishSaving();f.finishSaving()},function(n){t=!1;r(n)})}};this.save=function(n,t,i){i=$.extend({displayInAjaxOperationsPanel:!0},i);var r=VersionController.beginSaving(MasterPagesManager.getSavingMasterTemplatesVersionConrollers()),u=VersionController.beginSaving(PageManager.getSavingPagesVersionConrollers());SiteManager.SavingProcess.start(function(n){c(SavedVersionType.Normal,n.onSuccess,n.onError,n.onProgress)},{onSuccess:function(){r.finishSaving();u.finishSaving();n()},onError:t},{displayInAjaxOperationsPanel:i.displayInAjaxOperationsPanel})};this.saveAs=function(n,t,i){var r=VersionController.beginSaving(MasterPagesManager.getSavingMasterTemplatesVersionConrollers()),u=VersionController.beginSaving(PageManager.getSavingPagesVersionConrollers());h(SavedVersionType.Normal,n,function(){r.finishSaving();u.finishSaving();t&&t()},i)};this.getSiteInformation=function(n){n=$.valueOrDefault(n,!0);var t=n?function(n){return JSON.stringify(n)}:$.identity,u=MasterPagesManager.getMasterPagesStructures(),f=PageManager.getPagesStructures(!0),o=k(f,u),i={pagesStructure:PageManager.getPagesMetaData(),masterPages:MasterPagesManager.getMasterPagesMetaData(),fonts:FontsManager.getSiteFonts(),shouldShowDialog:Panels.DesignerLoadedPanel?Panels.DesignerLoadedPanel.getCheckBoxValue():!1,siteSettings:e},s=$.extend({pagesInformation:PageManager.getPagesData(),homePageID:PageManager.getMainPageId(),pagesHierarchies:PageManager.PagesHierarchy.getHierarchies(),listsInformation:ListsManager.getListsInformationForSaving()},e),h=MasterPagesManager.getPagesToMasterPages(),c={mainPageID:PageManager.getMainPageId(),pages:$.map($.getValues(PageManager.AllPagesInformation.getItems()),function(n){return{id:n.id,name:n.title,index:n.index,pageListName:n.pageListName,masterPageListName:n.masterPageListName,masterPageID:h[n.id],urlAlias:n.urlAlias}}),routing:r},l=b(o,w);return{pagesIDs:$.getKeys(i.pagesStructure.pagesData),siteMap:t(c),masterPagesIDs:$.getKeys(i.masterPages),pagesStructures:$.mapDictionary(f,function(n,i){return StructureLoadingManager.preSaveHierarchy(i),t(i)}),masterPagesStructures:$.mapDictionary(u,function(n,i){return StructureLoadingManager.preSaveHierarchy(i.hierarchyInfo),t(i)}),siteStructure:t(i),siteInformation:t(s),siteForms:l}};this.getFormFieldName=function(n){var t=$.trim(n.fieldName);return t===""&&(t=$.trim(n.labelText)),t===""&&(t=n.id),t}},EcommerceManager=new function(){function i(){typeof Storage!="undefined"&&(localStorage.ecommerceCarts=JSON.stringify(n))}this.Types={PayPal:"paypal",Google:"google"};this.SettingsNames={currency:"currency"};var r={currency:"USD"},n={},t={};n[AccountsManager.Types.PayPal]={};t[AccountsManager.Types.PayPal]=new ObservableCollection;this.setPayPalSettings=function(n,t,i){SiteSettingsManager.setValue("PayPal"+n,t,{onSuccess:i,onError:$.noop})};this.getPayPalSettings=function(n){return SiteSettingsManager.getValue("PayPal"+n,r[n])};this.initialize=function(){typeof Storage!="undefined"&&localStorage.ecommerceCarts&&(n=$.extend(n,JSON.parse(localStorage.ecommerceCarts)),t[AccountsManager.Types.PayPal].put($.getValues(n)))};this.addItem=function(r,u,f){if(n[r][f])n[r][f].quantity=parseInt(u.quantity)+parseInt(n[r][f].quantity)+"",t[AccountsManager.Types.PayPal].put(n[r][f]);else{var e=$.deepCloneObject(u);e.id===undefined&&(e.id=f);n[r][f]=e;t[AccountsManager.Types.PayPal].put(u)}i()};this.removeItem=function(r,u,f){n[r][f]&&(n[r][f].quantity=parseInt(n[r][f].quantity)-parseInt(u.quantity)+"",n[r][f].quantity==="0"?(delete n[r][f],t[AccountsManager.Types.PayPal].remove(f)):t[AccountsManager.Types.PayPal].put(n[r][f]));i()};this.createButton=function(){var t,n={refresh:function(i,r,u,f){return t&&t.remove(),i===AccountsManager.Types.PayPal&&(t=PayPalButtonManager.createPayPalButton(AccountsManager.getAccountID(AccountsManager.Types.PayPal),r,u),t.appendTo(f)),n.buttonType=u,n.buttonData=r,n.type=i,n.$parent=f,n},activate:function(i){var r=i.$element;n.type===AccountsManager.Types.PayPal&&r.bind("click.paypalbutton",function(){t.submit()})},deactivate:function(t){var i=t.$element;n.type===AccountsManager.Types.PayPal&&i.unbind("click.paypalbutton")}};return n};this.ButtonTypes={buynow:{title:"Buy Now",value:"buynow"},donate:{title:"Donate",value:"donate"},cart:{title:"Add To Cart",value:"cart"},view:{title:"Check Out",value:"view"}};this.Currencies=[{title:"U.S. Dollar",value:"USD"},{title:"Australian Dollar",value:"AUD"},{title:"Euro",value:"EUR"},{title:"Pound Sterling",value:"GBP"},{title:"Canadian Dollar",value:"CAD"},{title:"Brazilian Real",value:"BRL"},{title:"Israeli New Sheqel",value:"ILS"},{title:"Japanese Yen",value:"JPY"},{title:"Hong Kong Dollar",value:"HKD"},{title:"Mexican Peso",value:"MXN"},{title:"Norwegian Krone",value:"NOK"},{title:"Danish Krone",value:"DKK"},{title:"Czech Koruna",value:"K"},{title:"Hungarian Forint",value:"HUF"},{title:"New Zealand Dollar",value:"NZD"},{title:"Swiss Franc",value:"CHF"},{title:"Turkish Lira",value:"TRY"},{title:"Taiwan New Dollar ",value:"TWD"},{title:"Swedish Krona",value:"SEK"},{title:"Singapore Dollar",value:"SGD"},{title:"Philippine Peso",value:"PHP"}]},MasterPagesManager=new function(){function l(t,i,r){var u,f;e[i]=!0;MasterPagesStructures[i]&&(u=typeof MasterPagesStructures[i]=="string"?JSON.parse(MasterPagesStructures[i]):MasterPagesStructures[i],u.id=i,f={StructureVersion:u.version,masterPages:[u]},StructureLoadingManager.loadHierarchy(f),n.addMasterPage(u));r(t)}function s(){var f={},t,r,e,u;for(r in i)t=i[r],e=$.getOrCreateArray(f,t),u=PageManager.PagesCollection.getItem(r),u&&e.push(u);for(t in n.PagesInMasterPages)n.PagesInMasterPages[t].syncrhonize($.valueOrDefault(f[t],[]))}function f(){t&&RenderingCoordinator.performUpdateOnRenderingFinished(function(){p(t)},"updateCurrentPageMasterElementsOrders")}function p(n){var u,i,r,e,f;ViewManager.isDesignMode()&&(u=PageManager.getCurrentPageId(),i={},EditorManager.Flags.PcEditing.isTrue()?n.rootInstancesOrders[u]=i:n.mobileRootInstancesOrders[u]=i,r={},$.each(t.rootInstances,function(n,t){var f=t.hasFeature(Features.PageSection),u;(EditorManager.Flags.PcEditing.isTrue()||f)&&(u=t.getPropertyValue("order"),i[n]=u,r[n]=t,f&&$.each(t.childInstances,function(n,t){u=t.getPropertyValue("order");i[t.id]=u;r[t.id]=t}))}),e=$.getKeys(r),f=e.orderBy(function(n){return i[n]}),EditorManager.Flags.PcEditing.isTrue()?n.sortedRootInstances=f:n.mobileSortedRootInstances=f)}function a(n,t,i){var f,u,r;if(!$.isEmptyObject(n.hierarchyInfo))for(f=ElementsManager.addHierarchyInfo(n.hierarchyInfo,{parent:t,isLoading:!0,pageId:i}),n.rootInstances=ElementsUtil.mapInstancesByID(f),u=ElementsUtil.getHierarchiesUnion($.getValues(n.rootInstances)),r=0;r<u.length;r++)u[r].isMasterPageElement.set();n.isCreated=!0}function v(t){t=$.asArray(t);var r=$.grep(t,function(n){return MasterPagesManager.isMasterPageRootInstance(n)}),u=ElementsUtil.getHierarchiesUnion(t);$.each(t,function(t,r){var u=r.root.id,f=i[u];n.removeInstanceFromMasterPage(f,r)});$.each(u,function(n,t){t.isMasterPageElement.setFalse()});n.MasterPageStateChanged.fireNew(t,!1);r.length>0&&n.RootMasterPageStateChanged.fireNew(r,t,!1);f()}function w(n,t){for(var e,o,s,u,f=0,i=[],r=0;r<t.length;r++)e=t[r],o=ElementsManager.getInstanceByID(e),o&&(o.hasFeature(Features.PageSection)?i.push(o):o.isType(ElementsTypes.PageContentElement)?n[e]=0:n[e]===undefined?(f+=.01,n[e]=f):f=n[e]);if(i.length>0){for(i[0].isType(ElementsTypes.HeaderElement)&&(n[i[0].id]=.1),s=0,r=1;r<i.length;r++)if(u=i[r],u.getPropertyValue("order")-1===i[r-1].getPropertyValue("order"))n[i[r].id]===undefined&&(n[i[r].id]=n[i[r-1].id]+.01),s++;else break;if(i.length>s+1)for(i[i.length-1].isType(ElementsTypes.FooterElement)&&(n[i[i.length-1].id]=99999),r=i.length-2;r>s;r--)if(u=i[r],u.getPropertyValue("order")+1===i[r+1].getPropertyValue("order"))n[i[r].id]===undefined&&(n[i[r].id]=n[i[r+1].id]-.01);else break;for(f=99999,r=i.length-1;r>=0;r--)u=i[r],n[u.id]===undefined?(f-=.01,n[u.id]=f):f=n[u.id]}}this.MasterPages=new ObservableCollection({comparerFunction:function(n,t){return n.id===t.id&&n.name===t.name&&$.defaultEqualityComparer(n.hierarchyInfo,t.hierarchyInfo)?!0:!1}});this.MasterPageEditingModeChanged=SimpleEvent.create();this.MasterPageEditingModeChangedFinished=SimpleEvent.create();this.RootMasterPageStateChanged=SimpleEvent.create();this.MasterPageStateChanged=SimpleEvent.create();this.PagesInMasterPages={};this.EditingMasterPage=ObservableFlag.create(!1,{valueChangeCallback:function(n){n?$("body").addClass("editing-master-template"):$("body").removeClass("editing-master-template")}});this.CurrentMasterPageChanged=SimpleEvent.create();this.updateCurrentMasterPageBatch=OperationsBatch.create();var n=this,i={},t,y,h=$.makeDictionaryFromKeys(["sizeAndPosition","name","statesGroups","gridLines","customStates","pageTitle","childrenAnchor"],!0),c={},e={},r={},o={},u={};this.getMasterTemplateForSaveDirtyFlag=function(n){return u[n]};this.getSavingMasterTemplatesVersionConrollers=function(){return $.getValues(u)};this.getLoadedMasterPages=function(){var n=[];return $.each(MasterPagesManager.MasterPages.getItems(),function(t,i){e[t]&&n.push(i)}),n};this.setMasterPageInfo=function(n,t){var i=MasterPagesManager.getPageMasterPageId(n),u=MasterPagesManager.MasterPages.getItem(i);u&&!MasterPagesStructures[i]&&$.isEmptyObject(u.hierarchyInfo)&&r[i]?c[i]||(c[i]=!0,$.ajax({url:SiteFilesMap["master-"+i],dataType:"script",cache:!0,success:ErrorHandler.wrapWithNotify(function(){l(n,i,t)})})):!e[i]&&r[i]?l(n,i,t):t(n)};this.getPageMasterPageId=function(n){return i[n]};this.getMasterPageByPageId=function(n){var t=MasterPagesManager.getPageMasterPageId(n);return MasterPagesManager.MasterPages.getItem(t)};this.initialize=function(u){var e,c,a,l,p,w,b,o;for(e in u){for(r[e]=!0,c=u[e],c.id=e,a=c.pagesIDs,l=0;l<a.length;l++)p=a[l],i[p]=e;n.addMasterPage(c);w=MasterPagesManager.getMasterTemplateForSaveDirtyFlag(e);w.beginSaving().finishSaving()}ElementsManager.Events.InstancesRemoving.bind(function(t){var o=t.removedRootInstances,e,u,r,s,h;if(ViewManager.isViewMode()||TemplateEditingManager.Flags.IsInEditingMode.isFalse()){for(e=!1,u=0;u<o.length;u++)r=o[u],r.hasParent()&&r.getParent().elementType===ElementsTypes.page&&(s=r.root.id,h=i[s],n.removeInstanceFromMasterPage(h,r),r.hasFeature(Features.PageSection)||(e=!0));e&&f()}});ElementsManager.Events.ElementAddedToContainer.bind(function(t){var r,u,f;t.hasParent()&&(r=t.getParent(),t.isMasterPageElement.isTrue()&&r.elementType!==ElementsTypes.page&&r.isMasterPageElement.isFalse()?v(t):r.elementType===ElementsTypes.page?n.EditingMasterPage.isTrue()?n.setAsMasterPageRoots(t):t.isMasterPageElement.isTrue()&&(u=t.root.id,n.MasterPages.getItem(i[u]).rootInstances[t.id]=t):t.getParent().isMasterPageElement.isTrue()&&(t.isMasterPageElement.setTrue(),u=t.root.id,f=i[u],n.removeInstanceFromMasterPage(e,t),n.MasterPageStateChanged.fireNew([t],!0)))});OrderManager.Events.ElementsReordered.bind(function(){f()});SimpleEvent.bind([ViewManager.Events.ViewModeChanged,MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent],function(){y=undefined});PageManager.Events.PageChanged.bind(function(){o&&o.propertyChangedEventSimple.unbind(b);o=PageManager.getCurrentPage();b=o.propertyChangedEventSimple.bind(function(n){t&&!h[n]&&ViewManager.isDesignMode()&&(EditorManager.Flags.PcEditing.isTrue()||!PropertiesTypes[n].isStateProperty()?t.pageProperties[n]=o.getPropertyValue(n):(EditorManager.Flags.MobileEditing.isTrue()||!PropertiesTypes[n].isStateProperty())&&(t.mobilePageProperties[n]=o.getPropertyValue(n)))})});PageManager.Events.PageDeleted.bind(function(t){var u=i[t],r;delete i[t];r=n.MasterPages.getItem(u);delete r.rootInstancesOrders[t];delete r.mobileRootInstancesOrders[t]});s();PageManager.PagesCollection.itemsChangedEvent.bind(s);Global.IsDesigner&&MasterPagesManager.RootMasterPageStateChanged.bind(function(n,t,i){if(n.length>0&&OperationsManager.Flags.PropertiesRecordEnabled.isTrue()&&OperationsManager.Flags.shouldRecordOperations.isTrue()&&!n[0].isForTemplateUse()){var r=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"MasterPageChanged",getInstances:function(){return n},performOperation:function(){return i?MasterPagesManager.setAsPageContentElement(n):MasterPagesManager.setAsMasterPageRoots(n),n}});OperationsManager.informOnOperation(r)}})};this.getMasterPageRootInstances=function(i){return i=i?i:t.id,$.getValues(n.getMasterPage(i).rootInstances)};this.isMasterPageRootInstance=function(i,r){return r=r?r:t,!!n.getMasterPage(r.id).rootInstances[i.id]};this.getMasterPage=function(t){return n.MasterPages.getItem(t)};this.getCurrentMasterPage=function(){return t};this.editMasterPage=function(){n.toggleMasterPageEdit(!0)};this.editPageContent=function(){n.toggleMasterPageEdit(!1)};this.toggleMasterPageEdit=function(t){n.EditingMasterPage.getValue()!==t&&(n.EditingMasterPage.setValue(t),n.MasterPageEditingModeChanged.fireNew(),n.MasterPageEditingModeChangedFinished.fireNew())};this.getMasterPagesMetaData=function(){var t={},f=n.MasterPages.getItems(),u,e,r;for(u in f)e=f[u],t[u]={name:e.name,pagesIDs:[]};for(r in i)t[i[r]]&&t[i[r]].pagesIDs.push(r);return t};this.getMasterPagesStructures=function(){var f={},e=n.MasterPages.getItems(),u,o,t,i;for(u in e)(o=n.getMasterTemplateForSaveDirtyFlag(u).isDirty(),o)&&(t=e[u],i={rootInstancesOrders:t.rootInstancesOrders,sortedRootInstances:t.sortedRootInstances,mobileRootInstancesOrders:t.mobileRootInstancesOrders,mobileSortedRootInstances:t.mobileSortedRootInstances,pageProperties:t.pageProperties,mobilePageProperties:t.mobilePageProperties},t.isCreated?(i.hierarchyInfo=ElementsManager.getHierarchyInfo($.getValues(t.rootInstances),{forSaving:!0,idsInHierarchy:!0,rootInstancesHierarchies:MobileVersionViewManager.getMasterPageInstancesHierarchiesData(t.id)}),i.hierarchyInfo=ElementsManager.adjustHierarchyWithBaseHierarchy(i.hierarchyInfo,t.hierarchyInfo),i.hierarchyInfo.idsInHierarchy=undefined,i.version=StructureLoadingManager.CurrentStructureVersion,f[u]=i):$.isEmptyObject(t.hierarchyInfo)&&r[u]||(i.hierarchyInfo=t.hierarchyInfo,i.version=t.version,f[u]=i));return f};this.removeMasterPage=function(t,i,r){var f=n.getMasterPage(t),u;if(f)return u=this.MasterPages.getItemsValues(),u.length===1?i=n.addMasterPage({name:"Master Template 1"}):i||(i=u[0].id===t?u[1].id:u[0].id),$.each(n.PagesInMasterPages[t].getItemsValues(),function(t,u){n.setMasterPage(u.id,i,r)}),ElementsManager.removeInstances($.getValues(f.rootInstances)),this.MasterPages.remove(t),i};this.addMasterPage=function(t){var i,r;return t=$.quickExtend({id:undefined,name:undefined,hierarchyInfo:{},pageProperties:{},mobilePageProperties:{},pageContentProperties:{},rootInstancesOrders:{},mobileRootInstancesOrders:{},sortedRootInstances:[],mobileSortedRootInstances:[],version:StructureLoadingManager.CurrentStructureVersion},t),i=t.id!==undefined?t.id:StructureLoadingManager.generateWebsiteId(),t.name===undefined&&(r=n.MasterPages.getItem(i),t.name=r?r.name:undefined),t.name===undefined&&(t.name=$.findAvailableName("Master Template {0}",$.extractFieldValue(MasterPagesManager.MasterPages.getItems(),"name"))),n.PagesInMasterPages[i]||(n.PagesInMasterPages[i]=new ObservableCollection),n.MasterPages.put({id:i,version:t.version,name:t.name,isCreated:!1,rootInstances:{},hierarchyInfo:t.hierarchyInfo,pageProperties:t.pageProperties,mobilePageProperties:t.mobilePageProperties,pageContentProperties:t.pageContentProperties,rootInstancesOrders:t.rootInstancesOrders,sortedRootInstances:t.sortedRootInstances,mobileRootInstancesOrders:t.mobileRootInstancesOrders,mobileSortedRootInstances:t.mobileSortedRootInstances}),u[i]||(u[i]=VersionController.create(!0)),i};this.getMasterPageIDByPage=function(n){return i[n]};this.getPagesToMasterPages=function(){return i};this.getDefaultMasterPageId=function(){return MasterPagesManager.getMasterPageIDByPage(PageManager.getCurrentPage().id)};this.getOrCreateMasterTemplateRootInstances=function(n){var t=MasterPagesManager.getMasterPageByPageId(n);return t.isCreated||a(t,undefined,n),t.rootInstances};this.updateCurrentMasterPage=function(r){var e,c,l;n.updateCurrentMasterPageBatch.start();var u=PageManager.getCurrentPage(),s=u.id,f=i[s],v=PageManager.getPagesStates()[s];if(v.markForSave.isDirty()&&MasterPagesManager.getMasterTemplateForSaveDirtyFlag(f).informOperation(),e=o[u.id],e&&(c=n.MasterPages.getItem(e),o[u.id]=undefined,c)){$.each($.getValues(c.rootInstances),function(n,t){t.detach()});l=u.getDescendingInstances(!1);n.updateCurrentMasterPage();f!==e&&OrderManager.bringToFront(l);n.updateCurrentMasterPageBatch.finish();return}n.setMasterPageInfo(f,function(){var e=n.MasterPages.getItem(f),c,d,b,l,o,k,i,v,y,p;OrderManager.beginReorderingBatch();e.isCreated?(c=$.getValues(e.rootInstances),ElementsManager.addElementToContainerElement(u,c),ViewManager.isViewMode()&&$(c,function(n,t){t.refreshCursor()})):a(e,u);t=e;d=PageManager.AllPagesInformation.getItem(s);b=MobileVersionViewManager.Flags.IsInMobileContext.isFalse()?e.pageProperties:$.extend({},e.pageProperties,e.mobilePageProperties);u.setPropertiesValues($.dictionaryFilter(b,function(n,t){return!h[t]}));MobileVersionViewManager.Flags.IsInMobileContext.isFalse()?(l=t.rootInstancesOrders,o=t.sortedRootInstances):($.isEmptyObject(t.mobileRootInstancesOrders)&&(t.mobileRootInstancesOrders=$.deepCloneObject(t.rootInstancesOrders),t.mobileSortedRootInstances=t.sortedRootInstances),l=t.mobileRootInstancesOrders,o=t.mobileSortedRootInstances,t.mobileSortedRootInstances=o=$.grep(o,function(n){var t=ElementsManager.getInstanceByID(n);return t&&t.hasFeature(Features.PageSection)?!0:!1}));k=$.makeDictionaryFromKeys(o,!0);i=l[u.id];i||(i={});$.each(o,function(n,t){var i=ElementsManager.getInstanceByID(t);i&&i.childIndex.setValue(undefined)});for(v in i)k[v]||delete i[v];w(i,o);for(y in i)p=ElementsManager.getInstanceByID(y),p&&p.setPropertyValue("order",i[y]);OrderManager.endReorderingBatch();n.CurrentMasterPageChanged.fireNew();r&&r();n.updateCurrentMasterPageBatch.finish()})};this.setMasterPage=function(t,r,u){var f=PageManager.getPage(t),e=i[t],h,c;i[t]=r;r!==e&&s();PageManager.getCurrentPage()===f?(h=n.MasterPages.getItem(e),$.each($.getValues(h.rootInstances),function(n,t){t.detach()}),f.setHeaderInstance(undefined),f.setFooterInstance(undefined),c=f.getDescendingInstances(!1),n.updateCurrentMasterPage(u),r!==e&&OrderManager.bringToFront(c)):o[t]=e};this.canBeMasterPageElement=function(n){return n.hasParent()&&n.getParent().elementType===ElementsTypes.page};this.setAsMasterPageRoots=function(t){var u,r,e;OperationsManager.beginAtomicBatch(!1,"Move To Master Template");t=$.asArray(t);t=$.grep(t,function(n){return n.hasParent()});u=ElementsUtil.getHierarchiesUnion(t);$.each(u,function(n,t){t.isMasterPageElement.set()});r=ElementsUtil.eliminateDescendingInstances(t);e=PageManager.getCurrentPage();$.each(r,function(t,r){r.parentInstance&&r.parentInstance.elementType!==ElementsTypes.page&&r.parentInstance.isMasterPageElement.isFalse()&&!r.isFixed()&&ElementsStructureHelper.reattachInstances([r],e);var u=r.root.id,f=i[u];r.parentInstance.isMasterPageElement.isFalse()&&(n.MasterPages.getItem(f).rootInstances[r.id]=r)});n.MasterPageStateChanged.fireNew(t,!0);r.length>0&&n.RootMasterPageStateChanged.fireNew(r,t,!0);f();OperationsManager.endAtomicBatch()};this.removeInstanceFromMasterPage=function(t,i){var r=n.MasterPages.getItem(t);delete r.rootInstances[i.id];$.each(r.rootInstancesOrders,function(n,t){delete t[i.id]});r.sortedRootInstances=$.grep(r.sortedRootInstances,function(n,t){return t!==i.id});$.each(r.mobileSortedRootInstances,function(n,t){delete t[i.id]});r.mobileSortedRootInstances=$.grep(r.mobileSortedRootInstances,function(n,t){return t!==i.id})};this.setAsPageContentElement=function(n){OperationsManager.beginAtomicBatch(!1,"Move To Page Content");n=$.asArray(n);var t=$.grep(n,function(n){return n.hasParent()&&n.getParent().elementType===ElementsTypes.page});v(t);ElementsStructureHelper.reattachToCurrentSection(n,{lastSectionIsDefault:!0});OperationsManager.endAtomicBatch()}},CompatibilityManager=new function(){function i(){n||(n=t.sort(function(n,t){return n.priority!==t.priority?n.priority-t.priority:n.version&&t.version?n.version-t.version:n.version?-1:t.version?1:0}))}var t=[],n;this.addSiteInformationFix=function(n,i,r){t.push({priority:r?r:0,version:n,callback:i})};this.fixSiteInformation=function(t){var r,u;if(i(),t.StructureVersion||(t.version?t.StructureVersion=t.version:(t.StructureVersion=StructureLoadingManager.FirstVersionWhereHierarchiesVersionCouldBeUndefined,t.version=StructureLoadingManager.FirstVersionWhereHierarchiesVersionCouldBeUndefined)),t.StructureVersion!==StructureLoadingManager.CurrentStructureVersion){for(r=0;r<n.length;r++)u=n[r],(u.version===null||t.StructureVersion<u.version)&&u.callback(t);t.StructureVersion=StructureLoadingManager.CurrentStructureVersion;t.version=StructureLoadingManager.CurrentStructureVersion;t.templateStructure&&(t.templateStructure.version=StructureLoadingManager.CurrentStructureVersion,t.templateStructure.StructureVersion=StructureLoadingManager.CurrentStructureVersion)}};this.fixTemplatesInformation=function(n){function t(n){var i=n.type;n.elementProperties.fieldsTemplates&&$.eachEntry(n.elementProperties.fieldsTemplates,function(n,t){$.eachEntry(t,function(n,t){CompatibilityManager.fixTemplateInformation({templateStructure:t.hierarchy,StructureVersion:t.hierarchy.version!==undefined?t.hierarchy.version:0});var i=$.objectGet(t.hierarchy.structures[0],["elementProperties","skinBinding","hierarchy"]);i&&CompatibilityManager.fixTemplateInformation({templateStructure:i,StructureVersion:i.version!==undefined?i.version:0})})});n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}n.pagesStructure&&$.eachItem(n.pagesStructure.pages,function(n,i){$.eachItem(i.structures,function(n,i){t(i)})});n.masterPages&&$.eachItem(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.eachItem(i.hierarchyInfo.structures,function(n,i){t(i)})});n.templateStructure&&n.templateStructure.structures&&$.eachItem(n.templateStructure.structures,function(n,i){t(i)});n.StructureVersion=StructureLoadingManager.CurrentStructureVersion;n.templateStructure&&(n.templateStructure.version=StructureLoadingManager.CurrentStructureVersion,n.templateStructure.StructureVersion=StructureLoadingManager.CurrentStructureVersion)};this.fixTemplateInformation=function(t){var r,u;if(t.StructureVersion===StructureLoadingManager.CurrentStructureVersion)return t;if(i(),!t.templateStructure.isDefaultStructure)for(r=0;r<n.length;r++)u=n[r],t.StructureVersion&&(u.version===null||t.StructureVersion<u.version)&&u.callback(t);return t.templateStructure.version=StructureLoadingManager.CurrentStructureVersion,t.StructureVersion=StructureLoadingManager.CurrentStructureVersion,t}},PropertiesValuesConverters={MaximizeFieldsNames:1,StringToObject:2,ValueToObject:3,StringFieldsToNumeric:4,NumericFieldsToBoolean:5},oldToNewTypes={youtube:"VideoPlayer",facebookLike:"Rectangle",facebookComments:"Rectangle",facebookActivity:"Rectangle",facebookLikeBox:"Rectangle",facebookFacePile:"Rectangle",facebookSubscribe:"Rectangle",ExternalAppFacebookLikeboxApp1:"Rectangle"},StructureLoadingManager=new function(){function u(){t={};n={};var i=1;$.eachEntry(PropertiesTypes,function(r){var u=f(i);t[u]=r;n[r]=u;i++});$.eachEntry(ElementsTypes,function(r){var u=f(i);t[u]=r;n[r]=u;i++});$.eachEntry(Features,function(r){var u=f(i);t[u]=r;n[r]=u;i++})}function f(n){return n<10?String.fromCharCode(n+47):n>=10&&n<34?String.fromCharCode(n+56):(n-23).toString()}function o(){var t={},n=i.getSiteHashDefaultDefinitionsMap();return $.eachEntry(Features,function(i,r){var f=PropertiesManager.getDefaultValues(r),u={};$.eachEntry(f,function(t,i){var r,f;if(i.value!==undefined){if(r=StructurePropertyLoadingMap.getPreSaveArray(t,StructurePropertyLoadingMap.getCurrentPreSaveVersion()),r)for(f=0;f<r.length;f++)i=r[f](i);u[n[t]]=i}});t[n[i]]=u}),$.eachEntry(ElementsTypes,function(i,r){var f=PropertiesManager.getDefaultValues(r),u={};$.eachEntry(f,function(t,i){var f=StructurePropertyLoadingMap.getPreSaveArray(t,StructurePropertyLoadingMap.getCurrentPreSaveVersion()),r;if(f)for(r=0;r<f.length;r++)i=f[r](i);u[n[t]]=i});t[n[i]]=u}),t}function e(n){var t={};n.elementProperties.fieldsTemplates&&$.eachEntry(n.elementProperties.fieldsTemplates,function(n,t){$.eachEntry(t,function(n,t){$.eachItem(t.hierarchy.structures,function(n,t){e(t)})})});$.eachEntry(n.elementProperties,function(r,u){var o=!1,s=ElementsTypes[n.type].getPropertiesDefaultValues(),h,f,e;if(s.hasOwnProperty(r)&&(h=s[r],$.defaultEqualityComparer(h,u)&&(o=!0)),f=StructurePropertyLoadingMap.getPreSaveArray(r,StructurePropertyLoadingMap.getCurrentPreSaveVersion()),f)for(e=0;e<f.length;e++)u=f[e](u);!o&&PropertiesTypes[r]&&(t[i.getHashDefinitionValue(r)]=u)});n.type=i.getHashDefinitionValue(n.type);n.elementProperties=t;n.childElements&&$.eachItem(n.childElements,function(n,t){e(t)})}function s(n){var t=function(t){var r,i;if(n){for(r={},$.eachEntry(t,function(n,t){r[n]=t?!0:!1}),i=0;i<n.length;i++)r[n[i]]=t[n[i]]?!0:!1;return r}return t?!0:!1};return t.converterType=PropertiesValuesConverters.NumericFieldsToBoolean,t.converterState=n,t}function h(n){return function(t){if(n){for(var i=0;i<n.length;i++)t[n[i]]=t[n[i]]?1:0;return t}return t?1:0}}function c(n){var t=function(t){var r,i;if(n){for(r={},i=0;i<n.length;i++)r[n[i]]=t[n[i]]===""||t[n[i]]==="null"?null:parseInt(t[n[i]]);return r}return parseInt(t)};return t.converterType=PropertiesValuesConverters.StringFieldsToNumeric,t.converterState=n,t}function l(n){return function(t){for(var r="",i=0;i<n.length;i++)r+=t[n[i]]!==undefined&&t[n[i]]!==null?t[n[i]]:"",i!==n.length-1&&(r+=",");return r}}function a(n){var t=function(t){if(typeof t=="string"){var i={};return $.eachItem(n,function(n,r){i[r]=t}),i}return t};return t.converterType=PropertiesValuesConverters.StringToObject,t.converterState=n,t}function v(n){var t=function(t){var u={},r,i,f;if($.isArray(t))r=t;else if(typeof t=="string")r=t.toString().split(",");else if(typeof t=="object"){for(i=0;i<n.length;i++)if(f=n[i],t[f])return t;r=$.makeArray(t)}else r=$.makeArray(t);for(i=0;i<n.length;i++)u[n[i]]=r.length===1?r[0]:r.length===2?r[i%2]:r[i];return u};return t.converterType=PropertiesValuesConverters.ValueToObject,t.converterState=n,t}function y(n){return function(t){var i,r,u;if(n){if(typeof t=="object")for(i=0;i<n.length;i++)r=n[i],t[r]=t[r]?Math.round(t[r]):0;else{for(u={},i=0;i<n.length;i++)r=n[i],u[r]=Math.round(t);t=u}return t}return Math.round(t)}}var i=this,r,t,n;this.FirstVersionWhereHierarchiesVersionCouldBeUndefined=1.209;this.CurrentStructureVersion=13.002;this.BaseVersionToConvertOverFlowHidden=1.209;this.generateWebsiteId=function(){return"id"+$.uniqueID()};this.getSiteDefaultProperties=function(){return r||(r=o()),r};this.getSiteDefaultDefinitionsMap=function(){return t||u(),t};this.getHashDefinitionValue=function(t){return n||u(),n[t]?n[t]:t};this.getSiteHashDefaultDefinitionsMap=function(){return n||u(),n};this.preSaveHierarchy=function(n){StructurePropertyLoadingMap.getCurrentPreSaveVersion()!==0&&(n.defaultDefinitonNamesMap=i.getSiteDefaultDefinitionsMap(),n.definitionsDefaultProperties=i.getSiteDefaultProperties(),n.preSaveVersion=StructurePropertyLoadingMap.getCurrentPreSaveVersion(),n.structures&&$.eachItem(n.structures,function(n,t){e(t)}))};this.loadHierarchy=function(n){function e(){var n={};return t?($.eachEntry(t,function(t,i){n[i]=t}),n):undefined}function u(n){var e,v,s,h,c,l,b,y,a,p,w,k;if(n.id=n.id.toString(),t&&t[n.type]&&i!==0){if(n.type=t[n.type],e=n.type,v={},r){if(s={},o[e])s=o[e];else if(h=ElementsTypes[e],h?c=h.getElementDefinitions():ElementsTypes[oldToNewTypes[e]]&&(h=ElementsTypes[oldToNewTypes[e]],c=h.getElementDefinitions()),c){for(l=0;l<c.length;l++)if(b=c[l],y=f[b.name],y&&(a=r[y],a))for(p in a)w=a[p],w!==undefined&&(s[p]=w);o[e]=s}k=$.deepCloneObject(s);n.elementProperties=$.extend(k,n.elementProperties)}$.eachEntry(n.elementProperties,function(n,r){var e=t[n],f=StructurePropertyLoadingMap.getPreLoadArray(e,i),u;if(f&&r!==undefined&&r!==null)for(u=0;u<f.length;u++)r=f[u](r);v[e]=r});n.elementProperties=v;n.elementProperties.fieldsTemplates&&$.eachEntry(n.elementProperties.fieldsTemplates,function(n,t){$.eachEntry(t,function(n,t){$.eachItem(t.hierarchy.structures,function(n,t){u(t)})})});n.childElements&&$.eachItem(n.childElements,function(n,t){u(t)})}}var t,f,i,r,o={};n.templateStructure?(t=n.templateStructure.defaultDefinitonNamesMap,f=e(),i=n.templateStructure.preSaveVersion?n.templateStructure.preSaveVersion:0,r=n.templateStructure.definitionsDefaultProperties,$.eachItem(n.templateStructure.structures,function(n,t){u(t)})):n.pagesStructure?$.eachItem(n.pagesStructure.pages,function(n,o){t=o.defaultDefinitonNamesMap;f=e();i=o.preSaveVersion?o.preSaveVersion:0;r=o.definitionsDefaultProperties;$.eachItem(o.structures,function(n,t){u(t)})}):n.masterPages?$.eachItem(n.masterPages,function(n,o){o.hierarchyInfo.structures&&(t=o.hierarchyInfo.defaultDefinitonNamesMap,f=e(),r=o.hierarchyInfo.definitionsDefaultProperties,i=o.hierarchyInfo.preSaveVersion?o.hierarchyInfo.preSaveVersion:0,$.eachItem(o.hierarchyInfo.structures,function(n,t){u(t)}))}):n.isCoordinator&&(t=n.defaultDefinitonNamesMap,f=e(),i=n.preSaveVersion?n.preSaveVersion:0,r=n.definitionsDefaultProperties,$.eachItem(n.structures,function(n,t){u(t)}));CompatibilityManager.fixSiteInformation(n);n.isCoordinator||CompatibilityManager.fixTemplatesInformation(n)};this.createStringToObjectValueConverter=a;this.createToStringConverter=l;this.createValueToObjectValueConverter=v;this.createRoundPropertyValueConverter=y;this.createNumericToBolleanValueConverter=s;this.createBooleanToNumericConverter=h;this.createStringToNumericConverter=c;this.minimizeFieldsNames=function(n){return function(t){for(var r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r}};this.maximizeFieldsNames=function(n){var t=function(t){for(var r={},i=0;i<n.length;i++)r[n[i]]=t[i]!==undefined&&t[i]!==null?t[i]:t[n[i]];return r};return t.converterType=PropertiesValuesConverters.MaximizeFieldsNames,t.converterState=n,t};this.NormalizeFieldsValuesSides=function(n){typeof n=="string"||typeof n!="object"?n={top:n,left:n,bottom:n,right:n}:$.count(n)!==4&&(n={top:n.top,left:n.left,bottom:n.bottom,right:n.right});var t=!1,i=!1;return(n.top===n.bottom&&(t=!0),n.left===n.right&&(i=!0),t&&i)?n.left===n.bottom?"{left}".format(n):"{top},{left}".format(n):"{top},{left},{bottom},{right}".format(n)};this.NormalizeFieldsValuesCorners=function(n){typeof n=="string"||typeof n!="object"?n={topLeft:n,bottomLeft:n,topRight:n,bottomRight:n}:$.count(n)!==4&&(n={topLeft:n.topLeft,bottomLeft:n.bottomLeft,topRight:n.topRight,bottomRight:n.bottomRight});var t=!1,i=!1;return(n.topLeft===n.topRight&&(t=!0),n.bottomLeft===n.bottomRight&&(i=!0),i&&t)?n.topLeft===n.bottomLeft?"{topLeft}".format(n):"{topLeft},{bottomLeft}".format(n):"{topLeft},{bottomLeft},{topRight},{bottomRight}".format(n)};this.NormalizeObjectFieldsValuesSides=function(n){typeof n=="string"&&(n={top:n,left:n,bottom:n,right:n});var t=!1,i=!1;return($.defaultEqualityComparer(n.top,n.bottom)&&(t=!0),$.defaultEqualityComparer(n.left,n.right)&&(i=!0),t&&i)?$.defaultEqualityComparer(n.left,n.bottom)?[n.bottom]:[n.top,n.left]:[n.top,n.left,n.bottom,n.right]}},StructurePropertyLoadingMap=new function(){var i=this,t=0,n;this.getCurrentPreSaveVersion=function(){return t};this.getPreSaveArray=function(t,i){for(var r=i;r>0;r--)if(n[r]&&n[r][t])return n[r][t].preSaveConverter;return undefined};this.getPreLoadArray=function(t,i){for(var r=i;r>0;r--)if(n[r]&&n[r][t])return n[r][t].preLoadConverter;return undefined};n={1:{columnsGrid:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["margin","gutter","columnsNumber","color","showAlways","isEnabled","opacity"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["margin","gutter","columnsNumber","color","showAlways","isEnabled","opacity"])]},itemFields:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["index","title","icon","image","description","link"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["index","title","icon","image","description","link"])]},sizeAndPosition:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["left","width","top","height"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["left","width","top","height"])]},glow:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["spread","blur","color"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["spread","blur","color"])]},innerGlow:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["spread","blur","color"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["spread","blur","color"])]},shadow:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["top","left","spread","blur","color"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["top","left","spread","blur","color"])]},innerShadow:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["top","left","spread","blur","color"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["top","left","spread","blur","color"])]},formFieldsData:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["isOptional"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["isOptional"])]},formOptions:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["clearOnSubmit"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["clearOnSubmit"])]},dataLayoutOptions:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage"])]},borderWidth:{preSaveConverter:[StructureLoadingManager.NormalizeFieldsValuesSides],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["top","left","bottom","right"]),StructureLoadingManager.createStringToNumericConverter(["top","left","bottom","right"])]},roundness:{preSaveConverter:[StructureLoadingManager.NormalizeFieldsValuesCorners],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["topLeft","bottomLeft","topRight","bottomRight"]),StructureLoadingManager.createStringToNumericConverter(["topLeft","bottomLeft","topRight","bottomRight"])]},borderColor:{preSaveConverter:[StructureLoadingManager.NormalizeObjectFieldsValuesSides],preLoadConverter:[StructureLoadingManager.createStringToObjectValueConverter(["top","left","bottom","right"]),StructureLoadingManager.createValueToObjectValueConverter(["top","left","bottom","right"])]},borderStyle:{preSaveConverter:[StructureLoadingManager.NormalizeFieldsValuesSides],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["top","left","bottom","right"])]},padding:{preSaveConverter:[StructureLoadingManager.NormalizeFieldsValuesSides],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["top","left","bottom","right"]),StructureLoadingManager.createStringToNumericConverter(["top","left","bottom","right"])]},imagePosition:{preSaveConverter:[StructureLoadingManager.createToStringConverter(["vertical","horizontal"])],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["vertical","horizontal"])]},fillLayout:{preSaveConverter:[StructureLoadingManager.createBooleanToNumericConverter(["fillVertical","fillHorizontal"]),StructureLoadingManager.createToStringConverter(["fillVertical","fillHorizontal"])],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["fillVertical","fillHorizontal"]),StructureLoadingManager.createStringToNumericConverter(["fillVertical","fillHorizontal"]),StructureLoadingManager.createNumericToBolleanValueConverter(["fillVertical","fillHorizontal"])]},margin:{preSaveConverter:[StructureLoadingManager.NormalizeFieldsValuesSides],preLoadConverter:[StructureLoadingManager.createValueToObjectValueConverter(["top","left","bottom","right"]),StructureLoadingManager.createStringToNumericConverter(["top","left","bottom","right"])]},imageLoadingOverlay:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["background","imageInfo"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["background","imageInfo"])]},isGrowable:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["bottom","right"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["bottom","right"])]},pagesFields:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["index","title","icon"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["index","title","icon"])]}},2:{itemFields:{preSaveConverter:undefined,preLoadConverter:undefined}},3:{dataLayoutOptions:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows"])]}},4:{dataLayoutOptions:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows","rows"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows","rows"])]}},5:{dataLayoutOptions:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows","rows","maxItems","isHierarchy","dropTrigger"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows","rows","maxItems","isHierarchy","dropTrigger"])]}},6:{dataLayoutOptions:{preSaveConverter:[StructureLoadingManager.minimizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows","rows","maxItems","isHierarchy"])],preLoadConverter:[StructureLoadingManager.maximizeFieldsNames(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","rotation","cols","elementsPerPage","numberOfRows","rows","maxItems","isHierarchy"])]}}};this.getConvertorsMap=function(){return n}},SiteViewportManager=new function(){function i(){$(document.body).toggleClass("full-screen-view",SiteViewportManager.IsFullScreen.isTrue()).toggleClass("inner-screen-view",SiteViewportManager.IsFullScreen.isFalse());n();Global.IsDesigner&&(DesignerManager.updateDesignerLayout(),DesignerManager.setCurrentViewPort({left:"center"}))}function n(){t=undefined;SiteViewportManager.ViewPortChangeBatch.whenFinished(function(){PositionManager.invalidatePositioningRootOffset();SiteViewportManager.ViewPortChanged.fireNew();PageManager.getCurrentPage()&&(LayoutManager.requestUpdatePosition($.getValues(ElementsManager.getAllPageInstances())),LayoutManager.refreshElementsLayout(PageManager.getCurrentPage()))},"onViewPortChanged")}function r(){var n=$.getWindowSize(),t,u,i,r;return ViewManager.isDesignMode()?(t=n.height,u=PageManager.getCurrentPage(),u&&(i=PositionManager.getElementSize(u),i!==null&&i!==undefined&&(t=Math.min(t,i.height))),r=DesignerManager.calculateDesignerArea({includeRules:!0}),{left:r.left,top:r.top,width:Math.min(n.width,r.width),height:Math.min(n.height,t)}):{left:0,top:0,width:n.width,height:n.height-FreemiumBanners.getFooterHeight()-PrivacyPolicyBar.getPrivacyPolicyHeight()}}var t;this.ViewPortChangeBatch=OperationsBatch.create();this.ViewPortChanged=SimpleEvent.create();this.IsFullScreen=ObservableFlag.createConditionalPositive({valueChangeCallback:i});this.UserFullScreen=ObservableFlag.create(!1,{valueChangeCallback:function(n){SiteViewportManager.setFullScreen(n,"UserSettings")}});this.initialize=function(){i();$.getWindowSizeEvent().bind(function(){n()});Global.IsDesigner&&(SimpleEvent.bind([DesignerManager.DesignerFrameLayout.valueChangedEvent,DesignerPane.DesignerPanePadding.valueChangedEvent],function(){SiteViewportManager.IsFullScreen.isTrue()&&n()}),SimpleEvent.bind([DesignerManager.DesignerResolutionChanged,ViewManager.Events.ViewModeChanged,PageManager.Events.PageChanged,Global.PageHeightChanged,FreemiumBanners.isVisible.valueChangedEvent],n));n()};this.setFullScreen=function(n,t){SiteViewportManager.IsFullScreen.setValue(n,t)};this.getViewPort=function(){return t||(t=r()),t}},DataListHelper=new function(){this.adjustDataListToContent=function(n){var t=n.getPropertyValue("fillLayout");return n.adjustSizeToContent({horizontally:!t||!n.isFillHorizontal(),vertically:!t||!n.isFillVertical()})};this.arrangeDataListToMobileFirstTime=function(n){n.getDataSource().invalidateAllItems();var t=function(t){return n.calculateItemSizeOnMobile(t)};n.requestArrangement({keepItemSize:!1,fixedSize:t});LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName())}},RowsLayoutHelper=new function(){function r(t){var o=ElementsLayoutHelper.getElementsAreaData(t,!1,n),f=o.topInstance,i=n(f,!1),r=i?$.expandArea(i,{left:5e4,right:5e4,top:0,bottom:10}):null;if(!r)return t;var e=ElementsLayoutHelper.getAreaOverlappingInstances(r,t,undefined,!1,n),s=f,u=i;return $.eachItem(e,function(t,r){var f=n(r,!1);f.top<i.top+i.height*.3&&f.bottom>u.bottom&&(s=r,u=f)}),r=$.expandArea(u,{left:5e4,right:5e4,top:5e4,bottom:10}),ElementsLayoutHelper.getInstancesInsideArea(r,e,undefined,!1,n)}function t(i){var u=i.getColumns(),f,r,e;if(u.length===1)return[RowOfColumns.create(u)];if(f=[],ColumnCell.canBeInDifferentColumns(u[0],u[1],n)){var r=RowOfColumns.duplicateRow(i),o=r.shift(),e=t(r);$.eachItem(e,function(n,t){t.unShift(o)});f=e}return r=RowOfColumns.duplicateRow(i),r.mergeColumnsFromStart(2),e=t(r),$.merge(f,e),f}function n(n,t){return PositionManager.getElementArea(n,t,u,i)}function i(n){var t=n.getSize();return t?t:n.getStructureMetaData().size}function u(n){var t=n.getPosition();return t?t:n.getStructureMetaData().position}this.separateToRowsAndCells=function(t){var i,u,r;return t.length===0?[]:(i=ElementsLayoutHelper.calculateInstancesSurroundingArea(t,!1,n),r=0,$.eachItem(SectionsAlgorithms,function(n,f){for(var e=$.getValues(t),s=$.mapArray(e,$.returnValue,$.defaultIdFunction),o=[];e.length>0;)e=f(e),o.push({instances:e}),$.eachItem(e,function(n,t){delete s[t.id]}),e=$.getValues(s);$.eachItem(ColumnsAlgorithms,function(n,f){$.eachItem(o,function(n,t){var r=f(t.instances,{maxArea:i.width});r.rows.orderByDesc(function(n){return n.getColumns().length});t.rowsData=r});$.eachItem(SectionsComparers,function(n,f){var e=f(o,{instancesArea:i,instances:t});e.totalColumns>r&&(u=e,r=e.totalColumns)})})}),RowsLayoutHelper.orderColumnsInRows(u))};this.orderColumnsInRows=function(n){return n.columnsToOrder};this.sectionsComparer=function(t,i){var l,r,s,h,p,w,c,b;for(f=$.makeArray(f),i=$.quickExtend({minSpacingBetweenSection:50},i),l=i.minSpacingBetweenSection,r=[];t.length>0;){var f=t[0],u=f.rowsData,a=f.instances,k=ElementsLayoutHelper.calculateInstancesSurroundingArea(a,!1,n),v=t.length;if(v>1&&a.length>1&&!$.isEmptyObject(u)){var e=1,o=1,y,d=$.getKeys(u.rowsByCols).orderByDesc();if($.eachItem(d,function(i,r){var f=u.rowsByCols[r];r>1&&$.eachItem(f,function(i,r){for(var b=r.getColumns(),u=b.length,nt=r.getArea(!1,n),f=1,s=!0,c=[r],a=k,g,w;s&&f<t.length&&f<4;){s=!1;var v=t[f],h=v.rowsData,d=v.instances,p=ElementsLayoutHelper.calculateInstancesSurroundingArea(d,!1,n);h.rowsByCols[u]&&p.top-a.bottom<l&&(g=$.getKeys(h.rowsByCols).orderByDesc(),w=h.rowsByCols[u],$.eachItem(w,function(t,i){for(var l,h,a,o=!0,e=0;e<u&&o;e++)l=r.getColumns()[e+1],h=i.getColumns()[e],e<u-1&&h.getArea(!1,n).right>l.getArea(!1,n).left+10&&(o=!1),e>0&&(a=r.getColumns()[e-1],h.getArea(!1,n).left<a.getArea(!1,n).right-10&&(o=!1));if(o)return s=!0,f++,c.push(i),!1}));a=p}e*o<f*u&&(e=f,o=u,y=c)})}),o>1){for(s=0;s<o;s++)for(h=0;h<e;h++)p=y[h],w=p.getColumns()[s],r.push(w);for(c=0;c<e;c++)t.shift()}}t.length===v&&(t.shift(),u.rows.length>0&&(b=u.rowsByCols[1][0].getColumns(),r=$.merge(r,b)))}return{columnsToOrder:r,totalColumns:r.length}};this.separateToEqualColumns=function(t,i){var p,u,k,v,r;i=$.extend({maxColumns:10,minColumns:1,minSpacingIntersection:undefined,shouldSort:!0,maxArea:960},i);p=i.shouldSort;p&&(t=ElementsLayoutHelper.sortByLeftPosition(t,n));var g=t.length<i.maxColumns?t.length:i.maxColumns,w=i.minColumns;if(w>t.length)return{};var s=ElementsLayoutHelper.calculateInstancesSurroundingArea(t,!1,n),nt=ElementsLayoutHelper.getHorizontalSpacingData(t,{getInstanceArea:n}),st=nt.maxSpacing,tt=s.left,it=i.maxArea>s.width?i.maxArea:s.width,f,b=[],h={};for(u=g;u>w-1&&!0;u--)for(k=it/u,v=!1,r=k;r>=s.width/u-20&&!v;r-=5){var c=i.minSpacingIntersection?i.minSpacingIntersection:r*.2,e=tt,rt=0,l=0,y=!0,a=RowOfColumns.create();for(f=undefined;y&&l<t.length;){var d=t[l],o=n(d,!1),ut=o.left>=e-c&&o.left<e+r,ft=o.left>=e+r-c&&o.left<e+r*2,et=o.right-c<=e+r,ot=o.right-c<=e+r*2;ut&&et?(f||(f=ColumnCell.create(),a.addColumns(f)),f.addInstances(d),l++):ft&&ot?f&&f.getInstances().length!==0?(f=undefined,e+=r,rt++):y=!1:y=!1}a.getColumns().length===u&&l===t.length&&(v=!0,b.push(a),h[u]||(h[u]=[]),h[u].push(a))}return{rows:b,rowsByCols:h}};this.separateToColumns=function(i,r){var e,f;r=$.extend({maxColumns:10,minColumns:2,minSpacingIntersection:undefined,shouldSort:!0,maxArea:960},r);e=r.shouldSort;e&&(i=ElementsLayoutHelper.sortByLeftPosition(i,n));f=[];$.eachItem(i,function(n,t){f.push(ColumnCell.create(t))});var s=RowOfColumns.create(f),o=t(s),u={};return $.eachItem(o,function(n,t){var i=t.getColumns().length;u[i]||(u[i]=[]);u[i].push(t)}),{rows:o,rowsByCols:u}};this.getTopSectionInstances=r;this.getInstanceSize=i;this.getInstanceArea=n},ColumnsAlgorithms=[RowsLayoutHelper.separateToEqualColumns,RowsLayoutHelper.separateToColumns],SectionsAlgorithms=[RowsLayoutHelper.getTopSectionInstances],SectionsComparers=[RowsLayoutHelper.sectionsComparer],RowOfColumns=new function(){this.create=function(n){n=$.makeArray(n);var i,t={getColumns:function(){return n},mergeColumnsFromStart:function(t){for(var u,i=[],r=0;r<t;r++)i=$.merge(i,n[0].getInstances()),n.shift();u=ColumnCell.create(i);n.unshift(u)},addColumns:function(i,r){if(i=$.asArray(i),r)for(var u=i.length-1;u>=0;u--)n.unshift(i[u]);else $.eachItem(i,function(t,i){n.push(i)});t.resetInformation()},resetInformation:function(){i=undefined},pop:function(){return t.resetInformation(),n.pop()},shift:function(){t.resetInformation();return n.shift()},unShift:function(i){return t.resetInformation(),n.unshift(i)},getArea:function(n,i){var r=t.getInstances();return ElementsLayoutHelper.calculateInstancesSurroundingArea(r,n,i)},getInstances:function(){var t=[];return $.eachItem(n,function(n,i){t=$.merge(t,i.getInstances())}),t}};return t};this.duplicateRow=function(n){return RowOfColumns.create(n.getColumns())}},ColumnCell=new function(){this.create=function(n){return n=$.makeArray(n),{addInstances:function(t){t=$.asArray(t);n=$.merge(n,t)},getArea:function(t,i){return ElementsLayoutHelper.calculateInstancesSurroundingArea(n,t,i)},recalculateArea:function(){return ElementsLayoutHelper.calculateInstancesSurroundingArea(n,!0,getAreaFunction)},getInstances:function(){return n}}};this.canBeInDifferentColumns=function(n,t,i){return!ColumnCell.areInTheSameColumn(n,t,i)};this.areInTheSameColumn=function(n,t,i){var r=n.getArea(!1,i),u=t.getArea(!1,i);return r.left<u.left?r.right>u.left+15:u.right>r.left+15}},RowsManager=new function(){function v(n){return n.elementType===ElementsTypes.page||n.hasFeature(Features.PageSection)||MasterPagesManager.isMasterPageRootInstance(n)}function i(t,r,u){var b=[],s={},h,f,a,y,k,w,l;if(t.canContainerRows()){if(!PositionManager.isElementVisible(t)){h=t.visibilityChangedEvent.bind(function(){h.unbind();RenderingCoordinator.performOnLayoutUpdate(function(){OperationsManager.disableOperationsRecording("addInstancesToContainer");RowsManager.addInstancesToContainer(t,r);OperationsManager.enableOperationsRecording("addInstancesToContainer")})});c.add(h);return}if(r=$.asArray(r),t.hasFeature(Features.Navigatable)){$.eachItem(r,function(n,t){i(t,t.childInstances)});return}RowsManager.UpdateBatch.start();OperationsManager.disableOperationsRecording("addInstancesToContainer");var l=t.getPropertyValue("rowsItems"),e=$.grep(r,function(n){return n.hasFeature(Features.HasResponsiveItem)&&n.shouldBeWithLayoutOnMobile()&&n.isInstanceVisible()}),o=$.grep(e,function(n){return!n.getPropertyValue("cellItem")&&PositionManager.isElementVisible(n)}),d=$.grep(r,function(n){return!(n.hasFeature(Features.HasResponsiveItem)&&n.shouldBeWithLayoutOnMobile())&&n.isInstanceVisible()}),g=$.mapArray(o,$.returnValue,$.defaultIdFunction);OrderManager.beginReorderingBatch();f=[];o.length>0&&!t.hasFeature(Features.Navigatable)?(a=$.grep(e,function(n){return!!n.getPropertyValue("cellItem")}),a.orderBy(function(n){return n.getPropertyValue("order")}),y=RowsLayoutHelper.separateToRowsAndCells(o),k=o.length===e.length?y:RowsLayoutHelper.separateToRowsAndCells(e),o=p(y),$.eachItem(k,function(n,t){var i=t.getInstances();$.eachItem(i,function(n,t){g[t.id]?f.push(t):f.push(a.shift())})}),$.eachItem(f,function(n,t){t.setPropertyValue("order",n+1)})):f=e;w=[];$.eachItem(f,function(n,i){if(!i.getCellItem()||i.getCellItem().isCellInContainer.isFalse()||u){var f=LayoutCellItem.getOrCreateCellFromInstance(i),r=LayoutRowItem.getOrCreateRowByCellItem(f,t);s[r.id]||(b.push(r),s[r.id]=r);r.updateCurrentCells(f);w.push(i)}});$.eachItem(b,function(n,i){i.build(v(t));i.initializeCellItems();i.setContainerInstance(t)});$.eachItem($.merge(d,w),function(n,t){t.hasFeature(Features.ItemsContainer)&&i(t,t.childInstances)});OrderManager.endReorderingBatch();l=t.getPropertyValue("rowsItems");l&&$.eachEntry(l,function(i,r){s[i]||n[i]&&!n[i].isBuilt.isFalse()||t.removeRowFromContainer(r)});RowsManager.UpdateBatch.finish();OperationsManager.enableOperationsRecording("addInstancesToContainer")}}function y(n,t){var e=[],v=t.getCells(),i=$.getValues(v).orderBy(function(n){return n.getOrder()}),u=i[0].getArea(),r=t.getArea(),o=r.top,s=r.bottom,f;for(i[0].id!==n.id&&e.push({type:RowsManager.MarkingTypes.Column,isFirst:!0,area:$.extendedAreaInfo({left:u.left-50,right:u.center.left,top:o,bottom:s}),item:i[0],rowArea:r,markingData:{left:u.left,top:r.top,height:r.height}}),f=0;f<i.length-1;f++){var h=i[f],c=i[f+1],l=h.getArea(),a=c.getArea();c.id!==n.id&&h.id!==n.id&&e.push({type:RowsManager.MarkingTypes.Column,area:$.extendedAreaInfo({left:l.center.left,right:a.center.left,top:o,bottom:s}),isFirst:!1,rowArea:r,item:i[f],markingData:{left:(l.right+a.left)/2,top:r.top,height:r.height}})}return u=i[i.length-1].getArea(),i[i.length-1].id!==n.id&&e.push({type:RowsManager.MarkingTypes.Column,isLast:!0,area:$.extendedAreaInfo({left:u.center.left,right:u.right+50,top:o,bottom:s}),rowArea:r,item:i[i.length-1],markingData:{left:u.right,top:r.top,height:r.height}}),e}function l(n,t,i,r){return UndoOperation.create({type:OperationsManager.Types.PrePropertiesChangeType,name:"changeRowMobile",getInstances:function(){return[n]},performOperation:function(){var f=n.getCellItem(),e=f.getRowParent(),a=f.getWidth(),v=ElementsLayoutHelper.rememberLayout(n),u=t?t.getCellItem().getRowParent():undefined,o,s,h,c;u&&e.id===u.id||(e.removeCells([f]),u&&u.isRowInPage.isTrue()?(u.addCellItems([f]),u.updateCellsSpacing(),u.updateCellsWidth([{cellItem:f,width:i}])):RowsManager.addInstanceToContainer(n.parentInstance,n,!0),o=n.getCellItem(),s=o.getRowParent(),s.updateCellsSpacing(),e.updateCellsSpacing(),$.eachEntry(e.cellItems,function(n,t){if(t)return h=t.getInstance(),!1}),r.restoreLayout(),c=l(n,h,a,v),OperationsManager.informOnOperation(c))}})}function p(n){var t=[];return $.eachItem(n,function(n,i){var f=i.getInstances(),u=0,e=0,r=[];$.eachItem(f,function(n,i){var s=RowsLayoutHelper.getInstanceSize(i).width,c,l,a,h;u+=s;u>340||n===f.length-1?(c=!1,e=u-s,(r.length===0||u<380&&RowsLayoutHelper.getInstanceArea(i).right-RowsLayoutHelper.getInstanceArea(r[r.length-1]).left<400)&&(c=!0,r.push(i),e=u),l=$.max(r,function(n){return RowsLayoutHelper.getInstanceSize(n).height}).value,a=$.min(r,function(n){return RowsLayoutHelper.getInstanceSize(n).height}).value,a/l<.6?$.eachItem(r,function(n,i){var r=LayoutRowItem.create([]);LayoutCellItem.create(i,{rowId:r.id,width:100});t.push(i);o(i)}):(h=LayoutRowItem.create([]),$.eachItem(r,function(n,i){LayoutCellItem.create(i,{rowId:h.id,width:Math.floor(RowsLayoutHelper.getInstanceSize(i).width/e*100)});t.push(i);o(i)})),r=[],u=0,c||(s>340||n===f.length-1?(h=LayoutRowItem.create([]),LayoutCellItem.create(i,{rowId:h.id,width:100}),t.push(i),o(i)):(r.push(i),u=s))):r.push(i)})}),t}function o(n){var f;if(n.data.disableAdjustWidthToMobile){n.data.disableAdjustWidthToMobile=!1;return}if(n.hasFeature(Features.HasLayout)){var u=n.properties.fillLayout.value.fillHorizontal,t=RowsLayoutHelper.getInstanceSize(n),i=n.getPropertyValue("lastResizingSize"),r=n.getPropertyValue("sizeAndPosition");if(t.width===0&&(t.width=i.width?i.width:r.width),t.height===0&&(t.height=i.height?i.height:r.height),t.height===0||t.height===0){ElementsLayoutHelper.setInstancesSize(n,{height:50});return}f=PageManager.getCoordinator().getPropertyValue("pagePadding");!n.shouldBeBlockElementInMobile()&&!n.parentInstance.isType(ElementsTypes.page)&&!u&&t.width<MobileViewPortWidth*.75?(n.setPropertyValue("display",ElementDisplay.Fixed),n.setPropertyValue("sizeAndPosition",$.extend({},r,t))):(n.setPropertyValue("display",ElementDisplay.Block),n.canResizeVertically.isTrue()&&n.setPropertyValue("sizeAndPosition",$.extend({},r,{height:t.height})))}}function r(t,i){var o,s,f,e;i=$.extend({shouldRemoveFromViewPort:!1,removeDescendant:!0},i);o=i.shouldRemoveFromViewPort;s=i.removeDescendant;t.childInstances&&s&&$.eachItem(t.childInstances,function(n,t){r(t,i)});t.isConvertedToMobile()&&(t.isVisibleInMode()||o)&&t.isUpdatedToViewPort()&&t.removeInstanceFromViewPort();t.hasFeature(Features.HasResponsiveItem)&&t.shouldBeWithLayoutOnMobile()&&t.getCellItem()&&(f=t.getCellItem(),f.clearCellItem(),delete u[f.id]);t.hasFeature(Features.ItemsContainer)&&(e=t.getRowsFromContainer(),e&&$.eachItem(e,function(t,i){i.removeFromContainer();delete n[i.id]}))}var a={RowDecorator:{group:"rows-manager-templates",name:"row-decorator-template"},ColumnDecorator:{group:"rows-manager-templates",name:"column-decorator-template"}},t=this,n={},u={},f={},e={},s,h,c=SimpleEvent.createBindingsCollection();this.MarkingTypes={Column:"column",Row:"row"};t.CellsContainerChangedEvent=SimpleEvent.create();t.UpdateBatch=OperationsBatch.create();this.initialize=function(){s=$.useTemplate(a.RowDecorator).appendTo(Global.DecoratorsContainer);h=$.useTemplate(a.ColumnDecorator).appendTo(Global.DecoratorsContainer)};this.convertCurrentPageToMobile=function(n){RowsManager.UpdateBatch.start();t.renderMasterPage(n);t.renderPageData(n);RowsManager.UpdateBatch.finish()};this.renderMasterPage=function(n){var r,u,f,t,o;RowsManager.UpdateBatch.start();r=PageManager.getCurrentPage();(!e[MasterPagesManager.getCurrentMasterPage().id]||n)&&(e[MasterPagesManager.getCurrentMasterPage().id]=!0,u=r.getHeaderInstance(),f=r.getFooterInstance(),u&&i(u,u.childInstances,n),t=[],$.eachItem(r.childInstances,function(n,i){var r=i;!r.isMasterPageElement.isTrue()||r.hasFeature(Features.PageSection)||r.isType(ElementsTypes.PageContentElement)||t.push(r)}),t.length>0&&(o=MobileVersionViewManager.getMasterPageContentSection(),ElementsManager.addElementToContainerElement(o,t),MobileVersionViewManager.refreshMobileMasterSectionInstanceVisibilty(),i(o,t)),f&&i(f,f.childInstances,n));RowsManager.UpdateBatch.finish()};this.renderPageData=function(n){RowsManager.UpdateBatch.start();var t=PageManager.getCurrentPage();(!f[t.id]||n)&&(f[t.id]=!0,$.eachItem(t.getPageContentInstances(),function(r,u){$.eachItem(u.getSectionsByPage(t),function(t,r){i(r,r.childInstances,n)})}));RowsManager.UpdateBatch.finish()};this.resetMasterPage=function(n,t){var f,u,i;n=n?n:MasterPagesManager.getCurrentMasterPage();e[n.id]&&(f=PageManager.getCurrentPage(),delete e[n.id],u=MasterPagesManager.getMasterPageRootInstances(n.id),u&&$.eachItem(u,function(n,t){r(t)}),i=$.getValues(t),i.length>0&&(ElementsManager.addElementToContainerElement(f,i),MasterPagesManager.setAsMasterPageRoots(i)))};this.resetPageData=function(n){if(n=n?n:PageManager.getCurrentPage(),f[n.id]){delete f[n.id];$.eachItem(n.getPageContentInstances(),function(t,i){$.eachItem(i.getSectionsByPage(n),function(n,t){t.isMasterPageElement.isFalse()&&r(t)})});var t=[];$.eachItem(n.childInstances,function(n,i){i.isMasterPageElement.isFalse()&&!i.shouldDisplayOnMobile()&&(i.isType(ElementsTypes.group)?t.push(i):r(i))});$.eachItem(t,function(n,t){r(t)});r(n,{removeDescendant:!1})}};this.resetRowsAndCells=function(){n&&$.eachEntry(n,function(t,i){i.removeFromContainer();delete n[i.id]});u={}};this.deActivateRowsRendering=function(){c.unbindAll()};this.addInstanceToContainer=function(n,t,i){var f,u,r;if(n.canContainerRows()&&!n.isType(ElementsTypes.TabsPanel)&&t.hasFeature(Features.HasResponsiveItem)&&t.shouldBeWithLayoutOnMobile()&&t.isInstanceVisible()){if(!PositionManager.isElementVisible(n)){f=n.visibilityChangedEvent.one(function(){RowsManager.addInstanceToContainer(n,t)});c.add(f);return}RowsManager.UpdateBatch.start();i||o(t);u=LayoutCellItem.getOrCreateCellFromInstance(t);r=LayoutRowItem.getOrCreateRowByCellItem(u,n);r.updateCurrentCells(u);r.build(v(n));r.setContainerInstance(n);r.initializeCellItems();RowsManager.UpdateBatch.finish()}};this.addInstancesToContainer=i;this.removeInstancesFromContainer=r;this.getDroppingAreas=function(n){var u=[],l=n.getCellItem(),s=l.getRowParent(),p=n.parentInstance,t=p.getRowsFromContainer(),r;if(t.length===0)return u;t.orderBy(function(n){return n.getOrder()});var i=t[0].getArea(),f=10,e=4,c=$.getValues(s.getCells()).length>1;for((t[0].id!==s.id||c)&&u.push({type:RowsManager.MarkingTypes.Row,isFirst:!0,area:$.extendedAreaInfo({left:i.left-f,right:i.right+f,top:i.top-e,bottom:i.top+e}),item:t[0],above:!0,rowArea:i,markingData:{left:i.left,top:i.top,width:i.width}}),r=0;r<t.length-1;r++){var a=t[r],w=t[r+1],o=a.getArea(),h=w.getArea(),v=$.min([o.left,h.left]).value,b=$.max([o.right,h.right]).value;(t[r].id!==s.id&&t[r+1].id!==s.id||c)&&u.push({type:RowsManager.MarkingTypes.Row,area:$.extendedAreaInfo({left:v-f,right:b+f,top:o.bottom-e,bottom:h.top+e}),rowArea:o,item:a,above:!1,markingData:{left:v,top:(o.bottom+h.top)/2,width:$.max([o.width,h.width]).value}})}for(i=t[t.length-1].getArea(),(t[t.length-1].id!==s.id||c)&&u.push({type:RowsManager.MarkingTypes.Row,isLast:!0,area:$.extendedAreaInfo({top:i.bottom-e,bottom:i.bottom+e,left:i.left-f,right:i.right+f}),above:!1,rowArea:i,item:t[t.length-1],markingData:{left:i.left,top:i.bottom,width:i.width}}),r=0;r<t.length;r++)u=$.merge(u,y(l,t[r]));return u};this.toggleAreaMarking=function(n,i){s.quickToggle(n!==undefined&&n.type===t.MarkingTypes.Row,function(){var t=n.markingData,r=$.extendedAreaInfo({top:t.top-5,left:t.left,right:t.left+t.width,bottom:t.top+5});s.setArea($.translateArea(r,i))});h.quickToggle(n!==undefined&&n.type===t.MarkingTypes.Column,function(){var t=n.markingData,r=$.extendedAreaInfo({top:t.top,left:t.left-5,right:t.left+5,bottom:t.top+t.height});h.setArea($.translateArea(r,i))})};this.onColumnDropped=function(n,i){var s,e,o,h,c,a;if(i){var f=n.getRowParent(),r=n.getInstance(),y=r.getPropertyValue("margin"),p=r.getSize(),v=ElementsLayoutHelper.rememberLayout(r),u;OrderManager.beginReorderingBatch();LayoutManager.layoutUpdateBatch.start();s=n.getWidth();i.type===t.MarkingTypes.Column&&(e=i.item,o=e.getOrder(),u=e.getRowParent(),u.id!==f.id&&u.addCellItems([n]),r.setPropertyValue("order",o+(i.isFirst?-.1:.1)));i.type===t.MarkingTypes.Row&&(u=i.item,o=u.getOrder(),h=i.above?u.getMinOrder().value-.1:u.getMaxOrder().value+.1,f.removeCells([n]),n.setWidth(100),RowsManager.addInstanceToContainer(r.parentInstance,r,!0),n.instance.hasFeature(Features.HasRichContent)&&n.instance.refreshContentSize(),r.setPropertyValue("order",h));u=n.getRowParent();f.updateCellsSpacing();u.updateCellsSpacing();$.eachEntry(f.cellItems,function(n,t){if(t)return c=t.getInstance(),!1});a=l(r,c,s,v);OperationsManager.informOnOperation(a);OrderManager.endReorderingBatch();OrderManager.requestReorderingChildElements(r.parentInstance);RowsManager.UpdateBatch.fireEvent(RowsManager.CellsContainerChangedEvent,{containerInstance:r.parentInstance});LayoutManager.refreshElementsLayout(r);LayoutManager.layoutUpdateBatch.finish()}};this.addRowToPage=function(t){n[t.id]=t};this.removeRowFromPage=function(t){delete n[t.id]};this.getRowById=function(t){return n[t]};this.addCellToPage=function(n){u[n.id]=n};this.removeCellFromPage=function(n){delete u[n.id]};this.getCellById=function(n){return u[n]};this.getCellsSpacing=function(){return PageManager.getCoordinator().getPropertyValue("cellsSpacing")};this.createColumnChangeOperation=l},MobileVersionViewManager=new function(){function w(){v=!0;e={};f={};o={};var n=PageManager.Events.PageChanged.bind(b);u.add(n);s.activate()}function b(){var u;i.start();var n=PageManager.getCurrentPageId(),s=e[n],l=PageManager.getCoordinator(),c=PageManager.getCurrentPage(),s=e[n],r=f[n],h=MasterPagesManager.getCurrentMasterPage().id;r||(r=ElementsManager.getInstancesWithHierarchyFromRoots(c),f[n]=r);u=r.allInstances;o[h]||(o[h]=ElementsManager.getInstancesWithHierarchyFromRoots(MasterPagesManager.getMasterPageRootInstances()));!s&&ViewManager.isViewMode()&&(MobileVersionViewManager.startEditingState(),$.each(u,function(n,t){t.activateState(ElementStates.MobileState,!0,!1)}));$.each(u,function(n,i){var r=i.wasEditedInMode()||PropertiesManager.isAffectedInState(PageManager.getCoordinator(),i,t);!r&&i.isConvertedToMobile()&&i.toggleVisibilityInMode(!i.shouldBeHiddenInMode())});MobileVersionViewManager.Flags.IsActivated.setTrue();g();nt(u);LayoutManager.refreshElementsLayout($.getValues(ElementsManager.getAllPageInstances()));PositionManager.invalidateAreas($.getValues(ElementsManager.getAllPageInstances()));OrderManager.setReassignmentRequired(!0);i.finish();!s&&ViewManager.isViewMode()&&MobileVersionViewManager.endEditedState();v&&(v=!1)}function g(){var n=PageManager.getCoordinator(),t=n.getPropertyValue("isSiteWasEditedInMode");n.setPropertyValue("contentWidth",MobileViewPortWidth);MobileViewPortWidth===320&&n.getPropertyValue("contentWidth")===360&&(n.setPropertyValue("sectionPadding",$.minValue([n.getPropertyValue("sectionPadding")-10,0])),n.setPropertyValue("pagePadding",$.minValue([n.getPropertyValue("pagePadding")-10,0])));t||(n.setPropertyFieldsValues("columnsGrid",{margin:10,gutter:5,columnsNumber:4}),n.setPropertyValue("isSiteWasEditedInMode",!0),n.setPropertyValue("pagePadding",0),n.setPropertyValue("sectionPadding",10),n.setPropertyValue("sectionVerticalPadding",20),n.setPropertyValue("cellsSpacing",5),n.setPropertyValue("rowsSpacing",10),n.setPropertyValue("sectionsSpacing",10))}function nt(n){var t=PageManager.getCurrentPage(),i=e[t.id];i?RowsManager.renderMasterPage():(e[t.id]=!0,$.each(n,function(n,t){d(t);var i=t.wasEditedInMode();!i&&t.isConvertedToMobile()&&t.isVisibleInMode()&&t.adjustInstanceToViewPort()}),$.each(n,function(n,t){t.isConvertedToMobile()&&t.isVisibleInMode()&&!t.isUpdatedToViewPort()&&t.updateInstanceToViewPort()}),RowsManager.convertCurrentPageToMobile(),$.each(n,function(n,t){!t.wasEditedInMode()&&t.isConvertedToMobile()&&t.isVisibleInMode()&&this.setAsEditedInMode(!0);PropertiesManager.getPropertyValueInCustomState(t.properties.sizeAndPosition,MobileVersionViewManager.MobileStateName,PageManager.getCoordinator().id,t)||PropertiesManager.setValueInCustomState(t,"sizeAndPosition",PropertiesManager.getEditedState(),t.getPropertyValue("sizeAndPosition"))}))}function tt(){s.deactivate();RenderingCoordinator.performUpdateOnRenderingFinished(function(){Global.IsDesigner?it():k()},"MobileVersionViewManager-updatePositions")}function it(){h.start();ResizingManagerNew.ResizingBatch.performOperation(function(){k()},"MobileVersionViewManager-positions")}function k(){RenderingCoordinator.performOnFramesLayoutUpdade(function(){window.setTimeout(function(){PositionManager.invalidateAreas($.getValues(ElementsManager.getAllPageInstances()));s.activate();h.finish()},0)},"MobileVersionViewManager-positions")}function d(n){c[n.id]||!MasterPagesManager.isMasterPageRootInstance(n)||n.hasFeature(Features.PageSection)||n.isType(ElementsTypes.PageContentElement)||(c[n.id]=n)}function y(n){d(n);n.wasEditedInMode()||n.adjustInstanceToViewPort();n.updateInstanceToViewPort();RowsManager.addInstanceToContainer(n.parentInstance,n);$.each(n.childInstances,function(n,t){y(t)});n.wasEditedInMode()||(n.setAsEditedInMode(!0),PropertiesManager.setValueInCustomState(n,"sizeAndPosition",PropertiesManager.getEditedState(),n.getPropertyValue("sizeAndPosition")))}function p(){return n||(n=ElementsManager.getInstanceByID(l),n||(OperationsManager.disableOperationsRecording("createMasterPageContentSection"),n=ElementsManager.addSection(PageManager.getCurrentPage().getPageContentInstances()[0],{elementID:l}),n.properties.isVisibleInMode.value=!1,n.setPropertyValue("isVisibleInMode",!0),n.setPropertyValue("order",-1),MasterPagesManager.setAsMasterPageRoots(n),OperationsManager.enableOperationsRecording("createMasterPageContentSection"))),n}function rt(){return n.childInstances.length>0&&$.grep(n.childInstances,function(n){return n.isVisibleInMode()&&n.shouldDisplayOnMobile()}).length>0}var r=this,h,i,n,l,t;r.Flags={IsInMobileContext:ObservableFlag.create(!1),IsActivated:ObservableFlag.create(!1)};r.Events={MobileEditingStarted:SimpleEvent.create(),MobileEditingFinished:SimpleEvent.create(),SwitchingBetweenDevices:SimpleEvent.create(),AfterSwitchBetweenDevices:SimpleEvent.create()};h=OperationsBatch.create();this.MobileRefreshingPositionsBatch=h;i=OperationsBatch.create();this.updateBatch=i;l="masterPageContentSectionId";t="MobileResponsiveStateId1234";r.MobileStateName=t;var e={},f={},o={},c={},u,s,a,v=!1;this.getMobileViewPortWidth=function(){return MobileViewPortWidth};this.initialize=function(){var n={};n[t]={priority:6,id:t,responsiveState:!0};ElementStates[t]||ElementStatesManager.registerElementStates(n);s=SimpleEvent.createEventListener([{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"sizeAndPosition"},OrderManager.Events.ElementsReordered,RowsManager.CellsContainerChangedEvent,{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"rowsSpacing"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"cellsSpacing"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"pagePadding"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"sectionPadding"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"sectionVerticalPadding"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"innerRowPadding"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"cellsHorizontalAlignment"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"cellsVerticalAlignment"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"innerRowsSpacing"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"staticMargin"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"cellHorizontalAlignment"},{event:PropertiesManager.Events.NamedPropertyValueChanged,name:"isVisibleInMode"},Global.Events.NavigationFinished],function(){tt()});Global.IsDesigner&&(a=SimpleEvent.createEventListener([Global.Events.ElementResizingHappend],function(){ResizingManagerNew.InResizingCalculationBatch.performOperation(function(){var n=ResizingManagerNew.getCurrentResizingInstances()[0];LayoutManager.requestUpdatePosition(n.getParents())},"updatePositionsInDesigner")}))};this.switchToDesktop=function(){(ElementsEditingManager.isDuringEditing()&&ElementsEditingManager.finishElementEditing(),MobileVersionViewManager.Flags.IsActivated.isFalse())||(MobileVersionViewManager.Events.SwitchingBetweenDevices.fireNew(!1),OperationsManager.disableOperationsRecording("switchToDesktop"),RenderingCoordinator.startModeRenderingBatch(),DesignerManager.DesignerLayoutUpdateBatch.start(),ViewManager.isDesignMode()&&(SelectionManager.disable("MobileVersionState"),EditorManager.Flags.PcEditing.setTrue()),MobileVersionViewManager.resetToDesktop(),ViewManager.isDesignMode()?(MobileVersionViewManager.stopMobileEditor(),SelectionManager.enable("MobileVersionState")):UrlManager.navigate(UrlManager.getFragment(),{navigationOptions:{forceNavigation:!0}}),MobileVersionViewManager.Flags.IsInMobileContext.setFalse(),MasterPagesManager.updateCurrentMasterPage(),LayoutManager.refreshElementsLayout($.getValues(ElementsManager.getAllPageInstances())),PositionManager.invalidateAreas($.getValues(ElementsManager.getAllPageInstances())),DesignerManager.DesignerLayoutUpdateBatch.finish(),RenderingCoordinator.finishModeRenderingBatch(),MobileVersionViewManager.Events.AfterSwitchBetweenDevices.fireNew(!1),OperationsManager.enableOperationsRecording("switchToDesktop"),SelectionManager.selectInstances([],!0))};this.initializeMobileForViewer=function(){u=SimpleEvent.createBindingsCollection();MobileVersionViewManager.Flags.IsInMobileContext.setTrue();MobileVersionViewManager.startMobileState();w()};this.switchToMobile=function(){var t,n,i;MobileVersionViewManager.Flags.IsActivated.isTrue()||LimitationsManager.validateMobile()&&(MobileVersionViewManager.Events.SwitchingBetweenDevices.fireNew(!0),OperationsManager.disableOperationsRecording("switchToMobile"),u=SimpleEvent.createBindingsCollection(),RenderingCoordinator.startModeRenderingBatch(),DesignerManager.DesignerLayoutUpdateBatch.start(),RowsManager.resetRowsAndCells(),MobileVersionViewManager.Flags.IsInMobileContext.setTrue(),SiteViewportManager.setFullScreen(!1,"MobileVersion"),DesignerManager.ResponsiveViewPort.setValue(MobileViewPortWidth),t=PageManager.getCurrentPageId(),n=ViewManager.Events.BeforeViewModeChanged.bindAndExecute(function(){ViewManager.isDesignMode()?(ViewMobileWrapperMode.finish(),MobileVersionViewManager.startMobileEditor()):(MobileVersionViewManager.stopMobileEditor(),ViewMobileWrapperMode.start())}),u.add(n),n=ViewManager.Events.ViewModeChanged.bindAndExecute(function(){ViewManager.isDesignMode()&&MobileVersionViewManager.startMobileState();LayoutManager.refreshElementsLayout($.getValues(ElementsManager.getAllPageInstances()));PositionManager.invalidateAreas($.getValues(ElementsManager.getAllPageInstances()))}),ViewManager.isViewMode()&&MobileVersionViewManager.startMobileState(),u.add(n),i=p(),w(),ViewManager.isDesignMode()&&b(),n=ViewManager.Events.ViewModeChanged.bindAndExecute(function(){ViewManager.isViewMode()&&UrlManager.navigate(UrlManager.getFragment(),{navigationOptions:{forceNavigation:!0}})}),MasterPagesManager.updateCurrentMasterPage(),u.add(n),DesignerManager.DesignerLayoutUpdateBatch.finish(),RenderingCoordinator.finishModeRenderingBatch(),MobileVersionViewManager.Events.AfterSwitchBetweenDevices.fireNew(!0),OperationsManager.enableOperationsRecording("switchToMobile"))};this.refreshMobileMasterSectionInstanceVisibilty=function(){MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&p().isDisplayed.setValue(rt(),"noMasterPageContentSections")};this.getMobileState=function(){return{type:ElementStates[MobileVersionViewManager.MobileStateName],source:PageManager.getCoordinator().id}};this.startMobileEditor=function(){EditorManager.Flags.MobileEditing.isTrue()||(MobileVersionViewManager.startEditingState(),ElementsEditingManager.isDuringEditing()&&ElementsEditingManager.finishElementEditing(),EditorManager.Flags.PcEditing.setFalse(),EditorManager.Flags.MobileEditing.setTrue(),SelectionManager.Flags.canSelectMoreThenOneElement.setValue(!1,"mobile"),SelectionManager.selectInstances([],!0),SelectionManager.disable("MobileVersionState"),RenderingCoordinator.performUpdateOnRenderingFinished(function(){SelectionManager.enable("MobileVersionState")}),r.Events.MobileEditingStarted.fireNew(),a.activate(),MobileResizingIneratcion.start(),SiteSettingsManager.getValue("isFirstMobileUse")===undefined&&Dialogs.LightBoxDialogCentered.usePanel(PanelsManager.getDefaultPanel(MobileIntroductionPanel)).open({header1:"Welcome to the Mobile Editor",buttons:ConfirmationPanel.OkButton,buttonsOptions:[{type:ConfirmationButtonsTypes.OK,title:"OK, let's go!"}],onConfirm:function(){SiteSettingsManager.setValue("isFirstMobileUse",!0)}}))};this.stopMobileEditor=function(){EditorManager.Flags.MobileEditing.isTrue()&&(MobileResizingIneratcion.stop(),a.deactivate(),SelectionManager.selectInstances([],!0),SelectionManager.Flags.canSelectMoreThenOneElement.setValue(!0,"mobile"),EditorManager.Flags.MobileEditing.setFalse(),MobileVersionViewManager.endEditedState(),r.Events.MobileEditingFinished.fireNew())};this.resetToDesktop=function(){(f={},r.Flags.IsActivated.isFalse())||(i.start(),OperationsManager.disableOperationsRecording("resetToDesktop"),RowsManager.deActivateRowsRendering(),s.deactivate(),u.unbindAll(),$.each(PageManager.getPages(),function(n,t){RowsManager.resetPageData(t)}),$.each(MasterPagesManager.getLoadedMasterPages(),function(n,t){RowsManager.resetMasterPage(t,c)}),c={},r.Flags.IsActivated.setFalse(),MobileVersionViewManager.endEditedState(),MobileVersionViewManager.endMobileState(),SiteViewportManager.setFullScreen(!0,"MobileVersion"),DesignerManager.ResponsiveViewPort.setValue(undefined),ViewMobileWrapperMode.finish(),i.finish(),RowsManager.resetRowsAndCells(),PropertiesManager.setDefaultGlobalState(),OperationsManager.enableOperationsRecording("resetToDesktop"))};this.startMobileState=function(){var n=PageManager.getCoordinator(),i={name:t,title:"Mobile Editing",elementName:"Mobile"};EditorManager.setEditingClass(EditorManager.MobileDesktopViewClass);PropertiesManager.setCustomGlobalState(i,n);EditorManager.Flags.PcEditing.setFalse()};this.startEditingState=function(){var n=PageManager.getCoordinator(),i={name:t,title:"Mobile Editing",elementName:"Mobile"};PropertiesManager.startStateEditingMode({sourceInstance:n,StateMode:i})};this.endEditedState=function(){PropertiesManager.endStateEditingMode()};this.endMobileState=function(){var n=PageManager.getCoordinator(),i={name:t,title:"Mobile Editing",elementName:"Mobile"};PropertiesManager.removeGlobalState(i,n);EditorManager.setEditingClass(EditorManager.PcDesktopViewClass)};this.addInstanceToMobile=function(n){var t=n.hasFeature(Features.PageSection),r;(t||n.hasFeature(Features.HasResponsiveItem))&&(r=$.getValues(ElementsManager.getAllPageInstances()),i.start(),RenderingCoordinator.startRenderingBatch(),t?$.each(n.childInstances,function(n,t){y(t)}):y(n),LayoutManager.refreshElementsLayout(n.parentInstance),LayoutManager.refreshElementsLayout(n),OrderManager.setReassignmentRequired(!0),RenderingCoordinator.finishRenderingBatch(),i.finish(),PositionManager.invalidateAreas(r))};this.getPageInstancesHierarchiesData=function(n){return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&f[n.id]?f[n.id].rootInstancesHierarchies:undefined};this.getMasterPageInstancesHierarchiesData=function(n){return n=n?n:MasterPagesManager.getDefaultMasterPageId(),MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&o[n]?o[n].rootInstancesHierarchies:undefined};this.getMasterPageContentSection=p},HierarchyController=function(){var n=window.HierarchyController=function(n,t){n=$.quickExtend({structures:[],connections:{},customStatesProperties:{},defaultProperties:undefined},n);t=$.quickExtend({valueChangeCallback:$.noop},t);var i=$.uniqueID();this.hierarchy=n;this.id=i;this.name="Hierarchy"+i;this.options=t};return n.prototype.getStructureIds=function(){var n={};return this.hierarchy.idsInHierarchy?$.quickExtend({},this.hierarchy.idsInHierarchy):(this.eachStructure(function(t,i){n[i.id]=!0}),n)},n.prototype.eachStructure=function(n,t){function r(u){u.childElements&&$.eachItem(u.childElements,function(f,e){var o=t?undefined:n(i++,e,u);return o===!1?!1:(o=r(e),o===!1)?!1:(o=t?n(i++,e,u):undefined,o===!1?!1:void 0)})}var i=0;$.eachItem(this.hierarchy.structures,function(u,f){var e=t?undefined:n(i++,f);return e===!1?!1:(e=r(f),e===!1)?!1:(e=t?n(i++,f):undefined,e===!1?!1:void 0)})},n.prototype.getStructureByIndex=function(n){function r(u){return i===n?(t=u,!1):(i++,u.childElements&&$.eachItem(u.childElements,function(n,t){return r(t)}),t===undefined)}var t=undefined,i=0;return $.eachItem(this.hierarchy.structures,function(n,t){return r(t)}),t},n.prototype.getHierarchy=function(){return this.hierarchy},n.prototype.addHierarchyAndApply=function(n){var t=this;return n=$.quickExtend({defaultProperties:this.hierarchy.defaultProperties,afterAddingCallback:function(){t.applyHierarchy()}},n),ElementsManager.addInstancesHierarchyFromStructure(this.hierarchy.structures,n)},n.prototype.addHierarchyFromNode=function(n,t){var i,r,u;return t=$.quickExtend({defaultProperties:this.hierarchy.defaultProperties,includeNode:!0,includeChildren:!0},t),i=this.getStructureById(n),t.includeChildren?t.includeNode?r=ElementsManager.addInstancesHierarchyFromStructure([i],t):i.childElements&&(r=ElementsManager.addInstancesHierarchyFromStructure(i.childElements,t)):t.includeNode&&(u=i.childElements,i.childElements=[],r=ElementsManager.addInstancesHierarchyFromStructure([i],t),i.childElements=u),r},n.prototype.applyHierarchy=function(){var n=this.hierarchy;PositionManager.VisibilityUpdateBatch.start();PropertiesManager.UpdateBatch.start();PositionManager.UpdateBatch.start();ElementActivationManager.applyConnections(n.connections.targetConnections);ElementActivationManager.applyConnections(n.connections.sourceConnections);PropertiesManager.addCustomStatesPropertiesValues(n.customStatesProperties);PropertiesManager.UpdateBatch.finish();PositionManager.VisibilityUpdateBatch.finish();PositionManager.UpdateBatch.finish()},n.prototype.getStructureByType=function(n){function i(r){return r.type===n?(t=r,!1):(r.childElements&&$.eachItem(r.childElements,function(n,t){return i(t)}),t===undefined)}var t=undefined;return $.eachItem(this.hierarchy.structures,function(n,t){return i(t)}),t},n.prototype.getStructureById=function(n){function i(r){return r.id===n?(t=r,!1):(r.childElements&&$.eachItem(r.childElements,function(n,t){return i(t)}),t===undefined)}var t=undefined;return $.eachItem(this.hierarchy.structures,function(n,t){return i(t)}),t},n.create=function(t,i){return new n(t,i)},n}(),TextStyleProperties={FontFamily:"fontFamily",TextColor:"color",HoverColor:"hoverColor",BackgroundColor:"backgroundColor",FontSize:"fontSize",UseUnderline:"useUnderline"},NamedTextStyles={ParagraphTitle:"title",MenuButton:"menu",PageTitle:"pageTitle",HeadingXL:"headingXL",HeadingM:"headingM",HeadingL:"headingL",HeadingS:"headingS",BodyL:"bodyL",BodyM:"bodyM",BodyS:"bodyS",BodyXS:"bodyXS"},InlineTextStylesContentTypes={Text:"Text",Link:"Link",Marked:"Marked"},InlineTextStyles={headline:{title:"Headline",contentType:InlineTextStylesContentTypes.Text,iconClass:"h2",fontSize:25,fontFamily:{themeFont:"heading1"},color:"#000000"},"sub-header":{title:"Sub Headline",contentType:InlineTextStylesContentTypes.Text,iconClass:"h2",fontSize:20,fontFamily:{themeFont:"heading2"},color:"#000000"},body:{title:"Body",contentType:InlineTextStylesContentTypes.Text,iconClass:"h2",fontSize:15,fontFamily:{themeFont:"body1"},color:"#000000"},link:{title:"Link",contentType:InlineTextStylesContentTypes.Link,iconClass:"h2",color:"#000000",hoverColor:"blue",useUnderline:!0},marked:{title:"Marked",contentType:InlineTextStylesContentTypes.Marked,iconClass:"h2",color:"#000000",backgroundColor:"grey"}},TextStyleManager=new function(){function i(n){switch(n){case TextStyleProperties.FontFamily:return"font";case TextStyleProperties.TextColor:return"fontColor";case TextStyleProperties.FontSize:return"fontSize";default:return undefined}}function r(n){switch(n){case"font":return TextStyleProperties.FontFamily;case"fontColor":return TextStyleProperties.TextColor;case"fontSize":return TextStyleProperties.FontSize;default:return undefined}}function n(n){switch(n){case"title":return"Paragraph Title";case"menu":return"Menu Button";case"pageTitle":return"Page Title";case"headingXL":return"Heading Extra Large";case"headingL":return"Heading Large";case"headingM":return"Heading Medium";case"headingS":return"Heading Small";case"bodyL":return"Body Large";case"bodyM":return"Body Medium";case"bodyS":return"Body Small";case"bodyXS":return"Body Extra Small";default:return"Custom Style"}}function t(t,i){var r=i[t];return{name:t,title:n(t),fontSize:r.fontSize,color:r.color,fontFamily:r.fontFamily}}this.TextStylesChanged=SimpleEvent.create();this.TextStyleClassNames=$.map(NamedTextStyles,function(n){return"theme-text-style-{0}".format(n)});this.InlineTextStyleClassNames=$.map(InlineTextStyles,function(n,t){return"theme-inline-text-style-{0}".format(t)});this.initialize=function(){if(Global.IsDesigner){var n=PropertiesValuesTracker.create(function(n){return n===null}).trackProperties($.map($.grep($.getValues(PropertiesTypes),function(n){return n.isTextStyleProperty}),function(n){return n.name}));PageManager.whenCoordinatorAvailable(function(){PropertiesManager.Events.NamedPropertyValueChanged.bindAndExecute("textStyles",function(){n.invalidateFilteredProperties();TextStyleManager.TextStylesChanged.fireNew()})})}PageManager.whenCoordinatorAvailable(function(){$.eachEntry(NamedTextStyles,function(n,t){var i=$.rule(".theme-text-style-"+t+" {}");TextStyleManager.TextStylesChanged.bindAndExecute(function(){var n=TextStyleManager.getTextStyleInformation(t);i.css({"font-family":ThemeFontsManager.evaluateFontBinding(n.fontFamily),color:ThemeColorsManager.evaluateColorBinding(n.color,!0),"font-size":n.fontSize})})})})};this.getTextStyleFromClass=function(n,t){var r=t?/^theme-inline-text-style-([\w-]+)$/i:/^theme-text-style-(\w+)$/i,i=r.exec(n);return i?i[1]:undefined};this.setElementsTextStyle=function(n,t){OperationsManager.beginAtomicBatch(!0);OperationsManager.addRememberSectionsLayoutOperation(n);PropertiesManager.UpdateBatch.start();$.eachItem(n,function(n,i){if(t===null){var r=TextStyleManager.getElementTextStyle(i);r&&i.setPropertiesValues({fontColor:r.color,font:r.fontFamily,fontSize:r.fontSize})}i.setPropertyValue("namedTextStyle",t);t!==null&&$.eachItem(["fontColor","font","fontSize"],function(n,t){i.setPropertyValue(t,null)})});PropertiesManager.UpdateBatch.finish();OperationsManager.endAtomicBatch()};this.getTextStyles=function(){var r=PageManager.getCoordinator(),n=r.getPropertyValue("textStyles"),i=[];return $.eachEntry(n,function(r){i.push(t(r,n))}),i};this.getDefaultInlineTextStyles=function(){return $.map(InlineTextStyles,function(n,t){return{name:t,title:n.title,fontSize:n.fontSize,color:n.color,fontFamily:n.fontFamily}})};this.getTextStyleInformation=function(n){return t(n,PageManager.getCoordinator().getPropertyValue("textStyles"))};this.getElementTextStyle=function(n){var t=n.getPropertyValue("namedTextStyle");return t?TextStyleManager.getTextStyleInformation(t):null};this.evaluateElementTextStyle=function(n,t,r){if(r===undefined&&(r=n.getPropertyValue(i(t))),r===null){var u=TextStyleManager.getElementTextStyle(n);u&&(r=u[t])}return r};this.getContextDefaultTextStyleValue=function(n){var t=ContextManager.getPropertyContextValue("namedTextStyle"),i;return t&&t.length===1&&t[0]!==null?(i=t[0],{value:TextStyleManager.getTextStyleInformation(i)[n],title:TextStyleManager.getTextStyleTitle(i)}):undefined};this.getContextCustomTextStyle=function(){var n=SelectionManager.getSelectedInstances()[0];return n?{fontSize:TextStyleManager.evaluateElementTextStyle(n,TextStyleProperties.FontSize),color:TextStyleManager.evaluateElementTextStyle(n,TextStyleProperties.TextColor),fontFamily:TextStyleManager.evaluateElementTextStyle(n,TextStyleProperties.FontFamily)}:undefined};this.getTextStyleTitle=function(t){return n(t)};this.getCustomPropertyTextStyle=r},PaletteVariation={Dark:"dark",Light:"light"},ThemeMainColors={Background1:0,Background2:1,Text1:2,Text2:3,Emphasis:4},ThemeColorsManager=new function(){function i(n){var t=PageManager.getCoordinator().getPropertyValue("themeColors"),i={palette:$.map(t.palette,function(n){return{color:n.color,variations:n.variations.clone()}}),variation:t.variation},r=n(i);r&&PageManager.getCoordinator().setPropertyValue("themeColors",i)}var r=this,t=5,n=5;this.getNumberOfMainColors=function(){return t};this.getNumberOfMainColorVariations=function(){return n};this.DisableColorsTransition=OperationsBatch.create();this.CurrentThemePalette=ObservableObject.createReferenceObject();this.ThemeColorsChanged=SimpleEvent.create();this.SitePresetPalettes=new ObservableCollection;this.ThemeColors=$.buildArray(t,function(){return{MainColor:ObservableObject.create(undefined,{equalityComparer:$.colorsEqualityComparer,valueConverter:function(n){return $.Color(n).toHEX()}}),Variations:$.buildArray(n,function(){return ObservableObject.create(undefined,{equalityComparer:$.colorsEqualityComparer,valueConverter:function(n){return $.Color(n).toHEX()}})})}});this.BackgroundClassNames=DeferredObject.create(function(){for(var t,i=[],n=0;n<ThemeColorsManager.getNumberOfMainColors();n++)for(i.push("theme-background-color-{0}".format(n)),t=0;t<ThemeColorsManager.getNumberOfMainColorVariations();t++)i.push("theme-background-color-{0}-{1}".format(n,t));return i});this.TextColorClassNames=DeferredObject.create(function(){for(var t,i=[],n=0;n<ThemeColorsManager.getNumberOfMainColors();n++)for(i.push("theme-text-color-{0}".format(n)),t=0;t<ThemeColorsManager.getNumberOfMainColorVariations();t++)i.push("theme-text-color-{0}-{1}".format(n,t));return i});this.initialize=function(){if($.eachItem(ThemeColorsManager.ThemeColors,function(n,t){var i=$.rule(".theme-text-color-"+n+" {}"),r=$.rule(".theme-background-color-"+n+" {}");t.MainColor.onValueChanged(function(n){i.css("color",n);r.css("background-color",n)});$.eachItem(t.Variations,function(t,i){var r=$.rule(".theme-text-color-"+n+"-"+t+" {}"),u=$.rule(".theme-background-color-"+n+"-"+t+" {}");i.onValueChanged(function(n){r.css("color",n);u.css("background-color",n)})})}),ThemeColorsManager.CurrentThemePalette.valueChangedEvent.bind(function(i){for(var r,o=i.palette,u=0;u<t;u++){var f=o[u],s=f.variations,e=ThemeColorsManager.ThemeColors[u],h=e.Variations;for(e.MainColor.setValue(f.color),r=0;r<n;r++)h[r].setValue(s[r])}ThemeColorsManager.ThemeColorsChanged.fireNew()}),PageManager.whenCoordinatorAvailable(function(n){PropertiesManager.Events.NamedPropertyValueChanged.bindAndExecute("themeColors",function(){var t=n.getPropertyValue("themeColors");ThemeColorsManager.CurrentThemePalette.setValue(t)});PropertiesManager.Events.NamedPropertyValueChanged.bindAndExecute("sitePresetPalettes",function(){var t=n.getPropertyValue("sitePresetPalettes");ThemeColorsManager.SitePresetPalettes.syncrhonize(t)})}),Global.IsDesigner){var i=PropertiesValuesTracker.create(function(n,t,i){var r=PropertiesTypes[t].supportsThemeBinding;return $.isFunction(r)?r(n,i):$.isArray(r)?$.any(r,function(t){return ThemeColorsManager.isColorBinding(n[t])}):ThemeColorsManager.isColorBinding(n)}).trackProperties($.map($.grep($.getValues(PropertiesTypes),function(n){return!!n.supportsThemeBinding}),function(n){return n.name}));ThemeColorsManager.CurrentThemePalette.onValueChanged(function(){var n=undefined;ThemeColorsManager.DisableColorsTransition.isActive()||(n={transitionDuration:200});i.invalidateFilteredProperties(n)})}};this.saveSitePresetPalette=function(n){n=ThemeColorsManager.clonePalette(n);n.id=$.uniqueID();var t=PageManager.getCoordinator(),i=t.getPropertyValue("sitePresetPalettes").clone();i.push(n);t.setPropertyValue("sitePresetPalettes",i)};this.removeSitePresetPalette=function(n){var i=PageManager.getCoordinator(),t=i.getPropertyValue("sitePresetPalettes").clone();t=$.grep(t,function(t){return t.id!==n});i.setPropertyValue("sitePresetPalettes",t)};this.getCurrentPalette=function(){return ThemeColorsManager.clonePalette(PageManager.getCoordinator().getPropertyValue("themeColors"))};this.getColorBindingFromClass=function(n){var t=/^theme-text-color-(\d+)(?:-(\d+))?$/i.exec(n);return t||(t=/^theme-background-color-(\d+)(?:-(\d+))?$/i.exec(n)),t?ThemeColorsManager.createThemeColorBinding(parseInt(t[1]),{variation:t[2]?parseInt(t[2]):undefined}):undefined};this.createThemeColorBinding=function(n,t){t=$.extend({variation:undefined,opacity:1,brightness:0},t);var i=t.variation;return i===undefined&&(i=ThemeColorsManager.getMainColorVariationIndex(n)),{mainColor:n,variation:i,opacity:t.opacity,brightness:t.brightness}};this.adjustThemeColorBinding=function(n,t){return t=$.extend({opacity:undefined,brightness:undefined},t),ThemeColorsManager.createThemeColorBinding(n.mainColor,{variation:n.variation,opacity:$.valueOrDefault(t.opacity,n.opacity),brightness:$.valueOrDefault(t.brightness,n.brightness)})};this.themeColorBindingEqualityComparer=function(n,t){return!n||!t?n===t:n.mainColor===t.mainColor&&n.variation===t.variation&&$.valueOrDefault(n.opacity,1)===$.valueOrDefault(t.opacity,1)&&$.valueOrDefault(n.brightness,1)===$.valueOrDefault(t.brightness,1)};this.evaluateColorBinding=function(n,t){var u,e,o;if(t=$.valueOrDefault(t,!1),!n)return n;if(ColorsHelper.isGradient(n))return ColorsHelper.mapGradientColorValues(n,function(n){return ThemeColorsManager.evaluateColorBinding(n)});if(u=n.mainColor,u!==undefined){var s=n.variation,h=$.valueOrDefault(n.opacity,1),f=$.valueOrDefault(n.brightness,0),i=$.Color(ThemeColorsManager.getThemeColor(u,s));return(i=ColorsHelper.adjustOpacity(i,function(){return h}),f!==0&&(e=r.getCurrentPaletteVariation(),o=e===PaletteVariation.Light?1:-1,i=ColorsHelper.adjustColorComponent(i,ColorSpaceComponent.L,function(n){return $.normalizeToRange($.adjustFraction(n,2)+$.adjustFraction(f,2)*o,0,1)})),t)?i.toCSS():i}return n};this.getOriginalThemeColorBrightness=function(n){return n=ThemeColorsManager.adjustThemeColorBinding(n,{brightness:0}),ColorsHelper.getBrightness(ThemeColorsManager.evaluateColorBinding(n))};this.getCurrentPaletteVariation=function(){return ThemeColorsManager.CurrentThemePalette.getValue().variation};this.getMainColorVariationIndex=function(n){var t=ThemeColorsManager.getThemeColor(n);return ThemeColorsManager.getThemeColorBrightnessIndex(ColorsHelper.getBrightness(t),ThemeColorsManager.getCurrentPaletteVariation())};this.getThemeColorBrightnessIndex=function(i,r){var f=1/n,u=Math.min(Math.floor(i/f),n-1);return r===PaletteVariation.Light&&(u=t-1-u),u};this.getThemeColorBrightnessRange=function(t){var i=1/n,r=Math.floor(t*100/(i*100))*i,u=r+i-.01;return{min:r,max:u}};this.isColorBinding=function(n){return $.isPlainObject(n)?ThemeColorsManager.isSolidColorBinding(n)||ThemeColorsManager.isGradientColorBinding(n):!1};this.isSolidColorBinding=function(n){return $.isPlainObject(n)?n.mainColor!==undefined:!1};this.isGradientColorBinding=function(n){return ColorsHelper.isGradient(n)?$.any(ColorsHelper.getGradientColorValues(n),function(n){return ThemeColorsManager.isSolidColorBinding(n)}):!1};this.getBoundMainColorIndex=function(n){return $.isPlainObject(n)?n.mainColor:undefined};this.getBoundMainColorVariationIndex=function(n){return $.isPlainObject(n)?n.variation:undefined};this.getThemeColor=function(n,t){var r=PageManager.getCoordinator(),u=r.getPropertyValue("themeColors"),i=u.palette[n];return t!==undefined?i.variations[t]:i.color};this.setThemeColors=function(n){PageManager.getCoordinator().setPropertyValue("themeColors",n)};this.changeMainColor=function(n,t){i(function(i){var r=i.variation;return i.palette[n]={color:t,variations:ThemeColorsManager.generateColorsVariations(t,r)},!0})};this.changePaletteVariation=function(n){i(function(t){var r,i;if(t.variation===n)return!1;for(t.variation=n,r=t.palette,i=0;i<r.length;i++)r[i].variations=$.reverseArray(r[i].variations);return!0})};this.getPaletteVariation=function(){return ThemeColorsManager.CurrentThemePalette.getValue().variation};this.generateColorsVariations=function(t,i){var r,u;i=$.valueOrDefault(i,PaletteVariation.Light);t=$.Color(t);var f=ColorsHelper.getBrightness(t),e=1/n,s=$.adjustFraction(Math.round(f*100)%Math.round(e*100)/100,2),o=[];for(r=0;r<n;r++)o.push($.adjustFraction(Math.min(.98,Math.max(.02,r*e+s)),2));return u=$.map(o,function(n){return ColorsHelper.changeBrightness(t,n).toHEX()}),u[ThemeColorsManager.getThemeColorBrightnessIndex(f,PaletteVariation.Dark)]=t.toHEX(),i===PaletteVariation.Light&&u.reverse(),u};this.generatePalette=function(n,t){t=$.valueOrDefault(t,PaletteVariation.Light);var i=[];return $.eachItem(n,function(n,r){var u=ThemeColorsManager.generateColorsVariations(r,t);i.push({color:r,variations:u})}),{palette:i,variation:t}};this.getPresetPalettes=function(){var n=[];return $.each([["#F2F1E1","#CCE0C5","#3C3D3F","#54604F","#B7D9C0"],["#E4D7C6","#CFCECD","#DF3732","#29282D","#8F8C87"],["#F6F7F2","#EEE252","#E55516","#262B27","#8DA641"],["#ECE8CF","#918C6E","#112838","#33301D","#D90D3D"],["#C8DCBF","#E0FCEC","#5D9E9A","#5D9E9A","#DB0148"],["#FB6900","#004853","#007E80","#00B9BD","#E03912"],["#C44D58","#556270","#FF6B6B","#262B27","#C7F464"],["#87244C","#30162B","#F5F2C4","#BCCF9F","#3FB094"],["#F4F3E3","#BADDDD","#F28C8C","#000000","#F3C2AD"],["#000000","#7964E4","#6EE264","#FFFFFF","#A5A5A5"],["#FFFFFF","#FFF538","#FF006F","#000000","#FFB300"],["#FCFDFF","#EDEDF2","#A6AEC1","#3B414C","#00B5B5"],["#FDFAEB","#FAEDDF","#F7A29E","#3B3F49","#F3C6B9"],["#FFFFFF","#F3F4E5","#A1C1BE","#59554E","#E2E3D9"],["#040004","#413D3D","#FA023C","#C8FF00","#4B000F"],["#E6DCDB","#FE016B","#0D0F19","#0D0F19","#5E666C"],["#E7EDEA","#CEECEF","#FB0C06","#030D4F","#FFC52C"],["#ADB3BA","#0CCFC2","#FF2E43","#382F32","#F7921E"]],function(t,i){n.push(ThemeColorsManager.generatePalette(i))}),n};this.clonePalette=function(n){return{palette:$.map(n.palette,function(n){return{color:n.color,variations:ArrayUtils.clone(n.variations)}}),variation:n.variation}};this.palettesEqualityComparer=function(n,t){return!n||!t?n===t:n.variation!==t.variation?!1:$.arraysEqual(n.palette,t.palette,{equalityComparer:function(n,t){return ColorsHelper.bindableColorsEqualityComparer(n.color,t.color)&&$.arraysEqual(n.variations,t.variations,{equalityComparer:ColorsHelper.bindableColorsEqualityComparer})}})}},ApiManager=function(){function u(n,t,i){var r=n._apiFunctions,u=r[t],f;if(u)return n._isInApiCall=!0,f=u.call(r,i),n._isInApiCall=!1,f}function f(t){if(!t._pendingSizeEvent){t._pendingSizeEvent=!0;t._instance.duringResizing.once(!1,function(){var i=t._instance.getContentSize();t._fireEvent(n.SIZE_CHANGE,{width:i.width,height:i.height});t._pendingSizeEvent=!1})}}function e(t,i){if(!i){var r=t._instance.getPosition();t._fireEvent(n.POSITION_CHANGE,{left:r.left,top:r.top})}}function o(t,i){var r=[];$.eachEntry(i,function(n,i){var u=t._settingKeysMap[n];u&&r.push({name:u,value:i.value})});r.length>0&&t._fireEvent(n.SETTING_CHANGE,r)}function s(n){return n?{id:n.id,name:n.title,title:n.pageTitle,isHomePage:n.isHomePage}:undefined}var r=Class.extend("ApiFunctions",{init:function(n,t,i){i=$.quickExtend({apiInitialize:$.noop},i);this._instance=n;this._callbacks=i;this._callHandlers=t;this._apiInitialized=!1},API_INIT:function(){this._apiInitialized||(this._apiInitialized=!0,this._callbacks.apiInitialize())},SET_CALL_HANDLER:function(n){var r=n.callName,t=this._callHandlers[r],i;t&&(t.isActivated||(t.isActivated=!0,i=t.batch,i&&delete t.batch,n.oldCalls&&i&&$.eachItem(i,function(n,t){t()})))},RESET_CALL_HANDLER:function(n){var t=n.callName;delete this._callHandlers[t]},SET_PROPERTIES:function(n){this._instance.setPropertyFieldsValues("appProperties",n)},GET_PROPERTIES:function(n){var t=this._instance.getPropertyValue("appProperties"),i;return t&&$.isArray(n)?(i={},$.eachItem(n,function(n,r){i[r]=t[r]}),i):t||{}},GET_SETTINGS:function(n){var t=this._instance,i={};return $.isArray(n)?$.eachItem(n,function(n,r){i[r]=t.getAppSettingValue(r)}):n==="all"&&$.eachEntry(t.getAppSettings(),function(n){i[n]=t.getAppSettingValue(n)}),i},SET_SETTINGS:function(n){var t=this._instance;$.eachEntry(n,function(n,i){t.setAppSettingValue(n,i)})},RELOAD_APP:function(n){this._instance.reloadApp(n)},GET_PAGES:function(){var t=PageManager.PagesCollection.getItems(),n=[];return $.eachEntry(t,function(t,i){n.push(s(i))}),n},CALL_HANDLER:function(n){var i=n.callName,t=this._callHandlers[i];if(t&&t.callback)return t.callback(n.params)},SET_DOCUMENT_SIZE:function(n){this._instance.setDocumentSize(n)},SET_APP_SIZE:function(n){this._instance.setAppSize(n)},SET_APP_CONTENT_SIZE:function(n){this._instance.setAppContentSize(n)},ENABLE_TOP_POSITION:function(){var n,t,i,r;ViewManager.isViewMode()&&(n=this,t=n._instance,n._customZIndexController||(i=t.customZIndex.getValue(),t.customZIndex.setValue(Global.MinExternalAppPropertyZindex),r=ViewManager.Events.SwitchedToDesignMode.one(function(){n._customZIndexController&&n._customZIndexController.restore()}),n._customZIndexController={restore:function(){t.customZIndex.setValue(i);r.unbind();n._customZIndexController=undefined}}))},DISABLE_TOP_POSITION:function(){ViewManager.isViewMode()&&this._customZIndexController&&this._customZIndexController.restore()}}),t="FeatureConnect.",i="FeatureImpl.",n={PROPERTY_CHANGE:"PROPERTY_CHANGE",SETTING_CHANGE:"SETTING_CHANGE",STYLE_CHANGE:"STYLE_CHANGE",URL_CHANGE:"URL_CHANGE",SIZE_CHANGE:"SIZE_CHANGE",POSITION_CHANGE:"POSITION_CHANGE",OUTSIDE_MOUSE_EVENT:"OUTSIDE_MOUSE_EVENT"};return Class.extend("ApiManager",{init:function(s){var c=this,l,v,a;s=$.quickExtend({instance:undefined,$iframe:undefined,callbacks:undefined,isManage:!1},s);var h=s.instance,p=h.getAppSettings(),w=h.getAppSettingPrefix(),y={};$.eachEntry(p,function(n){h.isQueryParamSetting(n)||(y[w+n]=n)});l={events:{id:"events",isActivated:!1,isBatchSupported:!1,callback:undefined}};this._settingKeysMap=y;this._bindings=[];this._pendingSizeEvent=!1;this._instance=h;this._isInApiCall=!1;this._callHandlers=l;s.isManage||(h.hasFeature(Features.FeatureExternalApp)&&(v=h.getAppFeatures(),$.eachEntry(v,function(n){var t=i+n;l[t]={id:t,activated:!1,isBatchSupported:!0,callback:function(t){h.fireFeatureEvent(n,t.eventName,t.params)}}})),h.hasFeature(Features.ConnectableExternalApp)&&(v=h.getAppConnectableFeatures(),$.eachEntry(v,function(n){var i=t+n;l[i]={id:i,activated:!1,isBatchSupported:!0,callback:function(t){var i=$.Deferred();return h.callConnectedFeatureFunction(n,t.functionName,t.params,function(n){i.resolve(n)}),i.promise()}}})));c._addBinding(h.contentSizeChangedEvent.bind($.firstArgProxy(f,c)));c._addBinding(UrlManager.Events.UrlChangedEvent.bind(function(){c._fireEvent(n.URL_CHANGE,IframeManager.getSessionUrl())}));c._addBinding(h.isInDragging.valueChangedEvent.bind($.firstArgProxy(e,c)));a=$.uniqueID();$(document).on("vmousedown."+a+" vmouseup."+a+" vclick."+a,function(t){ViewManager.isViewMode()&&c._fireEvent(n.OUTSIDE_MOUSE_EVENT,{type:t.type.substr(1)})});c._addBinding({unbind:function(){$(document).off("."+a)}});h.InstancePropertiesInitialized.onceTrue(function(){c._addBinding(h.propertyChangedEvent.bind("appProperties",function(t,i){if(!c._isInApiCall){var r=new ByRef(!1),u=$.diffObjectKeys(i,t,r);r.getValue()&&c._fireEvent(n.PROPERTY_CHANGE,u)}}));c._addBinding(h.propertiesChanged.bind($.firstArgProxy(o,c)))});this._apiFunctions=new r(h,l,s.callbacks);this._frame=IframeManager.addFrame(s.$iframe,function(n,t){return u(c,n,t)})},_addBinding:function(n){this._bindings.push(n)},_fireEvent:function(n,t){this._callFunction("events",{eventName:n,params:t})},deactivate:function(){$.eachItem(this._bindings,function(n,t){t.unbind()});this._frame.remove();delete this._frame},_callFunction:function(n,t,i){var r=this._callHandlers[n],f,u;r&&(f=this._frame,r.isActivated?f.callFunction(n,t,i,!1):r.isBatchSupported&&(u=r.batch,u||(u=r.batch=[]),u.push(function(){f.callFunction(n,t,i,!0)})))},callFeatureFunction:function(n,t,r,u,f){this._callFunction(i+n,{functionName:t,params:r,callInfo:u},f)},fireConnectedFeatureEvent:function(n,i,r,u){this._callFunction(t+n,{eventName:i,params:r,callInfo:u})}})}(),AppsManager=new function(){function r(n){if(typeof DevMode!="undefined"&&n.id.toString().search(/-/)>=0)throw new Error("Name can't be with char: '-'");return"{0}{1}".format(n.id,n.version)}function u(n){return"ExternalApp"+n}function f(n){n.implementedFeatures&&$.eachEntry(n.implementedFeatures,function(n,t){if(!t.isInternal){var i={};i[t.featureTypeName]={};ElementsModel.registerDefinition(Features,i)}})}function e(n){var t=ExternalAppElementBuilder.createElement(n);ElementsModel.registerDefinition(ElementsTypes,t)}function o(n,t){var f={},i;$.eachItem(n.settingCategories,function(n,t){$.quickExtend(f,t.settings)});i=r(n);n=$.quickExtend(n,{uniqueId:i,elementTypeName:u(i),appSettingPrefix:i,settings:f,getSourceConnections:function(){if(t){var i=[];return t.defaultConnections&&$.eachItem(t.defaultConnections,function(t,r){r.sourceAppId===n.id&&i.push({targetAppId:r.targetAppId,feature:r.feature})}),i}},getAppContainer:function(){return t},getUrl:function(){return $.evaluateWhenFunction(n.url)}});n.implementedFeatures&&$.eachEntry(n.implementedFeatures,function(n,t){t.featureTypeName=t.isInternal?t.featureInternalType:"ExternalApp"+n});n.connectableFeatures&&$.eachEntry(n.connectableFeatures,function(n,t){t.featureTypeName="ExternalApp"+n})}function s(n){n=$.quickExtend(n,{getApps:function(t){return t=$.asArray(t),$.mapItem(n.apps,function(n){if($.oneOfValues(n.id,t))return n})}})}var t={},n={},i=this;this.initialize=function(){};this.addAppContainer=function(t){t.id in n||(s(t),$.eachItem(t.apps,function(n,r){i.addApp(r,t)}),n[t.id]=t)};this.getAppContainer=function(t){return n[t]};this.createApp=$.noop;this.addApp=function(n,i){o(n,i);var r=n.uniqueId;r in t||(t[r]=n,f(n),e(n),this.createApp(n))}},IframeManager=new function(){function f(){return u++}function e(){var n=o;window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent&&window.attachEvent("onmessage",n)}function o(i){var r,f,e,o,u;if(i&&i.data){try{r=JSON.parse(i.data)}catch(h){return}if(f=r.id,f&&(e=n[f],e&&e.origin===i.origin))switch(r.type){case"call":o=e.callback(r.content.funcName,r.content.params);r.callbackId&&$.when(o).done(function(n){s(f,r.callbackId,n)});break;case"response":u=r.callbackId;u&&t[u]&&(t[u](r.content),delete t[u])}}}function s(n,t,i){r(n,"response",i,undefined,{callbackId:t})}function h(n,t,i,u,f){r(n,"call",i,u,{callName:t,oldCall:f})}function r(i,r,u,e,o){var h=n[i],c,s,l;h&&h.$iframe.length===1&&(c=h.$iframe[0].contentWindow,c&&(s={content:u,type:r},e&&(l=f(),s.callbackId=l,t[l]=e),o&&$.extend(s,o),c.postMessage(JSON.stringify(s),"*")))}function c(t){delete n[t]}var i=DeferredObject.create(function(){if(Global.IsDesigner)return $.uniqueID().toString();var n=sessionStorage.getItem("AppSessionID");return n||(n=$.uniqueID().toString(),sessionStorage.setItem("AppSessionID",n)),n}),n={},u=1,t={};this.initialize=function(){e()};this.addFrame=function(t,i){var r=t[0].src,e=r.split("/"),s=e[0]+"//"+e[2],o="wzId=",f=r.indexOf(o)+o.length,l=r.indexOf("&",f),u=r.substr(f,l-f);return n[u]={callback:i,$iframe:t,origin:s},{id:u,callFunction:function(n,t,i,r){h(u,n,t,i,r)},remove:function(){c(u)}}};this.getSessionUrl=function(){var n=$.getRootWindow().location.href;return ViewManager.isDesignMode()?n=PathUtils.combinePaths(n,$.uniqueID().toString()):(Global.IsDesigner||SiteManager.isTemplate())&&(n=PathUtils.combinePaths(n,i.get(),UrlManager.getFragment())),n};this.createIframeUrl=function(n,t){var f=n.getAppDefinition(),o,r,s,u,e,h;return t=$.extend({},{frameId:undefined,baseUrl:"",apiType:"",additionalParams:undefined,encodedParams:undefined},t),o=t.baseUrl,r=new StringBuilder,r.appendDecoded=function(n){return r.append(decodeURIComponent(n))},r.appendParameter=function(n,t){return r.append("&").appendDecoded(n).append("=").appendDecoded(t)},s=o.indexOf("?")>=0,r.append(o).conditionalAppend(!s,"?"),r.conditionalAppend(s,"&").append("wzId=").appendDecoded(t.frameId),r.appendParameter("wzInstanceId",n.id).appendParameter("wzAppId",f.id).appendParameter("wzAppV",f.version).appendParameter("wzApiType",t.apiType).appendParameter("wzDeviceType",MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?"mobile":"desktop").appendParameter("wzMode",ViewManager.isDesignMode()?"designer":n.isInPreview()?"preview":"view"),f.useSessionParams&&r.appendParameter("wzSessionId",i.get()),f.isCacheDisabled===!0&&r.appendParameter("wzCache",$.uniqueID()),u={},$.eachItem(n.elementType.querySettings,function(t,i){var r=n.getAppSettingValue(i);u[i]=r}),$.extend(u,t.additionalParams),e={},e.wzCurrentUrl=this.getSessionUrl(),$.extend(e,t.encodedParams),h=Base64.encode(JSON.stringify(e)),u.wzEncodeParams=h,r.append("&").append($.param(u)),r.toString()};this.initialize()},ThemeFontsManager=new function(){this.CurrentThemeFonts=ObservableObject.createReferenceObject();this.ThemeFonts={Heading1:ObservableObject.createReferenceObject(),Heading2:ObservableObject.createReferenceObject(),Body1:ObservableObject.createReferenceObject(),Body2:ObservableObject.createReferenceObject()};this.FontFamilyClassNames=DeferredObject.create(function(){return $.map(["heading1","heading2","body1","body2"],function(n){return"theme-text-font-{0}".format(n)})});this.initialize=function(){var n={heading1:ThemeFontsManager.ThemeFonts.Heading1,heading2:ThemeFontsManager.ThemeFonts.Heading2,body1:ThemeFontsManager.ThemeFonts.Body1,body2:ThemeFontsManager.ThemeFonts.Body2},t;if(ThemeFontsManager.CurrentThemeFonts.valueChangedEvent.bind(function(t){$.eachEntry(n,function(n,i){i.setValue(t[n])})}),$.eachEntry(n,function(n,t){var i=$.rule(".theme-text-font-"+n+" {}");t.onValueChanged(function(n){i.css("font-family",n)})}),PageManager.whenCoordinatorAvailable(function(n){PropertiesManager.Events.NamedPropertyValueChanged.bindAndExecute("themeFonts",function(){var t=n.getPropertyValue("themeFonts");ThemeFontsManager.CurrentThemeFonts.setValue(t)})}),Global.IsDesigner){t=PropertiesValuesTracker.create(function(n,t,i){var r=PropertiesTypes[t].supportsThemeFontBinding;return $.isFunction(r)?r(n,i):ThemeFontsManager.isFontBinding(n)}).trackProperties($.map($.grep($.getValues(PropertiesTypes),function(n){return n.supportsThemeFontBinding}),function(n){return n.name}));ThemeFontsManager.CurrentThemeFonts.onValueChanged(function(){t.invalidateFilteredProperties()})}};this.getFontBindingFromClass=function(n){var t=/^theme-text-font-(\w+)$/i.exec(n);return t?ThemeFontsManager.createThemeFontBinding(t[1]):undefined};this.createThemeFontBinding=function(n){return{themeFont:n}};this.getThemeFontType=function(n){if(ThemeFontsManager.isFontBinding(n))switch(n.themeFont){case"heading1":return"Heading 1";case"heading2":return"Heading 2";case"body1":return"Body 1";case"body2":return"Body 2";default:return undefined}};this.evaluateFontBinding=function(n){var t,i,r;return!n||!$.isPlainObject(n)?n:(t=n.themeFont,t!==undefined?(i=PageManager.getCoordinator(),r=i.getPropertyValue("themeFonts"),r[t]):n)};this.isFontBinding=function(n){return $.isPlainObject(n)?n.themeFont!==undefined:!1};this.setThemeFonts=function(n){PageManager.getCoordinator().setPropertyValue("themeFonts",n)};this.updateThemeFont=function(n,t){PageManager.getCoordinator().setPropertyFieldValue("themeFonts",n,t)};this.getPresetFonts=function(){return[{heading1:"Open Sans Extra Bold",heading2:"Open Sans Condensed Light",body1:"Open Sans",body2:"Open Sans Semi Bold"},{heading1:"Lobster",heading2:"Source Sans Pro Semi Bold",body1:"Source Sans Pro Light",body2:"Source Sans Pro Semi Bold"},{heading1:"Dancing Script Bold",heading2:"Open Sans",body1:"Open Sans Condensed Light",body2:"Open Sans"},{heading1:"Oleo Script",heading2:"Open Sans",body1:"Open Sans",body2:"Open Sans"},{heading1:"Old Standard TT Bold",heading2:"Old Standard TT Italic",body1:"Source Sans Pro Light",body2:"Source Sans Pro Light"},{heading1:"Amatic SC Bold",heading2:"Amatic SC",body1:"Source Sans Pro Light",body2:"Amatic SC"},{heading1:"Kaushan Script",heading2:"Lato Light",body1:"Lato",body2:"Lato"},{heading1:"Julius Sans One",heading2:"Lato",body1:"Lato Light",body2:"Lato"},{heading1:"Bad Script",heading2:"Droid Sans Bold",body1:"Droid Sans",body2:"Droid Sans"},{heading1:"Neuton Bold",heading2:"Neuton",body1:"Neuton Extra Light",body2:"Neuton"},{heading1:"Nixie One",heading2:"Nixie One",body1:"Source Sans Pro Light",body2:"Nixie One"},{heading1:"Vollkorn Bold",heading2:"Vollkorn Italic",body1:"Vollkorn",body2:"Vollkorn"},{heading1:"Abril Fatface",heading2:"Abril Fatface",body1:"Open Sans",body2:"Abril Fatface"},{heading1:"Old Standard TT Italic",heading2:"Old Standard TT Bold",body1:"Old Standard TT",body2:"Old Standard TT"},{heading1:"Amatic SC Bold",heading2:"Amatic SC",body1:"Lato",body2:"Amatic SC"},{heading1:"Open Sans Extra Bold",heading2:"Droid Serif",body1:"Droid Serif",body2:"Droid Serif"},{heading1:"Gravitas One",heading2:"PT Mono",body1:"PT Mono",body2:"PT Mono"},{heading1:"Old Standard TT Bold",heading2:"Old Standard TT Italic",body1:"Old Standard TT",body2:"Old Standard TT"},{heading1:"PT Sans Narrow Bold",heading2:"PT Sans Bold",body1:"PT Serif",body2:"PT Sans"}]}},RichTextProcessor=new function(){this.startProcessing=function(n){var t=$("<div><\/div>");t.html(n);var r=!1,u=n,i={processLinks:function(){return t.find("a[data-attached-link]").each(function(){var n=$(this),u=n.attr("data-attached-link"),t=$.tryParseJSON(u),i;t&&t.type===LinkTypes.Pages&&(i=PageManager.getPageFragmentValue(t.url),n.addClass("internal-link"),n.attr("href",UrlManager.getFullHtmlUrl(i)),r=!0)}),i},finish:function(){return r&&(u=t.html()),t.remove(),i},getProcessedContent:function(){return u},ifContentChanged:function(n){return r&&n(u),i}};return i}},LimitationsManager=new function(){function r(n){var e=i[n],t,r;e&&(t=e.dialog,u.BeforeUpgradeDialogOpened.fireNew(),r=n,n==="favicon"&&(r="generic"),$.triggerTrackingEvent({category:TrackingCategories.SiteStatus,action:TrackingActions.UpgradeDialogOpened,label:n,tagValue:n}),Dialogs.LightBoxDialogCentered.usePanel(Panels.LimitationsPanel).withActivationArgs({header:t.title,featureList:t.featureList,upgradeButtonText:t.upgradeButtonText,isDiscount:t.isDiscount,upgradeUrl:t.upgradeUrl,imageClass:"image-sprite-limitations-"+r,upgradeClosedCallback:function(){ApplicationService.getSiteLimitations(SiteManager.getSiteID(),function(n){f.setLimitations(n)});u.UpgradeWindowClosed.fireNew()},limitName:n}).withClass("hide-header-splitter").open({closeOnClickOutside:!0,layoutClass:"variation-left-orientation",buttons:[]}),u.AfterUpgradeDialogOpened.fireNew())}function t(n){var t=e(n);return t?t.limitation:undefined}function e(n){if(typeof WebzaiController!="undefined"&&WebzaiController.isAdmin())return!1;var t=i[n];return t&&t.limitation.isLimited?t:!1}function n(n){var i=t(n);return i?(r(n),!1):!0}var f=this,i={},u=this.Events={BeforeUpgradeDialogOpened:SimpleEvent.create(),AfterUpgradeDialogOpened:SimpleEvent.create(),UpgradeWindowClosed:SimpleEvent.create()};this.setLimitations=function(n){i={};$.extend(i,n)};this.openFileLimitDialog=function(){r("file")};this.validateLimit=function(t){return n(t)};this.validatePage=function(n){var i=t("pages");return i&&n>=i.maxPages?(r("pages"),!1):!0};this.validatePublish=function(){return n("publish")};this.validateVideo=function(n){var i=t("video"),u;return i?n!==undefined&&(u=$.valueOrDefault(i.maxVideos,1),n<u)?!0:(r("video"),!1):!0};this.isVideoLimited=function(){return!!t("video")};this.validateMobile=function(){return n("mobile")};this.validateStats=function(){return n("stats")};this.validateEcommerce=function(){return n("ecommerce")};this.validateFavicon=function(){return n("favicon")};this.isFaviconLimited=function(){var n=t("favicon");return n?!0:!1};this.getFreemiumBannerLimitation=function(){return e("bannerFeature")};this.initialize=function(){f.setLimitations(SiteManager.getSiteLimitations())}},SkinsType={Hierarchy:"Hierarchy"},SkinsBindingsTypes={Global:"Global",Inline:"Inline"},SkinsBindingsTypesNames={Default:"Default",TextInput:"TextInput",TextArea:"TextArea"},SkinsBindingsDevices={Desktop:"Desktop",Mobile:"Mobile"},SkinsManager=new function(){this.initialize=function(){initializeDefaultSkins()};this.Events={SkinHierarchyChanged:SimpleEvent.createNamedEvents(),SkinHierarchyUpdated:SimpleEvent.createNamedEvents(),SkinStyleChanged:SimpleEvent.createNamedEvents()};this.Flags={DisableDuringEditingTemplate:ObservableFlag.create(!0)};this.shouldReferToSkinValue=function(){return ViewManager.isViewMode()||SkinsManager.Flags.DisableDuringEditingTemplate.isFalse()||!SkinEditingManager.isDuringEditing()};this.evaluateSkinFieldStateValue=function(n,t){var i,u,f,e;t=$.extend({bindingData:undefined,fieldName:undefined,stateName:undefined,sourceId:undefined},t);var o=t.bindingData,r=t.fieldName,s=t.stateName,h=t.sourceId;switch(o.type){case PropertiesBindingTypes.PropertyBinding:if(i=n.getMainSkinInstance(),i)return u=i.getPropertyValue(r),f={value:u,animation:undefined},f;break;default:return e=n.getPropertyValue("styleBindingId"),StylesManager.evaluateFieldStateValue(e,r,s)}};this.getFieldValueChangedEvent=function(n,t,i){var r,u;switch(t.type){case PropertiesBindingTypes.PropertyBinding:if(r=n.getMainSkinInstance(),r)return{event:r.propertyChangedEvent,name:i};break;default:return u=n.getStyleBindingId(),$.objectGet(StylesManager.getStyleFields(u),[i,"valueChangedEvent"])}};this.getSkinHierarchy=function(n){switch(n.type){case SkinsBindingsTypes.Inline:return n.hierarchy;case SkinsBindingsTypes.Global:var t=PageManager.getCoordinator().getSkin(n);return t?t:SkinsManager.getDefaultSkinHierarchy(n.skinName)}};this.updateSkin=function(n,t){PageManager.getCoordinator().updateSkin(n,t)};this.updateSkinHierarchy=function(n,t,i){switch(t.type){case SkinsBindingsTypes.Inline:i.setPropertyValue("skinBinding",$.extend({},t,{hierarchy:n}));break;case SkinsBindingsTypes.Global:var r=n.fieldsToValues,u=n.statesAnimations;StylesManager.updateStyle(t.skinName+t.index,r,u);PageManager.getCoordinator().updateSkin(n,t)}};this.getDefaultSkin=function(n){return DefaultSkinsTypes[n]};this.getDefaultSkinHierarchy=function(n){return SkinsManager.getDefaultSkin(n).hierarchy}},DefaultSkinsTypes={};var StylesManager=new function(){var t=ElementStates.NormalState.name,n;this.DefaultStateName=t;this.DefaultMobileStateName=MobileVersionViewManager.MobileStateName;this.Events={styleFieldValueChanged:SimpleEvent.create()};this.getDefaultStateName=function(){return t};n=new ObservableCollection;this.getStyleFields=function(n){var t=StylesManager.getStyle(n);return t.fields};this.getStyleId=function(n){return n.skinName+n.index};this.evaluateFieldStateValue=function(n,t,i){var r=StylesManager.getStyle(n),i,f,e,u;return(i=!i&&MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&r.isSupportsMobile()?MobileVersionViewManager.MobileStateName:i?i:StylesManager.DefaultStateName,u=r.getFieldData(t,i),u)?(f=r.statesAnimations[i]?r.statesAnimations[i].getValue():undefined,e=u.observableValue.getValue(),{animation:f,value:e}):undefined};this.getStatesInformation=function(n,t,i){var e=StylesManager.getStyle(n),u={},f=[],r=e.fields,o=r[t[0]];return o&&$.eachItem(t,function(n,t){var e,s,h,o;for(e in r[t].states)s=r[t].states[e],h=s.observableValue.getValue(),h===undefined||u[e]||(u[e]=!0,o={stateName:e},o=i(o),f.push(o))}),f};this.getStyles=function(t){var i=n.getItem(t);return n.getItemsValues()};this.getStyle=function(t){return n.getItem(t)};this.isStyleExist=function(t){return n.getItem(t)!==undefined};this.addStyle=function(t,i,r){n.remove(t);var u=StylesManager.createStyle(t,i,r);return n.put(u),u};this.createStyle=function(n,t,i){var u,e,o,f,r,h,s;if(i=i?i:{},u=StyleController.create(n,t),e=u.supportedStates,t&&($.eachEntry(t,function(n,t){u.setField(n,StylesManager.createField(u,t,n))}),o=t,o&&(f=$.getValues(o)[0],f)))for(r in f)h=f[r],r!==StylesManager.DefaultStateName&&r!==MobileVersionViewManager.MobileStateName&&(s=ElementStates[r].isComplex?DevicesNames.Mobile:DevicesNames.PC,$.objectSetIfUndefined(e,[s],$.returnEmptyArray),e[s].push(ElementStates[r]),i[r]||(i[r]={transitionInDuration:0,transitionOutDuration:0,easing:"linear",useCustomExitAnimation:!1}),u.statesAnimations[r]=ObservableObject.create(i[r])),r===MobileVersionViewManager.MobileStateName&&u.toggleMobileSupport(!0,!1);return u};this.getStyleInformation=function(t){var i={fields:{},statesAnimations:{}},r=n.getItem(t),u,f;$.eachEntry(r.fields,function(n,t){var r,u;i.fields[n]={};for(r in t.states)u=t.states[r],i.fields[n][r]={value:u.observableValue.getValue(),animation:u.animation.getValue()}});for(u in r.statesAnimations)f=r.statesAnimations[u],i.statesAnimations[u]=f.getValue();return i};this.addFieldToStyle=function(n,t,i){var r=StylesManager.getStyle(n);$.objectSet(r.fields,[t],StylesManager.createField(r,i))};this.createField=function(n,t,i){var u=SimpleEvent.create(),f={states:{},valueChangedEvent:u};for(var r in t)$.objectSet(f,["states",r],StylesManager.createStateFieldData(n,i,r,t[r],u));return f};this.createStateFieldData=function(n,t,i,r,u){return{observableValue:ObservableObject.create(r.value,{valueChangeCallback:function(r,f){u.fireNew();StylesManager.Events.styleFieldValueChanged.fireNew(n,t,i,f)}}),animation:ObservableObject.create(r.animation,{valueChangeCallback:function(){}})}};this.updateStyle=function(t,i,r){n.remove(t);StylesManager.addStyle(t,i,r)};this.updateStyleState=function(n,t,i,r){var u=StylesManager.getStyle(n);$.eachEntry(i,function(n,i){var r=i[t].value,f=i[t].animation;u.setFieldValue(n,t,r);u.setFieldAnimationValue(n,t,r)});u.statesAnimations[t].setValue(r[t])};this.removeStyle=function(t){var i=StylesManager.getStyle(t);n.remove(t)};this.getStyleFieldValueChangeOperation=function(n){n=$.extend({styleItemId:undefined,fieldName:undefined,stateName:undefined,prevValue:undefined},n);var r=n.styleItemId,u=n.fieldName,f=n.stateName,i=n.prevValue,t=SelectionManager.getSelectedInstance();if(i!==undefined)return UndoOperation.create({type:OperationsManager.Types.PrePropertiesChangeType,name:"styleFieldValueChangeds",getInstances:function(){var n=t?ElementsManager.getInstanceByID(t.id):t;return n?[n]:undefined},performOperation:function(){var n=StylesManager.getStyle(r);n.setFieldValue(u,f,i)}})}},StyleController=new function(){this.create=function(n){var i={},r=!1,t={id:n,fields:{},statesAnimations:{},supportedStates:i,isSupportsMobile:function(){return r},toggleMobileSupport:function(n,u){var o=r,e,f,s;if(r=n,u)if(n){if(!o){$.eachEntry(t.fields,function(n,i){for(var r in i.states){var u=i.states[r],e=ElementStates[r],f={value:u.observableValue.getValue(),animation:u.animation.getValue()};r===StylesManager.DefaultStateName?i.states[MobileVersionViewManager.MobileStateName]=StylesManager.createStateFieldData(t,n,r,f,t.fields[n].valueChangedEvent):r!==ElementStates.MouseOverState.name&&(i.states[ElementStates.MobileState.id*e.id]=StylesManager.createStateFieldData(t,n,r,f,t.fields[n].valueChangedEvent))}});for(f in t.statesAnimations)s=t.statesAnimations[f],e=ElementStates[f],f===StylesManager.DefaultStateName?t.statesAnimations[MobileVersionViewManager.MobileStateName]=ObservableObject.create(t.statesAnimations[f].getValue()):e!==ElementStates.MouseOverState&&(t.statesAnimations[ElementStates.MobileState.id*e.id]=ObservableObject.create(t.statesAnimations[f].getValue()));i[DevicesNames.Mobile]=[];$.eachItem(i[DevicesNames.PC],function(n,t){t!==ElementStates.MouseOverState&&i[DevicesNames.Mobile].push(ElementStates[ElementStates.MobileState.id*t.id])})}}else if(o){$.eachEntry(t.fields,function(n,t){var i,r;for(i in t.states)r=t.states[i],i===StylesManager.DefaultStateName?delete t.states[MobileVersionViewManager.MobileStateName]:delete t.states[ElementStates.MobileState.id*ElementStates[i].id];t.valueChangedEvent.fireNew()});for(f in t.statesAnimations)s=t.statesAnimations[f],f===StylesManager.DefaultStateName?delete t.statesAnimations[MobileVersionViewManager.MobileStateName]:delete t.statesAnimations[ElementStates.MobileState.id*ElementStates[f].id]}},getFieldData:function(n,i){return i=i?i:t.getDefaultStateName(),$.objectGet(t.fields,[n,"states",i])},getFieldObservable:function(n,i){return i=i?i:StylesManager.DefaultStateName,$.objectGet(t.fields,[n,"states",i,"observableValue"])},getFieldAnimationObservable:function(n,i){return i=i?i:StylesManager.DefaultStateName,$.objectGet(t.fields,[n,"states",i,"animation"])},getAnimationObservable:function(n){return n=n?n:StylesManager.DefaultStateName,$.objectGet(t.statesAnimations,[n])},getSupportedStates:function(){if(r&&MobileVersionViewManager.Flags.IsInMobileContext.isTrue())return ArrayUtils.clone(i[DevicesNames.Mobile]);var n=ArrayUtils.clone(i[DevicesNames.PC]);return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?$.grep(n,function(n){return n!==ElementStates.MouseOverState}):n},getDefaultStateName:function(){return r?MobileVersionViewManager.MobileStateName:StylesManager.DefaultStateName},getFieldValue:function(n,i){var r=t.getFieldObservable(n,i);return r?r.getValue():undefined},setFieldValue:function(n,i,r){var u=t.getFieldObservable(n,i);if(u)return u.setValue(r)},setFieldAnimationValue:function(n,i,r){var u=t.getFieldAnimationObservable(n,i);u&&u.setValue(r)},getStateAnimationObservable:function(n){return $.objectGet(t.statesAnimations,[n])},getStateAnimationValue:function(n){var i=t.getStateAnimationObservable(n);return i.getValue()},setStateAnimationValue:function(n,i){var r=t.getStateAnimationObservable(n);r&&r.setValue(i)},setField:function(n,i){$.objectSet(t.fields,[n],i)}};return t}},SkinEditingManager=new function(){function h(n){var t=ElementsTypes[n],i=t.getDynamicType(),r=i.prototype.getSkinSupportedStates;return r.call({elementType:t})}var r,c;this.Events=r={SkinEditingStart:SimpleEvent.create(),SkinEditingFinish:SimpleEvent.create(),FieldWasCreated:SimpleEvent.create(),BindingToFieldEvent:SimpleEvent.create(),BindingToFieldRemovedEvent:SimpleEvent.create(),FieldsChangedEvent:SimpleEvent.create()};this.Flags=c={IsInEditingMode:ObservableFlag.create(!1,{valueChangeCallback:function(n){n?(SkinEditingManager.Events.SkinEditingStart.fireNew(),SkinEditingManager.IsInEditingBatch.start()):(SkinEditingManager.IsInEditingBatch.finish(),SkinEditingManager.Events.SkinEditingFinish.fireNew())}})};this.IsInEditingBatch=OperationsBatch.create();this.BindingsCollection=SimpleEvent.createBindingsCollection();var u=this,o,s,l,a,t,n,i=new ObservableCollection({idFunction:$.defaultNameFunction}),f=new ObservableCollection({idFunction:$.defaultIdFunction}),e;this.initialize=function(){};this.isDuringEditing=function(){return SkinEditingManager.Flags.IsInEditingMode.isTrue()};this.getCurrentInstance=function(){return SkinEditingManager.isDuringEditing()?o:undefined};this.clearAllFields=function(n){i.clear();$.each(TemplateEditingManager.getCurrentInstance().getDescendingInstances(!0),function(t,i){i.clearAllBindings(n)});r.FieldsChangedEvent.fireNew()};this.clearStyleFields=function(){u.clearAllFields(PropertiesBindingTypes.StyleBinding)};this.clearPropertiesFields=function(){u.clearAllFields(PropertiesBindingTypes.PropertyBinding)};this.removeCategory=function(n){f.remove(n)};this.createCategory=function(n,t,i){f.put({id:n.id,priority:i,title:t})};this.removeField=function(n){i.remove(n);$.each(TemplateEditingManager.getCurrentInstance().getDescendingInstances(!0),function(t,i){i.removeField(n)});r.FieldsChangedEvent.fireNew()};this.createField=function(n,t,r,u,f,o){i.put({name:n,fieldType:t,title:u,categoryId:f,priority:o});var h={};$.each(s,function(n,t){h[t.name]={value:undefined,animation:undefined}});h[StylesManager.DefaultStateName]={value:r,animation:undefined};StylesManager.addFieldToStyle(e.id,n,h)};this.bindPropertiesToField=function(n,t,i){PropertiesManager.UpdateBatch.executeWithActivation(function(){$.each(n,function(n,r){var u=r.instance,n=r.propertyName,f=r.propertyFieldName;u.setStyleBindingId(e.id);u.bindPropertyToField(n,f,t,i)})});r.FieldsChangedEvent.fireNew()};this.unbindPropertiesFromField=function(n,t){PropertiesManager.UpdateBatch.executeWithActivation(function(){$.each(n,function(n,i){var r=i.instance,n=i.propertyName,u=i.propertyFieldName;r.unbindPropertyToField(n,u,t)})});r.FieldsChangedEvent.fireNew()};this.getCurrentStyle=function(){return e};this.startEditing=function(r,c){var v,p,w,y,b;c=$.quickExtend({isTemplateEditing:!1,commitCallback:$.noop,cancelCallback:$.noop,size:undefined,fields:{},skinFieldsMetaData:{},fieldsToValues:{},statesAnimations:{},elementTypeName:undefined},c);t=c.elementTypeName;a=r;s=h(t);n=SkinsManager.getSkinHierarchy(r);n=SkinEditingManager.convertFieldsToTemplate(n,c.styleId);n.fieldsToData?i.syncrhonize($.getValues(n.fieldsToData)):i.clear();n.categoriesData?f.syncrhonize($.getValues(n.categoriesData)):f.clear();v=n.styleId&&n.styleId!==c.styleId?n.styleId:$.uniqueID();p=c.fieldsToValues&&!$.isEmptyObject(c.fieldsToValues)?c.fieldsToValues:n.fieldsToValues?n.fieldsToValues:{};w=c.statesAnimations&&!$.isEmptyObject(c.statesAnimations)?c.statesAnimations:n.statesAnimations?n.statesAnimations:{};e=StylesManager.addStyle(v,p,w);l=c;y=c.commitCallback;b=c.cancelCallback;c.commitCallback=function(n){var r=StylesManager.getStyleInformation(v),n;n.styleVersion=$.uniqueID();n.styleId=v;n.fieldsToData=i.getItems();n.categoriesData=f.getItems();n.fieldsToValues=r.fields;n.statesAnimations=r.statesAnimations;!t||ElementsTypes[t].hasFeature(Features.DataListItem)||t==ElementsTypes.SkinNavigationButton.name?y(u.convertTemplateToSkinTemplateWithFields(n,t,undefined,{ignoreSizeAndPosition:!0})):(n=u.convertTemplateToField(n,t),y(n));StylesManager.removeStyle(v)};c.cancelCallback=function(){StylesManager.removeStyle(v);b()};SkinEditingManager.Flags.IsInEditingMode.setTrue();OperationsManager.disableOperationsRecording("SkinEditingManager");TemplateEditingManager.startEditing(n,c.fields,r.skinName,c);o=TemplateEditingManager.getCurrentInstance();TemplateEditingManager.Events.TemplateEditingFinish.one(function(){SkinEditingManager.Flags.IsInEditingMode.setFalse()});OperationsManager.enableOperationsRecording("SkinEditingManager")};this.convertFieldsToTemplate=function(n,t){var o=n.structures[0],u=o.id,s=HierarchyController.create(n),r=$.deepCloneObject(n.customStatesProperties),i,f,e;return t?(e=StylesManager.getStyleInformation(t),i=e.fields,f=e.statesAnimations):(i=n.fieldsToValues,f=n.statesAnimations),s.eachStructure(function(n,t){if(t.elementProperties.styleBindingId){var o={},s={},e=$.deepCloneObject(t.elementProperties),h=e.styleBindingFields;h&&$.each(h,function(n,h){$.each(h.properties,function(h,c){var k=PropertiesTypes[h],a,y,l,w,p,v,b;if(i[n])for(a in i[n])if(y=i[n][a],l=y.value,l!==undefined){if(k.valueConverter!==undefined&&l!==undefined&&l!==null)for(w=$.asArray(k.valueConverter),p=0;p<w.length;p++)l=w[p](l);!c.boundToProperty&&l&&$.each(l,function(n){c.fields[n]||delete l[n]});a!==StylesManager.DefaultStateName?(v={},a!==StylesManager.DefaultMobileStateName&&(v=$.quickExtend({},y.animation?y.animation:f[a])),v.stateValue=l,s[h]||(s[h]=!0,$.objectRemove(r,[t.id,h,a,u])),b=$.objectGet(r,[t.id,h,a,u]),b&&(v.stateValue=$.extendValueWithDefaultValue(v.stateValue,b.stateValue)),$.objectSet(r,[t.id,h,a,u],v)):(o[h]||(o[h]=!0,delete e[h]),e[h]=$.extendValueWithDefaultValue(l,e[h]))}})});t.elementProperties=e}}),n.customStatesProperties=r,n};this.convertTemplateToField=function(n,t,i){function ht(n){var t,i=-1,f;return(e.eachStructure(function(n,r,u){var e=r.elementProperties;(!u||u.isForBackground&&e.isVisible&&PropertiesHelper.isUnifiedValue(e.fillLayout,!0)&&PropertiesHelper.isUnifiedValue(e.margin,0))&&(ii(r)&&(t=r,i=n),f=r,r.isForBackground=!0,u&&(u.hasBackgroundChild=!0))}),!t&&n&&(t=e.getStructureByIndex(0),i=0),!t)?undefined:(u(t,r.backgroundColor,"backgroundColor","backgroundColor",SkinFieldsTypes.BackgroundColor,undefined,SkinDefaultCategories.Colors),{frontStructure:f,coreStructure:t,index:i})}function kt(){var n=et;return n=n?n:wt,a=y(n,r.borderColor,"borderColor","borderColor",SkinFieldsTypes.SolidColor,$.returnTrue,["left","top","bottom","right"],undefined,c,SkinDefaultCategories.Colors,nt),tt=y(n,r.borderWidth,"borderWidth","borderWidth",SkinFieldsTypes.Pixels,$.returnTrue,["left","top","bottom","right"],undefined,it,SkinDefaultCategories.Border),u(n,r.lineColor,"lineColor","lineColor",SkinFieldsTypes.SolidColor,undefined,SkinDefaultCategories.Colors),u(n,r.lineWidth,"lineWidth","lineWidth",SkinFieldsTypes.Pixels,undefined,SkinDefaultCategories.Border),u(n,r.padding,"padding","padding",SkinFieldsTypes.Padding,undefined,SkinDefaultCategories.Border),u(n,r.roundness,"roundness","roundness",SkinFieldsTypes.Roundness,undefined,SkinDefaultCategories.Border),u(n,r.shadow,"shadow","shadow",SkinFieldsTypes.Shadow,undefined,SkinDefaultCategories.Effects),u(n,r.glow,"glow","glow",SkinFieldsTypes.Glow,undefined,SkinDefaultCategories.Effects),d&&(u(d,r.innerShadow,"innerShadow","innerShadow",SkinFieldsTypes.InnerShadow,undefined,SkinDefaultCategories.Effects),u(d,r.innerGlow,"innerGlow","innerGlow",SkinFieldsTypes.InnerGlow,undefined,SkinDefaultCategories.Effects)),c=a?c+$.count(a):c,n}function rt(n,t,i,r){var u,e,o,s;return n!==null?n:(u=null,r?(e=$.objectGet(p,[t.id,"namedTextStyle"]),e&&(o=e[r],s=o[f],u=TextStyleManager.getTextStyleInformation(s.stateValue)[TextStyleManager.getCustomPropertyTextStyle(i)])):u=TextStyleManager.getTextStyleInformation(t.elementProperties.namedTextStyle)[TextStyleManager.getCustomPropertyTextStyle(i)],u)}function ct(n,t){t=t?t:$.returnTrue;var i=1,f=0;e.eachStructure(function(n,t){ElementsTypes[t.type].hasFeature(Features.HasText)&&f++});f&&(e.eachStructure(function(n,f){if(ElementsTypes[f.type].hasFeature(Features.HasText)){if(f.elementProperties.namedTextStyle){var e=f.elementProperties.namedTextStyle,o;o=PageManager.getCoordinator()?TextStyleManager.getTextStyleInformation(e):PageManager.getCoordinatorHeirarchy().structures[0].elementProperties.textStyles[e];f.elementProperties.fontSize=f.elementProperties.fontSize?f.elementProperties.fontSize:o.fontSize}t(f)&&(u(f,r.fontSize,"fontSize"+i,"fontSize",SkinFieldsTypes.Pixels,undefined,SkinDefaultCategories.Text,rt),i++)}}),n&&u(n,r.inputFontSize,"inputFontSize","fontSize",SkinFieldsTypes.Pixels,undefined,SkinDefaultCategories.Text),i=1,e.eachStructure(function(n,f){if(ElementsTypes[f.type].hasFeature(Features.HasText)){if(f.elementProperties.namedTextStyle){var e=f.elementProperties.namedTextStyle,o;o=PageManager.getCoordinator()?TextStyleManager.getTextStyleInformation(e):PageManager.getCoordinatorHeirarchy().structures[0].elementProperties.textStyles[e];f.elementProperties.fontColor=f.elementProperties.fontColor?f.elementProperties.fontColor:o.color}t(f)&&(u(f,r.fontColor,"fontColor"+i,"fontColor",SkinFieldsTypes.SolidColor,undefined,SkinDefaultCategories.Colors,rt),i++)}}),n&&u(n,r.inputFontColor,"inputfontColor","fontColor",SkinFieldsTypes.SolidColor,undefined,SkinDefaultCategories.Colors),i=1,e.eachStructure(function(n,f){if(ElementsTypes[f.type].hasFeature(Features.HasText)){if(f.elementProperties.namedTextStyle){var e=f.elementProperties.namedTextStyle,o;o=PageManager.getCoordinator()?TextStyleManager.getTextStyleInformation(e):PageManager.getCoordinatorHeirarchy().structures[0].elementProperties.textStyles[e];f.elementProperties.font=f.elementProperties.font?f.elementProperties.font:o.fontFamily}t(f)&&(u(f,r.font,"font"+i,"font",SkinFieldsTypes.Font,undefined,SkinDefaultCategories.Text,rt),i++)}}),n&&u(n,r.inputFont,"inputfont","font",SkinFieldsTypes.Font,undefined,SkinDefaultCategories.Text))}function dt(){var i=1,n,t;e.eachStructure(function(n,t){var e=t.elementProperties.backgroundColor,f;n>ot&&e&&(f=u(t,r.backgroundColor,"backgroundColor"+i,"backgroundColor",SkinFieldsTypes.BackgroundColor,"transparent",SkinDefaultCategories.Colors),f&&i++)});n=kt();t=1;e.eachStructure(function(i,f){var e=f.elementProperties.borderColor,o=f.elementProperties.lineColor,s=f.elementProperties.lineWidth;(!n||n.id!==f.id)&&(e||o)&&(ti(f,p)&&(n=f,a=y(f,r.borderColor,"borderColor","borderColor",SkinFieldsTypes.SolidColor,vt,["left","top","bottom","right"],undefined,c,SkinDefaultCategories.Colors,nt),c=a?c+$.count(a):c),n.elementProperties.lineWidth!==undefined&&(u(f,r.lineColor,"lineColor"+t,"lineColor",SkinFieldsTypes.SolidColor,undefined,SkinDefaultCategories.Colors),u(f,r.lineWidth,"lineWidth"+t,"lineWidth",SkinFieldsTypes.Pixels,undefined,SkinDefaultCategories.Border),t++))})}function gt(){var n=1;e.eachStructure(function(t,i){var f=i.elementProperties.iconColor;f&&(u(i,r.iconColor,"iconColor"+n,"iconColor",SkinFieldsTypes.BackgroundColor,undefined,SkinDefaultCategories.Colors),n++)})}function ni(){var n=1;e.eachStructure(function(t,i){var f=i.elementProperties.backgroundOverlay,e;t>ot&&f&&f!=="transparent"&&(e=u(i,r.backgroundOverlay,"backgroundOverlay"+n,"backgroundOverlay",SkinFieldsTypes.BackgroundColor,"transparent",SkinDefaultCategories.Colors),e&&n++)})}function ti(n,t){var o=n.elementProperties,i,r,u,e;if(!PropertiesHelper.isUnifiedValue(o.borderWidth,0))return!0;if(i=$.objectGet(t,[n.id,"borderWidth"]),i){r=!1;for(u in i)if(e=i[u],b[u]&&!PropertiesHelper.isUnifiedValue(e[f].stateValue,0)){r=!0;break}if(r)return!0}return!1}function u(n,t,i,r,u,e,s,h){var w=!1,v,c,y,a,d;if(h=$.valueOrDefault(h,$.returnValue),n.elementProperties[r]!==undefined){if($.defaultEqualityComparer(n.elementProperties[r],e)||($.objectSet(o,[i,StylesManager.DefaultStateName],{value:n.elementProperties[r]}),w=!0),v=$.objectGet(p,[n.id,r]),v)for(c in v)y=v[c],k[c]&&y[f]&&(a=$.extend({},y[f]),delete a.stateValue,$.isEmptyObject(a)||l[c]||(l[c]=$.cloneObject(a),l[c].easing="linear",l[c].useCustomExitAnimation=a.transitionInDuration!==a.transitionOutDuration),$.objectSet(o,[i,c],{value:h(y[f].stateValue,n,r,c)}),o[i][StylesManager.DefaultStateName]||(o[i][StylesManager.DefaultStateName]={value:e}),w=!0);return w&&(n.elementProperties.styleBindingFields||(n.elementProperties.styleBindingFields={}),$.each(b,function(n,t){o[i][t.name]||(o[i][t.name]={value:undefined,animation:undefined})}),d=lt(n,t,o,i,u,s),$.objectSet(n.elementProperties,["styleBindingFields",d,"properties",r],{boundToProperty:!0,fields:{}}),i===d)?!0:!1}}function y(n,t,i,r,u,e,s,h,c,a,v){var y,tt,w;if(h=h?h:$.returnTrue,e=e?e:$.returnTrue,v=v?v:$.returnFalse,n.elementProperties[r]){var d={},g={},nt=c!==undefined?c:1;for(y=0;y<s.length;y++)if(!g[s[y]]){for(tt=[s[y]],g[s[y]]=!0,w=y+1;w<s.length;w++)(at(s[y],s[w],r,n)||v(s[y],s[w],r,n))&&(g[s[w]]=!0,tt.push(s[w]));d[i+nt]={fields:tt,fieldName:i+nt};nt++}return h(d)?($.each(d,function(i,s){var tt=!1,w,v,h,y,c,g,nt;if($.each(s.fields,function(t,i){if(e(i,n))return tt=!0,!1}),!tt)return!0;if(w=s.fields[0],$.objectSet(o,[i,StylesManager.DefaultStateName],{value:n.elementProperties[r][w]}),v=$.objectGet(p,[n.id,r]),v)for(h in v)y=v[h],k[h]&&y[f]&&(c=$.extend({},y[f]),delete c.stateValue,$.isEmptyObject(c)||l[h]||(l[h]=$.cloneObject(c),l[h].easing="linear",l[h].useCustomExitAnimation=c.transitionInDuration===c.transitionOutDuration),$.objectSet(o,[i,h],{value:y[f].stateValue[w]}));n.elementProperties.styleBindingFields||(n.elementProperties.styleBindingFields={});$.each(b,function(n,t){o[i][t.name]||(o[i][t.name]={value:undefined,animation:undefined})});g={};$.each(s.fields,function(n,t){g[t]=!0});nt=lt(n,t,o,i,u,a);nt!==i&&(delete d[i],i=nt);$.objectSet(n.elementProperties,["styleBindingFields",i,"properties",r],{boundToProperty:!1,fields:g})}),d):!1}}function lt(n,t,i,r,u,f){var e;return t&&w[t.name]&&$.each(w[t.name],function(n,t){$.defaultEqualityComparer(i[r],t.fieldToValues)&&(delete i[r],r=t.fieldName,e=!0)}),$.objectSet(n.elementProperties,["styleBindingFields",r,"type"],PropertiesBindingTypes.StyleBinding),e||(g[r]={name:r,fieldType:u.name,categoryId:f.id,priority:ut},ut++,ft[f.id]=f,w[t.name]||(w[t.name]=[]),w[t.name].push({fieldName:r,fieldToValues:i[r]})),r}function at(n,t,i,r){var o=r.elementProperties,s,e,h,u;if(o[i]&&!$.defaultEqualityComparer(o[i][n],o[i][t]))return!1;if(s=!0,e=$.objectGet(p,[r.id,i]),e)for(h in e)if(u=e[h],k[h]&&u[f]&&u[f].stateValue&&!$.defaultEqualityComparer(u[f].stateValue[n],u[f].stateValue[t])){s=!1;break}return s}function nt(n,t,i,r){return at(n,t,"borderWidth",r)&&!vt(n,r)?!0:!1}function vt(n,t){var u=t.elementProperties,e,i,o,r;if(u.borderWidth&&n&&u.borderWidth[n]!==0||!PropertiesHelper.isUnifiedValue(u.borderWidth,0))return!0;if(e=!1,i=$.objectGet(p,[t.id,"borderWidth"]),i)for(o in i)if(r=i[o],k[o]&&r[f]&&(n&&r[f].stateValue[n]!==0||!PropertiesHelper.isUnifiedValue(r[f].stateValue,0))){e=!0;break}return e}function ii(n){var t=n.elementProperties;return t.backgroundColor!=="transparent"?!0:!1}function yt(n,t){return t.elementProperties.borderWidth[n]!==0}var pt=n.structures[0].type,i=i?i:$.uniqueID(),e=HierarchyController.create(n),a,tt,p=n.customStatesProperties,o={},l={},ut=0,g={},ft={},r=DictionaryUtils.addKeyAsField({backgroundColor:{title:"Background"},inputBackgroundColor:{title:"Input Background"},backgroundOverlay:{title:"Overlay"},iconColor:{title:"Icon Color"},borderColor:{title:"Border"},lineColor:{title:"Line"},inputBorderColor:{title:"Input Border"},borderWidth:{title:"Border Width",options:{fieldVisualizer:SkinFieldsVisualizers.Slider,visualizerOptions:{min:0,max:20}}},lineWidth:{title:"Line Width",options:{fieldVisualizer:SkinFieldsVisualizers.Slider,visualizerOptions:{min:0,max:20}}},inputBorderWidth:{title:"Input Border Width",options:{fieldVisualizer:SkinFieldsVisualizers.Slider,visualizerOptions:{min:0,max:20}}},roundness:{title:"Roundness"},padding:{title:"Padding"},shadow:{title:"Shadow"},innerShadow:{title:"Inner Shadow"},glow:{title:"Glow"},innerGlow:{title:"Inner Glow"},fontSize:{title:"Text Size",options:{fieldVisualizer:SkinFieldsVisualizers.NumericTextBox,visualizerOptions:{min:0}}},font:{title:"Font"},fontColor:{title:"Text"},inputFontSize:{title:"Input Text Size",options:{fieldVisualizer:SkinFieldsVisualizers.NumericTextBox,visualizerOptions:{min:0}}},inputFont:{title:"Input Text"},inputFontColor:{title:"Input Text"}},"name"),w={},et=n.structures[0],f=et.id,b,k,c,it,v;if(t=t?t:ElementsTypes[pt].skinTypeName,b=h(t),k=$.mapToDictionary(b,undefined,function(n){return n.name}),e.eachStructure(function(n,t){t.elementProperties.styleBindingId=i;t.elementProperties.styleBindingFields&&$.each(t.elementProperties.styleBindingFields,function(n,i){i.type===PropertiesBindingTypes.StyleBinding&&delete t.elementProperties.styleBindingFields[n]})}),c=0,it=0,t!==ElementsTypes.skinInputElement.name){v=ht(!0);gt();var wt=v.coreStructure,ot=v.index,d=v.frontStructure;ElementsTypes[d.type].hasFeature(Features.HasInnerShadow)||(d=undefined);dt();ni();ct()}else{var bt=e.getStructureByIndex(0),s=e.getStructureByType("TextInputField")||e.getStructureByType("TextArea"),v=ht(),st=v&&v.coreStructure?v.coreStructure:bt;u(s,r.inputBackgroundColor,"inputBackgroundColor","backgroundColor",SkinFieldsTypes.BackgroundColor,undefined,SkinDefaultCategories.Colors);a=y(st,r.borderColor,"borderColor","borderColor",SkinFieldsTypes.SolidColor,yt,["left","top","bottom","right"],undefined,c,SkinDefaultCategories.Colors,nt);tt=y(st,r.borderWidth,"borderWidth","borderWidth",SkinFieldsTypes.Pixels,yt,["left","top","bottom","right"],undefined,it,SkinDefaultCategories.Border);a=y(s,r.inputBorderColor,"inputBorderColor","borderColor",SkinFieldsTypes.SolidColor,$.returnTrue,["left","top","bottom","right"],undefined,undefined,SkinDefaultCategories.Colors,nt);tt=y(s,r.inputBorderWidth,"inputBorderWidth","borderWidth",SkinFieldsTypes.Pixels,$.returnTrue,["left","top","bottom","right"],undefined,undefined,SkinDefaultCategories.Border);u(s,r.padding,"padding","padding",SkinFieldsTypes.Padding,undefined,SkinDefaultCategories.Border);u(s,r.roundness,"roundness","roundness",SkinFieldsTypes.Roundness,undefined,SkinDefaultCategories.Border);u(s,r.shadow,"shadow","shadow",SkinFieldsTypes.Shadow,undefined,SkinDefaultCategories.Effects);u(s,r.glow,"glow","glow",SkinFieldsTypes.Glow,undefined,SkinDefaultCategories.Effects);s&&(u(s,r.innerShadow,"innerShadow","innerShadow",SkinFieldsTypes.InnerShadow,undefined,SkinDefaultCategories.Effects),u(s,r.innerGlow,"innerGlow","innerGlow",SkinFieldsTypes.InnerGlow,undefined,SkinDefaultCategories.Effects));ct(s,function(n){return n.id!==s.id})}return $.each(w,function(n,t){$.each(t,function(i,u){g[u.fieldName].title=r[n].title+(t.length>1?" "+(i+1):"");g[u.fieldName].options=$.deepCloneObject(r[n].options)})}),n.structures[0].type=ElementsTypes.skinHierarchyBox.name,n.styleVersion=$.uniqueID(),n.styleId=i,n.fieldsToData=g,n.categoriesData=ft,n.fieldsToValues=o,n.statesAnimations=l,n};this.convertTemplateToSkinTemplateWithFields=function(n,t,i,r){r=$.extend({ignoreSizeAndPosition:!1},r);var o=r.ignoreSizeAndPosition,e=n.structures[0],f=e.type;return t=t?t:ElementsTypes[f].hasFeature(Features.SkinElement)?f:ElementsTypes[f].skinTypeName,n=u.convertTemplateToField(n,t),{id:$.uniqueID(),structures:[{id:$.uniqueID(),type:t,elementProperties:{sizeAndPosition:o?undefined:e.elementProperties.sizeAndPosition,skinBinding:{type:SkinsBindingsTypes.Inline,skinName:i?i:$.uniqueID(),index:0,hierarchy:n}}}]}}},SkinFieldsVisualizers={OpacitySlider:"OpacitySlider",ColorPicker:"ColorPicker",Slider:"Slider",NumericTextBox:"NumericTextBox",FontSelectionComboBox:"FontSelectionComboBox"},SkinFieldsTypes=DictionaryUtils.addKeyAsField({BackgroundColor:{options:{}},Color:{options:{}},SolidColor:{options:{}},Number:{fieldVisualizer:SkinFieldsVisualizers.NumericTextBox,options:{min:0,max:Infinity}},Pixels:{fieldVisualizer:SkinFieldsVisualizers.NumericTextBox,options:{min:0,max:Infinity}},Font:{fieldVisualizer:SkinFieldsVisualizers.FontSelectionComboBox,options:{}},BorderColor:{fieldVisualizer:SkinFieldsVisualizers.ColorPicker,options:{}},LineColor:{fieldVisualizer:SkinFieldsVisualizers.ColorPicker,options:{}},Opacity:{fieldVisualizer:SkinFieldsVisualizers.OpacitySlider,options:{}},BorderWidth:{options:{min:0,max:20}},LineWidth:{options:{min:0,max:20}},Padding:{options:{min:0,max:20}},Roundness:{options:{min:0,max:Infinity}},Shadow:{options:{min:0,max:Infinity}},InnerShadow:{options:{min:0,max:Infinity}},Glow:{options:{min:0,max:Infinity}},InnerGlow:{options:{min:0,max:Infinity}}},"name"),SkinDefaultCategories=DictionaryUtils.addKeyAsField({Colors:{title:"Colors",priority:1},Text:{title:"Text",priority:2},Border:{title:"Border",priority:3},Effects:{title:"Effects",priority:4},MoreOptions:{title:"More",priority:5}},"id"),ApplicationManagerConfig={Brand:Brands.Sitey,BrandName:"Sitey",BrandFreemiumBannerUrl:"http://track.sitey.com/53ee22991983c/click",AddOnsUrl:"https://my.sitey.com/addons"},ApplicationManager=new function(){this.getBrand=function(){return $.valueOrDefault(ApplicationManagerConfig.Brand,Brands.Webzai)}},ContentPushingManager=new function(){function l(){u.clear();f={};e={}}function a(n,t){var i=n.parentInstance;p(n,t?t:undefined);r.setField(i.id,i)}function b(n){var i=n.parentInstance;return n.canPush()&&i&&t.isTrue()}function v(){var i=PageManager.getCurrentPageId(),t,n;f[i]=!0;t=PageManager.getCurrentPage();n=t.getDescendingInstances(!0);n=$.grep(n,function(n){return n.isInstanceVisible()&&!n.isContent()});ut(n)}function k(u){var l,p,e,g,a,y,ht;if((r.removeField(u.id),!t.isFalse())&&PositionManager.isElementVisible(u)&&(ViewManager.isViewMode()||!ModeManager.updateBatch.isActive())&&!u.isType(ElementsTypes.page)){l=u.childInstances;l=it(l);p=tt(l);ContentPushingManager.recalaculateSiblingsAndParentAreas();e=n(u);g=$.unionAreas(ft(l));l.orderBy(function(t){return n(t).top});p.orderBy(function(t){return n(t).top});var w=d(p),ot=w.instancesDependenciesMap,st=w.instancePressureGroups,ct=w.rootsInstances,f={},c=0,nt,b,rt=!1,ut=0,s=-Infinity,k=!1,v=0;return $.eachItem(l,function(t,r){var p=st[r.id],l,w,u,a;f[r.id]=undefined;l=n(r);w=ot[r.id];p&&($.eachEntry(p,function(t,u){var h=u.instance,c=n(h),s=o(h)+f[h.id],e;u.isSticky(r)?e=s:l.top<=c.bottom+s+i&&(e=$.minValue([c.bottom+s+i-l.top,s]));e!==undefined&&e!==0&&(f[r.id]=f[r.id]!==undefined?$.maxValue([f[r.id],e]):e)}),f[r.id]!==undefined&&f[r.id]<0&&$.eachEntry(p,function(t,u){var e=u.instance,c=n(e),s=o(e)+f[e.id],h;s===0&&(h=u.isSticky(r)?s:c.bottom+s+i-l.top,h!==undefined&&(f[r.id]=$.maxValue([f[r.id],h])))}),f[r.id]===undefined&&(f[r.id]=0));f[r.id]=$.valueOrDefault(f[r.id],0);u=f[r.id]+o(r);a=l.bottom+u;var d=!1,y=0,g=e.height-l.bottom<=h;l.top<e.height&&(r.hasFeature(Features.HasLayout)&&r.isVerticallyDocked(LayoutManager.Layout.dockBottom)?(y=et(r).bottom,g=!0,y<0&&(y=-y),a+=y,d=!0,(v<a||y<ut)&&(v=a,rt=d,ut=y)):c<a&&v<a&&(c=a,nt=r),g&&(!w||w.dependentInstancesArray.length===0)?s<u&&(s=u,k=!0,b=r):u!==0&&(u=l.bottom+u+i-e.height,s<u&&u>0&&(s=u,k=!1,b=r)))}),s===-Infinity&&(s=0),v>c&&(c=v),s<0&&c+i>e.height+s&&nt!==b&&(s=c-e.height+i),a=0,e.height-g.bottom<=h&&k?(a=s,c>e.height&&a<0&&(a=0)):c>e.height-i&&(a=c-(e.height-(rt?0:i))),$.eachItem(l,function(t,i){f[i.id]!==undefined&&(i.hasFeature(Features.HasLayout)&&i.hasVerticalLayout()||ElementsLayoutHelper.moveInstances(i,{top:n(i).top+f[i.id]-ElementsLayoutHelper.getRelativeArea(i).top}))}),y=e.height+a-u.getSize().height,(y!==0||u.isFillVertical())&&u.parentInstance&&(ht=0,u.parentInstance.isType(ElementsTypes.page)||ContentPushingManager.requestPushing(u,y),u.isFillVertical()||ElementsLayoutHelper.setInstancesSize(u,{height:e.height+a},{preserveVerticalMargins:!0})),y}}function d(t){function c(t,i,u){var o=n(t),l=e[t.id],h=o.top-i.area.bottom,f;return o.top-i.area.bottom<=s&&h>0?!0:(f=!1,i.area.center.top<o.top&&(!u||i.area.top-u.area.bottom<=s)&&(u&&(u.stickyMap[i.instance.id]=!0),$.eachEntry(i.dependentInstances,function(n,u){return r[u.id]&&u.id!==t.id&&(f=f||c(t,r[u.id],i)),!f})),f)}var r={},i={},e={},f,o,u,h;for($.eachItem(t,function(t,i){if(e[i.id]=t,nt(i)){var u={area:n(i),dependentInstances:{},stickyMap:{},descendingDependentInstances:{},instance:i,id:i.id,index:t,isSticky:function(n){return u.stickyMap[n.id]}};r[i.id]=u}}),$.eachItem(t,function(t,u){g(u)&&$.eachEntry(r,function(t,r){var f=n(u),e=r.area;f.top>=e.center.top&&$.areasIntersectsHorizontal(f,e)&&(r.dependentInstances[u.id]=u,r.descendingDependentInstances[u.id]=u,i[u.id]=$.valueOrDefault(i[u.id],{}),i[u.id][r.id]=r)})}),f=t.length-1;f>0;f--)o=t[f],u=i[o.id],u&&$.eachEntry(u,function(n,t){var r=i[t.id];r&&$.eachEntry(r,function(n,t){u[t.id]&&(delete u[t.id].dependentInstances[o.id],delete u[t.id])})});return $.eachEntry(r,function(t,i){i.dependentInstancesArray=$.getValues(i.dependentInstances).orderBy(function(t){return n(t).top})}),h=[],$.eachItem(t,function(n,t){i[t.id]&&$.count(i[t.id])!==0||(h.push(t),delete i[t.id])}),$.eachEntry(r,function(i,r){$.eachItem(r.dependentInstancesArray,function(i,u){if(r.stickyMap[u.id]===undefined){var o=e[u.id],s=n(u).top,f=n(t[r.index]),h=f.bottom,l=r;r.stickyMap[u.id]=c(u,r)}})}),{instancesDependenciesMap:r,instancePressureGroups:i,rootsInstances:h}}function g(n){return!n.hasFeature(Features.HasLayout)||!n.isVerticallyDocked(LayoutManager.Layout.centered)&&!n.isFillVertical()}function nt(n){return!n.hasFeature(Features.HasLayout)||!n.isVerticallyDocked(LayoutManager.Layout.dockBottom)&&!n.isVerticallyDocked(LayoutManager.Layout.centered)&&!n.isFillVertical()}function tt(n){return $.grep(n,function(n){return!n.hasFeature(Features.HasLayout)||!n.isVerticallyDocked(LayoutManager.Layout.centered)})}function it(n){return $.grep(n,function(n){return n.isLocked.isFalse()&&n.isInstanceVisible()&&(!n.hasFeature(Features.HasLayout)||!n.isFillVertical()||rt(n))})}function rt(t){var r=n(t),i=w(t);return i&&i>=r.height?!0:!1}function ut(n){$.eachItem(n,function(n,t){y(t,ElementsLayoutHelper.getRelativeArea(t))})}function y(n,t){u.setFieldIfAbsent(n.id+"instanceArea",t);u.setFieldIfAbsent(n.id+"margin",n.getPropertyValue("margin"))}function n(n){var t=u.getField(n.id+"instanceArea");return t?t:(y(n,ElementsLayoutHelper.getRelativeArea(n)),u.getField(n.id+"instanceArea"))}function ft(t){var i=[];return $.eachItem(t,function(t,r){i.push(n(r))}),i}function p(n,t){t=$.valueOrDefault(t,0);e[n.id]=n.getSize().height+t}function w(n){return e[n.id]}function et(n){return u.getField(n.id+"margin")}function o(t){return $.valueOrDefault(w(t),t.getSize().height)-n(t).height}var ot=this,i=20,s=80,h=150,t,c,r;this.Events={ContentPushed:SimpleEvent.create()};t=ObservableFlag.createConditionalPositive();c=ObservableFlag.create(!0);this.Flags={PushWhenIntersectWithRow:c,EnablePushing:t};var u=Dictionary.create(),f={},e={};this.initialize=function(){if(Global.IsDesigner){DesignerStateManager.onStatesChange([DesignerStates.Dragging,DesignerStates.Resizing],function(n){t.setFalse(n)},function(n){t.setTrue(n)});SimpleEvent.bind([Global.Events.ElementDraggingStart,Global.Events.ElementResizingStart,SelectionManager.Events.SelectionChangedSimple,ElementsEditingManager.Events.ElementEditingStarted,Modes.NormalMode.flag.valueChangedEvent],function(){l()});SimpleEvent.bind([Global.Events.ContainerChanged,DraggingManager.Events.ElementReatached],function(n){n=$.asArray(n);ViewManager.isDesignMode()&&n[0]===SelectionManager.getSelectedInstance()&&l()})}MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent.bind(function(n){t.setValue(!n,"mobile")})};this.supportsPreCalculationOfDiffHeights=$.returnTrue;r=Dictionary.create();this.executePushing=function(){if(t.isTrue()&&!r.isEmpty()){for(OperationsManager.disableOperationsRecording("pushing"),RenderingCoordinator.startRenderingBatch();!r.isEmpty();){var n=r.getValues().orderByDesc(function(n){return n.getPropertyValue("order")});$.eachItem(n,function(n,t){r.hasField(t.id)&&k(t)})}RenderingCoordinator.finishRenderingBatch();OperationsManager.enableOperationsRecording("pushing")}};this.requestPushing=function(n,t){b(n)&&(LayoutManager.isInLayoutContentUpdate()?a(n,t):RenderingCoordinator.performOnLayoutUpdate(function(){a(n,t);ContentPushingManager.executePushing()},n.id+"requestPushing"))};this.recalaculateSiblingsAndParentAreas=function(){var n=PageManager.getCurrentPage(),i;!t.isFalse()&&n&&n.isInstanceVisible()&&(i=n.id,f[i]||(LayoutManager.isInLayoutContentUpdate()?v():LayoutManager.layoutUpdateBatch.whenFinished(v,"recalaculateSiblingsAndParentAreas"+i)))};this.setInstanceRequestedHeight=p},ListsCacheManager=new function(){function v(n,t,i){n?t(n):i(Exception.create(Exceptions.UnknownError,"Failed Fetching List Content"))}function y(t,i){var u=f(i),e,r,h;return o.debug(function(){return"Request for hash: "+u}),e=n(t).widgets,r=e[u],!r&&s&&(o.warn("Cache Miss - Trying to fetch from all items"),h=ListsCacheManager.getAllItemsCache(i.defaultMode,t),h&&(r=b(i,h),r&&(e[u]=r))),o.debug(function(){return"Request Result: "+JSON.stringify(r)}),r}function c(n,t){return!n||!r[t]}function n(n){return $.getOrInit(t,n,{widgets:{},items:{}})}function p(n,i,r){t[n]={version:i,widgets:{},items:r?t[n].items:{}}}function w(n,t,i,r){ListsService.fetchAllListsContent(n,function(n){ListsCacheManager.refreshListsContent(n,t);i()},r)}function g(i,r,u){e(function(r,u){var e;$.each(i,function(t,i){var r=n(t),o=ListsCacheManager.getAllItemsCache(!1,t);i.item&&r.items[i.item.alias]===undefined&&(e&&u(Exception.create(Exceptions.UnknownError,"Only one item is allowed per page request")),e={listId:i.listId,listName:t,itemInfo:{alias:i.item.alias}});$.each(i.widgets,function(n,t){var e=f(t),i;r.widgets[e]===undefined&&(i=b(t,o),i!==undefined?r.widgets[e]=i:u(Exception.create(Exceptions.UnknownError,"Failed Fetching List Content")))})});e?ListsService.fetchItemData(e.listId,e.listName,e.itemInfo,function(n){t[e.listName].items[n.urlAlias]=n.id;var i=ListsCacheManager.getAllItemsCache(!1,e.listName);i[n.id]=n;r()},u):r()},r,u)}function b(n,t){var f,r,e,u,h;switch(n.type){case ListContentTypes.PostsList:r=FilterUtils.filterItems(t,FilterUtils.getFiltersCompositeFunction(n.filters)).passed;e=n.sort.clone();e.push(ListsManager.createSorter(ListsManager.FieldNames.Id));r.sort($.createFieldsComparer(e,{comparersMap:ListsManager.FieldSortingRules}));var i=n.skip,o=n.skip+n.take,s=r.length;i>=s&&(u=o-i,i=$.divideNoReminder(s-1,u)*u,o=i+u);f={items:r.slice(i,o),totalCount:s};break;case ListContentTypes.TagCloud:h={};$.each(t,function(n,t){t.status===1&&$.each(t.tags,function(n,t){$.getOrInit(h,t,{tag:t,count:0}).count++})});f={items:$.getValues(h,function(n){return n.count>0}).orderByDesc(function(n){return n.count})}}return f}function k(n,i,r,u){e(function(r){$.each(n,function(n,r){var u=i[n],e,o,s;nt(n,u.version);e=t[n];o=u.items;r.item&&u.item&&(s=o[u.item],e.items[s.urlAlias]=s);$.each(r.widgets,function(n,t){var r=f(t),i=u.widgets[t.elementId];i&&(i.items&&$.isNumeric(i.items[0])&&$.each(i.items,function(n,t){i.items[n]=o[t]}),e.widgets[r]=i)})});r()},r,u)}function nt(t,i){var u=n(t),r=u.version;i!==r&&(p(t,i,!0),r!==undefined&&l(t))}function f(n){var t={type:n.type,filters:n.filters?$.filterKeys(n.filters,"serverFilters"):n.filters,sort:n.sort,skip:n.skip,take:n.take,defaultMode:n.defaultMode};return JSON.stringify(t)}function tt(){h.begin()}function d(){h.end()}function l(n){h.fireWhenFinished({name:n,event:a})}function e(n,t,i){tt();n(function(){t.apply(this,arguments);d()},function(){i.apply(this,arguments);d()})}var o=Logger.createLoggerFor("ListsCacheManager","Lists Cache Manager"),t={},i,r={},u={},s=!0,h=OperationsBatch.create(),a=SimpleEvent.createNamedEvents();this.initialize=function(n,t,r){if(Global.IsDesigner){var u=$.mapDictionary(n,function(n,t){return t.listId});w(u,!1,t,r)}else s=!1,i=DynamicPageContent,t()};this.createListCacheUpdatedListener=function(n,t){return SimpleEvent.createEventListener({name:n,event:a},t)};this.loadDefaultListContent=function(n,t,i){var r={};r[n]=ListsManager.getDefaultListIdByName(n);w(r,!0,t,i)};this.refreshListsContent=function(n,t){$.each(n,function(n,i){ListsCacheManager.refreshListContent(n,i,t)})};this.refreshListContent=function(n,t,i){p(n);var r=ListsCacheManager.getAllItemsCache(i);r[n]=$.mapToDictionary(t,$.identity,$.defaultIdFunction)};this.loadListsContent=function(t,r,u){if(i)k(t,i,function(){i=undefined;r()},u);else if(s)g(t,r,u);else{var e=$.deepCloneObject(t);$.each(t,function(t,i){var r=n(t),u;i.version=r.version;$.each(i.widgets,function(n,t){var i=f(t);r.widgets[i]!==undefined&&(t.cached=!0);t.filters&&(t.filters=$.filterKeys(t.filters,"serverFilters"))});i.item&&(u=r.items[i.item.alias],u!==undefined&&(i.item.version=u.modified))});ListsService.fetchListsContent(t,function(n){k(e,n,r,u)},u)}};this.fetchItemData=function(t,i,r,u,f,e){var o=e.defaultMode,s=ListsCacheManager.getAllItemsCache(o,i),h=s[r.id];h.content!=undefined?u(h):ListsService.fetchItemData(t,i,r,function(t){s[t.id]=t;c(o,i)&&(n(i).items[t.urlAlias]=t.id);u(t)},f,e)};this.saveItems=function(t,i,r,u,f,o){e(function(u,f){ListsService.saveListItems(t,i,r,function(t){var f=o.defaultMode,h=c(f,i);t.listContent&&ListsCacheManager.refreshListContent(i,t.listContent,f);var a=$.makeArray(t.itemIds),e=ListsCacheManager.getAllItemsCache(f,i),s=n(i);$.each(r,function(n,t){var i=a[n],r;i!==null&&(h&&t.id!==undefined&&e[t.id]&&(r=e[t.id],r.urlAlias!==t.urlAlias&&delete s.items[r.urlAlias]),t.id=i,e[i]=t,h&&t.content!=undefined&&(s.items[t.urlAlias]=i))});s.widgets={};l(i);u(t)},f,o)},u,f)};this.deleteItems=function(t,i,r,u,f,o){e(function(u,f){ListsService.deleteListItems(t,i,$.makeArray(r),function(t){var r=o.defaultMode,s=c(r,i);t.listContent&&ListsCacheManager.refreshListContent(i,t.listContent,r);var h=$.makeArray(t.deletedIds),f=ListsCacheManager.getAllItemsCache(r,i),e=n(i);$.each(h,function(n,t){if(f[t]){if(s){var i=f[t].urlAlias;delete e.items[i]}delete f[t]}});e.widgets={};l(i);u(t)},f,o)},u,f)};this.fetchListWidgetContent=function(n,t,i,r){t.defaultMode&&!u[n]?ListsCacheManager.loadDefaultListContent(n,function(){v(y(n,t),i,r)},r):v(y(n,t),i,r)};this.getListItemContent=function(t,i){var r=n(t).items[i],u;return $.isNumeric(r)&&(u=ListsCacheManager.getAllItemsCache(!1,t),r=u[r]),r};this.getAllItemsCache=function(n,t){return t?n?u[t]:r[t]||u[t]:n?u:r};this.getCurrentCache=function(){return t};this.clearListCache=function(n){delete t[n];delete r[n]}},ListTagsManager=new function(){this.createForList=function(n){function i(n){return function(t){var i=[];$.each(t.items,function(n,t){i.push(r(t))});n(i)}}function r(n){return{id:$.uniqueID(),tag:n.tag,count:+n.count,link:u(n.tag)}}function u(t){if(n.fetchType!==FetchType.RemoteCustom)return{url:{masterListPageId:n.connectedListPage,suffix:ListsManager.SupportedListTypes.tag+"/"+encodeURIComponent(t)},type:LinkTypes.Pages}}var t=n.listName;return{getTagFields:function(){return{tag:{type:DataSourceItemsFields.title.type,title:"Tag Name",name:"tag",isDefaultField:!0},count:{type:DataSourceItemsFields.index.type,title:"Tag Count",name:"count",isDefaultField:!0},link:{type:DataSourceItemsFields.link.type,title:"Tag Link",name:"link",isDefaultField:!0}}},fetchTags:function(n,r){ListsCacheManager.fetchListWidgetContent(t,{type:ListContentTypes.TagCloud},i(n),r)}}}},FetchType={Local:"Local",Remote:"Remote",RemoteCustom:"RemoteCustom"},DataLists={},DefaultsListNames={LocalBlog:"LocalBlog"},ListsFlags={},ListsDefinitions={},ListContentTypes={TagCloud:"TagCloud",PostsList:"PostsList"},ListsManager=new function(){function u(t){$.each(t,function(t,i){n.FieldNames[t]=i.name;n.FieldSortingRules[i.name]=i.sortingFunction})}var n=this,i={},t={},r={},f={Id:{name:"id",sortingFunction:$.numbersComparer},Title:{name:"title",sortingFunction:$.stringsComparer},Content:{name:"content"},UrlAlias:{name:"urlAlias",sortingFunction:$.stringsComparer},Status:{name:"status",sortingFunction:$.numbersComparer},Tags:{name:"tags"},MetaData:{name:"metaData"}};n.FieldNames={};n.FieldSortingRules={};u(f);n.Events={ListCreated:SimpleEvent.createNamedEvents(),ListRemoved:SimpleEvent.createNamedEvents()};n.CommonFiltersNames={All:"All",Published:"Published",Drafts:"Drafts"};n.CommonFilters={All:[],NotCurrentItem:function(t){return[FilterUtils.Filters.NotFilter({fieldName:n.FieldNames.UrlAlias,value:t})]},Published:[FilterUtils.Filters.EqualFilter({fieldName:n.FieldNames.Status,value:1})],Drafts:[FilterUtils.Filters.EqualFilter({fieldName:n.FieldNames.Status,value:0})],ByTag:function(t){return[FilterUtils.Filters.ListFilter({fieldName:n.FieldNames.Tags,value:t})]}};n.SupportedListTypes={page:"page",tag:"tag",category:"category"};n.getListByName=function(n){return DataLists[n]};n.createOrGetListFlag=function(n){var t=ListsFlags[n];return t||(t=ObservableFlag.create(!1),ListsFlags[n]=t),t};n.initialize=function(i,u){u=$.valueOrDefault(u,$.noop);r=PageData.defaultLists;$.isEmptyObject(i)?u():($.each(i,function(i,r){t[i]=ObservableFlag.create(!SiteManager.isExistingSite()||SiteManager.isResetTemplateMode());n.registerNewListInstance(r)}),ListsCacheManager.initialize(i,u,u))};n.getDefaultListIdByName=function(n){return r[n]};n.createSorter=function(n,t){return{sortBy:n,sortType:t?SortingOrder.Asc:SortingOrder.Desc}};n.registerListDefinition=function(n){$.each(n,function(n,t){var i=t;u(i.FieldDefinitions);i.CommonFilters&&$.each(i.CommonFilters,function(n,t){ListsManager.CommonFilters[n]=t;ListsManager.CommonFiltersNames[n]=n});ListsDefinitions[n]=i})};n.isListPage=function(n){return n.masterPageListName||n.pageListName};n.getListPageTitle=function(n){var t=ListsManager.getListByName(n.masterPageListName||n.pageListName);return t.getListPageTitle(n)};n.createNewList=function(i,r,u,f,e){u=$.extend({listName:undefined,isExternal:!1,listPageName:"Blog Page",listPageTitle:"",dynamicPageName:"Post Page",dynamicPageTitle:""},u);var o=u.listName;ListsCacheManager.loadDefaultListContent(o,function(){PageManager.PagesUpdatingOperation.start();var e=PageManager.addPageFromHierarchy(TemplatesCache.getTemplateHiererachy(i),undefined,{title:u.dynamicPageName,pageTitle:u.dynamicPageTitle,pageListName:u.listName}),s=PageManager.addPageFromHierarchy(TemplatesCache.getTemplateHiererachy(r),undefined,{title:u.listPageName,pageTitle:u.listPageTitle,masterPageListName:u.listName}),h={listId:ListsManager.getDefaultListIdByName(o),listName:o,isExternal:!1,defaultDynamicPageId:e,connectedListPage:s,connectedDynamicPages:[e]};PageManager.PagesUpdatingOperation.finish();t[o]=ObservableFlag.create(!0);n.registerNewListInstance(h);PageManager.navigateToPage(s,{afterCurrentPageDetached:function(){ListsManager.Events.ListCreated.fire(o)}});f()},e)};n.getListsInformationForSaving=function(){return i};n.getListNamesToCreate=function(){var n=[];return $.each(t,function(t,i){i.isTrue()&&n.push(t)}),n};n.isListTemplate=function(n){return t[n]&&t[n].isTrue()};n.deleteList=function(n,r){var f=ListsManager.getListByName(n),u;delete DataLists[n];ListsManager.createOrGetListFlag(n).setFalse();u=f&&f.getListInfo();u?(PageManager.PagesUpdatingOperation.start(),f.dispose(),u.connectedListPage&&PageManager.removePage(u.connectedListPage),u.connectedDynamicPages&&$.each(u.connectedDynamicPages,function(n,t){PageManager.removePage(t)}),delete t[n],delete i[n],PageManager.PagesUpdatingOperation.finish(),ListsManager.Events.ListRemoved.fire(n),r()):r()};n.registerNewListInstance=function(t){var r=t.listName;return DataLists[r]=n.createListInstance(t),ListsManager.createOrGetListFlag(r).setTrue(),i[r]=t,DataLists[r]};n.createListInstance=function(n){function y(){var n=s.createFieldsConverter();return{setterMapper:function(t){t=$.makeArray(t);var i=[];return $.withObject(ListsManager.FieldNames,function(r){$.each(t,function(t,u){var f={};f[r.Id]=u.id;f[r.Title]=u.title;f[r.Content]=u.content;f[r.UrlAlias]=u.urlAlias;f[r.Status]=u.status;f[r.Tags]=u.tags;f[r.MetaData]=u.metaData;i.push($.extend(f,n.setterMapper(u)))})}),i},getterMapper:function(t){t=$.makeArray(t);var i=[];return $.withObject(ListsManager.FieldNames,function(r){$.each(t,function(t,u){var f={id:u[r.Id],title:u[r.Title],content:u[r.Content],urlAlias:u[r.UrlAlias],status:u[r.Status],tags:u[r.Tags],metaData:u[r.MetaData]};$.extend(f,n.getterMapper(f,u));$.extend(f,{itemLink:p(f),isDummy:$.returnFalse,order:t+1});i.push(f)})}),i}}}function p(t){if(n.fetchType!==FetchType.RemoteCustom)return{url:{masterListPageId:n.connectedListPage,suffix:t.urlAlias},type:LinkTypes.Pages}}function v(n,i,u,o,s){s=$.extend({defaultMode:!1},s);var h=s.defaultMode,c=f.getValue(),l=!1;h&&(c=ListsManager.getDefaultListIdByName(r),f.getValue()!==c&&(e.deactivate(),l=!0));var a=function(n){h||f.setValue(n.listId);u(n);l&&e.activate()},v=function(){o.apply(this,arguments);l&&e.activate()},y=[c,r].concat(i,[a,v,{defaultMode:h,createNewList:!h&&t[r].isTrue()}]);n.apply(this,y)}n=$.quickExtend({listId:undefined,listName:undefined,fetchType:FetchType.Remote},n);var u={},r=n.listName,s=ListsDefinitions[r],o=y(),l=ListTagsManager.createForList(n),h=SimpleEvent.createEventListenersGroup(),c=ObservableObject.create(undefined,{valueChangeCallback:function(n){n.isDummy()&&(u.currentDisplayedItemAlias=undefined);DataSources[r].refreshItem(n);u.currentItemChangedEvent.fireNew()}}),f=ObservableObject.createNumerical(n.listId,{valueChangeCallback:function(f){n.listId=f;i[r].listId=f;t[r].setFalse();u.listIdChangedEvent.fireNew()}}),a=SimpleEvent.create(),e=ListsCacheManager.createListCacheUpdatedListener(r,function(){RenderingCoordinator.startRenderingBatch();a.fireNew();RenderingCoordinator.finishRenderingBatch()});return u={currentListType:ObservableObject.createTextual(),currentDisplayedItemAlias:undefined,listIdChangedEvent:SimpleEvent.create(),currentItemChangedEvent:SimpleEvent.create(),currentDisplayedTag:ObservableObject.create(undefined),currentDisplayedPage:ObservableObject.createNumerical(1),primaryListChanged:SimpleEvent.create(),initialize:function(){DataSourcesManager.loadDataSource(DataSourcesDefinitions.ListItemView,r);e.activate();Global.IsDesigner&&SimpleEvent.createEventListener(SiteManager.SiteSavedEvent,function(n){var t=$.objectGet(n,["newLists",r]);t&&(ListsCacheManager.refreshListContent(r,t.listContent),f.setValue(t.listId))}).addToGroup(h);h.activateAndExecuteAll()},dispose:function(){e.dispose();ListsCacheManager.clearListCache(r);h.disposeAll()},getListName:function(){return r},isTypeOf:function(n){return u.currentListType.getValue()===n},createCollectionView:function(n){return SetView.create(u,n)},createListUpdatedListener:function(n){return SimpleEvent.createEventListener([a],n)},fetchListContent:function(n,t,i,u,f,e,s,h){h=$.extend({defaultMode:undefined},h);ListsCacheManager.fetchListWidgetContent(r,{type:ListContentTypes.PostsList,filters:t,sort:i,skip:u,take:f-u,defaultMode:h.defaultMode},function(n){e({items:o.getterMapper(n.items),totalCount:n.totalCount})},s)},fetchItemById:function(n,t,i,u){u=$.extend({defaultMode:!1},u);var e=u.defaultMode?ListsManager.getDefaultListIdByName(r):f.getValue();ListsCacheManager.fetchItemData(e,r,{id:n},function(n){t(o.getterMapper(n)[0])},i,u)},removeItems:function(n,t,i,r){v(ListsCacheManager.deleteItems,[n],t,i,r)},saveItems:function(n,t,i,r){v(ListsCacheManager.saveItems,[o.setterMapper(n)],t,i,r)},fetchTags:function(n,t){l.fetchTags(n,t)},getListInfo:function(){return n},refreshListItem:function(n){var t=ListsCacheManager.getListItemContent(r,n);t===undefined?ExceptionUtils.handleGeneralException("Item alias wasn't found in cache: "+n):c.setValue(o.getterMapper(t)[0])},resetToDummyItem:function(){c.setValue(u.getDefaultItem())},getDefaultItem:function(n){return $.extend({metaData:{}},s.getDefaultItem(n),{isDummy:$.returnTrue})},getDynamicPageId:function(t){return $.valueOrDefault(n.itemsMap&&n.itemsMap[t],n.defaultDynamicPageId)},getListPageId:function(){return n.connectedListPage},getPageLink:function(t){if(n.fetchType!==FetchType.RemoteCustom){var i=u.currentListType.getValue();return $.withObject(ListsManager.SupportedListTypes,function(n){switch(i){case n.tag:i+="/"+encodeURIComponent(u.currentDisplayedTag.getValue())+"/";break;default:i=""}}),{url:{masterListPageId:n.connectedListPage,suffix:i+(t>1?ListsManager.SupportedListTypes.page+"/"+t:"")},type:LinkTypes.Pages}}},getListPageTitle:function(n){var i,t;return n.pageListName?(i=c.getValue(),i&&i.title):n.masterPageListName?(t=n.pageTitle||n.title,$.withObject(ListsManager.SupportedListTypes,function(n){switch(u.currentListType.getValue()){case n.tag:t+=" | "+$.capitalizeFirstLetter(u.currentDisplayedTag.getValue());break;default:var i=u.currentDisplayedPage.getValue();t+=i>1?" | Page "+i:""}}),t):void 0},getTagFields:function(){return l.getTagFields()},getAvailableFields:function(){return $.extend({order:{type:DataSourceItemsFields.index.type,title:"Index",name:"order"},title:{type:DataSourceItemsFields.title.type,title:"Title",name:"title"},content:{type:DataSourceItemsFields.content.type,title:"Content",name:"content"},itemLink:{type:DataSourceItemsFields.link.type,title:"Post Link",name:"itemLink"}},s.getAvailableFields())}},u.initialize(),u}},FontIconsManager=new function(){function i(t,i){n&&n.put($.mapEntry(i,function(n,i){return{collectionName:t,iconName:i}}))}var n,t={};this.initialize=function(){FontIconsManager.registerIconsCollection(WzPublicIcons)};this.registerIconsCollection=function(n){n=$.quickExtend({name:undefined,fontClass:undefined,icons:{}},n);var r=n.name;t[r]=n;i(r,n.icons)};this.getPublicIconsCollection=function(){if(!n){var r=1;n=new ObservableCollection({idFunction:function(){return r++}});$.eachEntry(t,function(n,t){i(n,t.icons)})}return n};this.applyIcon=function(n,t){var i=FontIconsManager.resolveIcon(t);i&&(n.each(function(){this.innerHTML="&#x{0};".format(i.code)}),n.addClass(i.fontClass))};this.createIconReference=function(n,t){return{collectionName:n,iconName:t}};this.resolveIcon=function(n){var r;if(n){n=$.quickExtend({collectionName:undefined,iconName:undefined},n);var u=n.collectionName,f=n.iconName,i=t[u];if(i&&(r=i.icons[f],r))return{fontClass:i.fontClass,code:r.code}}return undefined}},SocialLinksManager=new function(){var n=this,r={1:{twitter:{link:" https://twitter.com/Webzai",feedAppId:""},facebook:{link:" https://facebook.com/Webzai"},googlePlus:{link:" http://plus.google.com/104217034959046240474"}},2:{twitter:{link:"https://twitter.com/siteliohelp",feedAppId:"568441556601163776"},facebook:{link:"https://facebook.com/sitelio"},googlePlus:{link:"http://plus.google.com/+Sitelio"}},3:{twitter:{link:"https://twitter.com/webbuildhelp",feedAppId:"568441919328751616"},facebook:{link:"http://www.facebook.com/websitebuilderofficial"},googlePlus:{link:"http://plus.google.com/+Websitebuilderofficial"}},5:{twitter:{link:"https://twitter.com/siteyhelp",feedAppId:"568442131019472896"},facebook:{link:"https://www.facebook.com/pages/Sitey/1460815124178150"},googlePlus:{link:"https://plus.google.com/+Sitey"}},6:{twitter:{link:"https://twitter.com/sitebuilderhelp",feedAppId:"580704471723950080"},facebook:{link:"https://www.facebook.com/sitebuilderofficial"},googlePlus:{link:"https://plus.google.com/102807070514589490248/about"}}},t,u,i;this.DefaultLinks=DeferredObject.create(function(){return{facebook:{type:"facebook",title:"Facebook",url:n.getBrandSocialDefaultLink("facebook")},googlePlus:{type:"googlePlus",title:"Google+",url:n.getBrandSocialDefaultLink("googlePlus")},twitter:{type:"twitter",title:"Twitter",url:n.getBrandSocialDefaultLink("twitter")},linkedin:{type:"linkedin",title:"LinkedIn",url:"http://www.linkedin.com"},pinterest:{type:"pinterest",title:"Pinterest",url:"http://www.pinterest.com"},reddit:{type:"reddit",title:"Reddit",url:"http://www.reddit.com"},instagram:{type:"instagram",title:"Instagram",url:"http://www.instagram.com"},youtube:{type:"youtube",title:"Youtube",url:"http://www.youtube.com"},flickr:{type:"flickr",title:"Flickr",url:"http://www.flickr.com"},soundCloud:{type:"soundCloud",title:"SoundCloud",url:"http://www.soundcloud.com"},tripAdvisor:{type:"tripAdvisor",title:"Trip Advisor",url:"http://www.tripadvisor.com"},picasa:{type:"picasa",title:"Picasa",url:"http://www.picasa.com"},behance:{type:"behance",title:"Behance",url:"http://www.behance.com"},etsy:{type:"etsy",title:"Etsy",url:"http://www.etsy.com"},tumblr:{type:"tumblr",title:"Tumblr",url:"http://www.tumblr.com"},dribbble:{type:"dribbble",title:"Dribbble",url:"http://www.dribbble.com"},vimeo:{type:"vimeo",title:"Vimeo",url:"http://www.vimeo.com"},vk:{type:"vk",title:"VK",url:"http://www.vk.com"},renren:{type:"renren",title:"Renren",url:"http://www.renren.com"},weibo:{type:"weibo",title:"Weibo",url:"http://www.weibo.com"}}});this.Types={Facebook:"facebook",GooglePlus:"googlePlus",Twitter:"twitter",Linkedin:"linkedin",Pinterest:"pinterest",Youtube:"youtube",Reddit:"reddit",Instagram:"instagram",Tumblr:"tumblr",SoundCloud:"soundCloud",Behance:"behance",TripAdvisor:"tripAdvisor",Dribbble:"dribbble",Flickr:"flickr",Picasa:"picasa",Etsy:"etsy",Vimeo:"vimeo",Vk:"vk",Renren:"renren",Weibo:"weibo"};i=Initializer.create(function(){t=new ObservableCollection({idFunction:function(n){return n.id}});var i=n.getAllLinks();$.eachEntry(i,function(n,i){var r={id:i.type,iconType:i.type,title:i.title,link:{url:i.url,type:LinkTypes.Web}};t.put(r)});u=CollectionObserver.create(t)});this.getSocialLinksCollection=function(){return i.execute(),t};this.getSocialLinksCollectionObservable=function(){return i.execute(),u};this.getLink=function(t){return $.quickExtend({},n.DefaultLinks.get()[t],SiteSettingsManager.getValue(t+"SocialLinkId"))};this.setLink=function(n,t,i){SiteSettingsManager.setValue(n+"SocialLinkId",t,{onSuccess:i,onError:$.noop})};this.getAllLinks=function(){var n={};return $.eachEntry(SocialLinksManager.Types,function(t,i){n[i]=SocialLinksManager.getLink(i)}),n};this.getBrandSocialDefaultLink=function(n,t){var u=ApplicationManager.getBrand(),i;return u===undefined&&(u=1),i=r[u][n].link,t&&(i=i.substr(i.lastIndexOf("/")+1)),i};this.getBrandTwitterFeedAppId=function(){var n=ApplicationManager.getBrand();return n===undefined&&(n=1),r[n].twitter.feedAppId}},NavigationManager=new function(){function i(t,i){var r=n[t];return $.quickExtend({type:t,initialize:$.noop,open:$.noop,close:$.noop,controller:i},r)}function r(n){var t=this,r;t.isOpened.isTrue()&&(r=$.extend({},t.lastOptions,{animate:!1}),t.close({animate:!1}));t.navigation=i(n,t);t.isInitialized&&t.navigation.initialize();r&&t.open(r)}function u(n){var t=this;t.isOpened.isFalse()&&(f(t),n=$.extend({$element:undefined,animate:!0,disableDeactivation:!1,disableLink:!1,navigationProperties:undefined,pages:PageManager.NavigatablePagesInformation,pagesHierarchy:PageManager.NavigatableHierarchy,animationCompleteCallback:$.noop,selectedPageId:PageManager.getCurrentPageId()},n,{navigationProperties:$.quickExtend(t.navigation.getDefaultProperties(),n.navigationProperties)}),t.lastOptions=n,t.navigation.open(n),t.isOpened.setTrue())}function f(n){n.isInitialized||(n.navigation.initialize(),n.isInitialized=!0)}function e(n){var t=this;t.isOpened.isTrue()&&!t.inClosing&&(t.inClosing=!0,n=$.quickExtend({animate:!0,animationCompleteCallback:$.noop},n),t.navigation.close(n),t.isOpened.setFalse(),delete t.inClosing)}function o(){this.close({animate:!1});delete t[this.id]}var t={},n={};this.registerNavigationDefinition=function(t){$.eachEntry(t,function(t,i){n[t]=i})};this.getNavigations=function(){return n};this.createNavigationController=function(n){var f={},s=i(n,f);return $.quickExtend(f,{id:$.uniqueID(),navigation:s,isInitialized:!1,data:{},isOpened:ObservableFlag.create(!1),open:u,close:e,remove:o,replaceNavigation:r}),t[f.id]=f,f}},SectionsManager=new function(){function nt(){f.connectObservableCollection(t.CurrentPageSectionsObserver,{filterFunction:et})}function et(n){return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?!n.isMobileHide:!n.isDesktopHide}function y(){$.eachItem(h,function(n,t){t(u)})}function tt(){h.length>0?ViewManager.isViewMode()?rt():w():w()}function ot(){var t=n.getItems();i=$.mapEntry(t,function(n){return n.instance});i.orderBy(function(n){return n.getPropertyValue("order")+(n.isType(ElementsTypes.HeaderElement)?-Infinity:0)+(n.isType(ElementsTypes.FooterElement)?Infinity:0)});$.eachItem(i,function(t,i){n.updateItemFields(i.id,{index:t+1})})}function it(){var f=l.$scrollableForRead.scrollTop(),t,n,s,h,c;if(o!==undefined&&$.isBetween(f,o-k,o+k))return!1;for(o=undefined,n=i.length-1;n>=0;n--){var r=i[n],a=PositionManager.getElementAbsoluteOffset(r),e=0;if(n>0&&(s=PositionManager.getElementSize(i[n-1]),e=s.height*d),h=PositionManager.getElementSize(r),c=Math.min(h.height*d,e),a.top-c<f+p){t=r;break}}return(!t&&i.length>0&&(t=i[0]),u!==t)?(u=t,!0):!1}function rt(){var t,n;if(!e){l=$.getScrollingController();p=0;Global.IsDesigner&&(MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?(t=ViewMobileWrapperMode.getMobileContainerArea(),p=t.top):p=DesignerHeader.getOuterHeight());n=$.uniqueID();l.$scrollableForRead.on("scroll."+n,function(){c||it()&&y()});it();y();a.activateAll();e={unbind:function(){l.$scrollableForRead.off("scroll."+n)}}}}function w(){e&&(e.unbind(),a.deactivateAll(),e=undefined,u=undefined,o=undefined,c=!1)}function ut(i){i=$.asArray(i);t.UpdateBatch.start();$.eachItem(i,function(i,r){var u,f;!n.getItem(r.id)&&r.isInstanceVisible()&&(u=SimpleEvent.createEventListenersGroup(),SimpleEvent.createEventListener(r.propertiesChanged,function(i){var e=i.sectionName,o=i.menuHide,h=i.order,f,u,s;(e||o||h)&&(t.UpdateBatch.start(),h&&(v=!0),f=!1,u={},e&&(u.title=e.value,f=!0),o&&(s=$.valueOrDefault(o.value,{}),u.isDesktopHide=s.desktop===!0,u.isMobileHide=s.mobile===!0,f=!0),f&&n.updateItemFields(r.id,u),t.UpdateBatch.finish())}).addToGroup(u),b[r.id]=u,u.activateAll(),f=$.valueOrDefault(r.getPropertyValue("menuHide"),{}),n.put({id:r.id,title:r.getPropertyValue("sectionName"),instance:r,isDesktopHide:f.desktop===!0,isMobileHide:f.mobile===!0}))});v=!0;t.UpdateBatch.finish()}function ft(i){i=$.asArray(i);$.eachItem(i,function(n,t){var i=b[t];i&&(i.disposeAll(),delete b[t])});t.UpdateBatch.start();n.remove(i);v=!0;t.UpdateBatch.finish()}var k=50,d=.5,t=this,r={},s={},b={},h=[],i=[],e,u,c=!1,p=0,l,o=undefined,a,v=!1,g={comparerFunction:$.createFieldsEqualityComparer(["title","index","isDesktopHide","isMobileHide"])},n=new ObservableCollection(g),f;this.CurrentPageSectionsObserver=CollectionObserver.create(n);this.CurrentPageSections=n;f=new ObservableCollection(g);this.CurrentVisiblePageSections=f;this.CurrentVisiblePageSectionsObserver=CollectionObserver.create(f);this.UpdateBatch=OperationsBatch.create({batchStartCallback:function(){n.beginUpdate()},beforeFinishingCallback:function(){v&&(v=!1,ot())},batchFinishCallback:function(){n.endUpdate()}});this.initialize=function(){MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent.bind(function(){f.beginUpdate();f.disconnectObservableCollection();nt();f.endUpdate()});nt();PageManager.Events.PageChanging.bind(function(n,i){var u,f;n!==i&&(t.UpdateBatch.start(),u=r[n],u&&ft($.getKeys(u)),f=r[i],f&&ut($.getValues(f)),t.UpdateBatch.finish())});PageManager.Events.PageDeleted.bind(function(n){var t=r[n];t&&(delete r[n],$.eachEntry(t,function(t){var i=s[t];i&&delete i[n]}))});ViewManager.Events.ViewModeChanged.bind(tt);MobileVersionViewManager.Events.AfterSwitchBetweenDevices.bind(function(){w();y();tt();y()});var n=0;a=SimpleEvent.createEventListenersGroup();SimpleEvent.createEventListener(ElementsManager.Events.ScrollingStartedEvent,function(t){n++;var r=t.getParents(!0),i=$.findFirst(r,function(n,t){return t.hasFeature(Features.PageSection)});i&&(c=!0,i!==u&&(u=i,y()))},{activationCallback:function(){n=0}}).addToGroup(a);SimpleEvent.createEventListener(ElementsManager.Events.ScrollingFinishedEvent,function(){n--;n===0&&c&&setTimeout(function(){e&&(c=!1,o=l.$scrollableForRead.scrollTop())},0)}).addToGroup(a)};this.moveSection=function(n,t){var r=t?t.elementType:undefined,i;r!==ElementsTypes.FooterElement&&(OperationsManager.beginAtomicBatch(!0),OrderManager.beginReorderingBatch(),PropertiesManager.UpdateBatch.start(),t?(i=t.getPropertyValue("order"),n.setPropertyValue("order",i+.1)):n.setPropertyValue("order",0),PropertiesManager.UpdateBatch.finish(),OrderManager.endReorderingBatch(),OperationsManager.endAtomicBatch())};this.getCurrentPageOrderedSections=function(){return i};this.addSectionInstance=function(n){var t=PageManager.getCurrentPage();$.objectSetIfUndefined(r,t.id,$.returnEmptyObject);r[t.id][n.id]=n;$.objectSetIfUndefined(s,n.id,$.returnEmptyObject);s[n.id][t.id]=t;ut(n)};this.removeSectionInstance=function(n){var t=s[n.id];t&&(delete s[n.id],$.eachEntry(t,function(t){var i=r[t];i&&delete i[n.id]}));ft(n.id)};this.addSectionScrollListener=function(n){ViewManager.isViewMode()&&(rt(),n(u));h.push(n)};this.removeSectionScrollListener=function(n){h.removeItem(n);h.length===0&&w()}},RenderingCoordinator=new function(){function n(){PageManager.PageChangingOperation.finish()}this.startRenderingBatch=function(){RenderingCoordinator.startReadWrite();ReadWriteController.ReadWriteScope.start();OrderManager.beginReorderingBatch();ElementsManager.HierarchyChangedUpdateBatch.start();PositionManager.PageRearrangementBatch.start();LayoutManager.LayoutContentBatch.start();SiteViewportManager.ViewPortChangeBatch.start();LayoutManager.ElementsFramesUpdateBatch.start();SectionsManager.UpdateBatch.start();PositionManager.UpdateBatch.start();LayoutManager.beginLayoutUpdateBatch();ElementInstance.InstancesInitializationBatch.start();PositionManager.VisibilityUpdateBatch.start();PropertiesManager.UpdateBatch.start()};this.finishRenderingBatch=function(n){n=$.valueOrDefault(n,$.noop);PropertiesManager.UpdateBatch.finish();PositionManager.VisibilityUpdateBatch.finish();ElementInstance.InstancesInitializationBatch.finish();LayoutManager.endLayoutUpdateBatch();PositionManager.UpdateBatch.finish();OrderManager.endReorderingBatch();SectionsManager.UpdateBatch.finish();LayoutManager.ElementsFramesUpdateBatch.finish();var t="rendering"+$.weakID();OperationsManager.disableOperationsRecording(t);OrderManager.beginReorderingBatch();LayoutManager.LayoutContentBatch.finish();LayoutManager.beginLayoutUpdateBatch();SiteViewportManager.ViewPortChangeBatch.finish();OrderManager.endReorderingBatch();LayoutManager.endLayoutUpdateBatch();PositionManager.PageRearrangementBatch.finish();ElementsManager.HierarchyChangedUpdateBatch.finish();n();ReadWriteController.ReadWriteScope.finish();RenderingCoordinator.finishReadWrite();OperationsManager.enableOperationsRecording(t)};this.startModeRenderingBatch=function(){InstanceControllerManager.CreationRequests.activate();RenderingCoordinator.startRenderingBatch()};this.finishModeRenderingBatch=function(){RenderingCoordinator.finishRenderingBatch();InstanceControllerManager.CreationRequests.executeOperations();InstanceControllerManager.CreationRequests.deactivate()};this.startPageRenderingBatch=function(){InstanceControllerManager.CreationRequests.activate();PageManager.PageChangingOperation.start();RenderingCoordinator.startRenderingBatch()};this.finishPageRenderingBatch=function(){RenderingCoordinator.finishRenderingBatch(n);InstanceControllerManager.CreationRequests.executeOperations();InstanceControllerManager.CreationRequests.deactivate()};this.startReadWrite=function(){ReadWriteController.PendingReadOperations.activate();ReadWriteController.PendingWriteOperations.activate()};this.finishReadWrite=function(){ReadWriteController.ReadWriteScope.isActive()||LayoutManager.layoutUpdateBatch.whenFinished(function(){while(!ReadWriteController.PendingReadOperations.isEmpty()||!ReadWriteController.PendingWriteOperations.isEmpty())ReadWriteController.PendingReadOperations.executeOperations(),ReadWriteController.PendingWriteOperations.executeOperations()},"finishReadWrite");ReadWriteController.PendingReadOperations.deactivate();ReadWriteController.PendingWriteOperations.deactivate()};this.performOnFramesLayoutUpdade=function(n,t){OperationsBatch.whenAllFinished([LayoutManager.ElementsFramesUpdateBatch,LayoutManager.layoutUpdateBatch,PositionManager.UpdateBatch],n,t)};this.performUpdateOnRenderingFinished=function(n,t){PositionManager.PageRearrangementBatch.whenFinished(n,t)};this.performOnLayoutUpdate=function(n,t){OperationsBatch.whenAllFinished([LayoutManager.layoutUpdateBatch,PositionManager.UpdateBatch],n,t)};this.performOnLayoutVisibilityUpdate=function(n,t){OperationsBatch.whenAllFinished([LayoutManager.layoutUpdateBatch,PositionManager.VisibilityUpdateBatch,PositionManager.UpdateBatch],n,t)};this.performLayoutOrderUpdate=function(n,t){OperationsBatch.whenAllFinished([LayoutManager.layoutUpdateBatch,OrderManager.OrderingBatch,PositionManager.UpdateBatch],n,t)};this.performVisibilityUpdate=function(n,t){PositionManager.VisibilityUpdateBatch.whenFinished(n,t)};this.requestWriteOperation=function(n,t){ReadWriteController.PendingWriteOperations.requestOperation(n,t)};this.requestReadOperation=function(n,t){ReadWriteController.PendingReadOperations.requestOperation(n,t)};this.requestIndpendentWriteOperation=function(n,t){RenderingCoordinator.performUpdateOnRenderingFinished(function(){RenderingCoordinator.requestWriteOperation(n,t)},t)};this.requestIndpendentReadOperation=function(n,t){RenderingCoordinator.performUpdateOnRenderingFinished(function(){RenderingCoordinator.requestReadOperation(n,t)},t)}},SocialSharingManager=new function(){function t(t,i,r){window.open(t+i+r,"_blank",n)}var n="toolbar=yes, scrollbars=yes, resizable=yes, top=500, left=500, width=550, height=420";return this.share=function(n,i,r){i=encodeURIComponent(i);var u="",f="";r&&(f="&"+$.generateQueryString(r));switch(n){case"facebook":u="http://www.facebook.com/sharer.php?u=";break;case"twitter":u="https://twitter.com/intent/tweet?url=";break;case"googlePlus":u="https://plus.google.com/share?url=";break;case"linkedin":u="https://www.linkedin.com/shareArticle?mini=true&url="}t(u,i,f)},this};(function(){function i(){return t===undefined&&(t="<p><span class='{0}'>This is your Headline<\/span><\/p><p><span class='{2}'>This is your normal text, while still technically in beta, is the recommended version of Sublime Text to use: compated to Sublime Text 2, it's faster.<\/span><\/p><p><span class='{2}'><a class='{3}'>This is a linked text its referring to a text...<\/a><\/span><\/p><p><br/><\/p><p><span class='{1}'>This is your Sub Header<\/span><\/p><p><span class='{2}'>This is your normal text, while still technically in beta, is the recommended version of Sublime Text to use: compated to Sublime Text 2, it's faster.<\/span><\/p><p><span class='{2}'><span class='{4}'>Hey, Its your marked text you can change the background text or the text<\/span><\/span><\/p>".format("theme-inline-text-style-headline","theme-inline-text-style-sub-header","theme-inline-text-style-body","theme-inline-text-style-link","theme-inline-text-style-marked")),t}var n={Date:{name:"date",sortingFunction:$.datesComparer},CoverImage:{name:"coverImage"},Blurb:{name:"blurb",sortingFunction:$.stringsComparer},Author:{name:"author",sortingFunction:$.stringsComparer},Pinned:{name:"pinned",sortingFunction:$.numbersComparer},Featured:{name:"featured",sortingFunction:$.numbersComparer},CoverImageDescription:{name:"coverImageDescription",sortingFunction:$.stringsComparer}},t;ListsManager.registerListDefinition({LocalBlog:{FieldDefinitions:n,CommonFilters:{Pinned:[FilterUtils.Filters.EqualFilter({fieldName:n.Pinned.name,value:!0})],Featured:[FilterUtils.Filters.EqualFilter({fieldName:n.Featured.name,value:!0})]},getDefaultItem:function(n){return{title:n?"":"This is the post title",blurb:"This is the post summary",date:moment().format("YYYY/MM/DD"),coverImage:{imageUrl:DesignerManager.getDefaultImage()},author:n?WebzaiController.getCurrentUserName():"This is the post author",content:n?"This is the post content":i(),tags:[],pinned:!1,featured:!1,status:1}},getContentBindingFields:function(){return{title:{iconClass:$.getIconClass("tool-category-text",IconLocation.Font),type:DataSourceItemsFields.title.type,title:"Title",name:"title"},content:{iconClass:$.getIconClass("tool-category-text",IconLocation.Font),type:DataSourceItemsFields.content.type,title:"Content",name:"content"},date:{iconClass:$.getIconClass("tool-category-text",IconLocation.Font),type:DataSourceItemsFields.date.type,title:"Date Created",name:"date"},coverImage:{iconClass:$.getIconClass("tool-category-images",IconLocation.Font),type:DataSourceItemsFields.image.type,title:"Cover Image",name:"coverImage",extraBindings:[n.CoverImageDescription.name]},blurb:{iconClass:$.getIconClass("tool-category-text",IconLocation.Font),type:DataSourceItemsFields.description.type,title:"Summary",name:"blurb",defaultProperties:{namedTextStyle:NamedTextStyles.BodyL}},author:{iconClass:$.getIconClass("tool-category-text",IconLocation.Font),type:DataSourceItemsFields.title.type,title:"Author",name:"author",defaultProperties:{namedTextStyle:NamedTextStyles.HeadingS}},coverImageDescription:{iconClass:$.getIconClass("tool-category-text",IconLocation.Font),type:DataSourceItemsFields.description.type,title:"Cover Image Description",name:"coverImageDescription"}}},getAvailableFields:function(){return{date:{type:DataSourceItemsFields.date.type,title:"Date Created",name:"date"},coverImage:{type:DataSourceItemsFields.image.type,title:"Cover Image",name:"coverImage"},blurb:{type:DataSourceItemsFields.description.type,title:"Summary",name:"blurb"},author:{type:DataSourceItemsFields.title.type,title:"Author",name:"author"},coverImageDescription:{type:DataSourceItemsFields.description.type,title:"Cover Image Description",name:"coverImageDescription"}}},createFieldsConverter:function(){return{setterMapper:function(n){var t={};return t[ListsManager.FieldNames.Date]=n.date,t[ListsManager.FieldNames.CoverImage]=n.coverImage,t[ListsManager.FieldNames.Blurb]=n.blurb,t[ListsManager.FieldNames.Author]=n.author,t[ListsManager.FieldNames.Pinned]=n.pinned,t[ListsManager.FieldNames.Featured]=n.featured,t[ListsManager.FieldNames.CoverImageDescription]=n.coverImageDescription,t},getterMapper:function(n,t){return{date:t[ListsManager.FieldNames.Date],coverImage:t[ListsManager.FieldNames.CoverImage],blurb:t[ListsManager.FieldNames.Blurb],author:t[ListsManager.FieldNames.Author],pinned:t[ListsManager.FieldNames.Pinned],featured:t[ListsManager.FieldNames.Featured],coverImageDescription:t[ListsManager.FieldNames.CoverImageDescription]}}}}}})})(),function(){LoadingRequirementsManager.registerRequirementProcessor({process:function(n,t,i){var r={},f=$.grep(n,function(n){return n.require===LoadingRequirementsManager.LoadingRequirements.ListsContent.name}),u=!0;$.eachItem(f,function(n,t){var i=t.requestContent,e=i.listName,o=ListsManager.getListByName(e).getListInfo(),f;o&&(f=$.getOrInit(r,e,{listId:o.listId,widgets:[]}),u=!1,i.itemContent?f.item=i.itemContent:f.widgets.push(i.widgetContent))});u?t():ListsCacheManager.loadListsContent(r,function(){t()},function(n){Exception.getExceptionType(n)===Exceptions.EntityNotExistsException?i(n):(ExceptionUtils.handleAjaxException(n),t())})}})}();var DefaultUrlHandler=new function(){function t(n){var t,i;n=$.trimPrefix(n,"!");n===""?t=PageManager.getMainPageId():(i=PageManager.findPageByUrlFragment(n),i?t=i.id:PageManager.navigateToPage(PageManager.getMainPageId()));t!==undefined&&UrlManager.changePage(t)}var n;this.initialize=function(){n=$.valueOrDefault(PageData.defaultAjaxPageID,PageManager.getMainPageId())};this.handle=function(i,r){var u=i[0]||"";return r?u.indexOf("!")==0?t(u):UrlManager.changePage(n):t(u),!0}},ListsUrlHandler=new function(){function n(n,t){t.currentDisplayedItemAlias=n;LoadingRequirementsManager.performOnPageLoading(LoadingRequirementsManager.LoadingRequirements.ListsContent.create({listName:t.getListName(),itemContent:{alias:n}}));LoadingRequirementsManager.performWhenRequirementsLoaded(function(){t.refreshListItem(n)})}function t(n,t){var i=1,r=ListsManager.SupportedListTypes.page,u=r,e,f,o;n.length>1&&(e=n[1].toLowerCase(),$.withObject(ListsManager.SupportedListTypes,function(r){var f,o;switch(e){case r.page:f=n[2];f&&MathUtils.isPositive(f)&&(i=+f);break;case r.tag:o=n[2];o!==undefined&&(t.currentDisplayedTag.setValue(decodeURIComponent(o)),n[3]===r.page&&(f=n[4],f&&MathUtils.isPositive(f)&&(i=+f)),u=r.tag)}}));f=t.currentListType.getValue();t.currentListType.setValue(u);o=t.currentDisplayedPage.setValue(i);f&&(f!==r||u!==r||o)&&LoadingRequirementsManager.performWhenRequirementsLoaded(function(){t.primaryListChanged.fireNew()})}this.handle=function(i){var r,f,e,u,o;if(r=i.length==0?PageManager.getPageData(PageManager.getMainPageId()):PageManager.findPageByUrlFragment(i[0],Global.IsDesigner),r){if(f=r.id,r.masterPageListName)return e=ListsManager.getListByName(r.masterPageListName),u=i[1],u&&!ListsManager.SupportedListTypes[u.toLocaleLowerCase()]?(f=e.getDynamicPageId(u),n(u,e)):t(i,e),UrlManager.changePage(f),!0;if(r.pageListName)return o=ListsManager.getListByName(r.pageListName),o.resetToDummyItem(),UrlManager.changePage(f),!0}return!1}},PageNotFoundUrlHandler=new function(){this.handle=function(n,t){return t&&PageData.PageNotFound?(PageManager.navigateToPage(PageManager.getMainPageId()),!0):!1}},UrlHandlersInitializer=new function(){this.initialize=function(){UrlManager.registerUrlHandlers([PageNotFoundUrlHandler,ListsUrlHandler,DefaultUrlHandler])}},NavigationUtils=new function(){this.createCssRules=function(n){var t={};return{rule:function(i,r){var u=t[i];u||(u=t[i]=$.rule("."+n+" "+i+" {}"));u.css(r)}}};this.calculateAdjustBrightnessSign=function(n,t){var i=$.getCoordinateValue(n,ColorCoordinate.Brightness);return $.adjustFraction(i+t,3)>1?-1:1}};(function(){function t(){var n=ElementsManager.getAllPageInstances();return $.map(n,function(n){if(n.isFixed()&&PositionManager.isElementVisible(n))return n})}var n=PanelsManager.createDeferredPanel(function(){return PanelsManager.createPanel(SlideNavigationPanel)});NavigationManager.registerNavigationDefinition({SlideNavigation:{initialize:function(){var i=this,t,r;i.panel=PanelsManager.usePanel(n);t=[];Global.IsDesigner&&(r=TopHeader.getElement(),t.push(r));i.ignoredOutsideElementsFilters=t},open:function(n){function k(){var n=h?!1:!0;i.controller.close({animate:n,restoreScrolling:!1})}var l,a,v,u,b,y;n=$.quickExtend({$element:undefined,animate:!0,disableDeactivation:!1,disableLink:!1,navigationProperties:undefined,pages:undefined,pagesHierarchy:undefined,instanceId:undefined,animationCompleteCallback:$.noop,closeAnimationCompleteCallback:$.noop},n);var i=this,r=i.panel,o=FreemiumBanners.getFooterHeight(),c=0,p=o,d=ViewManager.getBodyElement(),s;Global.IsDesigner?(p=0,l=DesignerManager.getDesignerAreaCoordinates(),a=l.top,MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?s=function(){var n=DesignerManager.ResponsiveViewPort.getValue();return{width:n,height:ViewMobileWrapperMode.MobileViewHeight}}:ViewManager.isDesignMode()?s=function(){var n=$.calculateWindowSize(),t=DesignerManager.calculateDesignerArea();return{width:Math.max(n.width-l.left-l.right,t.width),height:n.height-a}}:(c=a,s=function(){var n=$.calculateWindowSize();return{width:n.width,height:n.height-a-o}})):s=function(){var n=$.calculateWindowSize();return{width:n.width,height:n.height-o}};v=s();u=$.extend({},n.navigationProperties,{pages:n.pages,pagesHierarchy:n.pagesHierarchy,disableLink:n.disableLink,maxSize:v,instanceId:n.instanceId});r.$element.appendTo("body");r.activate(u);var f=SimpleEvent.createEventListener($.getWindowSizeEvent(),function(){f.dispose();f=undefined;i.closePanel(!1);i.open($.extend({},n,{animate:!1,animationCompleteCallback:$.noop}))}),g=ObservableFlag.create(!1,{valueChangeCallback:function(){r.refresh();n.animationCompleteCallback();f&&f.activate()}}),w=$.getScrollOffset(),nt={animate:n.animate,direction:u.direction,pushContent:u.pushContent,duration:u.animationSpeed,scrollingOffset:w,frameTop:c,frameBottom:p,placeHolderSize:v,animationCallback:function(){g.setTrue()}},h;if(!ViewManager.isDesignMode()&&(u.pushContent&&(b=ViewManager.getBodyElementWrapper(),y=t(),y.length>0&&(h=[],$.each(y,function(n,t){var i=t.$element,e=PositionManager.getElementArea(t,!0),f=$("<div><\/div>").insertAfter(i),r,u;h.push({$element:i,$placeHolder:f,style:i.attr("style")});r=i.css("top");u=i.css("bottom");r!=="auto"&&c!==0&&i.css("top",parseInt(r)-c);u!=="auto"&&o!==0&&i.css("bottom",parseInt(u)-o);i.appendTo(b).addClass("animation-fixed")}))),n.animate&&u.duration!==0))var tt=d.offset(),it=tt.top+w.top,ft=it+v.height,et=ElementsManager.getAllPageInstances();var rt=$.rememberScrolling(),ut=SlideEffect.animate(r.$element,nt),e=SimpleEvent.createEventListenersGroup();n.disableDeactivation||(SimpleEvent.createEventListener(r.requestDeactivationEvent,function(n){n?k():i.controller.close()}).addToGroup(e),SimpleEvent.createEventListener(PageManager.Events.PageChanging,k).addToGroup(e),SimpleEvent.createEventListener(ViewManager.Events.ViewModeChanged,function(){i.controller.close({animate:!1})}).addToGroup(e),r.deactivateOnClickOutside({ignoredElementsFilters:i.ignoredOutsideElementsFilters}),Global.IsDesigner&&SimpleEvent.createEventListener(MobileVersionViewManager.Events.SwitchingBetweenDevices,function(){i.controller.close({animate:!1})}).addToGroup(e));e.activateAll();i.closePanel=function(t,i,u){e.disposeAll();f&&(f.dispose(),f=undefined);ut.close({animate:t,closingCallback:function(){h&&$.each(h,function(n,t){t.$element.removeClass("animation-fixed").setStyleAttr(t.style);t.$element.insertBefore(t.$placeHolder);t.$placeHolder.remove()})},closeCallback:function(){u&&rt.restore();r.deactivate();i&&i();n.closeAnimationCompleteCallback()}})}},close:function(n){n=$.extend({animate:!0,animationCompleteCallback:$.noop,restoreScrolling:!0},n);this.closePanel(n.animate,n.animationCompleteCallback,n.restoreScrolling)},getDefaultProperties:function(){return{direction:"left",width:250,height:400,animationSpeed:400,hierarchyOpened:!1,useHierarchy:!0,pushContent:!1,backgroundColor:{mainColor:1,opacity:1,brightness:0},fontColor:{mainColor:3,opacity:1,brightness:0},fontSize:16,font:{themeFont:"heading1"}}}}})})(),function(){function o(n){n=$.quickExtend({positioningAlignments:undefined,positionCallback:undefined,positionHorizontalCallback:undefined,positionVerticalCallback:undefined},n);var i=n.positioningAlignments,r=n.positionHorizontalCallback,u=n.positionVerticalCallback,t=$.buildPositioningFunction(f);return $.eachItem(i.horizontals,function(n,i){var u={distance:i.distance,usageCallback:function(){r&&r(i.side===Side.Left?Position.Right:Position.Left)}};t.alignHorizontally(i.side,i.alignTo,u)}),$.eachItem(i.verticals,function(n,i){var r={distance:i.distance,usageCallback:function(n){n.isPositioned||(i.side===Side.Top?i.alignTo===Side.Top?n.$element.css("height",n.positioningArea.height-n.relativeArea.top+n.positioningArea.top):n.$element.css("height",n.positioningArea.height-n.relativeArea.top+n.positioningArea.top-n.relativeArea.height):i.alignTo===Side.Top?n.$element.css("height",n.relativeArea.top-n.positioningArea.top):n.$element.css("height",n.relativeArea.top-n.positioningArea.top+n.relativeArea.height));u&&u(i.side===Side.Top?Position.Bottom:Position.Top)}};t.alignVertically(i.side,i.alignTo,r)}),t}var n,i,r,u,e=Initializer.create(function(){i=DeferredObject.create(function(){return $.createDropPanelWindow(DropDownNavigationDesktopPanel.createPanel(),{appendTo:PageManager.getPageBody(),contextClass:"drop-down-navigation",isDraggable:!1,stackWithWindows:!1,placeInsideWindow:!1,hidingFunctionBeforeShowing:$.noop,closeCallback:function(){u.controller.close()}})});r=DeferredObject.create(function(){return NavigationManager.createNavigationController("SlideNavigation")});n=[".drop-down-navigation"];Global.IsDesigner&&n.push(TopHeader.getElement())}),f,t;NavigationManager.registerNavigationDefinition({DropDownNavigation:{initialize:function(){e.execute()},open:function(f){var h,y,w,nt,tt,c,a,b,it,l,v,k;if(f=$.quickExtend({$element:undefined,animate:!0,disableDeactivation:!1,disableLink:!1,navigationProperties:undefined,pages:undefined,pagesHierarchy:undefined,selectedPageId:undefined,instanceId:undefined,animationCompleteCallback:$.noop,closeAnimationCompleteCallback:$.noop,openCallback:$.noop,isVertical:!1,mouseEnteredCallback:$.noop,mouseLeaveCallback:$.noop,customClickCallback:undefined},f),h=this,MobileVersionViewManager.Flags.IsInMobileContext.isTrue()){var p=r.get(),s=f.navigationProperties,rt=$.quickExtend({},f,{navigationProperties:{direction:s.mobileDirection,width:s.mobileWidth,pushContent:!1,height:s.mobileHeight,animationSpeed:s.animationSpeed,hierarchyOpened:s.hierarchyOpened,useHierarchy:s.useHierarchy,backgroundColor:s.backgroundColor,fontColor:s.fontColor,fontSize:s.fontSize,font:s.font}});p.open(rt);p.isOpened.once(!1,function(){h.controller.close()});h.closingFunction=function(n){p.close(n)}}else{y=i.get();y.close();u=h;var d=f.$element,ut=f.closeAnimationCompleteCallback,ft=ObservableFlag.createConditionalNegative({valueChangeCallback:function(n){n?f.mouseEnteredCallback():f.mouseLeaveCallback()}}),e=$.quickExtend($.quickExtend({},f.navigationProperties),{pages:f.pages,pagesHierarchy:f.pagesHierarchy,selectedPageId:f.selectedPageId,disableLink:f.disableLink,instanceId:f.instanceId,customClickCallback:f.customClickCallback,mouseEnteredFlag:ft}),g=n.clone();if(g.push(d),f.isVertical?(c=e.orientation==="right"?[{side:Side.Right,alignTo:Side.Left,distance:e.horizontalDistance},{side:Side.Left,alignTo:Side.Right,distance:e.horizontalDistance}]:[{side:Side.Left,alignTo:Side.Right,distance:e.horizontalDistance},{side:Side.Right,alignTo:Side.Left,distance:e.horizontalDistance}],w={horizontals:c,verticals:[{side:Side.Top,alignTo:Side.Top,distance:e.verticalTop},{side:Side.Bottom,alignTo:Side.Bottom,distance:e.verticalTop}]},nt=function(n){b=t[n]}):(a=e.horizontalPosition,c={side:a,alignTo:a},a===Side.Left?c.distance=e.horizontalLeft:a===Side.Right&&(c.distance=e.horizontalRight),w={horizontals:[c],verticals:[{side:Side.Top,alignTo:Side.Bottom,distance:e.verticalDistance},{side:Side.Bottom,alignTo:Side.Top,distance:e.verticalDistance}]},tt=function(n){b=t[n]}),it=o({positioningAlignments:w,positionHorizontalCallback:nt,positionVerticalCallback:tt}),y.open(d,{positioningFunction:it,activationArgs:e,deactivateOnClickOutside:!f.disableDeactivation,ignoredElementsFilters:g,showingFunction:function(n,t){t.positioned();f.openCallback(n);f.animate&&e.animationSpeed!==0?Effects.slideIn(n,{duration:e.animationSpeed,direction:b,easing:"swing",complete:function(){f.animationCompleteCallback()}}):f.animationCompleteCallback()}}),l=SimpleEvent.createEventListenersGroup(),v=undefined,!f.disableDeactivation){v=$.uniqueID();k=$.getScrollingController();k.$scrollableForRead.on("scroll."+v,function(){h.controller.close()});SimpleEvent.createEventListener(PageManager.Events.PageChanging,function(){h.controller.close()}).addToGroup(l);SimpleEvent.createEventListener(ViewManager.Events.ViewModeChanged,function(){h.controller.close({animate:!1})}).addToGroup(l);Global.IsDesigner&&SimpleEvent.createEventListener(MobileVersionViewManager.Events.SwitchingBetweenDevices,function(){h.controller.close({animate:!1})}).addToGroup(l)}l.activateAll();h.closingFunction=function(n){v&&k.$scrollableForRead.off("scroll."+v);l.disposeAll();y.close();n.animationCompleteCallback();ut()}}},close:function(n){n=$.quickExtend({animate:!0,animationCompleteCallback:$.noop},n);this.closingFunction(n)},getDefaultProperties:function(){return{width:150,spacing:20,mobileHeight:400,mobileDirection:"left",mobileWidth:250,animationSpeed:400,useHierarchy:!0,hierarchyOpened:!1,backgroundColor:{mainColor:1,opacity:1,brightness:0},fontColor:{mainColor:3,opacity:1,brightness:0},fontSize:15,borderRadius:0,borderWidth:0,borderColor:{mainColor:1,opacity:1,brightness:0},orientation:"center",horizontalPosition:Side.Center,horizontalLeft:0,horizontalRight:0,verticalDistance:0,horizontalDistance:0,verticalTop:0,innerDistance:0,font:{themeFont:"heading1"},useSkinButton:!1,showDropDownArrow:!0}}}});f=function(){return PageManager.getCurrentPage().getArea(!0)};t={"1":"down","2":"up","3":"right","4":"left"}}();DropDownNavigationDesktopPanel=new function(){function u(n){var t=r[n];return t||(t=r[n]=PanelsManager.createController(s({level:n}))),t}function s(r){function g(n){var t=$.findFirst(s.items);return t&&(n=Math.min(t.$item.outerHeight(),n)),n}function k(n,t){n&&(t?n.setTrue("drop-down-navigation-"+r.level):setTimeout(function(){n.setFalse("drop-down-navigation-"+r.level)},0))}function it(n){n=$.Color(n);var t=NavigationUtils.calculateAdjustBrightnessSign(n,.12),i=ColorsHelper.adjustBrightness(n,function(n){return n+t*.06}),r=ColorsHelper.adjustBrightness(n,function(n){return n+t*.12});return{mainColor:n.toCSS(),hoverColor:i.toCSS(),selectedColor:r.toCSS()}}function w(n){var t={};return t[f]=n,t}function rt(t,u,f,e,o,s){if(a.rule(".page-item > .item-block",w(t.mainColor)),s||(a.rule(".page-item.simple.state-selected > .item-block",w(t.selectedColor)),a.rule(".page-item.simple:hover > .item-block",w(t.hoverColor)),a.rule(".page-item.simple.opened > .item-block",w(t.hoverColor))),r.level===0){n.rule(".page-item",{paddingLeft:e+"px",paddingRight:e+"px"});var h=u/2;n.rule(".page-item > .item-block",{paddingTop:h+"px",paddingBottom:h+"px"});s?(n.rule(".page-item.instance:first-child > .item-block",{paddingTop:0}),n.rule(".page-item.instance:last-child > .item-block",{paddingBottom:0}),n.rule(".page-item.instance:first-child > .item-block .sub-hierarchy-icon-container",{paddingBottom:h+"px"}),n.rule(".page-item.instance:last-child > .item-block .sub-hierarchy-icon-container",{paddingTop:h+"px"}),n.rule(".page-item.instance:first-child:last-child > .item-block .sub-hierarchy-icon-container",{paddingTop:0,paddingBottom:0})):n.rule(".page-item.simple.has-hierarchy .page-title",{maxWidth:f-40-e*2})}r.level===1&&(i.rule("> .content-container.right",{marginLeft:o+"px",marginRight:0}),i.rule("> .content-container.left",{marginLeft:0,marginRight:o+"px"}))}var l,y,b,s,a,v,p;r=$.extend({level:0},r);var c=PanelsManager.createBaseController(),h=$.useTemplate(t.Panel,{level:r.level.toString()}),d=$(".pages-list",h),nt=$(".border-box",h),tt=$(".content-container",h);if(r.level===0)h.on("mouseenter",function(){k(c.currentActivationArgs.mouseEnteredFlag,!0)}).on("mouseleave",function(){k(c.currentActivationArgs.mouseEnteredFlag,!1)});return s=d.makeItemsList({idFunction:$.defaultIdFunction,itemCreationFunction:function(n,i){var f=c.currentActivationArgs,d=b==n.id,r,v=f.customClickCallback,w,s,u,a,g,k;if(f.useSkinButton){r=$.useTemplate(t.PageItemInstance);w=r.find(".instance-content");i.data.$openContext=w;s=f.createInstanceController(n);s.appendTo(w);u=s.getInstance();p.push(u);v||u.setPropertyValue("urlAddress",{url:n.id,type:LinkTypes.Pages});u.instanceController.createdFlag.onceTrue(function(){var t,n,i,r;u.setNeverSelectedInClick(!0);u.getSkinInstance().setNeverSelectedInClick(!0);d&&ViewManager.isViewMode()&&ElementsManager.performOnInstancesInitialization(u.id,function(){u.getSkinInstance().userSelect(!0)});y||(t=u.getSkinInstance().getInstancesByField("title")[0],t&&(n=t.getPropertyValue("fontColor"),i=TextStyleManager.getElementTextStyle(t),!n&&i&&(n=i.color),n&&(n=ThemeColorsManager.evaluateColorBinding(n,!0)),r=t.getPropertyValue("fontSize"),!r&&i&&(r=i.fontSize),h.css({color:n,fontSize:r+"px"}),y=!0))});u.showElement();l||(l=s.getSize());i.data.instanceController=s}else if(r=$.useTemplate(t.PageItem,n),i.data.$openContext=r,d&&r.addClass("state-selected"),i.data.$pageTitle=r.find(".page-title"),!f.disableLink&&!v){a=$("<a class='no-decorations item-block'><\/a>");a.addClass("internal-link");a.on("click",function(){var n=i.dropPanelController;(!n||n.isOpened())&&setTimeout(function(){c.requestDeactivation()},0)});g=UrlManager.getFullHtmlUrl(PageManager.getPageFragmentValue(n.id));a.attr("href",g);k=$(".page-content",r);k.wrap(a);i.data.$lingWrapper=k.parent()}if(v&&!f.disableLink)$(".page-content",r).on("click",function(){setTimeout(function(){c.requestDeactivation()},0);v(n.id)});return i.data.$iconElement=r.find(".sub-hierarchy-icon"),FontIconsManager.applyIcon(i.data.$iconElement,f.orientation==="right"?e:o),r},itemUpdatedCallback:function(n,t){var i,r;n.data.$pageTitle&&t&&(i=n.item,n.data.$pageTitle.text(i.title),n.data.$lingWrapper&&(r=UrlManager.getFullHtmlUrl(PageManager.getPageFragmentValue(i.id)),n.data.$lingWrapper.attr("href",r)))}}).addOrderingSupport({orderingValueSelector:function(n){return n.item.index}}),a=NavigationUtils.createCssRules("drop-down-navigation-desktop-panel-"+r.level),$.quickExtend(c,{$element:h,visualizers:[],defaultActivationArgs:{backgroundColor:undefined,hoverColor:undefined,width:undefined,spacing:undefined,hierarchyOpened:undefined,useHierarchy:undefined,fontColor:undefined,fontSize:undefined,font:undefined,pages:undefined,pagesHierarchy:undefined,maxSize:undefined,selectedPageId:undefined,instanceId:undefined,mouseEnteredFlag:undefined,borderRadius:undefined,borderWidth:undefined,borderColor:undefined,innerDistance:undefined,orientation:undefined,useSkinButton:undefined,showDropDownArrow:undefined,customClickCallback:undefined},onActivated:function(n){var ht=ThemeColorsManager.evaluateColorBinding(n.backgroundColor),ft=ThemeFontsManager.evaluateFontBinding(n.font),ct=n.fontSize,t=n.borderWidth,lt=ThemeColorsManager.evaluateColorBinding(n.borderColor,!0),et=n.width,at=n.spacing,vt=ThemeColorsManager.evaluateColorBinding(n.fontColor,!0),i=n.borderRadius,k=n.orientation,yt=n.innerDistance,f=n.useSkinButton,pt=n.showDropDownArrow,tt,ut,e,w,o,c;if(b=$.evaluateWhenFunction(n.selectedPageId),tt=it(ht),rt(tt,at,et,t,yt,f),ut=CollectionUtils.isObservableCollection(n.pages),f&&(p=[],OperationsManager.disableOperationsRecording("dropdown-navigation"),RenderingCoordinator.startRenderingBatch()),s.clear(),n.useHierarchy){var ot=ut?n.pages.getItems():$.mapToDictionary(n.pages,$.identity,$.defaultIdFunction),a=n.pagesHierarchy,st=a.getRootIds(),wt=$.mapItem(st,function(n){return ot[n]});if(s.setItems(wt),i=g(i),a.hasHierarchy()){s.$element.on("click.drop-down-panel","> .page-item.has-hierarchy",function(n){var r=$(n.target).closest(".page-item"),t=s.getListItem(r),i;t&&t.itemsList===s&&(i=t.dropPanelController,i.isOpened()||(i.open(),n.stopPropagation(),n.preventDefault()))});s.$element.on("mouseenter.drop-down-panel","> .page-item.has-hierarchy",function(n){var i=$(n.currentTarget).closest(".page-item"),t=s.getListItem(i);t&&t.itemsList===s&&setTimeout(function(){t.dropPanelController.open()},0)});s.$element.on("mouseleave.drop-down-panel","> .page-item.has-hierarchy",function(n){var i=$(n.currentTarget).closest(".page-item"),t=s.getListItem(i);t&&t.itemsList===s&&setTimeout(function(){t.dropPanelController.close()},0)});v=[];e=f?t:0;w=$.buildPositioningFunction(function(){return PageManager.getCurrentPage().getArea(!0)}).alignVertically(Side.Top,Side.Top,{distance:-t});k==="right"?w.alignHorizontally(Side.Right,Side.Left,{distance:e,usageCallback:function(n){n.$element.find(".drop-down-navigation-desktop-panel .content-container").removeClass("right").addClass("left")}}).alignHorizontally(Side.Left,Side.Right,{distance:e}):w.alignHorizontally(Side.Left,Side.Right,{distance:e}).alignHorizontally(Side.Right,Side.Left,{distance:e,usageCallback:function(n){n.$element.find(".drop-down-navigation-desktop-panel .content-container").removeClass("right").addClass("left")}});$.eachItem(st,function(t,i){var o,c;if(a.hasChildren(i)){var l=a.createSubHierarchy(i),y=$.map(l.getIds(),function(n,t){return ot[t]}),h=s.items[i],e=h.$item;e.addClass("has-hierarchy");o=$.createDropPanelWindow(u(r.level+1),{appendTo:e,contextClass:"drop-down-navigation",isDraggable:!1,stackWithWindows:!1,placeInsideWindow:!1,deactivateOnSelectionChanged:!1,positioningFunction:w,activationArgs:$.quickExtend($.quickExtend({},n),{backgroundColor:f?n.backgroundColor:tt.hoverColor,isFixedWidth:!0,isFixedHeight:!0,pages:y,pagesHierarchy:l}),openCallback:function(){e.addClass("opened")},closeCallback:function(){e.removeClass("opened")},hidingFunctionBeforeShowing:$.noop,showingFunction:function(n,t){t.positioned()},deactivateOnClickOutside:!0,ignoredElementsFilters:[".drop-down-navigation"]});c={open:function(){o.open(h.data.$openContext)},close:function(){o.close()},isOpened:function(){return o.isOpened()}};h.dropPanelController=c;v.push(c)}})}}else s.setItems(ut?n.pages.getItemsValues():n.pages),i=g(i);d.css({padding:t+"px 0",width:l?l.width+t*2:et});nt.css({borderColor:lt,borderRadius:i+"px",borderWidth:t+"px"});y||h.css({color:vt,fontSize:ct+"px"});h.toggleClass("show-arrow",pt);h.css({fontFamily:ft!==null?ft:"",borderRadius:i+"px",textAlign:k});h.toggleClass("sub-hierarchy-left",k==="right");o=s.orderedItems;o.length>0&&(c=Math.max(i-t-1,0),o[0].$item.find("> .item-block").css({borderTopLeftRadius:c,borderTopRightRadius:c}),o[o.length-1].$item.find("> .item-block").css({borderBottomLeftRadius:c,borderBottomRightRadius:c}));f&&(RenderingCoordinator.finishRenderingBatch(),OperationsManager.enableOperationsRecording("dropdown-navigation"))},onDeactivated:function(){var r,n,t,i;tt.addClass("right").removeClass("left");s.$element.off(".drop-down-panel");v&&($.eachItem(v,function(n,t){t.close()}),v=undefined);r=c.currentActivationArgs;n=s.items[b];n&&(n.data.instanceController?(t=n.data.instanceController.getInstance(),t&&!t.isDeleted&&(i=t.getSkinInstance(),i.isUserSelected()&&i.userSelect(!1))):n.$item.removeClass("state-selected"));PositionManager.VisibilityUpdateBatch.start();$.eachEntry(s.items,function(n,t){t.data.instanceController&&(t.data.instanceController.getInstance().hideElement(),t.data.instanceController.$element.detach())});PositionManager.VisibilityUpdateBatch.finish();k(r.mouseEnteredFlag,!1);l=undefined;y=undefined;p=undefined},positioned:function(){c.currentActivationArgs.useSkinButton&&PositionManager.updatePosition(p,{updateSize:!1})}}),c}var t={Panel:{group:"drop-down-navigation-desktop-panel-templates",name:"drop-down-navigation-desktop-panel-template",isSimple:!0},PageItem:{group:"drop-down-navigation-desktop-panel-templates",name:"page-item-template",isSimple:!0},PageItemInstance:{group:"drop-down-navigation-desktop-panel-templates",name:"page-item-instance-template",isSimple:!0}},n,i;this.createPanel=function(){return u(0)};var f=$.browser.msie&&parseInt($.browser.version)<9?"backgroundColor":"rgbaBackground",r={},e={collectionName:"public-font-icons",iconName:"angle-left"},o={collectionName:"public-font-icons",iconName:"angle-right"};n=NavigationUtils.createCssRules("drop-down-navigation-desktop-panel");i=NavigationUtils.createCssRules("drop-down-navigation-desktop-panel-1")},function(){CompatibilityManager.addSiteInformationFix(1.1007,function(n){function t(n){var i=n.elementProperties.roll;i&&(n.elementProperties.connections={},n.elementProperties.connections[i.name]={},n.elementProperties.connections[i.name][i.targetId]={targetId:i.targetId,name:i.name,options:i.options});n.elementProperties.roll=null;n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1015,function(n){function t(n){var r=n.elementProperties.customStates,i;r&&(i={},$.each(r,function(n,t){$.isPlainObject(t.ids)&&$.count(t.ids)>1&&(i[n]=t)}),n.elementProperties.customStates=i);n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1013,function(n){function t(n){var i=n.type;i===ElementsTypes.Menu.name&&n.elementProperties.dataTemplate?(n.elementProperties.dataTemplate.structures[0].type=ElementsTypes.MenuButton.name,n.elementProperties.itemsTemplates&&$.each(n.elementProperties.itemsTemplates,function(n,t){t.structures[0].type=ElementsTypes.MenuButton.name})):i===ElementsTypes.Gallery.name&&n.elementProperties.dataTemplate&&!$.isEmptyObject(n.elementProperties.dataTemplate)&&(n.elementProperties.dataTemplate.structures[0].type=ElementsTypes.ImageBox.name,n.elementProperties.itemsTemplates&&$.each(n.elementProperties.itemsTemplates,function(n,t){t.structures[0].type=ElementsTypes.ImageBox.name}));n.childElements&&$.each(n.childElements,function(n,i){t(i)})}var i;n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,r){i=r;$.each(r.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1017,function(n){function t(n){var i=n.type;i===ElementsTypes.Menu.name&&n.elementProperties.itemFields&&(n.elementProperties.itemFields.icon={type:"icon",title:"Icon",name:"icon",isDefaultField:!0},delete n.elementProperties.itemFields.image);i===ElementsTypes.MenuButton.name&&n.elementProperties.fieldsMap&&$.each(n.elementProperties.fieldsMap,function(n,t){$.each(t,function(n,t){t.type==="image"&&(t.type="icon",t.title="Icon",t.name="icon")})});n.childElements&&$.each(n.childElements,function(n,i){t(i)})}var i;n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,r){i=r;$.each(r.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1016,function(n){function t(n){var i=n.type;(i===ElementsTypes.Menu.name||i===ElementsTypes.Gallery.name)&&n.elementProperties.dataTemplate&&!$.isEmptyObject(n.elementProperties.dataTemplate)&&(n.elementProperties.fieldsTemplates={},n.elementProperties.fieldsTemplates.defaultTemplate=n.elementProperties.dataTemplate);n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}var i;n.templateStructure&&$.eachItem(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.eachItem(n.pagesStructure.pages,function(n,r){i=r;$.eachItem(r.structures,function(n,i){t(i)})});n.masterPages&&$.eachItem(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1024,function(n){function t(n){var t=n.elementProperties.columnsGrid;n.elementProperties.columnsGrid.isEnabled=!0;n.elementProperties.columnsGrid.showAlways=!1}n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1026,function(n){function r(n,t){var u=n.elementProperties,i=u.behaviours;i&&i.isTemplateBehaviour||(t&&ElementsTypes[n.type].hasFeature(Features.TemplateItem)?(u.behaviours={isTemplateBehaviour:i?i:{},normalBehaviours:{}},$.each(u.behaviours.isTemplateBehaviour,function(n,t){t.options.isTemplateBehaviour=!0})):u.behaviours={normalBehaviours:i?i:{},isTemplateBehaviour:{}},n.childElements&&$.each(n.childElements,function(n,i){r(i,t)}))}var u,i,t;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,t){r(t,!0)}),t=n.templateStructure.connections,t&&i&&ElementsTypes[i[0].type].hasFeature(Features.TemplateItem)&&(t.sourceConnections&&$.each(t.sourceConnections,function(n,t){t.options.isTemplateConenction=!0}),t.targetConnections&&$.each(t.targetConnections,function(n,t){t.options.isTemplateConenction=!0})));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){u=t;$.each(t.structures,function(n,t){r(t)})});n.masterPages&&$.each(n.masterPages,function(n,t){t.hierarchyInfo.structures&&$.each(t.hierarchyInfo.structures,function(n,t){r(t)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1027,function(n){function r(n){n&&$.each(n,function(n,t){$.each(t,function(n,t){o(t)})})}function i(n,t){var u=n.id,h=n.elementProperties,s=h.behaviours,r=h.itemsData;r&&($.each(r.connections,function(n,t){$.each(t,function(n,t){o(t)})}),$.each(r.behaviours,function(n,t){var i=r.connections[n];$.each(t,function(t,r){var f=e(r,u+n);i[f.id]=f})}));s&&(f(s.normalBehaviours,t,u),f(s.isTemplateBehaviour,t,u));n.childElements&&$.each(n.childElements,function(n,r){i(r,t)})}function f(n,t,i){n&&$.each(n,function(n,r){var u=e(r,i),f=u.id;t.targetConnections&&(t.targetConnections[f]=u);t.sourceConnections&&(t.sourceConnections[f]=u)})}function e(n,t){var r=n.name,i;return n.options&&(i=n.options,r==="FlyToScreenBehaviour"?i.triggerType=TriggerType.PageLoad:i.stateName&&(i.triggerType=TriggerType.State,i.triggerName=i.stateName),i.transitionData&&(i.transitionData.transitionDuration!==undefined&&(i.animationDuration=i.transitionData.transitionDuration),i.transitionData.transitionDirection&&(i.animationDirection=i.transitionData.transitionDirection)),i.direction&&(i.animationDirection=i.direction)),{id:$.uniqueID(),sourceElementID:t,targetElementID:t,behaviourName:r,options:i}}function o(n){var i=n.id,t=n.options;n.behaviourName||(t.triggerType=TriggerType.Trigger,t.triggerName=n.triggerName,n.behaviourName=n.actionName,delete t.trigger,(n.actionName==="ShowElement"||n.actionName==="HideElement")&&(t.animationType=Animations.NoAnimation.name,t.animationDuration=0),n.actionName==="FadeIn"&&(n.behaviourName=Behaviours.ShowElement.name,t.animationType=Animations.Fade.name),n.actionName==="FadeOut"&&(n.behaviourName=Behaviours.HideElement.name,t.animationType=Animations.Fade.name),n.actionName==="SlideIn"&&(n.behaviourName=Behaviours.ShowElement.name),n.actionName==="SlideOut"&&(n.behaviourName=Behaviours.HideElement.name),delete n.actionName,t.slideOptions&&(t.slideOptions.name==="Left"?t.animationType="SlideLeft":t.slideOptions.name==="Right"?t.animationType="SlideRight":t.slideOptions.name==="Up"?t.animationType="SlideUp":t.slideOptions.name==="Down"&&(t.animationType="SlideDown")),t.transitionData&&(t.transitionData.transitionDuration!==undefined&&(t.animationDuration=t.transitionData.transitionDuration),t.transitionData.transitionDirection&&(t.animationDirection=t.transitionData.transitionDirection)),t.direction&&(t.animationDirection=t.direction))}var s,u,t;n.templateStructure&&(u=n.templateStructure.structures,t=n.templateStructure.connections,t&&r(t),$.each(u,function(n,r){i(r,t)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){s=t;var u=t.connections;r(u);$.each(t.structures,function(n,t){i(t,u)})});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){var u=t.hierarchyInfo.connections;r(u);$.each(t.hierarchyInfo.structures,function(n,t){i(t,u)})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1032,function(n){function r(n){n&&$.each(n,function(n,t){$.each(t,function(n,t){f(t)})})}function i(n,t){var e=n.id,r=n.elementProperties,u=r.itemsData;(r.entranceAnimation||r.exitAnimation)&&(r.entranceAnimation==="SlideLeft"?(r.entranceAnimation=Animations.Slide.name,r.entranceAnimationDirection="right"):r.entranceAnimation==="SlideRight"?(r.entranceAnimation=Animations.Slide.name,r.entranceAnimationDirection="left"):r.entranceAnimation==="SlideUp"?(r.entranceAnimation=Animations.Slide.name,r.entranceAnimationDirection="down"):r.entranceAnimation==="SlideDown"&&(r.entranceAnimation=Animations.Slide.name,r.entranceAnimationDirection="up"),r.exitAnimation==="SlideLeft"?(r.exitAnimation=Animations.Slide.name,r.exitAnimationDirection="left"):r.exitAnimation==="SlideRight"?(r.exitAnimation=Animations.Slide.name,r.exitAnimationDirection="right"):r.exitAnimation==="SlideUp"?(r.exitAnimation===Animations.Slide.name,r.exitAnimationDirection="up"):r.exitAnimation==="SlideDown"&&(r.exitAnimation=Animations.Slide.name,r.exitAnimationDirection="down"));u&&$.each(u.connections,function(n,t){$.each(t,function(n,t){f(t)})});n.childElements&&$.each(n.childElements,function(n,r){i(r,t)})}function f(n){if(n){var i=n.id,t=n.options;n.behaviourName==="ShowElement"?(t.animationType==="SlideLeft"?(t.animationSlideDirection="right",t.animationType="Slide"):t.animationType==="SlideRight"?(t.animationSlideDirection="left",t.animationType="Slide"):t.animationType==="SlideUp"?(t.animationSlideDirection="down",t.animationType="Slide"):t.animationType==="SlideDown"&&(t.animationSlideDirection="up",t.animationType="Slide"),t.animationDirection||(t.animationDirection={vertical:"top",horizontal:"left"})):n.behaviourName==="HideElement"&&(t.animationType==="SlideLeft"?(t.animationSlideDirection="left",t.animationType="Slide"):t.animationType==="SlideRight"?(t.animationSlideDirection="right",t.animationType="Slide"):t.animationType==="SlideUp"?(t.animationSlideDirection="up",t.animationType="Slide"):t.animationType==="SlideDown"&&(t.animationSlideDirection="down",t.animationType="Slide"),t.animationDirection||(t.animationDirection={vertical:"top",horizontal:"left"}));(n.behaviourName==="NavigateNext"||n.behaviourName==="NavigatePrev")&&(t.entranceAnimation==="SlideLeft"?(t.entranceAnimation="Slide",t.entranceAnimationDirection="right"):t.entranceAnimation==="SlideRight"?(t.entranceAnimation="Slide",t.entranceAnimationDirection="left"):t.entranceAnimation==="SlideUp"?(t.entranceAnimation="Slide",t.entranceAnimationDirection="down"):t.entranceAnimation==="SlideDown"&&(t.entranceAnimation="Slide",t.entranceAnimationDirection="up"),t.exitAnimation==="SlideLeft"?(t.exitAnimation="Slide",t.exitAnimationDirection="left"):t.exitAnimation==="SlideRight"?(t.exitAnimation="Slide",t.exitAnimationDirection="right"):t.exitAnimation==="SlideUp"?(t.exitAnimation="Slide",t.exitAnimationDirection="up"):t.exitAnimation==="SlideDown"&&(t.exitAnimation="Slide",t.exitAnimationDirection="down"));n.behaviourName==="FlyToScreenBehaviour"?(n.behaviourName=Behaviours.ShowElement.name,t.animationType=Animations.Fly.name,t.animationSlideDirection="left",t.animationDirection=t.direction,delete t.direction):n.behaviourName==="FlyOutScreenBehaviour"&&(n.behaviourName=Behaviours.HideElement.name,t.animationType=Animations.Fly.name,t.animationSlideDirection="left",t.animationDirection=t.direction,delete t.direction)}}var e,u,t;n.templateStructure&&(u=n.templateStructure.structures,t=n.templateStructure.connections,t&&r(t),$.each(u,function(n,r){i(r,t)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){e=t;var u=t.connections;r(u);$.each(t.structures,function(n,t){i(t,u)})});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){var u=t.hierarchyInfo.connections;r(u);$.each(t.hierarchyInfo.structures,function(n,t){i(t,u)})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1035,function(n){function i(n){n&&$.each(n,function(n,t){$.each(t,function(n,t){var r,i,u,e;for(r in t){i=t[r];for(u in i)e=i[u],f(e)}})})}function f(n){n&&(n.transitionInEffect&&(n.transitionInEffect==="SlideLeft"?(n.transitionSlideInDirection="right",n.transitionInEffect="Slide"):n.transitionInEffect==="SlideRight"?(n.transitionSlideInDirection="left",n.transitionInEffect="Slide"):n.transitionInEffect==="SlideUp"?(n.transitionSlideInDirection="down",n.transitionInEffect="Slide"):n.transitionInEffect==="SlideDown"&&(n.transitionSlideInDirection="up",n.transitionInEffect="Slide"),n.transitionSlideInDirection||(n.transitionSlideInDirection="right")),n.transitionOutEffect&&(n.transitionOutEffect==="SlideLeft"?(n.transitionSlideOutDirection="left",n.transitionOutEffect="Slide"):n.transitionOutEffect==="SlideRight"?(n.transitionSlideOutDirection="right",n.transitionOutEffect="Slide"):n.transitionOutEffect==="SlideUp"?(n.transitionSlideOutDirection="up",n.transitionOutEffect="Slide"):n.transitionOutEffect==="SlideDown"&&(n.transitionSlideOutDirection="down",n.transitionOutEffect="Slide"),n.transitionSlideOutDirection||(n.transitionSlideOutDirection="right")))}var r,u,t;n.templateStructure&&(u=n.templateStructure.structures,t=n.templateStructure.customStatesProperties,t&&i(t));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){r=t;var u=t.customStatesProperties;i(u)});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){var r=t.hierarchyInfo.customStatesProperties;i(r)}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1037,function(n){function t(n,i){if(i){var f=n.id,r=n.elementProperties,u=r.itemsData;u&&($.each(u.connections,function(t,r){$.each(r,function(r,u){i.targetConnections[r]=u;var f=n.id+TemplateItemInstanceIdSeperator+t;u.sourceElementID===u.targetElementID&&(u.targetElementID=f);u.sourceElementID=f})}),delete r.itemsData);n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}}var u,i,r;n.templateStructure&&(i=n.templateStructure.structures,r=n.templateStructure.connections,$.each(i,function(n,i){t(i,r)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){u=i;var r=i.connections;$.each(i.structures,function(n,i){t(i,r)})});n.masterPages&&$.each(n.masterPages,function(n,i){if(i.hierarchyInfo.structures){var r=i.hierarchyInfo.connections;$.each(i.hierarchyInfo.structures,function(n,i){t(i,r)})}})})}(),function(){function n(n){var i=n.split(TemplateItemInstanceIdSeperator),t;return n.length>=26&&i.length===1&&(t=13,n.slice(0,2)==="id"&&(t+=2),n=n.slice(0,t)+TemplateItemInstanceIdSeperator+n.slice(t,n.length)),n}CompatibilityManager.addSiteInformationFix(1.1038,function(t){function i(t,i){var r=t.id;i&&$.each(i,function(t,i){$.each(i,function(t,i){var r=i.targetElementID.toString(),u=i.sourceElementID.toString();i.targetElementID=n(r);i.sourceElementID=n(u)})})}var f,r,u;t.templateStructure&&(r=t.templateStructure.structures,u=t.templateStructure.connections,$.each(r,function(n,t){i(t,u)}));t.pagesStructure&&$.each(t.pagesStructure.pages,function(n,t){f=t;var r=t.connections;$.each(t.structures,function(n,t){i(t,r)})});t.masterPages&&$.each(t.masterPages,function(n,t){if(t.hierarchyInfo.structures){var r=t.hierarchyInfo.connections;$.each(t.hierarchyInfo.structures,function(n,t){i(t,r)})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1043,function(n){function i(n){var t=n.id;n.type===ElementsTypes.Menu.name&&n.elementProperties.synchronizeWithPages===undefined&&(n.elementProperties.synchronizeWithPages=!0);n.childElements&&$.each(n.childElements,function(n,t){i(t)})}function t(n){var r=n.id,i=n.elementProperties.textType;i&&(i==="div"&&(i=HtmlTags.DIV),n.elementProperties.tagName=i);n.childElements&&$.each(n.childElements,function(n,i){t(i)})}var u,r;n.templateStructure&&(r=n.templateStructure.structures,$.each(r,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,r){u=r;$.each(r.structures,function(n,r){t(r);i(r)})});n.masterPages&&$.each(n.masterPages,function(n,r){r.hierarchyInfo.structures&&$.each(r.hierarchyInfo.structures,function(n,r){t(r);i(r)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1045,function(n){function t(n){var r=n.type,i;ElementsTypes[r].hasFeature(Features.TemplateItem)&&(i=n.elementProperties.fieldsMap,i&&$.each(i,function(n,t){t&&t[DataSourceItemsFields.image.getContentType()]&&(t[DataSourceItemsFields.title.getContentType()]={name:"title",title:"Title",type:"title"})}));n.childElements&&$.each(n.childElements,function(n,i){t(i)})}function i(n){var r=n.type,t;ElementsTypes[r].hasFeature(Features.DataList)&&r!==ElementsTypes.FormElement.name&&(t=n.elementProperties.itemFields,t&&t.image&&(t.alt={type:"title",title:"Alt",name:"alt",isDefaultField:!0}));n.childElements&&$.each(n.childElements,function(n,t){i(t)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){$.each(t.structures,function(){})});n.masterPages&&$.each(n.masterPages,function(n,t){t.hierarchyInfo.structures&&$.each(t.hierarchyInfo.structures,function(){})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1047,function(n){function t(n){var u=n.id,i=n.elementProperties,r=n.type;r==="page"?(i.childrenAnchor=HorizontalAlignment.Centered,n.childElements&&$.each(n.childElements,function(n,i){t(i)})):i.sizeAndPosition.left-=480}n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1049,function(n){function t(n){var t=PageManager.getCoordinatorHeirarchy().customStatesProperties;n&&$.each(n,function(n,i){var r=i.id;t&&t[r]&&$.each(t[r],function(n,t){n==="sizeAndPosition"&&t&&$.each(t,function(n,t){t&&$.each(t,function(n,t){t.stateValue.left-=480})})})})}n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i.childElements)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&t(i.hierarchyInfo.structures)})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1052,function(n){n.pagesStructure&&RenderingCoordinator.performUpdateOnRenderingFinished(function(){var n,h,c,l,e,a,t;if(OperationsManager.disableUndo("converToSection"),n=PageManager.getCurrentPage(),OrderManager.beginReorderingBatch(),h=!1,c=n.getPageContentInstances(),c.length>0)l=c[0],l.getSectionsByPage(n).length>0&&(h=!0),e=ElementsManager.addSection();else var v=ElementsManager.addPageContent(),l=v.pageContentInstance,e=v.sectionInstance;if(!h){a=n.getPropertyValue("sizeAndPosition").height;e.setPropertyFieldValue("sizeAndPosition","height",a);var i=[],y=[],r=[],u=[],o=[],s=PositionManager.ElementsLayoutHelper.calculateInstancesSurroundingArea(n);$.each(n.childInstances,function(n,t){t.isMasterPageElement.isFalse()?t.hasFeature(Features.PageSection)||i.push(t):t.isType(ElementsTypes.PageContentElement)||t.hasFeature(Features.PageSection)||y.push(t)});var w=$.grep(i,function(n){var t=n.getArea();return t.top<s.top+100&&t.bottom>s.bottom-100?!1:!0}),b=n.getHeaderInstance(),k=n.getFooterInstance(),nt=ElementsLayoutHelper.calculateInstancesSurroundingArea(i),p=ElementsLayoutHelper.calculateInstancesSurroundingArea(w);$.each(y,function(n,t){var i=t.getArea();i.bottom<=p.top+80&&!b?u.push(t):i.top+i.height/2<p.bottom?o.push(t):k?o.push(t):r.push(t)});var d=u.length>0?ElementsLayoutHelper.calculateInstancesSurroundingArea(u):undefined,g=r.length>0?ElementsLayoutHelper.calculateInstancesSurroundingArea(r):undefined,f=0;r.length>0?(!n.getFooterInstance()&&r.length>0&&ElementsManager.addFooterInstance(),f=s.bottom-g.top,n.getFooterInstance().setPropertyFieldValue("sizeAndPosition","height",f),ElementsStructureHelper.reattachInstances(r,n.getFooterInstance()),ElementsLayoutHelper.moveInstances(r,{top:f})):n.getFooterInstance()&&(f=n.getFooterInstance().getSize().height);t=0;u.length>0?(!n.getHeaderInstance()&&u.length>0&&ElementsManager.addHeaderInstance(),t=d.bottom-s.top,n.getHeaderInstance().setPropertyFieldValue("sizeAndPosition","height",t),ElementsStructureHelper.reattachInstances(u,n.getHeaderInstance()),ElementsLayoutHelper.moveInstances(u,{top:-t}),ElementsLayoutHelper.moveInstances(i,{top:-t}),ElementsLayoutHelper.moveInstances(o,{top:-t})):n.getHeaderInstance()&&(t=n.getHeaderInstance().getSize().height,ElementsLayoutHelper.moveInstances(i,{top:-t}));OrderManager.bringToFront(l);ElementsLayoutHelper.withLayoutPreserving($.merge($.makeArray(i),o),function(){e.setPropertyFieldValue("sizeAndPosition","height",a-f-t);n.setPropertyFieldValue("sizeAndPosition","height",0);ElementsStructureHelper.reattachInstances(i,e)})}OrderManager.endReorderingBatch();OperationsManager.enableUndo("converToSection")})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1065,function(n){function t(n){var i=n.elementProperties,u=ElementsTypes[n.type],r=i.dataLayoutOptions;r&&(i.dataLayoutOptions=$.extend({},u.getPropertiesDefaultValues().dataLayoutOptions,r));n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1063,function(n){function t(n,i){var u=n.id,r=n.elementProperties;ElementsTypes[n.type]===ElementsTypes.FormElement?($.each(n.childElements,function(n,t){delete t.elementProperties.fillLayout;delete t.elementProperties.verticalLayout;delete t.elementProperties.horizontalLayout;ElementsTypes[t.type]===ElementsTypes.formFields?(t.elementProperties.horizontalAlign=HorizontalAlignment.Left,t.elementProperties.sizeAndPosition.width=r.sizeAndPosition.width):t.elementProperties.sizeAndPosition=$.extend(t.elementProperties.sizeAndPosition,{top:20,left:0})}),n.elementProperties.horizontalAlign=HorizontalAlignment.Right):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1069,function(n){function t(n,i){var e=n.id,o=n.elementProperties,r,u,f;ElementsTypes[n.type]===ElementsTypes.FormElement?(u=[],$.each(n.childElements,function(n,t){ElementsTypes[t.type]===ElementsTypes.formFields?(r=t,t.elementProperties.horizontalAlign=HorizontalAlignment.Right):(t.elementProperties.sizeAndPosition.top=20,u.push(t))}),f=r.elementProperties.sizeAndPosition,n.childElements=u,$.each([Features.HasFormData,Features.HasArrangement,Features.DataList,Features.HasTemplates,Features.HasDataSource],function(t,i){$.each(i.properties,function(t){n.elementProperties[t]=r.elementProperties[t]})}),n.elementProperties.sizeAndPosition.width=f.width,n.elementProperties.horizontalAlign=HorizontalAlignment.Left):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1077,function(n){function t(n,i){var f=n.id,e=n.elementProperties,r,u;if(ElementsTypes[n.type].hasFeature(Features.HasText)){r=n.elementProperties.lineHeight;u=n.elementProperties.fontSize;switch(r.unit){case LineHeightUnit.Percentage:r.percentages=r.unitValue?r.unitValue:120;break;case LineHeightUnit.Pixel:r.percentages=u&&r.unitValue?Math.floor(r.unitValue/u*100):120;break;case CSSUnits.Pixels:r.percentages=u&&r.pixels?Math.floor(r.pixels/u*100):120;break;case CSSUnits.Normal:r.percentages=120;break;case CSSUnits.Inherit:r.percentages=120}delete r.pixels;delete r.unitValue;r.percentages||(r.percentages=120);r.unit=CSSUnits.Percentages}else n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2012,function(n){function u(n){var r=PageManager.PagesInformation.getItems(),u=$.count(r),i,t;n.type=ElementsTypes.PagesMenu.name;n.elementProperties.name=n.elementProperties.name.replace("Menu",ElementsTypes.PagesMenu.title);i=u;n.elementProperties.dataLayout.name=n.elementProperties.dataLayout.name+"Menu";t=ElementsTypes.PagesMenu.defaultProperties&&ElementsTypes.PagesMenu.defaultProperties.dataLayoutOptions?ElementsTypes.PagesMenu.defaultProperties.dataLayoutOptions():undefined;delete n.elementProperties.dataInfo;t.maxItems=i;n.elementProperties.dataLayoutOptions=$.extendMissing(n.elementProperties.dataLayoutOptions,t)}function t(n){var i=n.elementProperties;ElementsTypes[n.type]===ElementsTypes.Menu&&i.dataInfo&&i.dataInfo&&i.dataInfo.currentData&&i.dataInfo.currentData.type==="MasterPages"&&r?u(n):ElementsTypes[n.type]===ElementsTypes.PagesMenu?delete i.dataInfo:n.childElements&&$.each(n.childElements,function(n,i){t(i)})}var r=!0,i;n.templateStructure?(i=n.templateStructure.structures,r=i[0].type!==ElementsTypes.Menu.name,$.each(i,function(n,i){t(i)})):(n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})}),n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})}))})}(),function(){CompatibilityManager.addSiteInformationFix(1.209,function(n){n.masterPages&&$.each(n.masterPages,function(n,t){var i,r;if(t.hierarchyInfo.structures){i=$.mapToDictionary(t.hierarchyInfo.structures,$.returnValue,$.defaultIdFunction);function u(n){var t=n.id;delete i[t];n.childElements&&$.each(n.childElements,function(n,t){u(t)})}$.each(t.hierarchyInfo.structures,function(n,t){t.childElements&&$.each(t.childElements,function(n,t){u(t)})});r=[];$.each(t.hierarchyInfo.structures,function(n,t){i[t.id]&&r.push(i[t.id])});t.hierarchyInfo.structures=r}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.1092,function(n){function t(n,i){var r=n.id,u=n.elementProperties;ElementsTypes[n.type]===ElementsTypes.FormElement?n.elementProperties.targetEmail="":n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.209,function(n){function t(n,i){var f=n.id,e=n.elementProperties,r,u;ElementsTypes[n.type]===ElementsTypes.label?(n.elementProperties.formattedText=n.elementProperties.text,n.type=ElementsTypes.freeText.name,n.elementProperties.verticalAlignment=n.elementProperties.verticalAlign,delete n.elementProperties.text,delete n.elementProperties.verticalAlign,r=n.elementProperties.formattedText,r=r?r.toString():"",u=r.replace(/\n/g,"<br />"),r.charAt(r.length-1)=="\n"&&(u+="&nbsp;"),n.elementProperties.formattedText=r):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var i;n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,r){i=r;$.each(r.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2004,function(n){function t(n,i){var f=n.id,e=n.elementProperties,r,u;ElementsTypes[n.type]===ElementsTypes.label||ElementsTypes[n.type]===ElementsTypes.freeText?(ElementsTypes[n.type]===ElementsTypes.label&&(r=n.elementProperties.text),ElementsTypes[n.type]===ElementsTypes.freeText&&(r=n.elementProperties.formattedText),r=r?r.toString():"",u=r.replace(/\n/g,"<br />"),r.charAt(r.length-1)=="\n"&&(u+="&nbsp;"),ElementsTypes[n.type]===ElementsTypes.label&&(n.elementProperties.text=r),ElementsTypes[n.type]===ElementsTypes.freeText&&(n.elementProperties.formattedText=r)):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2013,function(n){function t(n,i){var r=n.id,u=n.elementProperties;ElementsTypes[n.type]===ElementsTypes.PagesMenu?n.elementProperties.dropDownOptions=$.extend({trigger:"click",backgroundColor:"transparent",moreButtonText:"More",spacing:0,isFixedSize:!1,width:120,height:50,animation:"NoAnimation",animationSpeed:1e3,slideDirection:"up",flyDirection:{vertical:"top",horizontal:"right"},positioningAlignments:"Bottom",positionHorizontalDistance:0,positionVerticalDistance:0},n.elementProperties.dropDownOptions):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.202,function(n){function r(n){var t=n.elementProperties.dropDownOptions,i;t&&(i=ThemeColorsManager.isColorBinding(t.backgroundColor),(t.backgroundColor==="transparent"||i&&t.backgroundColor.variation===0&&t.backgroundColor.mainColor===0)&&ElementsManager.performOnInstancesInitialization(n.id,function(){RenderingCoordinator.performOnLayoutUpdate(function(){var t=$instance(n.id),i=t.getItemsControllers()[0];i.createdEvent.one(function(){var n=t.getItemsControllers()[0].getInstance();n.instanceController.createdEvent.one(function(){var r,i,u,f;OperationsManager.disableOperationsRecording("converToSection");r=n.getSkinInstance().getInstancesByField("title")[0];r&&(i=r.getPropertyValue("fontColor"),!i&&TextStyleManager.getElementTextStyle(r)&&(i=TextStyleManager.getElementTextStyle(r).color),ThemeColorsManager.isColorBinding(i)&&(u=0,f=0,i.mainColor<2?u=i.mainColor+2:i.mainColor<4&&(u=i.mainColor-2),f=i.variation===2?4:4-i.variation,t.setPropertyFieldValue("dropDownOptions","backgroundColor",$.extendMissing({mainColor:u,variation:f},i))));OperationsManager.enableOperationsRecording("converToSection")})})})}))}function t(n){var i=n.elementProperties;ElementsTypes[n.type]===ElementsTypes.PagesMenu?r(n):n.childElements&&$.each(n.childElements,function(n,i){t(i)})}var i;n.templateStructure?(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)})):(n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})}),n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})}))})}(),function(){CompatibilityManager.addSiteInformationFix(1.2024,function(n){if(n.pagesStructure)PageManager.Events.PageInitialized.one(function(){OperationsManager.disableOperationsRecording("PageManager.Events.PageInitialized.1.2024");PropertiesManager.removeStateAffecting(PageManager.getCurrentPage());PropertiesManager.removeStateAffected(PageManager.getCurrentPage());ElementActivationManager.removeInstanceConnections(PageManager.getCurrentPage());OperationsManager.enableOperationsRecording("PageManager.Events.PageInitialized.1.2024")})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2028,function(n){function t(n){var i=n.elementProperties,r=ElementsTypes[n.type];i.dataInfo&&DataLayouts[i.dataLayout.name]&&DataLayouts[i.dataLayout.name].isPages&&n.type!==ElementsTypes.Gallery.name&&n.type!==ElementsTypes.VideoGallery.name&&n.type!==ElementsTypes.PostsList.name&&(n.type=ElementsTypes.DataListElement.name);n.type===ElementsTypes.PagesMenu.name&&i.dropDownOptions&&i.dropDownOptions.animation===Animations.NoAnimation.name&&(i.dropDownOptions.animation=Animations.Slide.name,i.dropDownOptions.animationSpeed=400,i.dropDownOptions.slideDirection="up");n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2043,function(n){function i(n){n&&$.each(n,function(n,t){var i,r;if(t.dataInfo)for(i in t.dataInfo)r=t.dataInfo[i],$.each(r,function(n,t){u(t.stateValue)})})}function r(n){var i=n.elementProperties,f=ElementsTypes[n.type],t;f.hasFeature(Features.DataList)&&(t=i.dataInfo,u(t));n.childElements&&$.each(n.childElements,function(n,t){r(t)})}function u(n){n&&n.currentData&&(n.currentData.items?$.each(n.currentData.items,function(n,t){$.each(t,function(n,i){i&&i.imagePath&&(t[n]={imageUrl:t[n]})})}):$.each(n.currentData,function(n,t){$.each(t,function(n,i){i&&i.imagePath&&(t[n]={imageUrl:t[n]})})}))}var t;n.isCoordinator&&(t=n.customStatesProperties,i(t));n.templateStructure&&(t=n.templateStructure.customStatesProperties,$.each(n.templateStructure.structures,function(n,t){r(t)}),i(t));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){var u=t.customStatesProperties;$.each(t.structures,function(n,t){r(t)});i(u)});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){var u=t.hierarchyInfo.customStatesProperties;$.each(t.hierarchyInfo.structures,function(n,t){r(t)});i(u)}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2092,function(n){function t(n){var u=n.id,i=n.elementProperties,r=n.type;ElementsTypes[r]&&(ElementsTypes[r].hasFeature(Features.PageSection)&&i.childrenAnchor!==HorizontalAlignment.Centered||ElementsTypes[r].isType(ElementsTypes.userBox)&&i.fillLayout&&i.fillLayout.fillHorizontal&&i.childrenAnchor!==HorizontalAlignment.Centered)?ElementsManager.performOnInstancesInitialization([u],function(n){LayoutManager.layoutUpdateBatch.performOperation(function(){var t=ElementsManager.getInstanceByID(n[0]),i=ElementsLayoutHelper.rememberLayout(t.getChildInstances(),{includeDockedElements:!1,rememberLeft:!0,rememberTop:!1,rememberWidth:!1,rememberHeight:!1});t.setPropertyValue("childrenAnchor",HorizontalAlignment.Centered);LayoutManager.layoutUpdateBatch.performOperation(function(){i.restoreLayout()})})}):n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2036,function(n){function t(n){var r=n.elementProperties,e=ElementsTypes[n.type];if(e.hasFeature(Features.DataList)){var f=r.dataLayout,u=r.dataInfo,i=r.dataLayoutOptions,o=DataLayouts[f.name];f.name===DataLayouts.PagesGrid.name&&u.currentData&&(i.elementsPerPage<i.cols&&(i.cols=i.elementsPerPage),$.count(u.currentData)<i.cols&&(i.cols=$.count(u.currentData),i.elementsPerPage=i.cols))}n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2038,function(n){function t(n){var r=n.elementProperties,u=ElementsTypes[n.type],i;u.hasFeature(Features.HasTemplates)&&(i=r.fieldsTemplates,$.each(i,function(n,t){$.each(t,function(n,t){var r=HierarchyController.create(t.hierarchy).getStructureIds(),i=t.hierarchy.customStatesProperties;i&&$.each(i,function(n){r[n]||delete i[n]})})}));n.childElements&&$.each(n.childElements,function(n,i){t(i)})}n.templateStructure&&$.each(n.templateStructure.structures,function(n,i){t(i)});n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2105,function(n){function r(n,t){var e=n.id,o=n.elementProperties,f=ElementsTypes[n.type],u;f&&f.hasFeature(Features.HasTemplates)?n.elementProperties.fieldsTemplates=i(n.elementProperties.fieldsTemplates):f&&f.hasFeature(Features.SkinElement)?(u=n.elementProperties.skinBinding,u&&u.hierarchy&&(u.hierarchy=SkinEditingManager.convertFieldsToTemplate(u.hierarchy),u.hierarchy=SkinEditingManager.convertTemplateToField(u.hierarchy,f.name))):n.childElements&&$.each(n.childElements,function(n,i){r(i,t)})}function i(n){var t=StructureLoadingManager.generateWebsiteId();return $.each(n,function(n,i){$.each(i,function(n,r){var f,u;r.hierarchy&&(f=r.hierarchy.structures[0].type,f===ElementsTypes.InputItem.name||f===ElementsTypes.skinInputElement.name||(t=StructureLoadingManager.generateWebsiteId()),ElementsTypes[f].hasFeature(Features.SkinElement)?(u=$.objectGet(r.hierarchy.structures[0],["elementProperties","skinBinding","hierarchy"]),u&&(u=SkinEditingManager.convertFieldsToTemplate(u),i[n].hierarchy=SkinEditingManager.convertTemplateToSkinTemplateWithFields(u,r.hierarchy.structures[0].type,t))):i[n].hierarchy=SkinEditingManager.convertTemplateToSkinTemplateWithFields(r.hierarchy,undefined,t))})}),n}var f,u,t;n.isCoordinator&&(t=n.customStatesProperties,t&&$.each(t,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})}));n.templateStructure&&(u=n.templateStructure.structures,$.each(u,function(n,t){r(t)}),t=n.templateStructure.customStatesProperties,t&&$.each(t,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){f=t;$.each(t.structures,function(n,t){r(t)});var u=t.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})})});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){$.each(t.hierarchyInfo.structures,function(n,t){r(t)});var u=t.hierarchyInfo.customStatesProperties;$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})})}})});CompatibilityManager.addSiteInformationFix(1.2042,function(n){function i(n){var t=n.id,i=n.elementProperties;n.type===ElementsTypes.page.name&&(n.elementProperties.fixedBackground=!1)}var u,r,t;n.isCoordinator&&(t=n.customStatesProperties,t&&$.each(t,function(n,t){t.fixedBackground&&$.each(t.fixedBackground,function(n,i){$.each(i,function(i){t.fixedBackground[n][i].stateValue=!1})})}));n.templateStructure&&(r=n.templateStructure.structures,$.each(r,function(n,t){i(t)}),t=n.templateStructure.customStatesProperties,t&&$.each(t,function(n,t){t.fixedBackground&&$.each(t.fixedBackground,function(n,i){$.each(i,function(i){t.fixedBackground[n][i].stateValue=!1})})}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){u=t;$.each(t.structures,function(n,t){i(t)});var r=t.customStatesProperties;r&&$.each(r,function(n,t){t.fixedBackground&&$.each(t.fixedBackground,function(n,i){$.each(i,function(i){t.fixedBackground[n][i].stateValue=!1})})})});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.pageProperties&&(t.pageProperties.fixedBackground=!1),t.mobilePageProperties&&(t.mobilePageProperties.fixedBackground=!1),t.hierarchyInfo.structures){$.each(t.hierarchyInfo.structures,function(n,t){i(t)});var r=t.hierarchyInfo.customStatesProperties;$.each(r,function(n,t){t.fixedBackground&&$.each(t.fixedBackground,function(n,i){$.each(i,function(i){t.fixedBackground[n][i].stateValue=!1})})})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2049,function(n){function t(n,i){var f=n.id,r=n.elementProperties,u;ElementsTypes[n.type]&&ElementsTypes[n.type].hasFeature(Features.HasTemplates)?(u=[],$.each(n.elementProperties.fieldsTemplates,function(n,t){$.each(t,function(n,t){var i=t.hierarchy.structures[0].elementProperties.skinBinding,u;i&&i.type===SkinsBindingsTypes.Inline&&(u=i.hierarchy.structures[0].elementProperties.fieldsMap,u&&$.each(u,function(n,t){$.each(t,function(n){n+""==DataSourceItemsData.Image+""&&(t[DataSourceItemsData.Alt]={name:"alt",title:"Alt Tag",type:"alt"},r.itemFields.alt={name:"alt",title:"Alt Tag",type:"alt"})})}))})})):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2085,function(n){function r(n,t){var u=n.id,f=n.elementProperties;n.type==="NavigationButton"&&(n.type=ElementsTypes.PagesMenu.name,n.elementProperties=$.extend({},MenuStructuresTemplates.ButtonMenu.structures[0].elementProperties));ElementsTypes[n.type]&&ElementsTypes[n.type].hasFeature(Features.HasTemplates)?n.elementProperties.fieldsTemplates=i(n.elementProperties.fieldsTemplates):n.childElements&&$.each(n.childElements,function(n,i){r(i,t)})}function i(n){if("MenuButton"in n&&!("SkinNavigationButton"in n)){n.SkinNavigationButton={"1418717701903":{id:"1418717701903",isDefault:!0,hierarchy:{id:1418719980168,structures:[{id:1418719980169,type:"SkinNavigationButton",elementProperties:{skinBinding:{type:"Inline",skinName:1418719980162,index:0,hierarchy:{structures:[{type:"skinHierarchyBox",id:"1418669758058",elementProperties:{tagName:"DIV",behaviours:null,isDisplayedInDesigner:!0,isLocked:!1,isAbsoluteVisible:!0,name:"Skin Element 2",baseName:null,connections:{},templateID:"template1418669758062",templateName:null,order:0,customStates:null,isElementWasEditedInMode:!1,attributes:null,metaProps:null,metaItemType:null,metaTitle:null,styleBindingId:1418719980162,styleBindingFields:{backgroundColor:{type:1,properties:{backgroundColor:{boundToProperty:!0,fields:{}}}},borderColor0:{type:1,properties:{borderColor:{boundToProperty:!1,fields:{left:!0,top:!0,bottom:!0,right:!0}}}},borderWidth0:{type:1,properties:{borderWidth:{boundToProperty:!1,fields:{left:!0,top:!0,bottom:!0,right:!0}}}},roundness:{type:1,properties:{roundness:{boundToProperty:!0,fields:{}}}},shadow:{type:1,properties:{shadow:{boundToProperty:!0,fields:{}}}},glow:{type:1,properties:{glow:{boundToProperty:!0,fields:{}}}},innerShadow:{type:1,properties:{innerShadow:{boundToProperty:!0,fields:{}}}},innerGlow:{type:1,properties:{innerGlow:{boundToProperty:!0,fields:{}}}}},isSupportsMobile:!1,isVisibleInMode:!0,isFixed:!1,topZIndex:0,elementOpacity:1,staticMargin:{horizontalMargin:0,verticalMargin:0},sizeAndPosition:{left:0,width:28,top:0,height:28},lastResizingSize:{width:28,height:28},glow:{spread:0,blur:0,color:"black"},innerGlow:{spread:0,blur:0,color:"black"},shadow:{top:0,left:0,spread:0,blur:0,color:"black"},innerShadow:{top:0,left:0,spread:0,blur:0,color:"black"},isEditableInExpress:!0,fieldsMap:{},display:"fixed",cellItem:null,cellHorizontalAlignment:"none",backgroundColor:"transparent",imageUrl:"",imageLayout:"stretchedToFill",imagePosition:{vertical:"center",horizontal:"center"},imageOpacity:1,backgroundOverlay:"transparent",verticalLayout:"normal",horizontalLayout:"normal",fillLayout:{fillVertical:!0,fillHorizontal:!0},margin:{top:0,left:0,bottom:0,right:0},isGrowable:{bottom:!1,right:!1},overflow:!1,rowsItems:null,startSelected:!1,openInNewTab:!1,openInTopWindow:!1,fitToContent:!1,verticalAlign:"center",horizontalAlign:"center",verticalContentAlign:"middle",horizontalContentAlign:"center",padding:{top:0,left:0,bottom:0,right:0},isVisible:!0,borderWidth:{top:0,left:0,bottom:0,right:0},roundness:{topLeft:0,bottomLeft:0,topRight:0,bottomRight:0},borderColor:{top:"Black",left:"Black",bottom:"Black",right:"Black"},borderStyle:{top:"solid",left:"solid",bottom:"solid",right:"solid"}},metaData:{position:{left:-50,top:0},size:{width:28,height:28}},childElements:[{type:"Icon",id:"1418669758061",elementProperties:{tagName:"DIV",behaviours:null,isDisplayedInDesigner:!0,isLocked:!1,isAbsoluteVisible:!0,name:"Icon 2",baseName:null,connections:{},templateID:"template1418669758062",templateName:null,order:1,customStates:null,isElementWasEditedInMode:!1,attributes:null,metaProps:null,metaItemType:null,metaTitle:null,styleBindingId:1418719980162,styleBindingFields:{iconColor1:{type:1,properties:{iconColor:{boundToProperty:!0,fields:{}}}}},isSupportsMobile:!1,isVisibleInMode:!0,isFixed:!1,topZIndex:0,elementOpacity:1,staticMargin:{horizontalMargin:0,verticalMargin:0},sizeAndPosition:{left:0,width:28,top:0,height:28},lastResizingSize:{width:28,height:28},glow:{spread:0,blur:0,color:"black"},innerGlow:{spread:0,blur:0,color:"black"},shadow:{top:0,left:0,spread:0,blur:0,color:"black"},innerShadow:{top:0,left:0,spread:0,blur:0,color:"black"},display:"fixed",cellItem:null,cellHorizontalAlignment:"none",backgroundColor:"transparent",verticalLayout:"normal",horizontalLayout:"normal",fillLayout:{fillVertical:!0,fillHorizontal:!0},margin:{top:0,left:0,bottom:0,right:0},padding:{top:0,left:0,bottom:0,right:0},startSelected:!1,openInNewTab:!1,openInTopWindow:!1,isVisible:!0,borderWidth:{top:0,left:0,bottom:0,right:0},roundness:{topLeft:0,bottomLeft:0,topRight:0,bottomRight:0},borderColor:{top:"Black",left:"Black",bottom:"Black",right:"Black"},borderStyle:{top:"solid",left:"solid",bottom:"solid",right:"solid"},rotationAngle:0,fitToContent:!1,verticalAlign:"center",horizontalAlign:"center",verticalContentAlign:"middle",horizontalContentAlign:"center",iconColor:{mainColor:2,variation:3,opacity:1,brightness:0},iconReference:{collectionName:"public-font-icons",iconName:"navigation2"},iconSize:"auto"},metaData:{position:{left:-50,top:0},size:{width:28,height:28}},isForBackground:!0,isForBorder:!0}],offset:{left:939,top:255},isForBackground:!0,hasBackgroundChild:!0,isForBorder:!0,hasBorderChilds:!0}],connections:{targetConnections:{},sourceConnections:{}},customStatesProperties:{},pageId:"1406762854386",version:1.2044,id:"1418669769376",relativePoint:{left:939,top:255},styleVersion:1418719980167,styleId:1418719980162,fieldsToData:{backgroundColor:{name:"backgroundColor",fieldType:"BackgroundColor",categoryId:"Colors",priority:0,title:"Background",options:{}},iconColor1:{name:"iconColor1",fieldType:"SolidColor",categoryId:"Colors",priority:1,title:"Icon Color",options:{}},borderColor0:{name:"borderColor0",fieldType:"SolidColor",categoryId:"Colors",priority:2,title:"Border",options:{}},borderWidth0:{name:"borderWidth0",fieldType:"Pixels",categoryId:"Border",priority:3,title:"Border Width",options:{fieldVisualizer:"Slider",visualizerOptions:{min:0,max:20}}},roundness:{name:"roundness",fieldType:"Roundness",categoryId:"Border",priority:4,title:"Roundness",options:{}},shadow:{name:"shadow",fieldType:"Shadow",categoryId:"Effects",priority:5,title:"Shadow",options:{}},glow:{name:"glow",fieldType:"Glow",categoryId:"Effects",priority:6,title:"Glow",options:{}},innerShadow:{name:"innerShadow",fieldType:"InnerShadow",categoryId:"Effects",priority:7,title:"Inner Shadow",options:{}},innerGlow:{name:"innerGlow",fieldType:"InnerGlow",categoryId:"Effects",priority:8,title:"Inner Glow",options:{}}},categoriesData:{Colors:{title:"Colors",priority:1,id:"Colors"},Border:{title:"Border",priority:3,id:"Border"},Effects:{title:"Effects",priority:4,id:"Effects"}},fieldsToValues:{},statesAnimations:{}}}}}],version:1.2044},detached:!1}};var i=n.SkinNavigationButton["1418717701903"],t=$.objectGet(i.hierarchy.structures[0],["elementProperties","skinBinding","hierarchy"]);t&&(t=SkinEditingManager.convertFieldsToTemplate(t),i.hierarchy=SkinEditingManager.convertTemplateToSkinTemplateWithFields(t,i.hierarchy.structures[0].type))}return n}var f,u,t;n.isCoordinator&&(t=n.customStatesProperties,t&&$.each(t,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})}));n.templateStructure&&(u=n.templateStructure.structures,$.each(u,function(n,t){r(t)}),t=n.templateStructure.customStatesProperties,t&&$.each(t,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){f=t;$.each(t.structures,function(n,t){r(t)});var u=t.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})})});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){$.each(t.hierarchyInfo.structures,function(n,t){r(t)});var u=t.hierarchyInfo.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;t.fieldsTemplates[n][r].stateValue=i(u)})})})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2058,function(n){function i(n,t){var f=n.id,e=n.elementProperties,u,r;ElementsTypes[n.type]&&ElementsTypes[n.type]===ElementsTypes.PagesMenu?(u=n.elementProperties.navigationButtonSettings,u&&u.navigationProperties&&u.navigationProperties.SlideNavigation&&(r=u.navigationProperties.SlideNavigation,r.desktopDirection&&(r.direction=r.desktopDirection,delete r.desktopDirection),r.desktopWidth&&(r.width=r.desktopWidth,delete r.desktopWidth),r.mobileHeight&&(r.height=r.mobileHeight,delete r.mobileHeight),delete r.mobileWidth,delete r.mobileDirection)):n.childElements&&$.each(n.childElements,function(n,r){i(r,t)})}function r(n){if(n&&n.navigationProperties&&n.navigationProperties.SlideNavigation){var t=n.navigationProperties.SlideNavigation;t.mobileDirection&&(t.direction=t.mobileDirection,delete t.mobileDirection);t.mobileWidth&&(t.width=t.mobileWidth,delete t.mobileWidth);t.mobileHeight&&(t.height=t.mobileHeight,delete t.mobileHeight);delete t.desktopWidth;delete t.desktopDirection}return n}var f,u,t;n.isCoordinator&&(t=n.customStatesProperties,t&&$.each(t,function(n,t){t.navigationButtonSettings&&$.each(t.navigationButtonSettings,function(n,i){$.each(i,function(i){var u=t.navigationButtonSettings[n][i].stateValue;t.navigationButtonSettings[n][i].stateValue=r(u)})})}));n.templateStructure&&(u=n.templateStructure.structures,$.each(u,function(n,t){i(t)}),t=n.templateStructure.customStatesProperties,t&&$.each(t,function(n,t){t.navigationButtonSettings&&$.each(t.navigationButtonSettings,function(n,i){$.each(i,function(i){var u=t.navigationButtonSettings[n][i].stateValue;t.navigationButtonSettings[n][i].stateValue=r(u)})})}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){f=t;$.each(t.structures,function(n,t){i(t)});var u=t.customStatesProperties;u&&$.each(u,function(n,t){t.navigationButtonSettings&&$.each(t.navigationButtonSettings,function(n,i){$.each(i,function(i){var u=t.navigationButtonSettings[n][i].stateValue;t.navigationButtonSettings[n][i].stateValue=r(u)})})})});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){$.each(t.hierarchyInfo.structures,function(n,t){i(t)});var u=t.hierarchyInfo.customStatesProperties;u&&$.each(u,function(n,t){t.navigationButtonSettings&&$.each(t.navigationButtonSettings,function(n,i){$.each(i,function(i){var u=t.navigationButtonSettings[n][i].stateValue;t.navigationButtonSettings[n][i].stateValue=r(u)})})})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2063,function(n){function i(n){n&&$.each(n,function(n,t){var i,r;if(t.isFixed)for(i in t.isFixed)r=t.isFixed[i],$.each(r,function(n){t.isFixed[i][n].stateValue=!1})})}var r,t;n.isCoordinator&&(t=n.customStatesProperties,i(t));n.templateStructure&&(t=n.templateStructure.customStatesProperties,i(t));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){r=t;var u=t.customStatesProperties;i(u)});n.masterPages&&$.each(n.masterPages,function(n,t){if(t.hierarchyInfo.structures){var r=t.hierarchyInfo.customStatesProperties;i(r)}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.208,function(n){function t(n,i){var r=n.id,u=n.elementProperties;ElementsTypes[n.type]&&ElementsTypes[n.type].hasFeature(Features.HasTemplates)?n.type!==ElementsTypes.PostsList.name&&n.type!==ElementsTypes.TagCloud.name&&(delete n.metaData.dataItemSizeMobile,delete n.metaData.dataItemSizePc):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){function i(n,t){var i,f,u;n.isType(ElementsTypes.PagesMenu)&&(i={type:{name:MobileVersionViewManager.MobileStateName},source:"coordinator"},OperationsManager.enableOperationsRecording("traverseCustomStateProperties"),f=r(t),u=$.extend({},n.getPropertyValue("dropDownNavigationSettings")),u.navigationProperties={DropDownNavigation:f},PropertiesManager.setValueInCustomState(n,"dropDownNavigationSettings",i,u),PropertiesManager.setValueInCustomState(n,"moreButtonText",i,t.moreButtonText),PropertiesManager.setValueInCustomState(n,"showDropDownArrow",i,t.showDropDownArrow!==undefined?t.showDropDownArrow:!1),OperationsManager.enableOperationsRecording("traverseCustomStateProperties"))}function r(n){var t=0;return n.animation!=="NoAnimation"&&(t=n.animationSpeed,t=t<50?0:t<=200?200:t<=400?400:800),{animationSpeed:t,verticalDistance:n.positionVerticalDistance,verticalTop:n.positionVerticalDistance,horizontalDistance:n.positionHorizontalDistance,horizontalLeft:n.positionHorizontalDistance,horizontalRight:n.positionHorizontalDistance,spacing:n.spacing,useSkinButton:!0}}CompatibilityManager.addSiteInformationFix(1.2087,function(n){function t(n){var u=n.elementProperties,s,e,h,o;n.type===ElementsTypes.PagesMenu.name?u.dataLayout&&u.dataLayout.name!=="NavigationButton"&&(s=n.id,e=u.dropDownOptions,e?(u.moreButtonText=e.moreButtonText,u.showDropDownArrow=e.showDropDownArrow!==undefined?e.showDropDownArrow:!1,h=r(e),h.backgroundColor=e.backgroundColor,u.dropDownNavigationSettings={navigation:"DropDownNavigation",navigationProperties:{DropDownNavigation:h}},delete u.dropDownOptions,ElementsManager.performOnInstancesInitialization(s,function(){OperationsManager.disableOperationsRecording("traverseStructure");var n=ElementsManager.getInstanceByID(s);f[s]||i(n,e);OperationsManager.enableOperationsRecording("traverseStructure")})):u.dropDownNavigationSettings&&(o=u.dropDownNavigationSettings,o.navigationProperties&&o.navigationProperties.DropDownNavigation&&o.navigationProperties.DropDownNavigation.useSkinButton===undefined&&(o.navigationProperties.DropDownNavigation.useSkinButton=!0))):n.childElements&&$.each(n.childElements,function(n,i){t(i)})}function u(n){n&&$.each(n,function(n,t){var r,u;t.dropDownOptions&&t.dropDownOptions[MobileVersionViewManager.MobileStateName]&&(r=t.dropDownOptions[MobileVersionViewManager.MobileStateName].coordinator,r&&(u=r.stateValue,f[n]=!0,ElementsManager.performOnInstancesInitialization(n,function(){var t=ElementsManager.getInstanceByID(n);i(t,u)})))})}var f={},e;n.isCoordinator&&u(n.customStatesProperties);n.templateStructure&&(e=n.templateStructure.structures,$.each(e,function(n,i){t(i)}),u(n.templateStructure.customStatesProperties));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){$.each(i.structures,function(n,i){t(i)});u(i.customStatesProperties)});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&($.each(i.hierarchyInfo.structures,function(n,i){t(i)}),u(i.hierarchyInfo.customStatesProperties))})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2089,function(n){function t(n,i){var u=n.id,f=n.elementProperties,r;ElementsTypes[n.type]&&(ElementsTypes[n.type]===ElementsTypes.Gallery||ElementsTypes[n.type]===ElementsTypes.DataListElement||ElementsTypes[n.type]===ElementsTypes.VideoGallery)?(r=[],$.each(n.elementProperties.fieldsTemplates,function(n,t){$.each(t,function(n,t){var i=t.hierarchy?t.hierarchy.structures[0].elementProperties.skinBinding:undefined,r,u;i&&i.type===SkinsBindingsTypes.Inline&&(r=i.hierarchy.structures[0],u=r.elementProperties.fieldsMap,u&&$.each(u,function(n,t){n===r.id&&t&&!t[DataSourceItemsData.Link]&&(t[DataSourceItemsData.Link]={name:"link",type:"link",title:"Link"})}))})})):n.childElements&&$.each(n.childElements,function(n,r){t(r,i)})}var r,i;n.templateStructure&&(i=n.templateStructure.structures,$.each(i,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){r=i;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.each(i.hierarchyInfo.structures,function(n,i){t(i)})})})}(),function(){CompatibilityManager.addSiteInformationFix(1.21,function(n){function r(n){var i=n.elementProperties;n.type===ElementsTypes.HeaderElement.name?i.sectionName="Header":n.type===ElementsTypes.FooterElement.name?i.sectionName="Footer":n.type===ElementsTypes.SectionElement.name?t.push(n):n.childElements&&$.each(n.childElements,function(n,t){r(t)})}var t=[],u=!1,f,i,e,o;if(n.templateStructure&&(f=n.templateStructure.structures,$.each(f,function(n,t){r(t)})),n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){$.each(t.structures,function(n,t){r(t)})}),n.masterPages&&($.each(n.masterPages,function(n,t){t.hierarchyInfo.structures&&$.each(t.hierarchyInfo.structures,function(n,t){r(t)})}),u=!0),t.length>0)for(t.sort(function(n,t){return n.elementProperties.order-t.elementProperties.order}),i=0;i<t.length;i++)e=String.fromCharCode(65+i%26),o=t[i],o.elementProperties.sectionName=(u?"Site Section ":"Section ")+e})}(),function(){CompatibilityManager.addSiteInformationFix(1.2104,function(n){function t(n){var t=n.structures;$.each(t,function(n,t){i(t)});r(n.customStatesProperties)}function i(n){var t=n.elementProperties;u(t);n.childElements&&$.each(n.childElements,function(n,t){i(t)})}function u(n){n&&$.each(n,function(i,r){var u,f;n[i]=ElementsManager.fixThemeColor(i,r);i==="skinBinding"&&(u=r,$.each(u.hierarchy.fieldsToValues,function(n,t){$.each(t,function(n,t){t.value&&t.value.themeBinding&&(t.value=ElementsManager.fixThemeColor(undefined,t.value))})}),u.hierarchy&&t(u.hierarchy));i==="fieldsTemplates"&&(f=n.fieldsTemplates,$.each(f,function(n,i){$.each(i,function(n,i){i.hierarchy&&t(i.hierarchy)})}))})}function r(n){n&&$.each(n,function(n,i){$.each(i,function(n,i){$.each(i,function(i,r){$.each(r,function(i,r){var u,f;r&&(r.stateValue=ElementsManager.fixThemeColor(n,r.stateValue),n==="skinBinding"&&(u=r.stateValue,$.each(u.hierarchy.fieldsToValues,function(n,t){$.each(t,function(n,t){t.value&&t.value.themeBinding&&(t.value=ElementsManager.fixThemeColor(undefined,t.value))})}),t(u.hierarchy)),n==="fieldsTemplates"&&(f=r.stateValue,$.each(f,function(n,i){$.each(i,function(n,i){i.hierarchy&&t(i.hierarchy)})})))})})})})}n.isCoordinator&&r(n.customStatesProperties);n.templateStructure&&t(n.templateStructure);n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,t){$.each(t.structures,function(n,t){i(t)});r(t.customStatesProperties)});n.masterPages&&$.each(n.masterPages,function(n,t){t.hierarchyInfo.structures&&($.each(t.hierarchyInfo.structures,function(n,t){i(t)}),r(t.hierarchyInfo.customStatesProperties));u(t.pageProperties);u(t.mobilePageProperties)})})}(),function(){function t(n,t){if(u(t)){var r=f(n[t.binding],t.role);return t.binding===i.Color?e(r,t).toCSS():r}return t}function u(n){return n&&typeof n=="object"&&!!n.themeBinding}function f(n,t){return n.themeValues[t]}function e(n,t){var i=$.Color(n).toHSL();return t.saturation!==undefined?i=$.modifyCoordinate(i,ColorCoordinate.Saturation,t.saturation):t.saturationDelta&&(i=$.adjustCoordinate(i,ColorCoordinate.Saturation,t.saturationDelta)),t.brightness!==undefined?i=$.modifyCoordinate(i,ColorCoordinate.Brightness,t.brightness):t.brightnessDelta&&(i=$.adjustCoordinate(i,ColorCoordinate.Brightness,t.brightnessDelta)),t.opacity!==undefined?i=$.modifyCoordinate(i,ColorCoordinate.Opacity,t.opacity):t.opacityDelta&&(i=$.adjustCoordinate(i,ColorCoordinate.Opacity,t.opacityDelta)),i}var i={Font:"font",Color:"color"},r={backgroundOverlay:!0,backgroundColor:!0,fontColor:!0,textShadow:!0,borderColor:!0,lineColor:!0,glow:!0,innerGlow:!0,shadow:!0,innerShadow:!0,mapColor:!0,imageLoadingSettings:!0,iconColor:!0},n={color:{themeValues:{background1:"white",background2:"#C6E7FC",background3:"#31B6FD",text1:"black",text2:"#073E87",text3:"#4584D3",color1:"#A5D028",color2:"#5BD078",color3:"#F5C040",color4:"#05E0DB"}}};ElementsManager.fixThemeColor=function(i,u){var e,o,f;if((!i||r[i])&&u&&typeof u=="object"&&!(u instanceof Array)){if(u.themeBinding===!0)return t(n,u);e={};for(o in u)f=u[o],e[o]=f&&typeof f=="object"&&f.themeBinding===!0?t(n,f):f;return e}return u}}(),function(){CompatibilityManager.addSiteInformationFix(1.2094,function(n){function t(n){n&&$.each(n,function(n,t){i[n]&&$.each(t,function(n,t){$.each(t,function(t,i){$.each(i,function(t,i){i&&n==="isVisibleInMode"&&(i.stateValue=!1)})})})})}var i={},r;n.isCoordinator&&t(n.customStatesProperties);n.templateStructure&&(r=n.templateStructure.structures,t(n.templateStructure.customStatesProperties));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){t(i.customStatesProperties)});n.masterPages&&$.each(n.masterPages,function(n,r){r.hierarchyInfo.structures&&($.each(r.hierarchyInfo.structures,function(n,t){if(!ElementsTypes[t.type].hasFeature(Features.PageSection)&&ElementsTypes[t.type]!==ElementsTypes.PageContentElement){var r=t.id;i[r]=!0}}),t(r.hierarchyInfo.customStatesProperties))})})}(),function(){var t=/-/g,n="ExternalApp";CompatibilityManager.addSiteInformationFix(1.2098,function(i){function r(i){var u=i.type,f,o,h,s,e;u&&u.indexOf(n)===0?(f=u.replace(t,"_"),f!==u&&(o=u.substr(n.length),h=f.substr(n.length),i.type=f,s=i.elementProperties,e=$.quickExtend({},s),$.eachEntry(s,function(n,t){if(n.indexOf(o)===0){delete e[n];var i=h+n.substr(o.length);e[i]=t}}),i.elementProperties=e)):i.childElements&&$.each(i.childElements,function(n,t){r(t)})}if(i.templateStructure){var u=i.templateStructure.structures;$.each(u,function(n,t){r(t)})}i.pagesStructure&&$.each(i.pagesStructure.pages,function(n,t){$.each(t.structures,function(n,t){r(t)})});i.masterPages&&$.each(i.masterPages,function(n,t){t.hierarchyInfo.structures&&$.each(t.hierarchyInfo.structures,function(n,t){r(t)})})},-8)}(),function(){CompatibilityManager.addSiteInformationFix(1.2113,function(n){function t(n){var r=n.type,u=ElementsTypes[n.type];u&&u.hasFeature(Features.PageSection)&&(n.elementProperties.topZIndex=0);u&&u.hasFeature(Features.HasTemplates)?i(n.elementProperties.fieldsTemplates):r==="facebookLike"?f(n):r==="facebookComments"?e(n):r==="facebookActivity"?o(n):r==="facebookLikeBox"?s(n):r==="facebookFacePile"?h(n):r==="facebookSubscribe"?c(n):r==="ExternalApp"+"{0}{1}".format("FacebookLikeboxApp",1)&&l(n);n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}function i(n){$.each(n,function(n,i){$.each(i,function(n,i){if(i.hierarchy){var r=$.objectGet(i.hierarchy.structures[0],["elementProperties","skinBinding","hierarchy"]);r?t(r.structures[0]):t(i.hierarchy.structures[0])}})})}function f(n){var t=n.elementProperties,i="{0}{1}".format("FacebookLikeApp",1),r;n.type="ExternalApp"+i;r=t.likeUrl;r&&(t[i+"useCustomUrl"]=!0);t.facebookFaces===!0&&(t[i+"showFaces"]=!0);t[i+"layout"]=t.facebookButtonLayout;t[i+"url"]=r}function e(n){var t=n.elementProperties,i="{0}{1}".format("FacebookCommentsApp",1);n.type="ExternalApp"+i;t[i+"postLimit"]=t.numOfPosts}function o(n){var t=n.elementProperties,i="{0}{1}".format("FacebookActivityApp",1),r;n.type="ExternalApp"+i;r=t.facebookActivityDomain;r&&(t[i+"useCustomUrl"]=!0);t[i+"url"]=r}function s(n){var t=n.elementProperties,i="{0}{1}".format("FacebookPagePluginApp",1),r;n.type="ExternalApp"+i;r=t.facebookPageUrl;t[i+"showFaces"]=t.facebookFaces;t[i+"url"]=r;t[i+"showPosts"]=t.facebookStream}function h(n){var t=n.elementProperties,i="{0}{1}".format("FacebookPagePluginApp",1);n.type="ExternalApp"+i;t[i+"showFaces"]=!0;t[i+"url"]=t.facebookPageUrl;t[i+"showPosts"]=!1}function c(n){var t=n.elementProperties,i="{0}{1}".format("FacebookFollowApp",1);n.type="ExternalApp"+i;t[i+"showFaces"]=!0;t[i+"url"]=t.facebookPageUrl;t[i+"layout"]=t.facebookButtonLayout}function l(n){var t=n.elementProperties,r="{0}{1}".format("FacebookLikeboxApp",1),i="{0}{1}".format("FacebookPagePluginApp",1);n.type="ExternalApp"+i;t[i+"showFaces"]=t[r+"showFaces"];t[i+"url"]=t[r+"url"];t[i+"showPosts"]=t[r+"showPosts"]}var u,r;n.templateStructure&&(u=n.templateStructure.structures,$.each(u,function(n,i){t(i)}),r=n.templateStructure.customStatesProperties,r&&$.each(r,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;i(u)})})}));n.pagesStructure&&$.eachItem(n.pagesStructure.pages,function(n,r){$.eachItem(r.structures,function(n,i){t(i)});var u=r.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;i(u)})})})});n.masterPages&&$.eachItem(n.masterPages,function(n,r){r.hierarchyInfo.structures&&$.eachItem(r.hierarchyInfo.structures,function(n,i){t(i)});var u=r.hierarchyInfo.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;i(u)})})})})},-10)}(),function(){CompatibilityManager.addSiteInformationFix(1.2107,function(n){function t(n){var r=ElementsTypes[n.type];r&&r.hasFeature(Features.HasTemplates)?i(n.elementProperties.fieldsTemplates):n.type==="youtube"?(n.elementProperties.videoType=VideoTypes.Youtube,n.type=ElementsTypes.VideoPlayer.name):n.childElements&&$.each(n.childElements,function(n,i){t(i)})}function i(n){$.each(n,function(n,i){$.each(i,function(n,i){if(i.hierarchy){var r=$.objectGet(i.hierarchy.structures[0],["elementProperties","skinBinding","hierarchy"]);r?t(r.structures[0]):t(i.hierarchy.structures[0])}})})}var f,u,r;n.templateStructure&&(u=n.templateStructure.structures,$.each(u,function(n,i){t(i)}),r=n.templateStructure.customStatesProperties,r&&$.each(r,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;i(u)})})}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,r){f=r;$.each(r.structures,function(n,i){t(i)});var u=r.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;i(u)})})})});n.masterPages&&$.each(n.masterPages,function(n,r){if(r.hierarchyInfo.structures){$.each(r.hierarchyInfo.structures,function(n,i){t(i)});var u=r.hierarchyInfo.customStatesProperties;u&&$.each(u,function(n,t){t.fieldsTemplates&&$.each(t.fieldsTemplates,function(n,r){$.each(r,function(r){var u=t.fieldsTemplates[n][r].stateValue;i(u)})})})}})},-9)}(),function(){CompatibilityManager.addSiteInformationFix(1.2107,function(n){function t(n){var i=n.elementProperties,e=ElementsTypes[n.type],u,f;e.hasFeature(Features.DataList)&&(u=i.dataInfo,f=i.itemFields,r(u,f));n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}function r(n,t){n&&n.currentData&&(n.currentData.items?$.eachEntry(n.currentData.items,function(n,i){$.eachEntry(i,function(n,r){t[n]&&t[n].type===DataSourceItemsFields.video.name&&r&&!r.videoId&&(i[n]={videoId:r,videoType:VideoTypes.Youtube})})}):$.eachEntry(n.currentData,function(n,i){$.eachEntry(i,function(n,r){t[n]&&t[n].type===DataSourceItemsFields.video.name&&r&&!r.videoId&&(i[n]={videoId:r,videoType:VideoTypes.Youtube})})}))}var i;n.templateStructure&&(i=n.templateStructure.customStatesProperties,$.each(n.templateStructure.structures,function(n,i){t(i)}));n.pagesStructure&&$.each(n.pagesStructure.pages,function(n,i){var r=i.customStatesProperties;$.each(i.structures,function(n,i){t(i)})});n.masterPages&&$.each(n.masterPages,function(n,i){if(i.hierarchyInfo.structures){var r=i.hierarchyInfo.customStatesProperties;$.each(i.hierarchyInfo.structures,function(n,i){t(i)})}})})}(),function(){CompatibilityManager.addSiteInformationFix(1.2118,function(n){function t(n){var u=n.type,i=ElementsTypes[n.type];i&&i.hasFeature(Features.DataList)&&!i.isType(ElementsTypes.Menu)&&(n.elementProperties.overflow=!0,r(n.elementProperties.fieldsTemplates));n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}function r(n){$.each(n,function(n,t){$.each(t,function(n,t){t.hierarchy&&(t.hierarchy.structures[0].elementProperties.overflow=!0)})})}if(!(n.StructureVersion<=StructureLoadingManager.BaseVersionToConvertOverFlowHidden)){if(n.templateStructure){var i=n.templateStructure.structures;$.each(i,function(n,i){t(i)})}n.pagesStructure&&$.eachItem(n.pagesStructure.pages,function(n,i){$.eachItem(i.structures,function(n,i){t(i)})});n.masterPages&&$.eachItem(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.eachItem(i.hierarchyInfo.structures,function(n,i){t(i)})})}})}(),function(){CompatibilityManager.addSiteInformationFix(1.212,function(n){function t(n){var e=n.type,u=n.elementProperties,f=ElementsTypes[n.type],i,r;f&&f.isType(ElementsTypes.line)&&(i=u.sizeAndPosition,r=u.lineWidth,i.width=i.width-r*2,i.height=i.height-r*2);n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}if(!(n.StructureVersion>StructureLoadingManager.BaseVersionToConvertOverFlowHidden)){if(n.templateStructure){var i=n.templateStructure.structures;$.each(i,function(n,i){t(i)})}n.pagesStructure&&$.eachItem(n.pagesStructure.pages,function(n,i){$.eachItem(i.structures,function(n,i){t(i)})});n.masterPages&&$.eachItem(n.masterPages,function(n,i){i.hierarchyInfo.structures&&$.eachItem(i.hierarchyInfo.structures,function(n,i){t(i)})})}})}(),function(){CompatibilityManager.addSiteInformationFix(13,function(n){function i(n){$.eachItem(r,function(t,i){e(!0,i,n)});$.eachItem(u,function(t,i){e(!1,i,n)})}function e(n,t,i){var r=$.objectGet(i,[t,"dataLayoutOptions"]);r&&$.eachEntry(r,function(t,i){$.eachEntry(i,function(t,i){o(n,i.stateValue)})})}function t(n){var i=n.type;i==="PostsList"?s(n):n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}function s(n){var t=n.elementProperties,i=t.primaryPostsList;o(i,t.dataLayoutOptions);i?r.push(n.id):u.push(n.id)}function o(n,t){var i=t.maxItemsCount;n&&i!==undefined?delete t.maxItemsCount:n||i!==undefined||(t.maxItemsCount=t.elementsPerPage)}var r=[],u=[],f;n.templateStructure?(f=n.templateStructure.structures,$.each(f,function(n,i){t(i)}),i(n.templateStructure.customStatesProperties)):n.pagesStructure?$.each(n.pagesStructure.pages,function(n,r){var u=r.structures[0];t(u);i(r.customStatesProperties)}):n.masterPages&&$.each(n.masterPages,function(n,r){r.hierarchyInfo.structures&&($.eachItem(r.hierarchyInfo.structures,function(n,i){t(i)}),i(r.hierarchyInfo.customStatesProperties))})})}(),function(){CompatibilityManager.addSiteInformationFix(13.002,function(n){function i(n){$.eachItem(r,function(t,i){var r=$.objectGet(n,[i,"usePagesLayout"]);r&&$.eachEntry(r,function(n,t){$.eachEntry(t,function(n,t){t.stateValue===!1&&(t.stateValue=!0)})})})}function t(n){var i=n.type;i==="PostsList"?f(n):n.childElements&&$.eachItem(n.childElements,function(n,i){t(i)})}function f(n){var t=n.elementProperties,i=t.primaryPostsList;i&&(e(t),r.push(n.id))}function e(n){var t=n.usePagesLayout;t===!1&&(n.usePagesLayout=!0)}var r=[],u;n.templateStructure?(u=n.templateStructure.structures,$.each(u,function(n,i){t(i)}),i(n.templateStructure.customStatesProperties)):n.pagesStructure?$.each(n.pagesStructure.pages,function(n,r){var u=r.structures[0];t(u);i(r.customStatesProperties)}):n.masterPages&&$.each(n.masterPages,function(n,r){r.hierarchyInfo.structures&&($.eachItem(r.hierarchyInfo.structures,function(n,i){t(i)}),i(r.hierarchyInfo.customStatesProperties))})})}(),function(){FormFieldsManager.registerFormFields({TextArea:{name:"TextArea",title:"Text Area",iconClass:"sprite-icon sprite-element-text-input",items:{isOptional:{name:"isOptional",title:"Is Optional",create:function(){return PropertiesVisualizers.CheckBox.createPlain({})}}},setField:function(){}}})}(),function(){FormFieldsManager.registerFormFields({TextInputField:{name:"TextInputField",title:"Text Input",iconClass:"sprite-icon sprite-tool-text-input",items:{isOptional:{name:"isOptional",title:"Is Optional",create:function(){return PropertiesVisualizers.CheckBox.createPlain({})}}},setField:function(){}}})}();CommonAssets=new function(){this.Images={};this.loadImages=function(){var n=[];$.eachEntry(CommonAssets.Images,function(t,i){n.push(AssetsManager.resolveImageUrl(i))});ImagesLoader.loadImages(n)}},function(){ElementsModel.registerDefinition(Features,{HasNotificationBehaviour:{className:"has-notification-behaviour",methods:{showNotificiation:function(){var n=this;EditorNotificationHeader.SelectedNotification.get().showNotification(n.getNotificationMessage(),n.getNotificationOptions())},hideNotificiation:function(){EditorNotificationHeader.SelectedNotification.get().hideNotification()},getNotificationMessage:$.returnEmptyString,getNotificationOptions:function(){return{appearance:EditorNotificationAppearance.Footer,duration:400}},hasNotification:$.returnFalse,getNotificationsTriggeringEvents:function(){return[this.elementIsSelected.valueChangedEvent]},refreshNotification:function(){var n=this;n.elementIsSelected.isTrue()&&n.hasNotification()?n.showNotificiation():n.hideNotificiation()}},aggregatedMethods:{aggregations:{onInitialized:function(){var n=this;SimpleEvent.bind(n.getNotificationsTriggeringEvents(),function(){n.refreshNotification()})}}}}})}(),function(){function n(n,t,i,r){r&&n.setPropertiesValues({baseName:t})}function t(n){var t=this;n=$.quickExtend({animation:Animations.NoAnimation,complete:$.noop,animationOptions:undefined},n);var f=n.complete,u=n.animation,e=n.animationOptions,r=t.getVisibilityTargets();return r.stopAnimations(),t.duringVisibilityAnimation=!0,t.isVisible=!1,r.animateHide(u,e,function(){t.duringVisibilityAnimation=!1;t.isDeleted||i(t,f)}),u!==Animations.NoAnimation?r.promise():undefined}function i(n,t){n.$element.addClass("hidden-design-element");PositionManager.visibilityTreeDetach(n);t()}function r(n){var t=this,i,f;if(t.shouldBeDisplayed()){n=$.quickExtend({animation:Animations.NoAnimation,complete:$.noop,animationOptions:undefined},n);var r=n.complete,u=n.animation,e=n.animationOptions;if(RenderingCoordinator.startRenderingBatch(),i=t.getVisibilityTargets(),t.isVisible||(i.stopAnimations().quickShow(),t.isVisible=!0,t.$element.removeClass("hidden-design-element")),PositionManager.visibilityTreeAttach(t),f=PositionManager.isElementVisible(t),RenderingCoordinator.finishRenderingBatch(),f){if(u!==Animations.NoAnimation)return t.duringVisibilityAnimation=!0,i.quickHide().animateShow(u,e,function(){t.duringVisibilityAnimation=!1;r();LayoutManager.requestUpdatePosition(t)}).promise();r();LayoutManager.requestUpdatePosition(t)}}}ElementsModel.registerDefinition(Features,{ElementBase:{properties:{tagName:{title:"Html Tag",defaultValue:function(){return HtmlTags.DIV}},behaviours:{defaultValue:$.returnNull,onChange:function(n,t){t?($.count(t.normalBehaviours)>0||$.count(t.isTemplateBehaviours)>0)&&n.hasBehaviours.setTrue():n.hasBehaviours.setFalse()}},isLocked:{defaultValue:$.returnFalse,onChange:function(n,t){n.isLocked.setValue(t,"property")}},name:{title:" Name",category:PropertiesCategories.Other,defaultValue:$.returnNull,onChange:n},baseName:{defaultValue:$.returnNull},templateID:{defaultValue:$.returnNull},templateName:{defaultValue:$.returnNull},order:{isStateProperty:$.returnTrue,defaultValue:$.returnNull},customStates:{defaultValue:$.returnNull,onChange:function(n,t){var f,r,i;if(t!==null){f=n.getPropertyValue("customStates");r=$.deepCloneObject(n.getPropertyValue("customStates"));for(i in r)if(!ElementStates[i]){var o=r[i],e=$.getValues(o.ids),u=ElementStatesManager.registerComplexState(e);Global.IsDesigner&&u&&ElementStatesManager.extendDesignerComplexState(u,e);u||delete f[i]}}}},isElementWasEditedInMode:{isStateProperty:!0,defaultValue:$.returnFalse}},methods:{isReattchable:function(){return!this.isContent()},isPageChildInstance:$.returnFalse,getInitializedTargetConnections:function(n){var i=this,r=BehavioursManager.getInstanceInitializedTargetConnections(i.id),t={};return $.eachEntry(r,function(i,r){(!n||n(r))&&(t[r.id]=r)}),t},shouldBeWithLayoutOnMobile:$.returnFalse,getLoadingRequirements:$.returnUndefined,disableStyleProperties:$.returnFalse,isFillHorizontal:$.returnFalse,isFillVertical:$.returnFalse,wasEditedInMode:function(){return this.getPropertyValue("isElementWasEditedInMode")},setAsEditedInMode:function(n){this.setPropertyValue("isElementWasEditedInMode",n)},hasHorizontalLayout:$.returnFalse,hasVerticalLayout:$.returnFalse,addElementToPage:function(n){var i=this,t=n.data.pageContentContainer,r=i.$element;return r.appendTo(t),t},isForTemplateUse:$.returnFalse,refreshCursor:$.noop,isInDesignMode:function(){return Global.IsDesigner&&!this.isForTemplateUse()},isInMobileMode:function(){return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()},isTemplateItemContent:function(){return this.data.templateInstance!==undefined},getTemplateItemContent:function(){return this.data.templateInstance},setTemplateItemContent:function(n){this.data.templateInstance=n},isDataListItem:$.returnFalse,getBorderBox:function(){return this.$elementBorderBox},getPaddingBox:function(){return $.browserVersion().browser==Browser.IE&&$.browserVersion().version<8?this.$elementContentBox:this.$paddingBox},changeElementSize:function(n){this.$elementSizeBox.css(n)},getPositionBox:function(){return this.$elementPositionBox},getElementSizeBox:function(){return this.$elementSizeBox},getBackgroundTarget:function(){return this.$elementBackgroundTarget},getBorderTarget:function(){return this.$elementBorderTarget},getMainBox:function(){return this.$elementMainBox},getVisibilityTargets:function(){return this.getMainBox()},getDataItemId:$.returnUndefined,getContentLayer:function(){return this.$elementContentContainer},showParents:function(n,t){for(var r=this.getParents(!0),i=1;i<r.length;i++)if(r[i].hasFeature(Features.Navigatable)&&r[i].navigateTo(r[i-1],n,t),PositionManager.isElementVisible(r[i]))return},setToCurrentMode:function(){var n=this;ViewManager.isViewMode()?n.setToPreview():n.setToDesign()},setToPreview:function(){var n=this;PageManager.PageChangingOperation.performOperation(function(){var t=n.isInPreview(),i;t||(i=t===!1,n.data.inPreview=!0,n.switchToPreview(i))})},isInPreview:function(){return this.data.inPreview},shouldInitInstanceOnPageChange:function(){var n=this,i=PageManager.getCurrentPage(),t=PageManager.getPrevPage();return!!(t&&n.isInPreview()&&(n.isMasterPageElement.isFalse()||MasterPagesManager.getMasterPageIDByPage(i.id)!==MasterPagesManager.getMasterPageIDByPage(t.id)))},showElement:r,hideElement:t,shouldBeDisplayed:function(){return(!this.hasFeature(Features.Hideable)||this.getPropertyValue("isVisible")||ViewManager.isDesignMode())&&this.isVisibleInMode()&&this.isDisplayed.isTrue()&&!this.isDeleted},performWhenVisible:function(n,t){var r=this,i;if(PositionManager.isElementVisible(this))n();else{if(i=r.data.visiblityBindingsOperationsSet,!r.data.performWhenVisibleBinding){i=BatchOperationsSet.create();i.activate();this.visibilityChangedEvent.one(function(){i.executeOperations();r.data.performWhenVisibleBinding=!1;i.deactivate();delete r.data.visiblityBindingsOperationsSet});r.data.performWhenVisibleBinding=!0;r.data.visiblityBindingsOperationsSet=i}i.requestOperation(n,t)}},stopVisibilityAnimations:function(){var n=this,t;n.duringVisibilityAnimation&&(t=n.getVisibilityTargets(),t.stopAnimations())},getStructureMetaData:function(){return this.data.structureMetaData},shouldReferToStateValue:function(n,t,i){var r=this,u=r.properties[n],f=ElementsManager.getInstanceByID(i);return ViewManager.isViewMode()&&!PropertiesManager.getEditedState()&&n==="sizeAndPosition"&&t===MobileVersionViewManager.MobileStateName&&(r.hasFeature(Features.DataListItem)&&r.getItemMainParent()&&!r.getItemMainParent().dataLayoutController.hasItemSpecificSize()||u.customValue!==undefined)?!1:n==="order"&&t!==MobileVersionViewManager.MobileStateName?!1:(n==="sizeAndPosition"||n==="margin")&&!r.hasFeature(Features.DataListItem)&&t!==MobileVersionViewManager.MobileStateName&&(r.parentInstance&&r.parentInstance.isType(ElementsTypes.FormElement)||f.parentInstance&&f.parentInstance.isType(ElementsTypes.FormElement))?!1:t===MobileVersionViewManager.MobileStateName&&ViewManager.isViewMode()&&!PropertiesManager.getEditedState()&&(u.customValue!==undefined||u.descriptor.isBoundToObservableWithValue(u))?!1:!(r.isContent()&&t===MobileVersionViewManager.MobileStateName&&!r.hasFeature(Features.DataListItem)&&(n==="margin"||n==="sizeAndPosition")&&!u.descriptor.isBoundToObservableWithValue(u)&&(!r.hasFeature(Features.HasPropertiesBinding)||!r.isPropertyBoundToStyleField(n)))},onBeforePageLeave:function(){var n=this;n.shouldInitInstanceOnPageChange()&&BehavioursManager.initBehaviours(n)},getCalculatedPropertyValue:$.returnUndefined,setCalculatedPropertyValue:$.noop,canPush:function(){return this.canPushFlag.isTrue()&&!this.isContent()}},aggregatedMethods:{definitions:{onInitializing:$.noop,onInitialized:$.noop,onCreation:function(){var n=this;n.canPushFlag=ObservableFlag.createConditionalPositive();n.childIndex=ObservableObject.create();n.zIndex=ObservableObject.create();n.customZIndex=ObservableObject.create();n.currentPageId=ObservableObject.create();n.hasCellWrapper=ObservableFlag.create(!1);n.canResize=ObservableFlag.createConditionalPositive();n.canResizeHorizontally=ObservableFlag.createConditionalPositive();n.canResizeVertically=ObservableFlag.createConditionalPositive();n.currentStates={};n.beforeSaving=SimpleEvent.create();n.isMasterPageElement=ObservableFlag.createConditionalNegative();n.isDisplayed=ObservableFlag.createConditionalPositive({valueChangeCallback:function(t){ViewManager.isDesignMode()&&(n.elementIsSelected.isTrue()||n.isInSelectionContext.isTrue())&&!t&&SelectionManager.unselectAll();n.isDisplayed.isTrue()?n.showElement():n.hideElement()}});n.hasBehaviours=ObservableFlag.create(!1);n.hasActions=ObservableFlag.create(!1);n.hasStates=ObservableFlag.create(!1);n.isLocked=ObservableFlag.createConditionalNegative({valueChangeCallback:function(t){n.canMove.setValue(!t,"Locked");n.hasFeature(Features.Resizable)&&n.canResize.setValue(!t,"Locked")}});n.propertiesChanged=SimpleEvent.create();n.canEdit=ObservableFlag.createConditionalPositive();n.canMove=ObservableFlag.createConditionalPositive();n.canBeHidden=ObservableFlag.createConditionalNegative();n.hasOrder=ObservableFlag.createConditionalPositive();n.hasHorizontalAlignFlag=ObservableFlag.create(!1);n.hasVerticalAlignFlag=ObservableFlag.create(!1);n.influenceChanged=SimpleEvent.create();n.designerEventsListener=SimpleEvent.createEventListenersGroup();n.previewEventsListener=SimpleEvent.createEventListenersGroup();n.classesManager=ContextValue.createClassesFlags(function(){return n.$element});n.InstancePropertiesInitialized=ObservableFlag.create(!1)},onDetached:$.noop,onAttached:$.noop,onBeforePageOpen:$.noop,updateInstanceToViewPort:$.noop,removeInstanceFromViewPort:$.noop,adjustInstanceToViewPort:$.noop,switchToPreview:function(){var n=this;n.designerEventsListener.deactivateAll();n.previewEventsListener.activateAndExecuteAll();BehavioursManager.activateBehaviours(n)},switchToDesign:$.noop,onRemove:$.noop,onPropertyChange:$.noop,onPropertiesChanged:$.noop}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasSkinBinding:{methods:{getSkinBinding:function(){},getSkinId:function(){var n=this.getSkinBinding(),t=n.index!==undefined?n.index:"";return n.skinName+n.index},getStyleObject:function(){var n=this.getSkinBinding();return StylesManager.getStyle(n.skinName+n.index)},getStyleFieldsMetaData:function(){var t=this.getSkinBinding(),n=SkinsManager.getSkinHierarchy(t),i=StylesManager.getStyle(this.getSkinId());return{styleVersion:n.styleVersion,fieldsMetaData:n.fieldsToData,categoriesData:n.categoriesData}},isSupportsMobile:function(){return this.getStyleObject().isSupportsMobile()&&this.getPropertyValue("isSupportsMobile")||this.isMobileOnlyStyle()},isMobileOnlyStyle:function(){return!1}},aggregatedMethods:{aggregations:{changeMobileSupportState:function(n){this.isMobileOnlyStyle()||this.getStyleObject().toggleMobileSupport(n,!0)},onInitializing:function(){var t=this,f=t.getSkinBinding(),i=this.getSkinId(),n,r,u;if(!StylesManager.isStyleExist(i)){if(n=SkinsManager.getSkinHierarchy(f),CompatibilityManager.fixTemplateInformation({templateStructure:n,StructureVersion:n.version!==undefined?n.version:0}),!n){ElementsManager.removeInstances([t]);return}r=n.fieldsToValues;u=n.statesAnimations;StylesManager.addStyle(i,r,u)}}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasResponsiveItem:{defaultProperties:{display:function(){return ElementDisplay.Fixed}},properties:{display:{isStateProperty:!0},cellItem:{isStateProperty:!0,notForUndoProperty:!0,defaultValue:$.returnNull},cellHorizontalAlignment:{isStateProperty:!0,defaultValue:function(){return CssHorizontalAlignment.None},onChange:function(n){n.refreshCellHorizontalAlignment()}}},methods:{shouldBeBlockElementInMobile:function(){return!1},isBlock:function(){return this.hasCellWrapper.isTrue()&&this.getPropertyValue("display")===ElementDisplay.Block||this.isFillHorizontal()},addToCellItem:function(){var n=this;this.$element.appendTo(this.getCellItem().getElementContainer());n.classesManager.set({"is-in-cell-item":!0});n.sizeElementClassesManager.set({"is-cell-item-size-box":!0});n.contentBoxElementClassesManager.set({"is-cell-item":!0});this.refreshCellHorizontalAlignment();n.hasFeature(Features.HasLayout)&&n.propertyChangedEvent.bindAndExecute("display",function(){var t=n.getPropertyValue("display")===ElementDisplay.Fixed;n.canResizeHorizontally.setValue(t,"mobileFillLayout");n.classesManager.set({"design-element-inline-block":t});n.sizeElementClassesManager.set({"is-size-box-inline-block":t});LayoutManager.refreshElementsLayout(n)},"mobileFillLayout")},removeElementFromCellItem:function(){this.$element.detach();this.classesManager.set({"is-in-cell-item":!1,"design-element-inline-block":!1});this.sizeElementClassesManager.set({"is-cell-item-size-box":!1,"is-size-box-inline-block":!1});this.contentBoxElementClassesManager.set({"is-cell-item":!1})},reAttachElementToContainer:function(){this.$element.appendTo(this.$container);this.classesManager.set({"is-in-cell-item":!1,"design-element-inline-block":!1});this.sizeElementClassesManager.set({"is-cell-item-size-box":!1,"is-size-box-inline-block":!1});this.contentBoxElementClassesManager.set({"is-cell-item":!1});this.propertyChangedEvent.unbind("mobileFillLayout");this.canResizeHorizontally.setValue(!0,"mobileFillLayout")},getCellItem:function(){return this.data.cellItem},setCellItem:function(n){this.data.cellItem=n;this.hasCellWrapper.setValue(n!==undefined&&n!==null)},refreshCellHorizontalAlignment:function(){if(this.getCellItem()){var n=this.getPropertyValue("cellHorizontalAlignment");n!==CssHorizontalAlignment.None?this.getCellItem().$element.css({"text-align":"{0}".format(n)}):this.getCellItem().$element.css({"text-align":""})}},updateCellItemData:function(n){this.setPropertyValue("cellItem",n?n.getDataForSave():null)},getCellItemData:function(){return this.getPropertyValue("cellItem")},removeCellItem:function(){this.updateCellItemData(null);delete this.data.cellItem},shouldBeWithLayoutOnMobile:function(){return!this.isContent()},getMaxSize:function(){var n=this,t;if(MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&n.shouldBeWithLayoutOnMobile()){if(n.hasCellWrapper.isTrue()&&n.getCellItem()&&!n.isDataListItem()&&!n.parentInstance.isType([ElementsTypes.userBox,ElementsTypes.Tab]))return t=PageManager.getCoordinator().getPropertyValue("innerRowPadding"),{height:Infinity,width:n.getCellItem().getCellWidth()-t*2};if(this.parentInstance)return this.parentInstance.getMaxSize()}return{height:Infinity,width:Infinity}},isRelativePositioned:function(){var n=this;return n.isRelativePositionedFlag.isTrue()||MobileVersionViewManager.Flags.IsActivated.isTrue()&&this.isConvertedToMobile()},getAutoLayoutProperties:function($super){var n=$super();return this.hasCellWrapper.isTrue()?$.quickExtend(n,{left:this.isBlock(),width:this.isBlock()}):n}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasDataSource:{properties:{dataInfo:{title:"Data Info",defaultValue:$.returnNull,isNotForCustomProperty:!0,priority:-997,onChange:function(n,t){if(t&&n.elementType===ElementsTypes.Menu&&t.itemsMap===undefined&&t.currentData&&(t.itemsMap=t.currentData.itemsMap&&!$.isEmptyObject(t.currentData.itemsMap)?t.currentData.itemsMap:{},t.currentData.itemsMap=undefined),n.isInitialized){n.getDataSource().setDataInfo();var u=n.getDataSource().getAllDataItems(),i={},r=n.getPropertyValue("itemsStyle");r&&($.eachEntry(r,function(n,t){u[n]&&(i[n]=t)}),n.setPropertyValue("itemsStyle",i))}}},itemFields:{title:"item fields"}},methods:{getDataSource:function(){return this.data.dataSource},getAllItemsIds:function(n){var i=this,r=$.getValues(i.getDataSource().getAllDataItems()),t=[];return $.eachItem(r,function(i,r){r.fieldTypeName&&r.fieldTypeName!==n||t.push(r.id)}),t},getDataSourceName:function(){var n=this;return n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.InlineDataSource},onItemChanged:$.noop,getItemFieldsToRequest:function(){var n=this;return $.getKeys(n.getDataSource().getItemFields())}},aggregatedMethods:{definitions:{onDataSourceRefresh:$.noop},aggregations:{onRemove:function(){var t=this,n=t.getDataSource();n&&(n.dataSourceRemoved.fire(n),delete DataSources[this.getDataSourceName()])},onCreation:function(){var n=this;n.data.dataSource=DataSourcesManager.loadDataSource(n.getDataSourceDefinition(),n.getDataSourceName(),undefined,n)},onInitialized:function(){this.getDataSource().setDataInfo()}}}}})}();PropertiesBindingTypes={StyleBinding:1,PropertyBinding:2},function(){function t(n,t,i){var r=n.data.propertiesToStyleFieldsMap,u=n.getPropertyValue("styleBindingFields");return r&&r[t]&&(u[$.getKeys(r[t])[0]].type===i||!SkinEditingManager.isDuringEditing())}function n(n){var r,i,t;n.styleBindingsGroup.clear();r=n.getPropertyValue("styleBindingId");i=n.getPropertyValue("styleBindingFields");n.hasBindingToFields()&&(t={},n.data.propertiesToStyleFieldsMap=t,$.eachEntry(i,function(i,r){var u=SkinsManager.getFieldValueChangedEvent(n,r,i);u&&SimpleEvent.createEventListener(u,function(){OperationsManager.disableOperationsRecording("refreshStyleBinding");$.eachEntry(r.properties,function(t){PropertiesManager.refreshPrioritisedCustomStates(n,t);PropertiesManager.recomputePropertyValue(n,t,!1)});OperationsManager.enableOperationsRecording("refreshStyleBinding")}).addToGroup(n.styleBindingsGroup);$.eachEntry(r.properties,function(n,r){var u=$.objectGet(t,[n,i]);u=$.extend({},u,r);$.objectSet(t,[n,i],u)})}),$.eachEntry(t,function(t){PropertiesManager.refreshPrioritisedCustomStates(n,n.properties[t])}),PositionManager.isElementVisible(n)?n.styleBindingsGroup.activateAndExecuteAll():n.styleBindingsGroup.deactivateAll())}ElementsModel.registerDefinition(Features,{HasPropertiesBinding:{properties:{styleBindingId:{defaultValue:$.returnNull},styleBindingFields:{defaultValue:$.returnNull}},methods:{hasBindingToFields:function(){var t=this.getPropertyValue("styleBindingId"),n=this.getPropertyValue("styleBindingFields");return t&&n&&$.count(n)>0},setSkinInstanceBox:function(n){this.data.skinInstanceBox=n},getSkinInstanceBox:function(){return SkinEditingManager.isDuringEditing()&&SkinEditingManager.getCurrentInstance()?SkinEditingManager.getCurrentInstance():this.data.skinInstanceBox},getMainSkinInstance:function(){var n=this.getSkinInstanceBox();return n?n.getMainSkinInstance():undefined},getStyleFieldData:function(n,t){var e,u;t=$.extend({stateName:undefined,sourceId:undefined,defaultValue:undefined,customStateData:undefined},t);var r=this,s=t.stateName,h=t.sourceId,c=t.defaultValue,f=t.customStateData,i={value:$.extendIfObject(c),animation:undefined},o=r.properties[n],l=r.getStyleFieldsNames(n),a=r.getPropertyValue("styleBindingFields");if($.eachEntry(l,function(n,t){var e,u,f,o;t&&(e=a[n],u=SkinsManager.evaluateSkinFieldStateValue(r,{bindingData:e,fieldName:n,stateName:s,sourceId:h}),u&&(f=$.extendIfObject(u.value),o=$.extendIfObject(u.animation),f!==undefined&&(t.boundToProperty?i.value=f:$.eachEntry(t.fields,function(n){$.objectSet(i,["value",n],f)})),i.animation=$.extendValueWithDefaultValue(o,i.animation)))}),o.descriptor.valueConverter!==undefined&&i.value!==undefined&&i.value!==null)for(e=$.asArray(o.descriptor.valueConverter),u=0;u<e.length;u++)i.value=e[u](i.value);return i.value===undefined&&f&&$.isPlainObject(f.stateValue)&&(i.value=$.extend({},f.stateValue)),i},setStyleBindingId:function(n){this.setPropertyValue("styleBindingId",n)},getStyleBindingId:function(){return this.getPropertyValue("styleBindingId")},applyDelegatedPropertiesOnInstance:function(n){var t=this;$.each(n.properties,function(n){t.applyDelegatedPropertyOnInstance(n)})},applyDelegatedPropertyOnInstance:function(n){var i=this,t={};t[n]={instance:i,propertyName:n};SkinEditingManager.bindPropertiesToField(t,n,PropertiesBindingTypes.PropertyBinding)},getPrioritizedStates:function(n){var t=this,r=t.data.propertiesToStyleFieldsMap,i=[],f;if(r){var e=r[n],o=t.getStyleBindingId(),s=t.getPropertyValue("styleBindingFields"),u=$.getKeys(e);s[u[0]].type===PropertiesBindingTypes.StyleBinding&&(f=StylesManager.getStatesInformation(o,u,function(n){return n.affectingInstanceID=t.getSkinInstanceBox().id,n.styleFieldState=!0,n}),i=$.merge(f,i))}return i},isPropertyBoundToStyleField:function(n){return t(this,n,PropertiesBindingTypes.StyleBinding)},isPropertyBoundToPropertyField:function(n){return t(this,n,PropertiesBindingTypes.PropertyBinding)},getStyleFieldsNames:function(n){var t=this.data.propertiesToStyleFieldsMap;if(t)return t[n]},refreshStyleBinding:function(){n(this)}},aggregatedMethods:{aggregations:{onCreation:function(){this.styleBindingsGroup=SimpleEvent.createEventListenersGroup()},onPropertiesChanged:function(t){var i=this;i.isInitialized&&$.containsOneOfKeys(t,"styleBindingId","styleBindingFields")&&n(i)},switchToPreview:function(){var n=this,t=n.data.propertiesToStyleFieldsMap;t&&$.eachEntry(t,function(t){PropertiesManager.refreshPrioritisedCustomStates(n,n.properties[t])})},onInitialized:function(){var t=this;t.bindings.push(t.visibilityChangedEvent.bind(function(){LayoutManager.ElementsFramesUpdateBatch.whenFinished(function(){PositionManager.isElementVisible(t)?t.styleBindingsGroup.activateAndExecuteAll():t.styleBindingsGroup.deactivateAll()},t.id+"propertiesbindingvisibilty")}));n(t)}}}}})}(),function(){function t(t,i,r){var u=t.getPaddingBox(),f={paddingLeft:i.left,paddingTop:i.top,paddingBottom:i.bottom,paddingRight:i.right};u.stop("propertyPadding",!0);r===undefined?(u.css(f),n(t)):(u.animate(f,{duration:r.transitionDuration,step:function(){n(t,!0)},complete:function(){n(t,!0)},queue:"propertyPadding"}),u.dequeue("propertyPadding"))}function n(n,t){n.handleContentSizeChange(t);LayoutManager.refreshElementsLayout(n)}ElementsModel.registerDefinition(Features,{HasPadding:{properties:{padding:{title:"Padding",isStateProperty:!0,isStyleProperty:!0,priority:996,defaultValue:function(){return{top:0,left:0,bottom:0,right:0}},valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["top","left","bottom","right"])],category:PropertiesCategories.Padding,supportsStatesTransitionAnimation:!0,onChange:t,scaleProperty:function(n){return{bottom:n.y,right:n.x,top:n.y,left:n.x}}}},methods:{hasPadding:function(){var n=this.getPropertyValue("padding");return n&&(n.left!==0||n.top!==0||n.bottom!==0||n.right!==0)}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasResizingGrip:{properties:{resizingGripPosiotion:{defaultValue:function(){return"s"}}},methods:{getHandlePosition:function(){var n=PositionManager.getElementArea(this);return n?n.bottom-1:undefined},getResizingGrip:function(){return this.data.resizeGrip.$marking}},aggregatedMethods:{definitions:{initializeResizingGrip:$.noop},aggregations:{switchToPreview:function(){this.data.instanceSizeAndPositionListener&&this.data.instanceSizeAndPositionListener.deactivate()},switchToDesign:function(){this.data.instanceSizeAndPositionListener.activateAndExecute()},onRemove:function(){this.data.resizeGrip?this.data.resizeGrip.remove():undefined},onInitializing:function(){var n=this;n.isInDesignMode()&&ReadWriteController.requestIndpendentWriteOperation(function(){var i=Ruler.addHorizontalGridLine("horizontal-ruler-2"),t=i.$marking.disableSelectionTriggering(),f=$("<span class='resizing-grip-dragging-area'><\/span>").appendTo(t),r=n.getPropertyValue("resizingGripPosiotion"),u;r==="s"?t.addClass("page-resize-grip-bottom"):r==="n"&&t.addClass("page-resize-grip-top");ResizingManagerNew.setAsResizingHandle(f,{direction:r,useGrid:$.returnFalse,useSnapping:$.returnFalse,contextSelector:function(t){return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?ResizingManagerNew.getContextResizableInstances(n,t):n},resizingStartCallback:function(){t.addClass("state-active")},resizingEndCallback:function(){t.removeClass("state-active")}});u=SimpleEvent.createEventListener([n.sizeChangedEvent,n.offsetChangedEvent,{name:"borderWidth",event:n.propertyChangedEvent}],function(){PositionManager.isElementVisible(n)&&ReadWriteController.requestIndpendentWriteOperation(function(){i.setCoordinate(n.getHandlePosition())},"setCoordinate"+n.id)});MobileVersionViewManager.MobileRefreshingPositionsBatch.bind(function(){i.$marking.toggleDisplayed(!1,"mobile-positioning")},function(){i.$marking.toggleDisplayed(!0,"mobile-positioning")});u.activateAndExecute();n.data.instanceSizeAndPositionListener=u;n.data.resizeGrip=i;t.bindStateToFlag(TemplateEditingManager.Flags.IsInEditingMode,{stateType:StatesTypes.Displaying,stateToggledValue:!1});SimpleEvent.bindAndExecute([n.visibilityChangedEvent,PageManager.Events.PageChanged,MasterPagesManager.CurrentMasterPageChanged,MasterPagesManager.MasterPageEditingModeChanged],function(){n.isInstanceVisible()?t.toggleDisplayed(!0,"visibility"):t.toggleDisplayed(!1,"visibility")});n.initializeResizingGrip()},n.id+"initializeResizingGrip")}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasBackgroundOverlay:{properties:{backgroundOverlay:{title:"Background Overlay",isStyleProperty:!0,isStateProperty:!0,supportsStatesTransitionAnimation:!0,supportsThemeBinding:!0,defaultValue:$.returnTransparent,getResetValue:$.returnTransparent,category:PropertiesCategories.Background,onChange:function(n,t,i,r){var u,e,o,s,f;t=ThemeColorsManager.evaluateColorBinding(t,!0);u=n.getBackgroundLayer(BackgroundLayers.BackgroundOverlay);t==="transparent"||u||(u=n.addBackgroundLayer(BackgroundLayers.BackgroundOverlay,function(){var n=new StringBuilder;return n.append('<span class="element-overlay-layer element-border-target" style="background-color: transparent;">'),n.conditionalAppend(Global.IsExplorerMode,'<span class="element-background-target-explorer"><\/span>'),n.append("<\/span>"),$(n.toString())}),n.setBorderTarget(u));u&&(e=$.getBackgroundType(t),o=$.getBackgroundType(r),(e!==BackgroundType.Color||o!==BackgroundType.Color)&&(i=undefined),s=o===undefined,f=u,Global.IsExplorerMode&&(f=u.find(".element-background-target-explorer")),s||f.clearBackground(),e===BackgroundType.Gradient?f.setGradient($.valueOrDefault(t.orientation,Orientation.Vertical),t.gradient):n.animatePart(f,{rgbaBackground:t},{"background-color":t},i,{isInitialization:s}))}}}}})}(),function(){ElementsModel.registerDefinition(Features,{SeoElement:{properties:{attributes:{defaultValue:$.returnNull},metaProps:{defaultValue:$.returnNull},metaItemType:{defaultValue:$.returnNull},metaTitle:{defaultValue:$.returnNull}},aggregatedMethods:{aggregations:{switchToPreview:function(){var n=this,t=n.$element,i=n.getPropertyValue("metaTitle"),r=n.getPropertyValue("metaItemType");r&&t.attr("itemtype",r);i&&t.attr("title",i)},switchToDesign:function(n){var i=this,t=i.$element;n&&(t.removeAttr("title"),t.removeAttr("itemtype"))}}}}})}();NavigationDuringTransitionBehaviour={StopTransition:1,IgnoreNavigation:2,EnqueueNavigation:3},function(){function n(){var n=this,t;n.stopAutoNavigation();ViewManager.isDesignMode()||(t=n.getAutoNavigationDuration(),t>0&&(n.data.autoNavigationDuration=window.setInterval(function(){PositionManager.isElementVisible(n)&&n.navigate(1);n.isDeleted&&n.stopAutoNavigation()},t*1e3)))}function t(){var n=this;n.data.autoNavigationDuration&&(window.clearInterval(n.data.autoNavigationDuration),n.data.autoNavigationDuration=undefined)}ElementsModel.registerDefinition(Features,{Navigatable:{properties:{pagesData:{title:"Pages Data"},pagesFields:{title:"Pages Fields",category:PropertiesCategories.Other,onChange:function(n,t,i){var r=n.getFieldsInformation(),u=n.getFieldsCollection();u.postponeUpdates();i&&$.eachEntry(i,function(n){t[n]||r.remove(n)});$.eachEntry(t,function(n,t){i&&i[n]||r.put(t)});u.unPostponeUpdates()},defaultValue:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},title:{type:"title",title:"Title",name:"title",isDefaultField:!0}}},isStateProperty:!0},entranceAnimation:{title:"Entrance Animation",category:PropertiesCategories.OwningType,defaultValue:function(){return Animations.Slide.name},isStateProperty:!0},entranceAnimationSpeed:{title:"Entrance Animation Speed",category:PropertiesCategories.OwningType,defaultValue:function(){return Speed.Fast},isStateProperty:!0},entranceAnimationDirection:{title:"Exit Animation Direction",category:PropertiesCategories.OwningType,defaultValue:function(){return Global.AnimationDirections.Left},isStateProperty:!0},exitAnimation:{title:"Exit Animation",category:PropertiesCategories.OwningType,defaultValue:function(){return Animations.Slide.name},isStateProperty:!0},exitAnimationSpeed:{title:"Exit Animation Speed",category:PropertiesCategories.OwningType,defaultValue:function(){return Speed.Fast},isStateProperty:!0},exitAnimationDirection:{title:"Exit Animation Direction",category:PropertiesCategories.OwningType,defaultValue:function(){return Global.AnimationDirections.Right},isStateProperty:!0},transitionOrder:{title:"Tabs Switching Order",defaultValue:function(){return TransitionOrder.Simultaneously},isStateProperty:!1},autoNavigationDuration:{title:"Auto Switch Duration",isStateProperty:!0,defaultValue:function(){return 0},category:PropertiesCategories.OwningType,onChange:function(n){ViewManager.isDesignMode()||n.startAutoNavigation()}},navigationDuringTransitionBehaviour:{defaultValue:function(){return NavigationDuringTransitionBehaviour.StopTransition},isStateProperty:!1}},methods:{navigateTo:function(){},navigateToTabIndex:function(n,t,i,r){this.showItem(n,t,i,r)},navigate:function(n,t,i,r){var f=this,o=f.getNavigatableInstances(),e=o.length,u;i=$.valueOrDefault(i,$.noop);e>=1?(u=(f.getCurrentItem().getChildIndex()+n)%e,u<0&&(u+=e),f.navigateToTabIndex(u,t,i,r)):i()},showItem:$.noop,getUrlAddressForPage:$.returnUndefined,getNavigatableInstances:function(){return this.childInstances},getAutoNavigationDuration:function(){return 0},getItemsCollection:function(){return this.data.itemsCollection},getFieldsCollection:function(){return this.data.fieldsCollection},getItemsInformation:function(){return this.data.itemsInforamtion},getFieldsInformation:function(){return this.data.fieldsInformation},getElementDataContent:function(){return this.getCurrentItem().getElementContent()},startAutoNavigation:n,stopAutoNavigation:t,getCurrentPageIndex:function(){var i=this,t=i.getCurrentItem(),n=0;return t&&(n=t.getChildIndex(),(!n||n<0)&&(n=0)),n}},aggregatedMethods:{aggregations:{switchToPreview:function(){this.currentItemChangedEvent.fireNew({prevItem:undefined,currentItem:this.getCurrentItem()});this.startAutoNavigation()},switchToDesign:function(){this.stopAutoNavigation()},onCreation:function(){var n=this;n.currentItemChangedEvent=SimpleEvent.create();n.currentItemFinishChanging=SimpleEvent.create();n.itemsRefreshed=SimpleEvent.create();n.data.itemsInforamtion=new ObservableCollection;n.data.itemsCollection=CollectionObserver.create(n.data.itemsInforamtion);n.data.fieldsInformation=new ObservableCollection({idFunction:function(n){return n.name}});n.data.fieldsCollection=CollectionObserver.create(n.data.fieldsInformation)},onInitializing:function(){var n=this;n.data.itemsCollection.itemsChangedEvent.bind(function(t){n.getNavigatableInstances().length!==0&&(OperationsManager.disableOperationsRecording("instance.data.itemsCollection.itemsChangedEvent"),OrderManager.beginReorderingBatch(),t.updatedItems&&$.eachItem(t.updatedItems,function(n,t){var i=ElementsManager.getInstanceByID(t.id);i&&i.setPropertyValue("name",t.title)}),$.eachEntry(n.data.itemsCollection.getItems(),function(n,t){var i=ElementsManager.getInstanceByID(t.id);i&&i.setPropertyValue("order",t.index)}),OrderManager.endReorderingBatch(),OperationsManager.enableOperationsRecording("instance.data.itemsCollection.itemsChangedEvent"))});n.data.fieldsInformation.itemsRemovedEvent.bind(function(t){var i=n.data.itemsInforamtion.getItemsValues();$.eachItem(i,function(n,i){$.eachItem(t,function(n,t){delete i[t.name]})});n.data.itemsInforamtion.put(i)})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{Selectable:{methods:{markSelection:$.noop,unMarkSelection:$.noop,canSelect:function(){return this.canSelectFlag.isTrue()&&this.canBeSelected()},canBeSelected:function(){return this.isSelectable&&this.isInstanceVisible()&&!this.isForTemplateUse()&&!this.isDeleted&&(TemplateEditingManager.Flags.IsInEditingContext.isFalse()&&(this.hasFeature(Features.TemplateItem)||!this.isTemplateItemContent())||this.getTemplateItemContent()===TemplateEditingManager.getCurrentInstance())&&(!this.isContent()||this.hasFeature(Features.SkinElement)||this.hasFeature(Features.DataListItem)||TemplateEditingManager.Flags.IsInEditingTemplate.isTrue())},canBeSelectedInAreaSelection:function(){return!(this.hasFeature(Features.DataListItem)&&this.isTemplateItemContent())},isChildsCanBeSelectedInAreaSelection:function(){return!(this.hasFeature(Features.DataListItem)&&this.isTemplateItemContent())},toggleSelectable:function(n){this.isSelectable=n===undefined?this.isSelectable?!1:!0:n}},aggregatedMethods:{aggregations:{onCreation:function(){this.canSelectFlag=ObservableFlag.createConditionalPositive();this.isSelectable=!0},onInitialized:function(){if(Global.IsDesigner){var n=this;n.elementIsSelected.valueChangedEvent.bind(function(t){t?n.markSelection():n.unMarkSelection()})}}}}}})}(),function(){function f(n){t(n)}function n(n){var t=n.getBackgroundLayer(BackgroundLayers.BackgroundImage),i;return t||(t=n.addBackgroundLayer(BackgroundLayers.BackgroundImage,function(){return n.getImageLayerTemplate()}),i=QuickStates.createDisplayController(t),n.data.imageLayerDisplayController=i,i.setValue(n.showImageLayer.isTrue())),t}function i(i){var f=i.data.imageBox;if(!f){f=n(i).makeImageBoxNew({autoLoad:!1,layout:u(i),viewPort:i.data.imageBoxViewport,position:i.getPropertyValue("imagePosition")});i.data.imageBox=f;i.actualPropertyValueChanged.bindAndExecute("borderRadius",function(){var n=i.getActualPropertyValue("borderRadius");n||(n={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0});f.setBorderRadius(n)});i.actualPropertyValueChanged.bindAndExecute("borderWidth",function(){i.handleImageBoxBorderWidthChange()});i.visibilityChangedEvent.bindAndExecute(function(){r(i)});f.viewportChangedEvent.bind(function(){t(i)});i.onImageBoxCreated(f)}return f}function t(n,t){ReadWriteController.requestIndpendentWriteOperation(function(){e(n,t)},n.id+"updateCurrentImage")}function e(n,t){var u=n.getPropertyValue("imageUrl"),e=null,s=null,h=undefined,f=n.getImageBox(),o,c;if(u!==""&&u!==null&&u!==undefined){if(f=i(n),o=f.getActualViewPort(),o.width===0||o.height===0)return;u.imageWidth!==undefined&&u.imageHeight!==undefined&&(h={width:u.imageWidth,height:u.imageHeight});s=AssetsManager.resolveImageUrl(u);e=AssetsManager.resolveImageUrlBasedOnLayout(u,o,f.getLayout(),h)}c=n.data.currentBaseImageUrl===s&&n.data.currentImageUrl!==e;t&&(c=!0);n.data.currentImageUrl=e;n.data.currentBaseImageUrl=s;f&&(f.setImage({imageUrl:e,imageSize:h}),r(n,c))}function r(n,t){if(PositionManager.isElementVisible(n)){var i=n.getImageBox();i&&i.loadImage(t)}}function u(n){var t=n.getPropertyValue("imageLayout");return t===ImageBoxLayout.Custom?n.getPropertyValue("customLayout"):t}function o(t,i,r,u){var f=u===undefined;f&&i===1||t.animatePart(n(t),{opacity:i},!0,r,{isInitialization:f})}ElementsModel.registerPropertiesCategories({BackgroundImage:{title:"Background Image",iconClass:"sprite-icon sprite-property-category-image"}});ElementsModel.registerDefinition(Features,{HasImage:{properties:{imageUrl:{title:"Image",isContentProperty:!0,isStyleProperty:!0,isStateProperty:!0,defaultValue:$.returnEmptyString,supportsBinding:!0,isBound:function(n){return n.hasFeature(Features.HasSimpleBinding)&&(n.isBound(DataSourceItemsFields.image.getContentType())||n.isBound(DataSourceItemsFields.icon.getContentType())||n.isBound(DataSourceItemsFields.video.getContentType()))},onChange:f,category:PropertiesCategories["Background Image"]},imageLayout:{title:"Image Layout",isStyleProperty:!0,isStateProperty:!0,isBound:function(n){return n.hasFeature(Features.HasSimpleBinding)&&(n.isBound(DataSourceItemsFields.image.getContentType())||n.isBound(DataSourceItemsFields.icon.getContentType())||n.isBound(DataSourceItemsFields.video.getContentType()))},defaultValue:function(){return ImageBoxLayout.Cover},category:PropertiesCategories["Background Image"]},imagePosition:{title:"Image Position",isStyleProperty:!0,isStateProperty:!0,defaultValue:function(){return{vertical:"center",horizontal:"center"}},isBound:function(n){return n.hasFeature(Features.HasSimpleBinding)&&(n.isBound(DataSourceItemsFields.image.getContentType())||n.isBound(DataSourceItemsFields.icon.getContentType())||n.isBound(DataSourceItemsFields.video.getContentType()))},category:PropertiesCategories["Background Image"]},customLayout:{title:"Custom Layout",isStateProperty:!0,defaultValue:$.returnUndefined,category:PropertiesCategories["Background Image"]},imageOpacity:{title:"Image Opacity",isStyleProperty:!0,isStateProperty:!0,supportsStatesTransitionAnimation:!0,getResetValue:$.returnOne,defaultValue:$.returnOne,valueConverter:[function(n){return n===undefined&&(n=1),$.adjustFraction(n,3)}],onChange:o,category:PropertiesCategories["Background Image"]}},methods:{useImageLayer:function(){return n(this)},getImageLayerTemplate:function(){return $('<div class="element-background-image design-element-background-image"><\/div>')},forceImageBoxCreation:$.returnFalse,getImageBox:function(){return this.data.imageBox},handleImageBoxBorderWidthChange:function(){var t=this,i=t.data.imageBox,n=t.getActualPropertyValue("borderWidth");n||(n={left:0,top:0,right:0,bottom:0});i.setBorderWidth(n)},setImageBoxViewport:function(n,t){this.data.imageBoxViewport=n;var i=this.getImageBox();i&&i.setViewPort(n,t)}},aggregatedMethods:{definitions:{onImageBoxCreated:$.noop},aggregations:{onCreation:function(){var n=this;n.showImageLayer=ObservableFlag.createConditionalPositive({valueChangeCallback:function(t){var i=n.data.imageLayerDisplayController;i&&i.setValue(t)}})},onPropertiesChanged:function(n){var i=this,r=i.getImageBox();r&&($.containsOneOfKeys(n,"imageLayout","customLayout")&&(r.setLayout(u(i)),t(i)),$.containsOneOfKeys(n,"imagePosition")&&r.setPosition(i.getPropertyValue("imagePosition")))},onInitializing:function(){var n=this;this.data.currentImageUrl=null;this.data.currentBaseImageUrl=null;this.forceImageBoxCreation()&&ReadWriteController.requestIndpendentWriteOperation(function(){i(n)},n.id+"initializeImageBox")}}}}})}();BackgroundType={Color:1,Gradient:2,Image:3},function(n){n.getBackgroundType=function(t){if(t===undefined)return undefined;if(n.isPlainObject(t)){if(t.color!==undefined)return BackgroundType.Color;if(t.gradient!==undefined)return BackgroundType.Gradient;if(t.imagePath!==undefined)return BackgroundType.Image}return BackgroundType.Color}}(jQuery),function(){function n(n,t,i,r,u){var e=u===undefined,f=n.getBackgroundTarget();e||f.clearBackground();t=ThemeColorsManager.evaluateColorBinding(t);r===BackgroundType.Gradient?f.setGradient($.valueOrDefault(t.orientation,Orientation.Vertical),t.gradient):(t=$.Color(t).toCSS(),n.animatePart(f,{rgbaBackground:t},{"background-color":t},i,{isInitialization:e}))}ElementsModel.registerPropertiesCategories({Background:{title:"Background",iconClass:"sprite-icon sprite-property-category-background",shortTitle:"Background"}});ElementsModel.registerDefinition(Features,{HasBackground:{properties:{backgroundColor:{title:"Background Color",isStyleProperty:!0,isStateProperty:!0,supportsStatesTransitionAnimation:!0,supportsThemeBinding:!0,defaultValue:$.returnTransparent,getResetValue:$.returnTransparent,category:PropertiesCategories.Background,onChange:function(t,i,r,u){var f=$.getBackgroundType(i),e=$.getBackgroundType(u);(f!==BackgroundType.Color||e!==BackgroundType.Color)&&(r=undefined);t.handleBackgroundUpdate(t.$element,i,r,f,e)||n(t,i,r,f,e)}}},methods:{handleBackgroundUpdate:function(){return!1},getForeGroundPropertyName:function(){return"backgroundColor"}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasBackgroundImage:{features:[Features.HasImage,Features.HasBackgroundOverlay],methods:{autoCalculateBackgroundViewPort:$.returnTrue},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this;n.sizeChangedEvent.bind(function(){n.autoCalculateBackgroundViewPort()&&ReadWriteController.requestIndpendentWriteOperation(function(){n.setImageBoxViewport(n.getSize())},n.id+"setImageBoxViewport")})}}}}})}(),function(){function t(n){n.data.prevArrangementOptions=n.dataLayoutController.getLastArrangementOptionsByCurrentDevice();n.hasFeature(Features.Navigatable)&&n.getItemsCollection().postponeUpdates()}function i(n){n.hasFeature(Features.Navigatable)&&n.getItemsCollection().unPostponeUpdates();n.reArrangingFinished.fireNew();n.reArrangingFinishedWasFired=!0}function r(t){var i=t.dataLayoutController.getLastArrangementOptions(),u,e,r;if(i&&i.options){var o=i.options,s=t.getSize(),h=t.data.prevArrangementOptions,f=o.shouldPush;f&&ContentPushingManager.recalaculateSiblingsAndParentAreas();u=DataListHelper.adjustDataListToContent(t);LayoutManager.refreshElementsLayout(t);t.alignHorizontal();t.alignVertical();f&&u&&(e=ContentPushingManager.supportsPreCalculationOfDiffHeights(),r=e?t.calculateDiffHeight(s,u,h.contentSize,i.contentSize):undefined,r!==undefined&&r!==0&&ContentPushingManager.requestPushing(t,r));LayoutManager.requestUpdatePosition(t.getDescendingInstances(!0))}t.beforeReArrangingFinished.fireNew();n(t)}function u(n,t){t=$.quickExtend({},n.getArrangementOptions(),t);n.dataLayoutController.reArrangeTheLayout(t)}function f(n){n.reArrangementDisabled.setValue(!0,"inRearrange");OperationsManager.disableOperationsRecording("beforeChangingDomFactory");RenderingCoordinator.startRenderingBatch()}function n(n){RenderingCoordinator.finishRenderingBatch();OperationsManager.enableOperationsRecording("beforeChangingDomFactory");n.reArrangementDisabled.setValue(!1,"inRearrange")}ElementsModel.registerDefinition(Features,{HasArrangement:{methods:{calculateDiffHeight:function(n,t){return t.height-n.height},alignHorizontal:function(){var n=this,t;n.hasHorizontalAlign()&&(t=n.getPropertyValue("horizontalAlign"),n.data.$arrangementContentHolder.css("text-align",t),PositionManager.invalidateAreas(n.getDescendingInstances(),{updateSize:!1}))},addChildElement:function(n){return n.isContent()?this.data.$arrangementContentHolder.append(n.$element):this.getElementContent().append(n.$element)},creationFunction:function(n){var t=new StringBuilder,i;return t.append('<div class="absolute-fill">'),t.append('<div class="arrangement-content-holder absolute-fill"><\/div>'),t.append('<div class="relative-child-elements-content-holder positioned"><\/div>'),t.append("<\/div>"),i=$(t.toString()),n.data.$arrangementContentHolder=$(".arrangement-content-holder",i).toggleLayerEventsForwarding(!0),n.data.$relativeChildElementContentHolder=$(".relative-child-elements-content-holder",i).toggleLayerEventsForwarding(!0),i},reArrangeTheTemplates:function(n){var t=this,i=t.dataLayoutController.getArrangement();u(t,$.extend(n,{shouldFetch:t.data.shouldFetch}));t.data.shouldFetch=undefined},requestArrangement:function(n){var t=this;(n=$.extend({shouldFetch:!0},n),n.shouldFetch&&(t.data.shouldFetch=!0),t.reArrangementDisabled.isTrue())||ViewManager.IsElementInFullScreen.isTrue()||t.addArrangementRequest(n)},addArrangementRequest:function(n){var t=this;LayoutManager.LayoutContentOperationsSet.requestOperation(function(){t.reArrangeTheTemplates(n)},t.getArrangementRequestName())},getArrangementRequestName:function(){return this.id+"requestArrangement"},getArrangementOptions:function(){var n=this.getPropertyValue("dataLayoutOptions");return $.extend({},n,{instanceContentSize:this.getContentSize(),scale:undefined,keepItemSize:!0})}},aggregatedMethods:{aggregations:{onCreation:function(){var u=this,e=DataItemsController.create(u),o=$.firstArgProxy(f,u);u.dataItemsController=e;u.dataLayoutController=DataLayoutController.create(e,{onArrangementStarted:$.firstArgProxy(t,u),onArrangementFinished:$.firstArgProxy(i,u),startInitializingLayoutCallback:o,finishInitializingLayoutCallback:$.firstArgProxy(n,u),startArrangingCallback:o,finishArrangingCallback:$.firstArgProxy(r,u),setParentContent:function(n){u.data.$arrangementContentHolder.empty().append(n)},getContainerSize:function(){return u.getContentSize()}})},onPropertiesChanged:function(n){var t=this,i;$.containsOneOfKeys(n,"dataLayout")&&(i=t.getPropertyValue("dataLayout"),t.dataLayoutController.setArrangement(i.name))},onInitializing:function(){var n=this,t;n.dataItemsController.initialize();t=n.getPropertyValue("dataLayout");n.dataLayoutController.setArrangement(t.name)}}},properties:{dataLayout:{title:"Data Layout",isStateProperty:!0,priority:-998,defaultValue:$.returnNull},dataLayoutOptions:{title:"Data Layout Options",defaultValue:function(){return{elementsPerPage:4,lineSpacing:15,cols:2,rows:5,columnSpacing:15,colsSpacing:15,rowsSpacing:15,rotation:0,R:100}},isStateProperty:!0,priority:-998,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["lineSpacing","columnSpacing","colsSpacing","rowsSpacing","R","numberOfRows"])],scaleProperty:function(n){return{lineSpacing:n.x,columnSpacing:n.y,colsSpacing:n.x,rowsSpacing:n.y,R:n.x}}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasFormData:{methods:{showArrangementSettingsPanel:$.returnFalse,canRedropTo:function($super,n){var t=n.hasAncestor(function(n){return n.hasFeature(Features.HasFormData)},!0);return t?!1:!!$super(n)}},properties:{targetEmail:{title:"Target Email",defaultValue:$.returnNull},submitAddress:{},submitError:{defaultValue:function(){return"Error"}},submitText:{defaultValue:function(){return"Success"}},formID:{defaultValue:$.returnNull},formOptions:{defaultValue:function(){return{clearOnSubmit:!0}}}},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this;n.getPropertyValue("formID")===null&&(OperationsManager.disableOperationsRecording("changingFormId"),n.setPropertyValue("formID",StructureLoadingManager.generateWebsiteId()),OperationsManager.enableOperationsRecording("changingFormId"))}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasContent:{methods:{hasVerticalAlign:$.returnFalse,hasHorizontalAlign:$.returnFalse,alignHorizontal:function(){var n=this,t;n.hasHorizontalAlign()&&(t=n.getPropertyValue("horizontalAlign"),n.getElementContent().positionHorizontally(t,undefined,{skipPositionCheck:!0}));LayoutManager.refreshElementsLayout(n.childInstances)},alignVertical:function(){var n=this;n.hasVerticalAlign()&&n.getElementContent().positionVertically(this.getPropertyValue("verticalAlign"),undefined,{skipPositionCheck:!0});LayoutManager.refreshElementsLayout(n.childInstances)},alignContentHorizontal:function(){if(this.hasContentHorizontalAlign()){var n=this.getPropertyValue("horizontalContentAlign");n!==CssHorizontalAlignment.None?this.getElementContent().css({"text-align":"{0}".format(n)}):this.getElementContent().css({"text-align":""})}},hasContentVerticalAlign:$.returnFalse,hasContentHorizontalAlign:$.returnFalse,getElementDataContentSize:function(){var n=this.getElementDataContent();return n.outerSize()},calculateSizeContent:function(n){var i=this;if(i.InstancePropertiesInitialized.isTrue()){n=n||this.getElementDataContentSize();var u=i.getNoneContentSize(),t=i.getSize(),f=t.height-u.height,r=n.height-f;return r!==0?(t=$.quickExtend({},t),t.height=t.height+r,t):undefined}},getNewContentSize:function(n){return this.calculateNewContentSize(n)},calculateNewContentSize:function(n){var i,t,u,r,f,e;if(n=$.extend({minWidth:undefined,minHeight:undefined,horizontally:!0,vertically:!0},n),i=this,i.hasFeature(Features.DataList))t=i.dataLayoutController.getSize();else{if(u=i.getElementDataContent(),!u)return;t=u.outerSize()}if(t)return r=i.getNoneContentSize(),n.horizontally&&(f=n.minWidth===undefined||t.width+r.width>n.minWidth?t.width+r.width:n.minWidth),n.vertically&&(e=n.minHeight===undefined||t.height+r.height>n.minHeight?t.height+r.height:n.minHeight),{width:f,height:e}},adjustSizeToContent:function(n){n=$.extend({minWidth:undefined,minHeight:undefined,horizontally:!0,vertically:!0},n);var t=this,i=t.getNewContentSize({minWidth:n.minWidth,minHeight:n.minHeight});if(i)return LayoutManager.LayoutContentOperationsSet.requestOperation(function(){t.hasFeature(Features.DataList)&&t.reArrangementDisabled.setValue(!0,"adjustingSize");ElementsLayoutHelper.setInstancesSize(t,{width:n.horizontally?i.width:undefined,height:n.vertically?i.height:undefined},{preserveVerticalMargins:!0,preserveHorizontalMargins:!0});t.hasFeature(Features.DataList)&&t.reArrangementDisabled.setValue(!1,"adjustingSize")},t.id+"adjustDataListToContent"),i},getElementDataContent:function(){return this.getElementContent()},whenInstanceContentHeightChanged:function(n,t){var f,i,u,r,e;(t=$.extend({forceUpdate:!1,onlyGrow:!1},t),f=t.forceUpdate,i=this,!f&&(i.duringResizing.isTrue()||i.data.disableElementSizeUpdate))||(u=PositionManager.getElementSize(i),r=i.calculateNormalizedHeight(n),t.onlyGrow&&(r=Math.max(u.height,r)),r!==u.height&&(OperationsManager.disableOperationsRecording("contentChange"),RenderingCoordinator.startRenderingBatch(),ContentPushingManager.recalaculateSiblingsAndParentAreas(),i.isFillVertical()||LayoutManager.LayoutContentOperationsSet.requestOperation(function(){ElementsLayoutHelper.setInstancesSize(i,{height:r},{preserveVerticalMargins:!0})},i.id+"whenInstanceContentHeightChanged"),e=r-u.height,ContentPushingManager.requestPushing(i,e),RenderingCoordinator.finishRenderingBatch(),OperationsManager.enableOperationsRecording("contentChange")))},calculateNormalizedHeight:function(n){var t=this,i=t.getSize(),e=t.getNoneContentSize(),u=n+e.height,f=t.getLastResizingSize(),r=f?$.valueOrDefault(f.height,0):0;return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&r===0?Math.max(i.height,u):Math.max(r<=i.height?r:i.height,u)}},properties:{verticalAlign:{title:"Vertical Align",isStateProperty:!0,isStyleProperty:!0,category:PropertiesCategories.Layout,defaultValue:function(){return VerticalAlignment.Centered},onChange:function(n){n.alignVertical()}},horizontalAlign:{title:"Horizontal Align",isStateProperty:!0,isStyleProperty:!0,category:PropertiesCategories.Layout,defaultValue:function(){return HorizontalAlignment.Centered},onChange:function(n){n.alignHorizontal();PositionManager.invalidateAreas(n.getDescendingInstances(),{updateSize:!1})}},horizontalContentAlign:{title:"Horizontal Content Align",isStateProperty:!0,isStyleProperty:!0,category:PropertiesCategories.Layout,defaultValue:function(){return HorizontalAlignment.Centered},onChange:function(n){n.alignContentHorizontal();PositionManager.invalidateAreas(n.getDescendingInstances(),{updateSize:!1})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasTemplates:{properties:{fieldsTemplates:{title:"Fields Templates",isStateProperty:!0,defaultValue:$.returnEmptyObject,preSaveProcessing:function(n){return $.eachEntry(n,function(n,t){$.eachEntry(t,function(n,t){var i=t.hierarchy.structures[0].elementProperties.skinBinding,r,f,u;i&&i.hierarchy&&(r=i.skinName+i.index,f=StylesManager.getStyle(r),f&&(i.hierarchy=SkinEditingManager.convertFieldsToTemplate(i.hierarchy,r),u=StylesManager.getStyleInformation(r),i.hierarchy.fieldsToValues=u.fields,i.hierarchy.statesAnimations=u.statesAnimations))})}),n},comparer:function(n,t){var i=!0;return $.eachEntry(n,function(n,r){return $.eachEntry(r,function(r,u){if(!t[n]||!t[n][u.id])return i=!1,!1}),i?void 0:!1}),i},priority:-998,onChange:function(n){n.refreshTemplates()}}},methods:{getSkinBinding:function(){var n=this.getDefaultTemplate();return $.cloneObject(n.hierarchy.structures[0].elementProperties.skinBinding)},getInstanceForEditTemplate:function(){return this},getInstanceForStatePreview:function(){var n=this.getFirstDisplayedListItem();return n?n.getSkinInstance():undefined},isMobileOnlyStyle:function(){return!!PropertiesManager.getPropertyValueInCustomState(this.properties.fieldsTemplates,MobileVersionViewManager.MobileStateName,PageManager.getCoordinator().id,this)},getFirstDisplayedListItem:function(){var t=this.dataItemsController.getAllControllers(),n=$.findFirst(t,function(n,t){return t.isInitialized()&&t.getInstance().isInstanceVisible()});return n?n.getInstance():undefined},updateSkinBindingFromEditingTemplate:function(n,t,i){var r=this,u;return r.isType(ElementsTypes.FormElement)&&(u=$.extend({},r.getPropertyValue("fieldsTemplates")),delete u.TextArea,r.setPropertyValue("fieldsTemplates",u)),r.replaceTemplate(t,{fieldName:i?i:n.getFieldName()}),r},shouldRefreshTemplates:function(){return!0},refreshTemplates:function(){OperationsManager.disableOperationsRecording("refreshTemplates");var n=this;$.eachItem(n.getItemsControllers(),function(t,i){var u=i.getDataItemId(),f=n.getDataSource().getItem(u),r=n.getDefaultTemplate(f.fieldTypeName).hierarchy;r.id!==i.getTemplateStructure().id&&(i.setTemplateStructure(r),n.resetItemTemplateSize(i,!0))});OperationsManager.enableOperationsRecording("refreshTemplates")},refreshTemplatesSize:function(n){var t=this,i=t.getPropertyValue("itemsStyle");$.eachItem(t.getItemsControllers(),function(i,r){t.resetItemTemplateSize(r,n)})},resetItemTemplateSize:function(n,t){var i=this,u=i.getPropertyValue("itemsStyle"),r=n.getDataItemId(),f=i.getDataSource().getItem(r),e=i.getDefaultTemplate(f?f.fieldTypeName:undefined).hierarchy;(t||e.id!==n.getTemplateStructure().id)&&u[r]&&n.setSize($.extend({},u[r].sizeAndPosition))},getDefaultFieldName:function(){return this.elementType.itemName?this.elementType.itemName:undefined},getDefaultTemplate:function(n){n=n?n:this.elementType.itemName;return $.getValues(this.getFieldsTemplates()[n])[0]},getFieldsTemplates:function(){var n=this.getPropertyValue("fieldsTemplates"),t=$.extend({},n);return $.eachEntry(n,function(n,i){t[n]=$.extend({},i)}),t}},aggregatedMethods:{aggregations:{onCreation:function(){this.shouldRearrange=ObservableFlag.create(!1)},switchToDesign:function(){var n=this;n.performWhenVisible(function(){RenderingCoordinator.performOnFramesLayoutUpdade(function(){n.refreshTemplatesSize(!0)},"refreshTemplatesSize-hasTemplates"+n.id)},"refreshTemplatesSize-hasTemplates"+n.id)}}},features:[Features.HasSkinBinding]}})}();LineHeightUnit={Pixel:1,Percentage:2},function(){function n(n,t,i){if(PropertiesManager.notifyCalculatedPropertyChange(n,"calculatedTextColor"),t===null){var r=TextStyleManager.getElementTextStyle(n);r&&(t=r.color)}t===null?n.getTextElements().css("color",""):(t=ThemeColorsManager.evaluateColorBinding(t,!0),n.animatePart(n.getTextElements(),{color:t},!0,i))}function t(n,t,i){if(PropertiesManager.notifyCalculatedPropertyChange(n,"calculatedFontSize"),t===null){var r=TextStyleManager.getElementTextStyle(n);r&&(t=r.fontSize)}t===null?n.getTextElements().css("font-size",""):n.animatePart(n.getTextElements(),{"font-size":t},!1,i,{step:function(){n.refreshTextLayout()},complete:function(){n.refreshTextLayout()}})}function i(n,t,i,r){if(i===null)n.getTextElements().css(t,"");else{var u={};u[t]=i;n.animatePart(n.getTextElements(),u,!1,r,{step:function(){n.refreshTextLayout()},complete:function(){n.refreshTextLayout()}})}}function r(n,t){switch(t.unit){case CSSUnits.Percentages:n.getTextElements().css("line-height",t.percentages/100);break;default:n.getTextElements().css("line-height",1.2)}}function u(n,t){if(PropertiesManager.notifyCalculatedPropertyChange(n,"calculatedFontFamily"),t===null){var i=TextStyleManager.getElementTextStyle(n);i&&(t=i.fontFamily)}t=ThemeFontsManager.evaluateFontBinding(t);n.getTextElements().css("font-family",t!==null?t:"")}function f(n,t){n.hasFeature(Features.HasRichContent)||n.getTextElements().toggleClass("label-text-bold",t.bold===!0).toggleClass("label-text-underline",t.underline===!0).toggleClass("label-text-italic",t.italic===!0)}ElementsModel.registerPropertiesCategories({TextStyle:{title:"Text Style",shortTitle:"Text",iconClass:"sprite-icon sprite-property-category-text"}});ElementsModel.registerDefinition(Features,{HasText:{className:"has-text",properties:{namedTextStyle:{defaultValue:$.returnNull,isStateProperty:!0,isStyleProperty:!0,onChange:function(n){LayoutManager.layoutUpdateBatch.start();PropertiesManager.invalidateProperty(n,"font");PropertiesManager.invalidateProperty(n,"fontSize");PropertiesManager.invalidateProperty(n,"fontColor");LayoutManager.layoutUpdateBatch.finish()}},fontColor:{title:"Font Color",category:PropertiesCategories.TextStyle,isStateProperty:!0,isStyleProperty:!0,isTextStyleProperty:!0,defaultValue:function(){return"black"},supportsStatesTransitionAnimation:!0,supportsThemeBinding:function(n,t){if(n!==null)return ThemeColorsManager.isColorBinding(n);var i=TextStyleManager.getElementTextStyle(t);return i?ThemeColorsManager.isColorBinding(i.color):!1},onChange:n},textShadow:{title:"Text Shadow",isStateProperty:!0,isStyleProperty:!0,supportsThemeBinding:function(n){return n?$.any(n,function(n){return ThemeColorsManager.isColorBinding(n.color)}):!1},supportsStatesTransitionAnimation:!1,category:PropertiesCategories.TextStyle,defaultValue:function(){return[]},valueConverter:[function(n){return n&&n.length>0?$.quickUnique(n,function(n){return"{0}-{1}-{2}-{3}".format(n.top,n.left,n.blur,n.color)}):n}],onChange:function(n,t,i,r){var h=r===undefined,o,s,e,u,f;if(!h||t.length>0){if(t.length>0){for(s=[],e=0;e<t.length;e++)u=t[e],f=ThemeColorsManager.evaluateColorBinding(u.color,!0),f=f?$.Color(f).toCSS():"black",s.push("{0}px {1}px {2}px {3}".format($.valueOrDefault(u.left,0),$.valueOrDefault(u.top,0),$.valueOrDefault(u.blur,0),f));o=s.join(",")}else o="none";n.getTextElements().css({textShadow:o})}}},lineHeight:{title:"Line Height",isStateProperty:!0,isStyleProperty:!0,category:PropertiesCategories.TextStyle,defaultValue:function(){return{pixels:14,percentages:120,unit:CSSUnits.Percentages}},onChange:r,scaleProperty:function(n){return{pixels:n.y}}},letterSpacing:{title:"Letter Spacing",isStateProperty:!0,isStyleProperty:!0,category:PropertiesCategories.TextStyle,defaultValue:function(){return 0},supportsStatesTransitionAnimation:!0,onChange:function(n,t,r){i(n,"letter-spacing",t,r)},valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter()],scaleProperty:function(n){return n.y}},fontSize:{title:"Text Size",isStateProperty:!0,isStyleProperty:!0,isTextStyleProperty:!0,category:PropertiesCategories.TextStyle,defaultValue:function(){return 30},supportsStatesTransitionAnimation:!0,onChange:t,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter()],scaleProperty:function(n){return n.y}},font:{title:"Font",category:PropertiesCategories.TextStyle,defaultValue:function(){return"Arial"},supportsThemeFontBinding:function(n,t){if(n!==null)return ThemeFontsManager.isFontBinding(n);var i=TextStyleManager.getElementTextStyle(t);return i?ThemeFontsManager.isFontBinding(i.fontFamily):!1},isStateProperty:!0,isStyleProperty:!0,isTextStyleProperty:!0,onChange:u},textStyle:{title:"Text Style",isStateProperty:!0,isStyleProperty:!0,category:PropertiesCategories.TextStyle,defaultValue:function(){return{bold:!1,underline:!1,italic:!1}},onChange:f},textDirection:{title:"Text Direction",isStateProperty:!1,isStyleProperty:!0,category:PropertiesCategories.TextStyle,defaultValue:function(){return TextDirection.LeftToRight},onChange:function(n,t){n.getTextElements().toggleClass("dir-ltr",t===TextDirection.LeftToRight);n.getTextElements().toggleClass("dir-rtl",t===TextDirection.RightToLeft)}}},calculatedProperties:["calculatedFontFamily","calculatedFontSize","calculatedTextColor"],methods:{refreshTextLayout:$.noop,getTextElements:function(){return $([])},alignHorizontal:function(){var t=this,n;t.hasHorizontalAlign()&&(n=t.getPropertyValue("horizontalAlign"),this.getTextElements().css({"text-align":n!==null?n:""}))},calculateFontSize:function(){var i=this,n=i.getPropertyValue(PropertiesTypes.fontSize.name),t;return n===null&&(t=TextStyleManager.getElementTextStyle(i),t&&(n=t.fontSize)),n===null&&(n=0),n},calculateDecimalLineHeight:function(){var i=this,n=i.getPropertyValue(PropertiesTypes.lineHeight.name),t=1.2;switch(n.unit){case CSSUnits.Percentages:t=n.percentages/100}return t},getCalculatedPropertyValue:function($super,n){switch(n){case"calculatedFontFamily":return TextStyleManager.evaluateElementTextStyle(this,TextStyleProperties.FontFamily,this.getPropertyValue("font"));case"calculatedFontSize":return TextStyleManager.evaluateElementTextStyle(this,TextStyleProperties.FontSize,this.getPropertyValue("fontSize"));case"calculatedTextColor":return TextStyleManager.evaluateElementTextStyle(this,TextStyleProperties.TextColor,this.getPropertyValue("fontColor"));default:return $super(n)}},setCalculatedPropertyValue:function($super,n,t,i,r){switch(n){case"calculatedFontFamily":this.setPropertyValue("font",t);break;case"calculatedFontSize":this.setPropertyValue("fontSize",t);break;case"calculatedTextColor":this.setPropertyValue("fontColor",t);break;default:$super(n,t,i,r)}}},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this,t=n.getPropertyValue("lineHeight");n.data.textStyleClass=ContextValue.createContextClass({getTarget:function(){return n.getTextElements()}})}}}}})}(),function(){function t(n){LayoutManager.refreshElementsLayout(n)}function i(t,i,r,u,f){t.animatePart(t.$element,{layoutMargin:i},undefined,r,{complete:f});t.isInDesignMode()&&n(t,i)}function n(n,t){var i=n.data.marginMarkings;i||(n.data.marginMarkings=i={});var r=n.getPropertyValue("fillLayout"),u=n.getPropertyValue("verticalLayout"),f=n.getPropertyValue("horizontalLayout");$.eachItem(["left","top","right","bottom"],function(e,o){var h=t[o],s,c,l;if(n.hasCellWrapper.isFalse()&&h!==0&&(o=="left"&&(r.fillHorizontal||f===LayoutManager.Layout.dockLeft||f===LayoutManager.Layout.centered)||o=="right"&&(r.fillHorizontal||f===LayoutManager.Layout.dockRight)||o=="top"&&(r.fillVertical||u===LayoutManager.Layout.dockTop||u===LayoutManager.Layout.centered)||o=="bottom"&&(r.fillVertical||u===LayoutManager.Layout.dockBottom))){s=i[o];s||(s=$("<span class='margin-marking'><span class='margin-marking-line'><\/span><\/span>").addClass(o).prependTo(n.$element),i[o]=s);c=o==="left"&&!r.fillHorizontal&&f===LayoutManager.Layout.centered||o==="top"&&!r.fillVertical&&u===LayoutManager.Layout.centered;s.removeClass("not-active");l=n.duringResizing.isTrue()||n.isInDragging.isTrue();s.quickToggle(l).toggleClass("positive",h>=0).toggleClass("negative",h<0).toggleClass("center-margin",c);switch(o){case"left":case"right":s.width(Math.abs(h));break;case"top":case"bottom":s.height(Math.abs(h))}}else i[o]&&i[o].addClass("not-active")})}ElementsModel.registerDefinition(Features,{HasLayout:{properties:{verticalLayout:{title:"Vertical Alignment",category:PropertiesCategories.Layout,defaultValue:function(){return LayoutManager.Layout.normal},isStateProperty:!0,priority:998,onChange:function(i){LayoutManager.beginLayoutUpdateBatch();t(i);i.isInDesignMode()&&n(i,i.getPropertyValue("margin"));LayoutManager.endLayoutUpdateBatch()}},horizontalLayout:{title:"Horizontal Alignment",category:PropertiesCategories.Layout,isStateProperty:!0,priority:998,defaultValue:function(){return LayoutManager.Layout.normal},onChange:function(i){LayoutManager.beginLayoutUpdateBatch();t(i);i.isInDesignMode()&&n(i,i.getPropertyValue("margin"));LayoutManager.endLayoutUpdateBatch()}},fillLayout:{comparer:function(n,t){return(n&&t||n===t)&&n.fillHorizontal===t.fillHorizontal&&n.fillVertical===t.fillVertical},title:"Layout Fill",priority:997,isStateProperty:!0,category:PropertiesCategories.Layout,defaultValue:function(){return{fillVertical:!1,fillHorizontal:!1}},onChange:function(i,r){LayoutManager.beginLayoutUpdateBatch();i.classesManager.set({"block-element":r.fillHorizontal});t(i);i.isInDesignMode()&&n(i,i.getPropertyValue("margin"));LayoutManager.endLayoutUpdateBatch()}},margin:{title:"Margin",isStateProperty:!0,defaultValue:function(){return{top:0,left:0,bottom:0,right:0}},supportsStatesTransitionAnimation:!0,priority:997,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["top","left","bottom","right"])],scaleProperty:function(n){return{bottom:n.y,right:n.x,top:n.y,left:n.x}},category:PropertiesCategories.Margin,onChange:i}},calculatedProperties:["horizontalDocking","verticalDocking"],methods:{isFillHorizontal:function(){var t=this,n=t.getPropertyValue("fillLayout");return n?n.fillHorizontal:!1},isFillVertical:function(){var t=this,n=t.getPropertyValue("fillLayout");return n?n.fillVertical:!1},hasHorizontalLayout:function(){return this.getPropertyValue("horizontalLayout")!==LayoutManager.Layout.normal||this.isFillHorizontal()},hasVerticalLayout:function(){return this.getPropertyValue("verticalLayout")!==LayoutManager.Layout.normal||this.isFillVertical()},isVerticallyDocked:function(n){return n?this.getPropertyValue("verticalLayout")===n:this.getPropertyValue("verticalLayout")!==LayoutManager.Layout.normal},getParentContentSize:function(){return this.hasCellWrapper.isTrue()?this.getCellItem().getArea():PositionManager.getContentSize(this.parentInstance)},getCalculatedPropertyValue:function($super,n){var t,i,r,u;switch(n){case"horizontalDocking":if(t=this.getPropertyValue("fillLayout","fillHorizontal"),t)return HorizontalDocking.Stretched;i=this.getPropertyValue("horizontalLayout");switch(i){case LayoutManager.Layout.dockLeft:return HorizontalDocking.Left;case LayoutManager.Layout.centered:return HorizontalDocking.Centered;case LayoutManager.Layout.dockRight:return HorizontalDocking.Right;default:return HorizontalDocking.None}case"verticalDocking":if(r=this.getPropertyValue("fillLayout","fillVertical"),r)return VerticalDocking.Stretched;u=this.getPropertyValue("verticalLayout");switch(u){case LayoutManager.Layout.dockTop:return VerticalDocking.Top;case LayoutManager.Layout.centered:return VerticalDocking.Centered;case LayoutManager.Layout.dockBottom:return VerticalDocking.Bottom;default:return VerticalDocking.None}default:return $super(n)}},setCalculatedPropertyValue:function($super,n,t,i,r){switch(n){case"horizontalDocking":this.setPropertyFieldValue("fillLayout","fillHorizontal",t===HorizontalDocking.Stretched);switch(t){case HorizontalDocking.Left:this.setPropertyValue("horizontalLayout",LayoutManager.Layout.dockLeft);break;case HorizontalDocking.Right:this.setPropertyValue("horizontalLayout",LayoutManager.Layout.dockRight);break;case HorizontalDocking.Centered:this.setPropertyValue("horizontalLayout",LayoutManager.Layout.centered);break;case HorizontalDocking.None:this.setPropertyValue("horizontalLayout",LayoutManager.Layout.normal)}break;case"verticalDocking":this.setPropertyFieldValue("fillLayout","fillVertical",t===VerticalDocking.Stretched);switch(t){case VerticalDocking.Top:this.setPropertyValue("verticalLayout",LayoutManager.Layout.dockTop);break;case VerticalDocking.Bottom:this.setPropertyValue("verticalLayout",LayoutManager.Layout.dockBottom);break;case VerticalDocking.Centered:this.setPropertyValue("verticalLayout",LayoutManager.Layout.centered);break;case VerticalDocking.None:this.setPropertyValue("verticalLayout",LayoutManager.Layout.normal)}break;default:$super(n,t,i,r)}}},aggregatedMethods:{aggregations:{updateInstanceToViewPort:function(){this.hasFeature(Features.HasResponsiveItem)&&this.shouldBeWithLayoutOnMobile()&&this.setPropertyFieldValue("fillLayout","fillHorizontal",!1)},adjustInstanceToViewPort:function(){this.hasFeature(Features.HasResponsiveItem)&&this.shouldBeWithLayoutOnMobile()&&(this.setPropertyFieldsValues("fillLayout",{fillVertical:!1,fillHorizontal:!1}),this.setPropertyValue("verticalLayout",LayoutManager.Layout.normal),this.setPropertyValue("horizontalLayout",LayoutManager.Layout.normal),this.setPropertyValue("margin",0))},onInitialized:function(){var n=this;n.hasFeature(Features.DesignElement)&&SimpleEvent.bind([n.duringResizing.valueChangedEvent,n.isInDragging.valueChangedEvent],function(){var r=n.duringResizing.isTrue()||n.isInDragging.isTrue(),t=n.data.marginMarkings,i;if(t)for(i in t)t[i].quickToggle(r)})}}}}});$.cssHooks.layoutMargin={get:function(n){var t=$instance(n);if(t)return t.currentMargin},set:function(n,t){var i=$instance(n);i&&(i.currentMargin=t,LayoutManager.refreshElementsLayout(i))}};$.fx.step.layoutMargin=function(n){$.cssHooks.layoutMargin.set(n.elem,{left:n.end.left===null?null:Math.floor(n.start.left+n.pos*(n.end.left-n.start.left)),top:n.end.top===null?null:Math.floor(n.start.top+n.pos*(n.end.top-n.start.top)),right:n.end.right===null?null:Math.floor(n.start.right+n.pos*(n.end.right-n.start.right)),bottom:n.end.bottom===null?null:Math.floor(n.start.bottom+n.pos*(n.end.bottom-n.start.bottom))})}}(),function(){ElementsModel.registerDefinition(Features,{Resizable:{methods:{},aggregatedMethods:{definitions:{adjustResizing:$.noop}}}})}(),function(){ElementsModel.registerDefinition(Features,{UserSelectable:{className:"user-selectable-element",properties:{startSelected:{title:"Start Selected",defaultValue:$.returnFalse,category:PropertiesCategories.Other}},methods:{setNeverSelectedInClick:function(n){this.data.neverSelected=n},isUserSelected:function(){return this.data.isUserSelected},userSelect:function(n){n===undefined&&(n=!this.data.isUserSelected);this.data.isUserSelected=n;this.data.isUserSelected?this.activateTrigger(Triggers.Selected):this.activateTrigger(Triggers.Unselected)}},aggregatedMethods:{aggregations:{onBeforePageOpen:function(){var n=this,t;this.data.isUserSelected!==undefined&&n.shouldInitInstanceOnPageChange()&&!n.data.neverSelected&&(t=n.getPropertyNormalValue("startSelected"),this.data.isUserSelected=!t,n.userSelect(t))},switchToPreview:function(){var n=this.getPropertyValue("startSelected");n&&this.userSelect(!0)},switchToDesign:function(){this.data.isUserSelected&&this.userSelect(!1)}}},triggers:[Triggers.Selected,Triggers.Unselected],supportedStates:[ElementStates.ElementSelectedState]}});Global.Events.LastEventOnInitiailizatGlobal.one(function(){$(document).on("vclick",".design-element.user-selectable-element",function(){if(ViewManager.isViewMode()){var n=$instance(this);n.data.neverSelected||n.userSelect()}})})}(),function(){ElementsModel.registerDefinition(Features,{HasSimpleBinding:{properties:{dataFields:{},binding:{defaultValue:$.returnNull,onChange:function(n,t,i,r){r&&n.data.callbackID&&DataSources[r.dataSourceName]&&n.data.callbackID.unbind();n.isInRefreshingBinding.setTrue("bindingChanged");PropertiesManager.UpdateBatch.start();n.data.propertiesBindings&&($.eachEntry(n.data.propertiesBindings,function(n,t){t.clearBinding()}),delete n.data.propertiesBindings);t&&t.dataSourceName&&(n.data.propertiesBindings=n.createBindingFieldsToProperties(),DataSources[t.dataSourceName]&&(n.data.callbackID=DataSources[t.dataSourceName].itemUpdatedEvent.bind(t.dataItemID,function(){n.refreshBinding()})));n.refreshBinding();PropertiesManager.UpdateBatch.finish();n.isInRefreshingBinding.setFalse("bindingChanged")}}},methods:{getDisplayName:function($super){var t=this,n=t.getContentBindingDisplayName();return n===undefined?$super():n},isConnectedToField:function(){var n=this;if(TemplateEditingManager.Flags.IsInEditingMode.isTrue()){var i=TemplateEditingManager.getCurrentInstance(),r=i.getPropertyValue("fieldsMap"),t=r[n.id];return t?$.findFirst(t,function(t,i){return DataSourceItemsFields[i.type].supportElementContentBinding(n.elementType.name)})!==undefined:!1}return n.hasBinding()},getContentBindingDisplayName:function(){var t=this,n,r,u,i;return TemplateEditingManager.Flags.IsInEditingMode.isTrue()?(r=TemplateEditingManager.getCurrentInstance(),u=r.getPropertyValue("fieldsMap"),n=u[t.id]):n=t.getBindingFields(),n?(i=$.findFirst(n,function(n,i){return DataSourceItemsFields[i.type].supportElementContentBinding(t.elementType.name)}),i&&i.title):void 0},setBindingValueToProperty:function(n,t){var i=this;i.data.propertiesBindings&&i.data.propertiesBindings[t]?i.data.propertiesBindings[t].setValue(n):i.setPropertyValue(t,n)},setBindingValuesToProperties:function(n){var t=this;$.eachEntry(n,function(n,i){t.setBindingValueToProperty(i,n)})},isBoundToProperty:function(n){return PropertiesTypes[n].isBound(this)},setBinding:function(n,t,i){this.setPropertiesValues({binding:{dataSourceName:n,dataFields:i,dataItemID:t}})},refreshBinding:function(){var n=this;n.performWhenVisible(function(){var t=n.getPropertyValue("binding");t&&DataSources[t.dataSourceName]&&(n.isInRefreshingBinding.setTrue("refreshBinding"),DataSources[t.dataSourceName].fetchDataItem(t.dataItemID,t.dataFields,function(t){n.onDataReady(t)},function(t){n.onDataError(t)}))},n.id+"refreshBinding-has-simple-binding")},updateBinding:function(){var n=this,t,i,r;ViewManager.isDesignMode()&&Modes.NormalMode.flag.isTrue()&&!n.isInRefreshing()&&n.InstancePropertiesInitialized.isTrue()&&n.hasBinding()&&!TemplateEditingManager.isDuringEditing()&&!ModeManager.updateBatch.isActive()&&(t=n.getPropertyValue("binding"),i=DataSources[t.dataSourceName],t&&i&&i.setDataItems&&(r=n.onUpdateBindingReady(),DataSources[t.dataSourceName].setDataItems(r)))},isInRefreshing:function(){var n=this;return n.isInRefreshingBinding.isTrue()},isBound:function(n){var t=this.getPropertyValue("binding");return t!==null&&t.dataFields[n]!==undefined},getBindingFields:function(n){var i=this.getPropertyValue("binding"),t=["dataFields"];return n!==undefined&&t.push(n),$.objectGet(i,t,function(n){return!n})},createBindingFieldsToProperties:$.returnEmptyObject,onUpdateBindingReady:function(){var n=this.getPropertyValue("binding");return $.cloneObject(DataSources[n.dataSourceName].fetchDataItem(n.dataItemID,n.dataFields))}},aggregatedMethods:{definitions:{onContentTypeChanged:$.noop,onDataReady:function(n){var t=this,r=t.getPropertiesValues().binding,i={};$.eachEntry(r.dataFields,function(t,r){i[t]=n[r.name]});this.onBoundValueReady(i,n);t.isInRefreshingBinding.setFalse("refreshBinding")},onBoundValueReady:$.noop,onDataError:function(){this.isInRefreshingBinding.setFalse("refreshBinding")}},aggregations:{onCreation:function(){this.isInRefreshingBinding=ObservableFlag.createConditionalNegative()},onRemove:function(){var t=this,n=this.getPropertiesValues().binding;n&&n!==null&&t.data.callbackID&&DataSources[n.dataSourceName]&&DataSources[n.dataSourceName].getCollectionItems().itemUpdatedEvent.unbind(t.data.callbackID)},onInitialized:function(){this.refreshBinding()}}}}})}(),function(){function t(n,t){var i,e,u,f,r;if(n.removeUrl(),n.refreshCursor(),t&&t.url){if(t.type===LinkTypes.Pages){if(e=PageManager.getPageData(t.url),!e)return;i=PageManager.getPageFragmentValue(t.url)}else t.type===LinkTypes.Email?i="mailto:"+t.url:t.type===LinkTypes.Cell?i="tel:"+t.url:t.type===LinkTypes.Asset?i=AssetsManager.resolveAssetUrl(t.url):(u=t.url,t.url.indexOf("://")<0&&(u="http://"+u),i=u);f=n.getMainBox();n.isInDesignMode()&&(t.type!==LinkTypes.Pages||n.getPropertyValue("openInNewTab"))?(f.bind("click.link",function(){var n,r;t.type===LinkTypes.Asset?(n="Open File",r='The editor is preventing you from opening the file "{0}"<br/> Do you want to open the file anyway?'.format(t.url.title)):(n="Open Link",r='The editor is preventing you from opening a link to "{0}"<br/> Do you want to open the link in a new window?'.format(i));ConfirmationDialog.open({buttons:ConfirmationPanel.YesNoButtons,buttonsOptions:[{type:ConfirmationButtonsTypes.Yes,href:i}],header:n,confirmationMessage:r})}),n.data.bindToLink=!0):(r=$("<a class='design-element-link-part no-decorations'><\/a>").bind("click",function(n){t.type!==LinkTypes.Pages&&n.stopPropagation()}),n.getPropertyValue("openInTopWindow")?r.attr("target","_top"):(n.getPropertyValue("openInNewTab")||PropertiesTypes.urlAddress.isBound(n)&&t.type!==LinkTypes.Pages)&&r.attr("target","_blank"),t.type===LinkTypes.Pages&&(r.addClass("internal-link"),i=UrlManager.getFullHtmlUrl(i)),r.attr("href",i),f.wrap(r),n.data.wrapWithLink=!0)}}function i(n,i){if(n.isInPreview()&&t(n,i),n.data.pageDeletedForUrlBinding&&n.data.pageDeletedForUrlBinding.unbind(),i&&i.type===LinkTypes.Pages){var r=PageManager.getPageData(i.url);r?n.data.pageDeletedForUrlBinding=PageManager.Events.PageDeleted.bind(function(t){t===i.url&&(OperationsManager.disableOperationsRecording("changingUrlAddress"),n.setPropertyValue("urlAddress",null),OperationsManager.enableOperationsRecording("changingUrlAddress"))}):(OperationsManager.disableOperationsRecording("changingUrlAddress"),n.setPropertyValue("urlAddress",null),OperationsManager.enableOperationsRecording("changingUrlAddress"))}}var n={True:{"webzai-clickable-behaviour":!0},False:{"webzai-clickable-behaviour":!1}};ElementsModel.registerDefinition(Features,{Clickable:{className:"clickable-element",properties:{urlAddress:{title:"Url",defaultValue:$.returnNull,supportsBinding:!0,isNotForCustomProperty:!0,isBound:function(n){return n.hasFeature(Features.HasSimpleBinding)&&n.isBound(DataSourceItemsFields.link.getContentType())},onChange:i},openInNewTab:{title:"open In New Tab",defaultValue:$.returnFalse},openInTopWindow:{title:"open In New Tab",defaultValue:$.returnFalse}},methods:{hasBinding:function(){return PropertiesTypes.urlAddress.isBound(this)},hasButtonBehaviour:function(){var n=this,t=n.getPropertyValue("urlAddress"),i=t&&t.url;return i||ConnectionManager.hasTargetConnectionsInPagesForTriggers(n,PageManager.getCurrentPage(),Triggers.MouseDown,Triggers.MouseClick,Triggers.MouseUp)||PropertiesManager.isStyleAffectingInPage(n,PageManager.getCurrentPage(),ElementStates.MouseDownState)||PropertiesManager.isStyleAffectingInPage(n,PageManager.getCurrentPage(),ElementStates.ElementSelectedState)||$.count(n.getPropertyValue("customStates"))>0},refreshCursor:function(){var t=this;t.hasButtonBehaviour()?t.classesManager.set(n.True):t.classesManager.set(n.False)},createBindingFieldsToProperties:function($super){var t=this,n=$super(),i=DataSourceItemsFields.link.getContentType();return this.isBound(i)&&(n[PropertiesTypes.urlAddress.name]=ObservableObject.createPropertyBinding(t,{propertyName:PropertiesTypes.urlAddress.name})),n},removeUrl:function(){var n=this,t;n.data.wrapWithLink?(t=n.getMainBox(),t.unwrap(),n.data.wrapWithLink=!1):n.data.bindToLink&&(n.getMainBox().unbind("click.link"),n.data.bindToLink=!1)}},aggregatedMethods:{aggregations:{switchToPreview:function(){var n=this;window.setTimeout(function(){t(n,n.getPropertyValue("urlAddress"))},0)},onBoundValueReady:function(n){var t=DataSourceItemsFields.link.getContentType();this.isBound(t)&&this.setBindingValueToProperty(n[t]===undefined?null:n[t],PropertiesTypes.urlAddress.name)}}},features:[Features.UserSelectable,Features.HasSimpleBinding],triggers:[Triggers.MouseClick,Triggers.MouseDown,Triggers.MouseUp],supportedStates:[ElementStates.MouseDownState]}});Global.Events.LastEventOnInitiailizatGlobal.one(function(){$(document).on("vmousedown",".design-element.clickable-element",function(n){if(ViewManager.isViewMode()){var t=$instance(this);t.activateTrigger(Triggers.MouseDown,n);$(document).one("vmouseup",function(n){window.setTimeout(function(){t.activateTrigger(Triggers.MouseUp,n)},0)})}}).on("vclick",".design-element.clickable-element",function(n){if(ViewManager.isViewMode()){var t=$instance(this);t.activateTrigger(Triggers.MouseClick,n)}})})}(),function(){ElementsModel.registerDefinition(Features,{Editable:{methods:{startEditing:function(){this.onStartEditing();this.data.duringEditing=!0;this.isInEditingData.setValue(!0);this.duringEditingBatch.start()},finishEditing:function(n){n===undefined&&(n=!0);this.data.duringEditing=!1;this.isInEditingData.setValue(!1);this.duringEditingBatch.finish();this.onFinishEditing(n);this.$element.enableSelectionTriggering()},isEditing:function(){return this.data.duringEditing},editingEnabled:function(){return!0},onEditingDisable:$.noop},aggregatedMethods:{definitions:{onStartEditing:function(){DraggingManager.isEnabled()&&DraggingManager.toggleEnable(!1)},onFinishEditing:function(){NotificationPanel.hideNotification();DraggingManager.isEnabled()||DraggingManager.toggleEnable(!0)}},aggregations:{onCreation:function(){var n=this;n.isInEditingData=ObservableFlag.create(!1);n.duringEditingBatch=OperationsBatch.create()}}}}})}(),function(){function n(){var n=this,t;Global.IsDesigner&&(t=n.data.isInSelectionContextListener=SimpleEvent.createEventListener([n.canEdit.valueChangedEvent,n.isInSelectionContext.valueChangedEvent],function(){var t=n.isInSelectionContext.getValue()&&!n.hasFeature(Features.DataList)&&(!n.hasFeature(Features.DataListItem)||n.canEdit.isTrue());t?n.isOverflowHidden.setValue(!1):n.setOverFlow()}),n.propertyChangedEvent.bindAndExecute("overflow",function(){var i=n.getPropertyValue("overflow");i?t.activateAndExecute():t.deactivate()}));n.isOverflowHidden.valueChangedEvent.bindAndExecute(function(){var t=n.isOverflowHidden.getValue();t?n.getContentLayer().addClass("overflow-hidden"):n.getContentLayer().removeClass("overflow-hidden")})}ElementsModel.registerDefinition(Features,{HasOverFlow:{aggregatedMethods:{aggregations:{onCreation:function(){this.isOverflowHidden=ObservableFlag.create(!1)},onInitializing:n}},properties:{overflow:{title:"Overflow",isStyleProperty:!0,defaultValue:$.returnFalse,category:PropertiesCategories.Other,onChange:function(n){n.setOverFlow()}}},methods:{setOverFlow:function(){var n=this,t=n.getPropertyValue("overflow");n.isOverflowHidden.setValue(t)}}}})}(),function(){function n(n){return $.any(n.childInstances,function(n){return n.isMandatory()})}function t(n){return $.any(n.childInstances,function(n){return n.isUnique()})}ElementsModel.registerDefinition(Features,{ItemsContainer:{properties:{isGrowable:{title:"Growable",defaultValue:function(){return{bottom:!1,right:!1}},category:PropertiesCategories.Other},rowsItems:{isStateProperty:!0,notForUndoProperty:!0,defaultValue:$.returnNull}},features:[Features.HasOverFlow],methods:{canDuplicate:function(){var n=this;return!t(n)},isUnique:function(){var n=this;return t(n)},isMandatory:function(){var t=this;return n(t)},addRowToContainer:function(n){var t=this.getPropertyValue("rowsItems");t||(t={});t=$.deepCloneObject(t);t[n.id]=n.getDataForSave();this.setPropertyValue("rowsItems",t)},removeRowFromContainer:function(n){var t=this.getPropertyValue("rowsItems");t&&(t=$.deepCloneObject(t),delete t[n.id],this.setPropertyValue("rowsItems",t))},getRowsFromContainer:function(){var i=this,t=this.getPropertyValue("rowsItems"),n=[];return t&&($.eachEntry(t,function(t,r){var u=RowsManager.getRowById(r.id);u&&u.containerInstance===i&&n.push(u)}),n=n.orderBy(function(n){return n.getCellsArray()[0].getInstance().childIndex.getValue()})),n},hasRowsFromContainer:function(){var i=this,n=this.getPropertyValue("rowsItems"),t=!1;return n&&$.eachEntry(n,function(n,r){var u=RowsManager.getRowById(r.id);if(u&&u.containerInstance===i)return t=!0,!1}),t},selectBeforeChildren:function(){return!0},getContextChildren:function(){return this.getChildInstances()},hasBoundaries:function(){return MobileVersionViewManager.Flags.IsActivated.isTrue()||this.hasCellWrapper.isTrue()||this.hasRowsFromContainer()},hasContentVerticalAlign:function(){return MobileVersionViewManager.Flags.IsActivated.isTrue()},adjustSizeAndPositionToChilds:function(){var i=this,r=ArrangementManager.calculateArrangementSizeAndPositionInfo(i.childInstances),u=$.extend({},i.getPropertyValue("sizeAndPosition")),n,t;RenderingCoordinator.startRenderingBatch();n=r.top;t=r.left;i.setPropertyFieldsValues("sizeAndPosition",{width:r.right-t,height:r.bottom-n,left:u.left+t,top:u.top+n});(t!==0||n!==0)&&$.eachItem(i.childInstances,function(i,r){var u=r.getPropertyValue("sizeAndPosition");r.setPropertyFieldsValues("sizeAndPosition",{top:u.top-n,left:u.left-t})});RenderingCoordinator.finishRenderingBatch()},append:$.noop,reorderChildElements:function(){var f,i,r,s,n,t;if(this.hasOrder.getValue()){if(f=$([]),i=this.getChildInstances(),i.length===0)return;if(MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&this.canContainerRows()){if(!this.hasRowsFromContainer())return;var u={},e=[],o=$([]),h,c;for(t=0;t<i.length;t++)r=i[t],r.hasFeature(Features.HasResponsiveItem)&&r.shouldBeWithLayoutOnMobile()&&r.getCellItem()&&r.hasCellWrapper.isTrue()&&(s=r.getCellItem(),n=s.getRowParent(),n&&(o.length===0&&(c=n),u[n.id]||(u[n.id]=$([]),e.push(n),o.pushElements(n.$element),h=n),u[n.id].pushElements(s.getElement())));e.length>0&&($.eachItem(e,function(n,t){t.markChilds()}),c.toggleFirstRow(!0),h.toggleLastRow(!0),o.applyDOMOrder(),$.eachEntry(u,function(n,t){t.applyDOMOrder()}))}else{for(t=0;t<i.length;t++)f.pushElements(i[t].$element);f.applyDOMOrder()}}},addChildElement:function(n){return this.getContentLayer().append(n.$element)},renderElementChildren:function(n){for(var r,u=this,i=u.childInstances,f=i.length,t=0;t<f;t++)r=i[t],r.renderElement(n)},canContainerRows:function(){return!this.isContent()},getChildrenCollection:function(){return this.data.childrenCollection},accept:$.returnTrue,isDroppable:function($super){return $super()&&this.isSelectable!==!1&&this.isInstanceVisible()&&!this.isForTemplateUse()&&TemplateEditingManager.getCurrentInstance()===this.getTemplateItemContent()},canDelete:function($super){return $super()&&!n(this)}},aggregatedMethods:{aggregations:{onCreation:function(){var n=this;n.childElementAdded=SimpleEvent.create();Global.IsDesigner&&(n.data.childrenCollection=new ObservableCollection)}},definitions:{onChildElementRemoved:function(n){Global.IsDesigner&&this.data.childrenCollection.remove(n.id);Global.Events.ChildElementRemoved.fire(this,n)},onChildElementAdded:function(n,t){ElementsManager.Events.ElementAddedToContainer.fireNew(n);var i=this;t&&t.isInDrop&&n.setPropertiesValues({verticalLayout:LayoutManager.Layout.normal,horizontalLayout:LayoutManager.Layout.normal,fillLayout:{fillHorizontal:!1,fillVertical:!1},isFixed:!1});OrderManager.reassignElementsOrders();PositionManager.visibilityTreeAttach(n);Global.IsDesigner&&i.data.childrenCollection.put(n);this.childElementAdded.fireNew(n)}}}}})}(),function(){function t(n,t){var i={animation:n,animationOptions:{duration:t}};PositionManager.isElementVisible(this)?this.hideElement(i):this.showElement(i)}function i(t,i,r){if(r!==undefined&&$.isPlainObject(r.transitionEffect)&&(r.transitionEffect=r.transitionEffect.name),!ViewManager.isDesignMode()||n(t)||t.isForTemplateUse())if(r&&r.transitionDuration){var u={animation:r.transitionEffect,animationOptions:{duration:r.transitionDuration,direction:r.transitionSlideDirection,flyDirection:r.transitionFlyDirection}};i?t.showElement(u):t.hideElement(u)}else i?t.showElement():t.hideElement()}function n(n){return n.isTemplateItemContent()&&!n.hasFeature(Features.TemplateItem)&&!SkinEditingManager.isDuringEditing()}ElementsModel.registerPropertiesCategories({Visibility:{title:"Visibility",iconClass:"sprite-icon sprite-property-category-visibility"}});ElementsModel.registerDefinition(Features,{Hideable:{methods:{toggleVisibility:t},properties:{isVisible:{shouldRefreshIfNotVisible:!0,isStateProperty:!0,title:"Visibility",defaultValue:$.returnTrue,category:PropertiesCategories.Visibility,supportsStatesTransitionAnimation:!0,onChange:i}},aggregatedMethods:{aggregations:{onCreation:function(){this.isVisibleFlag=ObservableFlag.create(!0)},onBeforePageOpen:function(){var n=this,t;t=MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?n.getPropertyMobileValue("isVisible"):n.getPropertyNormalValue("isVisible");n.shouldInitInstanceOnPageChange()&&t!==undefined&&PropertiesManager.updateComputedValue(n,n.properties.isVisible,t)},switchToDesign:function(){var t=this,i;i=MobileVersionViewManager.Flags.IsInMobileContext.isTrue()?t.getPropertyMobileValue("isVisible"):t.getPropertyNormalValue("isVisible");i!==undefined&&ModeManager.getPrevMode()===Modes.NormalMode&&PropertiesManager.updateComputedValue(t,t.properties.isVisible,i);n(t)||t.showElement()},onInitialized:function(){var n=this;n.previewEventsListener.add(SimpleEvent.createEventListener([MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent],function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){var t=n.getPropertyValue("isVisible");t===!1?n.hideElement():n.isInstanceVisible()||n.showElement()},n.id+"hideable-visibi-preview")}))}}}}})}(),function(){function n(n,t,i,r){if(t){var u=r===undefined,f=t.top!==0||t.left!==0||t.right!==0||t.bottom!==0;!u||f?n.animatePart(n.$element,{instanceBorderWidth:t},!1,i,{isInitialization:u}):n.setActualPropertyValue("borderWidth",{left:0,top:0,right:0,bottom:0})}}function t(n,t,i,r){if(!t)return undefined;if($.support.borderRadius){var f=t.topLeft!==0||t.topRight!==0||t.bottomLeft!==0||t.bottomRight!==0,u=r===undefined;!u||f?n.animatePart(n.$element,{instanceBorderRadius:t},!1,i,{isInitialization:u}):n.setActualPropertyValue("borderRadius",{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0})}}function i(n,t,i,r){if(t){var u={borderTopColor:ThemeColorsManager.evaluateColorBinding(t.top,!0),borderBottomColor:ThemeColorsManager.evaluateColorBinding(t.bottom,!0),borderLeftColor:ThemeColorsManager.evaluateColorBinding(t.left,!0),borderRightColor:ThemeColorsManager.evaluateColorBinding(t.right,!0)},f=r===undefined,e=n.getBorderBox();n.animatePart(e,u,!0,i,{isInitialization:f});PropertiesManager.notifyCalculatedPropertyChange(n,"lineColor")}}function r(n,t){t&&n.getBorderBox().css({borderTopStyle:t.top,borderBottomStyle:t.bottom,borderLeftStyle:t.left,borderRightStyle:t.right})}ElementsModel.registerPropertiesCategories({Border:{title:"Border",iconClass:"sprite-icon sprite-property-category-border",shortTitle:"Border"},Roundness:{title:"Roundness",iconClass:"sprite-icon sprite-property-category-roundness"}});ElementsModel.registerDefinition(Features,{HasBorder:{properties:{borderWidth:{title:"Border Width",isStateProperty:!0,isStyleProperty:!0,scaleProperty:function(n){return{bottom:n.y,right:n.x,top:n.y,left:n.x}},getResetValue:$.returnEmptyBorderObject,defaultValue:$.returnEmptyBorderObject,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["top","left","bottom","right"])],category:PropertiesCategories.Border,supportsStatesTransitionAnimation:!0,onChange:n},roundness:{title:"Roundness",isStateProperty:!0,isStyleProperty:!0,supportsStatesTransitionAnimation:!0,getResetValue:$.returnEmptyRoundnessObject,defaultValue:$.returnEmptyRoundnessObject,scaleProperty:function(n){return{bottomRight:n.x,topRight:n.x,topLeft:n.x,bottomLeft:n.x}},valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["topLeft","bottomLeft","topRight","bottomRight"])],category:PropertiesCategories.Roundness,onChange:t},borderColor:{title:"Border Color",isStateProperty:!0,isStyleProperty:!0,getResetValue:$.returnBlackBorderObject,defaultValue:$.returnBlackBorderObject,valueConverter:[StructureLoadingManager.createStringToObjectValueConverter(["top","left","bottom","right"]),StructureLoadingManager.createValueToObjectValueConverter(["top","left","bottom","right"])],supportsStatesTransitionAnimation:!0,supportsThemeBinding:["top","left","bottom","right"],category:PropertiesCategories.Border,onChange:i},borderStyle:{title:"Border Style",isStateProperty:!0,isStyleProperty:!0,getResetValue:function(){return $.convertValueToObject("solid",["top","left","bottom","right"])},defaultValue:function(){return $.convertValueToObject("solid",["top","left","bottom","right"])},category:PropertiesCategories.Border,onChange:r}},calculatedProperties:["lineColor"],methods:{getCalculatedPropertyValue:function($super,n){switch(n){case"lineColor":return this.getPropertyValue("borderColor","top")}return $super(n)},setCalculatedPropertyValue:function($super,n,t,i,r){switch(n){case"lineColor":this.setPropertyValue("borderColor",t,i,r);return}$super(n,t,i,r)}},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this;n.borderTargetAddedEvent.bind(function(t){var r=n.getActualPropertyValue("borderWidth"),i;r&&t.css({"border-top-width":r.top,"border-left-width":r.left,"border-bottom-width":r.bottom,"border-right-width":r.right});i=n.getActualPropertyValue("borderRadius");i&&t.css({borderRadiusTopLeft:i.topLeft,borderRadiusTopRight:i.topRight,borderRadiusBottomLeft:i.bottomLeft,borderRadiusBottomRight:i.bottomRight})})}}}}});$.cssHooks.instanceBorderWidth={get:function(n){var t=$instance(n);return t&&t.getActualPropertyValue("borderWidth")},set:function(n,t){var i=$instance(n),r;i&&(i.setActualPropertyValue("borderWidth",t),i.getBorderTarget().css({borderTopWidth:t.top+"px",borderLeftWidth:t.left+"px",borderBottomWidth:t.bottom+"px",borderRightWidth:t.right+"px"}),r=i.getActualPropertyValue("borderRadius"),i.hasFeature(Features.ItemsContainer)&&r&&!$.borderWidthEqualityComparer(i.data.borderWidth,t)&&(i.data.borderRadius=r,i.data.borderWidth=t,$.updateInnerBorderRadius(i.getContentLayer(),r,t)),i.handleContentSizeChange(),LayoutManager.refreshElementsLayout(i))}};$.fx.step.instanceBorderWidth=function(n){$.cssHooks.instanceBorderWidth.set(n.elem,{left:n.end.left===null?null:Math.floor(n.start.left+n.pos*(n.end.left-n.start.left)),top:n.end.top===null?null:Math.floor(n.start.top+n.pos*(n.end.top-n.start.top)),right:n.end.right===null?null:Math.floor(n.start.right+n.pos*(n.end.right-n.start.right)),bottom:n.end.bottom===null?null:Math.floor(n.start.bottom+n.pos*(n.end.bottom-n.start.bottom))})};$.cssHooks.instanceBorderRadius={get:function(n){var t=$instance(n);return t&&t.getActualPropertyValue("borderRadius")},set:function(n,t){var i=$instance(n),r;i&&(i.setActualPropertyValue("borderRadius",t),i.getBorderTarget().css({borderRadiusTopLeft:t.topLeft,borderRadiusTopRight:t.topRight,borderRadiusBottomLeft:t.bottomLeft,borderRadiusBottomRight:t.bottomRight}),i.hasFeature(Features.ItemsContainer)&&t&&!$.borderRadiusEqualityComparer(i.data.borderRadius,t)&&(r=i.getActualPropertyValue("borderWidth"),i.data.borderRadius=t,i.data.borderWidth=r,$.updateInnerBorderRadius(i.getContentLayer(),t,r)))}};$.fx.step.instanceBorderRadius=function(n){$.cssHooks.instanceBorderRadius.set(n.elem,{topLeft:n.end.topLeft===null?null:Math.floor(n.start.topLeft+n.pos*(n.end.topLeft-n.start.topLeft)),topRight:n.end.topRight===null?null:Math.floor(n.start.topRight+n.pos*(n.end.topRight-n.start.topRight)),bottomLeft:n.end.bottomLeft===null?null:Math.floor(n.start.bottomLeft+n.pos*(n.end.bottomLeft-n.start.bottomLeft)),bottomRight:n.end.bottomRight===null?null:Math.floor(n.start.bottomRight+n.pos*(n.end.bottomRight-n.start.bottomRight))})}}(),function(){ElementsModel.registerDefinition(Features,{HasOutline:{properties:{lineWidth:{title:"Line Width",isStateProperty:!0,isStyleProperty:!0,getResetValue:$.returnOne,defaultValue:$.returnOne,category:PropertiesCategories.Border,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter()],scaleProperty:function(n){return n.x}},lineColor:{title:"Line Color",isStateProperty:!0,isStyleProperty:!0,supportsThemeBinding:!0,defaultValue:function(){return"Black"},category:PropertiesCategories.Border},lineStyle:{title:"Line Style",isStateProperty:!0,isStyleProperty:!0,defaultValue:function(){return"solid"},category:PropertiesCategories.Border}},aggregatedMethods:{aggregations:{}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasEmptyState:{aggregatedMethods:{aggregations:{onCreation:function(){var n=this;n.inEmptyStateFlag=ObservableFlag.createConditionalPositive();n.emptyStateChangedEvent=SimpleEvent.create()}}}}})}(),function(){function n(n,t){var u=!1,o=!0,f=!1,e=!1;if($.containsOneOfKeys(t,"fieldsTemplates","dataLayout")&&(u=!0,e=!0,"dataLayout"in t&&n.hasFeature(Features.HasFormData)&&(o=!1)),t.usePagesLayout&&(u=!0,f=!0,e=!0),t.dataLayoutOptions){u=!0;e=!0;var s=n.dataLayoutController.getArrangement(),h=s.category===DataArrangements.Vertical,c=s.category===DataArrangements.Grid,i=t.dataLayoutOptions.oldValue,r=t.dataLayoutOptions.value;(i.cols!==r.cols||i.rows!==r.rows)&&(o=!1);i.elementsPerPage!==r.elementsPerPage&&(f=!0);(i.maxItems!==r.maxItems||i.maxItemsCount!==r.maxItemsCount)&&(f=!0)}u&&n.requestArrangement({keepItemSize:o,shouldFetch:f,shouldPush:e})}ElementsModel.registerDefinition(Features,{DataList:{properties:{itemsStyle:{isStateProperty:!0,shouldRefreshIfNotVisible:!0,notForUndoProperty:!0,defaultValue:$.returnEmptyObject}},methods:{shouldBeBlockElementInMobile:function(){return!0},getDataItemInstanceId:function(n){return this.id+TemplateItemInstanceIdSeperator+n},getAllItemsIds:function(n){var i=this,r=$.getValues(i.getDataSource().getAllDataItems()),t=[];return $.eachItem(r,function(i,r){r.fieldTypeName&&r.fieldTypeName!==n||t.push(r.id)}),t},alignHorizontal:function(){var n=this,t;n.hasHorizontalAlign()&&(t=n.getPropertyValue("horizontalAlign"),n.$elementContentContainer.css("text-align",t),PositionManager.invalidateAreas(n.getDescendingInstances(),{updateSize:!1}))},hasHorizontalAlign:function(){var n=this.getPropertyValue("dataLayout");return DataLayouts[n.name].category===DataArrangements.Grid||DataLayouts[n.name].category===DataArrangements.Rows||DataLayouts[n.name].category===DataArrangements.Columns?!0:!1},getTemplateInstance:function(n){var i=this,t=i.getInstanceController(n);return t?t.getInstance():undefined},getInstanceController:function(n){var t=this;return t.dataItemsController.getInstanceController(n)},getMinSize:function(){var t=this,n=t.dataLayoutController.getMinSize();return{height:n.height,width:n.width}},reorderChildElements:function(){var t,i,n;if(this.hasOrder.getValue()){for(i=$([]),t=this.getChildInstances(),n=0;n<t.length;n++)!t[n].hasFeature(Features.DataListItem)&&t[n].isContent()&&i.pushElements(t[n].$element);for(i.applyDOMOrder(),i=$([]),n=0;n<t.length;n++)t[n].hasFeature(Features.DataListItem)||t[n].isContent()||!t[n].isInstanceVisible()||i.pushElements(t[n].$element);i.applyDOMOrder()}},getItemsInstances:function(){var t=this,i=t.getItemsControllers(),n=[];return $.eachItem(i,function(t,i){n.push(i.getInstance())}),n},getItemsControllers:function(){var n=this;return n.dataItemsController.getAllControllers()},getPcTemplateSize:function(){var n=$.objectGet(this.dataLayoutController.getLastArrangementOptionsDevice(),["pc","fixedSize"]);return n?n:this.getStructureMetaData().dataItemSizePc},adjustDataListToMobile:function(){var n=this;DataListHelper.arrangeDataListToMobileFirstTime(n)},calculateItemSizeOnMobile:function(n){var t=this.getPcTemplateSize();return{height:t?$.maxValue([t.height,30]):30,width:n.width}},updateDataListToMobile:function(){var n=this;LayoutManager.LayoutContentOperationsSet.isLocked(n.getArrangementRequestName())||(n.dataLayoutController.resetLayout(),n.refreshTemplatesSize(!0),n.getDataSource().invalidateAllItems(),n.requestArrangement(),LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName()))},removeDataListFromMobile:function(){var n=this;n.performWhenVisible(function(){OperationsManager.disableOperationsRecording("removeInstanceFromViewPort");n.dataLayoutController.resetLayout();n.getDataSource().invalidateAllItems();n.refreshTemplatesSize(!0);n.requestArrangement({keepItemSize:!0,shouldPush:!0});LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName());OperationsManager.enableOperationsRecording("removeInstanceFromViewPort")})},shouldRequestArrangementFromSizeChange:function(){return!LayoutManager.isInFinishingLayoutContentUpdate()},setContentSizeChangeBinding:function(){var n=this;n.contentSizeChangedEvent.bind(function(){var t=n.getContentSize(),i=n.dataLayoutController.getLastArrangementInstanceSizeByDevice();$.sizesEqual({width:0,height:0},t)||$.sizesEqual(i,t)||n.requestArrangement({keepItemSize:!1,shouldFetch:!1})})},canContainerRows:$.returnFalse,accept:$.returnFalse,shouldReferToStateValue:function($super,n,t,i){return n==="sizeAndPosition"&&ElementsManager.getInstanceByID(i).isContent()?!1:$super(n,t,i)}},features:[Features.HasArrangement,Features.HasDataSource,Features.ItemsContainer,Features.HasPadding,Features.HasContent,Features.HasTemplates,Features.HasEmptyState],aggregatedMethods:{definitions:{setItem:$.noop},aggregations:{onCreation:function(){var n=this;n.reArrangementDisabled=ObservableFlag.createConditionalNegative(!1);n.beforeReArrangingFinished=SimpleEvent.create();n.reArrangingFinished=SimpleEvent.create();n.reArrangingFinishedWasFired=!1;n.totalCountObservable=ObservableObject.createNumerical(undefined,{valueChangeCallback:function(t){n.inEmptyStateFlag.setValue(t===0)}})},onDataSourceRefresh:function(){var n=this;n.requestArrangement({shouldPush:!0})},adjustInstanceToViewPort:function(){var n=this;n.setPropertyValue("margin",0);n.adjustDataListToMobile()},updateInstanceToViewPort:function(){this.updateDataListToMobile()},removeInstanceFromViewPort:function(){this.removeDataListFromMobile()},onPropertiesChanged:function(t){var i=this;i.isInitialized&&($.containsOneOfKeys(t,"dataInfo")||n(i,t))},onInitializing:function(){var n=this;n.hasHorizontalAlignFlag.setTrue();n.setContentSizeChangeBinding();var t=n.getDataSource(),i=t.getCollectionItems(),r=SimpleEvent.createEventListener(n.visibilityChangedEvent,function(){var r=PositionManager.isElementVisible(n);r?(n.reArrangementDisabled.setValue(!1,"visibilityChangedEvent"),i.unPostponeUpdates(),t.dataSourceRefreshedObserver.unPostponeEvents()):(i.postponeUpdates(),t.dataSourceRefreshedObserver.postponeEvents(),n.reArrangementDisabled.setValue(!0,"visibilityChangedEvent"))});r.activateAndExecute();n.instanceRemoving.one(function(){r.deactivate()})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{Rotatable:{properties:{rotationAngle:{title:"Rotation Angle",isStateProperty:!0,isStyleProperty:!0,supportsStatesTransitionAnimation:!0,defaultValue:function(){return 0},category:PropertiesCategories.Rotation,onChange:function(n,t,i){n.setRotation(t,i)}}},methods:{canRotate:function(){return!Global.IsExplorerMode&&(!this.canMove||this.canMove.isTrue())},setRotation:function(n,t){var i=this,s,u,f,r,e,o;i.canRotate()&&(s=n!==0,u=!i.isInitialized,(!u||s)&&(f=i.getMainBox(),r=n,t&&t.transitionDirection==="left"&&(r=-(360-n)),e=r===0?"":"rotate({0}deg)".format(r),o={},o[$.support.transformCSS]=e,i.animatePart(f,{transform:e},o,t,{isInitialization:u,complete:function(){if(i.getPropertyNormalValue("rotationAngle")===n){var t=n?"rotate({0}deg)".format(n):"";f.css({transform:t})}}})))}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasContentOverlay:{}})}(),function(){ElementsModel.registerDefinition(Features,{FormInput:{properties:{},methods:{clear:$.noop,getValue:$.noop,canDuplicate:function(){return!1}}}})}(),function(){ElementsModel.registerDefinition(Features,{Focusable:{triggers:[Triggers.GotFocus,Triggers.LostFocus],supportedStates:[ElementStates.ElementFocusedState],aggregatedMethods:{aggregations:{onInitialized:function(){var n=this,t=n.$element;t.focusin(function(t){n.activateTrigger(Triggers.GotFocus,t)});t.focusout(function(i){$.beginInvoke(function(){$(document.activeElement).hasAncestor(t)||n.activateTrigger(Triggers.LostFocus,i)})})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{Growable:{aggregatedMethods:{aggregations:{onInitialized:function(){function i(){return n.calculateSizeContent()}function r(t){t&&n.whenInstanceContentHeightChanged(t.height)}var n=this,t;n.getContentLayer().addClass("overflow-hidden");InstancePoolingManager.stopPooling("initialize");n.data.growableAttached=InstancePoolingManager.attach(n,i,r);InstancePoolingManager.postponeSamples(n,"inDesign");InstancePoolingManager.startPooling("initialize");t=SimpleEvent.createEventListener([n.visibilityChangedEvent],function(){var t=!PositionManager.isElementVisible(n);t?InstancePoolingManager.postponeSamples(n,"isMobileActivateListener"):InstancePoolingManager.unPostponeSamples(n,"isMobileActivateListener")});t.activateAndExecute();n.instanceRemoved.bind(function(){t.deactivate()})},onRemove:function(){InstancePoolingManager.detach(this.data.growableAttached)},switchToDesign:function(){var n=this;InstancePoolingManager.postponeSamples(n,"inDesign");LayoutManager.refreshElementsLayout(n)},switchToPreview:function(){var n=this;InstancePoolingManager.unPostponeSamples(n,"inDesign")}}}}})}(),function(){function n(n,t){var i=n.getShape();i&&i.setPropertyValue("lineWidth",t)}function t(n,t){t=$.Color(ThemeColorsManager.evaluateColorBinding(t)).toHEX();var i=n.getShape();i&&i.setPropertyValue("strokeColor",t)}ElementsModel.registerDefinition(Features,{Shape:{features:[Features.HasContent],methods:{getCanvas:function(){return this.data.canvas},getShape:function(){return this.data.shape},createContent:function(){var n=this,t=n.data.canvas=Canvas.create();return n.data.shape=n.createShape(t).toggleLayout(CanvasLayouts.FillHorizontally,!0).toggleLayout(CanvasLayouts.FillVertically,!0),t.$element.addClass("absolute-fill")},handleBackgroundUpdate:function(n,t,i){return(t=ThemeColorsManager.evaluateColorBinding(t),this.getShape())?(this.animatePart(this.$element,{shapeBackground:t},undefined,i),!0):!1},createShape:function(){}},aggregatedMethods:{aggregations:{onPropertyChange:function(i,r){switch(i.name){case"lineWidth":n(this,r);break;case"lineColor":t(this,r)}},onInitialized:function(){var n=this,t=n.getCanvas();t&&n.contentSizeChangedEvent.bind(function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){n.getCanvas().refreshSize(PositionManager.getContentSize(n))},"canvas-content-size-changed"+n.id)})}}}}});$.cssHooks.shapeBackground={get:function(n){var t=$instance(n);return t&&t.data.currentShapeBackground},set:function(n,t){var i=$instance(n),r;i&&(r=i.getShape(),r!==undefined&&(i.data.currentShapeBackground=$.Color(t),r.setPropertyValue("backgroundColor",t)))}};$.fx.step.shapeBackground=function(n){if(!n.colorInit){var t=$.cssHooks.shapeBackground.get(n.elem);n.end=$.Color(n.end).toRGB();t||(n.start=n.end);n.colorInit=!0}$.cssHooks.shapeBackground.set(n.elem,"rgba("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+","+Math.max(Math.min(parseFloat(n.pos*(n.end[3]-n.start[3])+n.start[3],10),1),0)+")")}}(),function(){ElementsModel.registerDefinition(Features,{TemplatePagesList:{defaultProperties:{dataLayoutOptions:function(){return{lineSpacing:15,cols:3,columnSpacing:15,colsSpacing:15,rowsSpacing:15,elementsPerPage:4,rotation:0,R:100}}},properties:{usePagesLayout:{defaultValue:$.returnTrue,isStateProperty:!0}},features:[Features.Navigatable],methods:{getArrangementOptions:function($super){var n=$super(),t=this.getPropertyValue("usePagesLayout");return n.usePagesLayout=t,n.maintainHeightInPreview=this.shouldMaintainHeightInPreview(),n},shouldMaintainHeightInPreview:$.returnFalse,hasContentHorizontalAlign:$.returnFalse,navigateTo:function(n,t,i,r){var u=this.getPropertyValue("dataLayout");return DataLayouts[u.name].navigateTo(this.dataLayoutController,n,t,i,r)},getCurrentItem:function(){var n=this.getPropertyValue("dataLayout");return DataLayouts[n.name].getCurrentItem(this.dataLayoutController)},getElementDataContent:function(){var n=this.getCurrentItem();if(n)return n.getElementContent()},showItem:function(n,t,i,r){var u=this.getPropertyValue("dataLayout");return DataLayouts[u.name].showItem(this.dataLayoutController,n,t,i,r)},changeCurrentItem:function(n,t,i,r){var u=this;u.performWhenVisible(function(){u.reArrangementDisabled.setValue(!0,"changeCurrentItem");u.showItem(n,t,i,r);u.reArrangementDisabled.setValue(!1,"changeCurrentItem")},u.id+"changeCurrentItem")},getNavigatableInstances:function(){var n=this.getPropertyValue("dataLayout");return DataLayouts[n.name].getNavigatableInstances(this.dataLayoutController)},calculateItemSizeOnMobile:function(n){var t=this.getPcTemplateSize();return{height:t?$.maxValue([n.width/t.width*t.height,30]):n.height,width:n.width}}},aggregatedMethods:{aggregations:{adjustInstanceToViewPort:function(){var n=this;n.setPropertyValue("dataLayout",{name:DataLayouts.PagesColumn.name});n.setPropertyFieldsValues("dataLayoutOptions",{cols:1,columnSpacing:10})},updateInstanceToViewPort:function(){var n=this;ViewManager.isDesignMode()&&n.showItem(0,!1)},removeInstanceFromViewPort:function(){var n=this;ViewManager.isDesignMode()&&n.performWhenVisible(function(){n.showItem(0,!1)})},onPropertiesChanged:function(n){var t=this,i,f,r,u;if(t.InstancePropertiesInitialized.isTrue()&&t.data.pagesInstance){LayoutManager.beginLayoutUpdateBatch();PropertiesManager.UpdateBatch.start();i=$.intersectSets(n,Features.Navigatable.properties);for(f in i)r=i[f].name,u=n[r],u&&t.data.pagesInstance.setPropertyValue(r,u.value);PropertiesManager.UpdateBatch.finish();LayoutManager.endLayoutUpdateBatch()}},onInitializing:function(){var n=this;SimpleEvent.bind([n.resizingStarted],function(){n.getItemsCollection().postponeUpdates()});SimpleEvent.bind([n.resizingStopped],function(){n.getItemsCollection().unPostponeUpdates()})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasChildrenLayoutAnchor:{properties:{childrenAnchor:{isStyleProperty:!1,isNotForCustomProperty:!0,defaultValue:function(){return HorizontalAlignment.Left},onChange:function(n){LayoutManager.refreshElementsLayout(n.getChildInstances())}}}}})}(),function(){function n(t,i){i.isTemplateItemContent()||(i.setIsContent(!0),i.setTemplateItemContent(t),i.hasFeature(Features.ItemsContainer)&&i.childElementAdded.bind(function(i){$.eachItem(i.getDescendingInstances(),function(i,r){n(t,r)})}))}ElementsModel.registerDefinition(Features,{TemplateItem:{className:"template-item",methods:{getFieldsMap:function(){return this.getPropertyValue("fieldsMap")},selectBeforeChildren:function(){return!0},getInstancesByField:function(n){var t=[],i=this.getPropertyValue("fieldsMap");return $.eachEntry(i,function(i,r){var u=ElementsManager.getInstanceByID(i);$.eachEntry(r,function(i,r){r.name===n&&t.push(u)})}),t},submitChildToField:function(n,t){var i=this,r={name:t.name,type:t.type,title:t.title},u=$.objectSetAndClone(i.getPropertyValue("fieldsMap"),[n,t.getContentType()],r);i.setPropertyValue("fieldsMap",u)},removeChildFromField:function(n,t){var r=this,i;t&&(i=$.objectGetAndClone(r.getPropertyValue("fieldsMap"),[n,t.getContentType()]),i&&(delete i[n][t.getContentType()],r.setPropertyValue("fieldsMap",i)))},accept:function($super,n){return n.hasFeature(Features.HasTemplates)||TemplateEditingManager.getCurrentInstance()!==this?!1:$super(n)},isDroppable:function($super){return $super()&&TemplateEditingManager.getCurrentInstance()===this}},aggregatedMethods:{aggregations:{onCreation:function(){this.IsInEditingContext=ObservableFlag.create(!1)},onInitializing:function(){var t=this;$.eachItem(this.getDescendingInstances(!0),function(i,r){n(t,r)})}}},properties:{fieldsMap:{title:"fieldsMap",defaultValue:$.returnEmptyObject,category:PropertiesCategories.Other}}}})}(),function(){ElementsModel.registerDefinition(Features,{DataListItem:{className:"data-list-item",methods:{getAutoLayoutProperties:function($super){return $.quickExtend($super(),{top:!0,left:!0})},toggleMobileSupport:function(n){OperationsManager.beginAtomicBatch();this.getItemMainParent().toggleMobileSupport(n);OperationsManager.endAtomicBatch()},isVisibleInMode:function(){return!0},hasEditingBehaviour:function(){return!0},isDataListItem:function(){return this.data.dataItemID!==undefined},getDataItemId:function(){return this.data.dataItemID},getDataItem:function(){return this.getItemMainParent().getDataSource().fetchDataItem(this.getDataItemId())},isSupportsMobile:function(){return this.getItemMainParent().isSupportsMobile()},isMobileOnlyStyle:function(){return this.getItemMainParent().isMobileOnlyStyle()},getFieldName:function(){var n=this.getDataItem();return n.fieldTypeName?n.fieldTypeName:this.getItemMainParent().elementType.itemName},setDataItemId:function(n){this.data.dataItemID=n},getItemMainParent:function(){return this.data.dataListParent},updateSkinBindingFromEditingTemplate:function(n,t,i){return this.getItemMainParent().updateSkinBindingFromEditingTemplate(n,t,i)},changeElementSize:function(n){this.$elementSizeBox.css(n)},setTemplateStructure:function(n,t,i){OperationsManager.disableOperationsRecording("setTemplateStructure");this.data.instanceController.setTemplateStructure(n,t,i);var r=this.data.instanceController.getInstance();return OperationsManager.enableOperationsRecording("setTemplateStructure"),r},getInstanceController:function(){return this.data.instanceController}},aggregatedMethods:{aggregations:{onInitialized:function(){var n=this;n.sizeElementClassesManager.set({"data-list-item":!0});n.isInDesignMode()&&this.canMove.setValue(!1)}}}}})}(),function(){ElementsModel.registerDefinition(Features,{PageSection:{properties:{menuHide:{isNotForCustomProperty:!0,defaultValue:$.returnUndefined,notForUndoProperty:!0},sectionName:{isNotForCustomProperty:!0,defaultValue:$.returnEmptyString}},defaultProperties:{fillLayout:function(){return{fillVertical:!1,fillHorizontal:!1}},sizeAndPosition:function(){return{height:200,width:0,top:0,left:0}},childrenAnchor:function(){return HorizontalAlignment.Centered}},methods:{isPageChildInstance:$.returnTrue,refreshFixedState:$.noop,isReattchable:$.returnFalse,creationFunction:$.returnUndefined,isRelativePositioned:$.returnTrue,selectBeforeChildren:$.returnFalse,isArrangeable:$.returnFalse,hasHeight:function(){return!(MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&this.hasRowsFromContainer())},isFirstSection:function(){return this.parentInstance.firstSectionInstance.getValue()===this},isLastSection:function(){return this.parentInstance.lastSectionInstance.getValue()===this},calculateActualOffset:function(){var t=this,i=SectionsManager.getCurrentPageOrderedSections(),r=0,n;return $.eachItem(i,function(n,i){if(i!==t){var u=i.calculateActualSize();r+=u.height}else return!1}),n=t.parentInstance.calculateActualOffset(),{top:n.top+0,left:n.left+0}},calculateActualSize:function(){var n=this,t=n.getPropertyValue("sizeAndPosition"),i=n.parentInstance.calculateActualSize(),r=i.width,u=t.height;return{width:r,height:u}},getAutoLayoutProperties:function(){return{left:!0,top:!0,width:!0,height:!this.hasHeight()}},canRedropTo:$.returnFalse},aggregatedMethods:{aggregations:{initializeResizingGrip:function(){var n=this,t;n.isInDesignMode()&&(t=n.getResizingGrip(),n.elementIsSelected.valueChangedEvent.bindAndExecute(function(n){n?t.addClass("marked"):t.removeClass("marked")}))},updateInstanceToViewPort:function(){var n=this},removeInstanceFromViewPort:function(){var n=this},onChildElementRemoved:function(n){var t=this;n.classesManager.set({"is-section-child":!1,"positioned-fixed":!1})},onChildElementAdded:function(n){var t=this;n.classesManager.set({"is-section-child":!0,"positioned-fixed":n.isFixed()&&ViewManager.isViewMode()})},onDetached:function(){var n=PageManager.getCurrentPage();PropertiesManager.invalidateProperty(n,"sizeAndPosition",undefined,n.getPropertyValue("sizeAndPosition"))},onRemove:function(){SectionsManager.removeSectionInstance(this);var n=PageManager.getCurrentPage().getPageContentInstances()[0].getVisibleSectionsByPage(PageManager.getCurrentPage());n.length===0&&ElementsManager.addSection(PageManager.getCurrentPage().getPageContentInstances()[0])},onInitialized:function(){var n=this;n.propertyChangedEvent.bind("order",function(){n.isInitialized&&RenderingCoordinator.performLayoutOrderUpdate(function(){PositionManager.invalidateAreas(n,{updateSize:!1})},"reorder section"+n.id)});n.instanceRemoved.bind(function(){PositionManager.invalidatePositioningRootOffset();PositionManager.invalidateAreas($.getValues(ElementsManager.getAllPageInstances()))})},onInitializing:function(){var n=this;n.sizeChangedEvent.bind(function(){Global.PageHeightChanged.fireNew()});n.visibilityChangedEvent.bindAndExecute(function(){var t=n.isInstanceVisible();t?SectionsManager.addSectionInstance(n):SectionsManager.removeSectionInstance(n)});n.$element.addClass("section-element");n.getElementSizeBox().addClass("section-element-size-box");n.canMove.setValue(!1)}}}}})}(),function(){function t(t){var i=t.getActualPropertyValue("glow"),r=t.getActualPropertyValue("innerGlow"),u=t.getActualPropertyValue("dropShadow"),f=t.getActualPropertyValue("dropInnerShadow");t.getShadowTarget().css("boxShadow",n(i,r,u,f))}function n(n,t,i,r){var u=new StringBuilder(",");return n&&(n.blur>0||n.spread>0)&&u.append("0 0 {0}px {1}px {2}",n.blur,n.spread,n.color),t&&(t.blur>0||t.spread>0)&&u.append("inset 0 0 {0}px {1}px {2}",t.blur,t.spread,t.color),i&&(i.left!=0||i.top!=0||i.blur>0||i.spread>0)&&u.append("{0}px {1}px {2}px {3}px {4}",i.left,i.top,i.blur,i.spread,i.color),r&&(r.left!=0||r.top!=0||r.blur>0||r.spread>0)&&u.append("inset {0}px {1}px {2}px {3}px {4}",r.left,r.top,r.blur,r.spread,r.color),u.toString()}ElementsModel.registerDefinition(Features,{HasShadow:{properties:{shadow:{title:"Shadow",isStateProperty:!0,isStyleProperty:!0,supportsThemeBinding:["color"],supportsStatesTransitionAnimation:!0,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["blur","spread","top","left"])],defaultValue:function(){return{top:0,left:0,spread:0,blur:0,color:"black"}},category:PropertiesCategories.Shadow,onChange:function(n,t,i){n.isInitialized&&t&&(t=$.extend({},t,{color:ThemeColorsManager.evaluateColorBinding(t.color,!0)}),n.animatePart(n.$element,{dropShadow:t},!1,i))}},glow:{title:"Glow",isStateProperty:!0,isStyleProperty:!0,supportsStatesTransitionAnimation:!0,supportsThemeBinding:["color"],defaultValue:function(){return{spread:0,blur:0,color:"black"}},valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["blur","spread"])],onChange:function(n,t,i){n.isInitialized&&t&&(t=$.extend({},t,{color:ThemeColorsManager.evaluateColorBinding(t.color,!0)}),n.animatePart(n.$element,{glow:t},!1,i))},category:PropertiesCategories.Shadow}},aggregatedMethods:{aggregations:{onInitialized:function(){var t=this,u=$.quickExtend({},t.getPropertyValue("glow")),f=$.quickExtend({},t.getPropertyValue("shadow")),i,r,e;t.hasFeature(Features.HasInnerShadow)&&(i=$.quickExtend({},t.getPropertyValue("innerGlow")),r=$.quickExtend({},t.getPropertyValue("innerShadow")),r.color=ThemeColorsManager.evaluateColorBinding(r.color,!0),i.color=ThemeColorsManager.evaluateColorBinding(i.color,!0),t.setActualPropertyValue("innerGlow",i),t.setActualPropertyValue("dropInnerShadow",r));u.color=ThemeColorsManager.evaluateColorBinding(u.color,!0);f.color=ThemeColorsManager.evaluateColorBinding(f.color,!0);t.setActualPropertyValue("glow",u);t.setActualPropertyValue("dropShadow",f);e=n(u,i,f,r);e!==""&&t.getShadowTarget().css("boxShadow",e)}}}}});$.eachItem(["glow","innerGlow","dropShadow","dropInnerShadow"],function(n,i){$.cssHooks[i]={get:function(n){var t=$instance(n);if(t)return t.getActualPropertyValue(i)},set:function(n,r){var u=$instance(n),f;u&&(f=u.getActualPropertyValue(i),u.setActualPropertyValue(i,$.extend({},f,r)),t(u))}};$.fx.step[i]=function(n){n.colorInit||(n.startColor=$.getRGBA(n.start.color),n.endColor=$.getRGBA(n.end.color),n.begin=$.quickExtend({},n.start),n.colorInit=!0);var r="rgba("+Math.max(Math.min(parseInt(n.pos*(n.endColor[0]-n.startColor[0])+n.startColor[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.endColor[1]-n.startColor[1])+n.startColor[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.endColor[2]-n.startColor[2])+n.startColor[2],10),255),0)+","+Math.max(Math.min(parseFloat(n.pos*(n.endColor[3]-n.startColor[3])+n.startColor[3],10),1),0)+")",t={blur:n.begin.blur+n.pos*(n.end.blur-n.begin.blur),spread:n.begin.spread+n.pos*(n.end.spread-n.begin.spread),color:r};(i==="dropShadow"||i==="dropInnerShadow")&&(t.top=n.start.top+n.pos*(n.end.top-n.start.top),t.left=n.start.left+n.pos*(n.end.left-n.start.left));$.cssHooks[i].set(n.elem,t)}})}(),function(){ElementsModel.registerDefinition(Features,{HasInnerShadow:{properties:{innerGlow:{title:"Inner Glow",isStateProperty:!0,isStyleProperty:!0,supportsStatesTransitionAnimation:!0,supportsThemeBinding:["color"],valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["blur","spread"])],scaleProperty:function(n){return{blur:n.x,spread:n.x}},defaultValue:function(){return{spread:0,blur:0,color:"black"}},onChange:function(n,t,i){n.isInitialized&&t&&(t=$.extend({},t,{color:ThemeColorsManager.evaluateColorBinding(t.color,!0)}),n.animatePart(n.$element,{innerGlow:t},!1,i))},category:PropertiesCategories.Shadow},innerShadow:{title:"Inner Shadow",isStateProperty:!0,isStyleProperty:!0,supportsStatesTransitionAnimation:!0,supportsThemeBinding:["color"],valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["blur","spread","top","left"])],scaleProperty:function(n){return{blur:n.x,spread:n.x,top:n.y,left:n.x}},defaultValue:function(){return{top:0,left:0,spread:0,blur:0,color:"black"}},category:PropertiesCategories.Shadow,onChange:function(n,t,i){n.isInitialized&&t&&(t=$.extend({},t,{color:ThemeColorsManager.evaluateColorBinding(t.color,!0)}),n.animatePart(n.$element,{dropInnerShadow:t},!1,i))}}}}})}(),function(){function t(){var n=this,t;(r(n),n.sizeChangedEvent.bind(function(){n.onContentSizeChange();n.contentSizeChangedEvent.fireNew({sizeChangedEvent:!0})}),n.previewEventsListener.add(SimpleEvent.createEventListener([MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent],function(){n.performWhenVisible(function(){n.isFixed()?n.addFixeState():n.data.fixedStateAdded&&n.removeFixedState()},n.id+"design-element-preview-listener")})),this.isForTemplateUse())||(i(n),n.duringResizing.valueChangedEvent.bind(function(t){n.canPushFlag.setValue(!t,"duringResizing")}),SimpleEvent.bind([n.zIndex.valueChangedEvent,n.customZIndex.valueChangedEvent,{event:n.propertyChangedEvent,name:"topZIndex"}],function(){var r=n.getPropertyValue("topZIndex"),i=n.zIndex.getValue(),u=n.customZIndex.getValue(),t;i=i?i:0;t="";u?t=u+(r?r:i):r?t=r+Global.MinPropertyZindex:i&&(t=i);n.data.currentZIndexValue!==t&&(n.data.currentZIndexValue=t,ReadWriteController.requestIndpendentWriteOperation(function(){n.$element.css("z-index",t);n.getMainBox().css("z-index",t)},n.id+"zindex"))}),n.canResize.setValue(n.hasFeature(Features.Resizable),"Resizable"),t=n.isDisplayed.isTrue(),t||n.hideElement(),n.isInDesignMode()&&(n.canResizeHorizontally.setValue(n.hasFeature(Features.Resizable),"Resizable"),n.canResizeVertically.setValue(n.hasFeature(Features.Resizable),"Resizable")))}function i(n){OperationsManager.disableOperationsRecording("initializeLastResizingSize");var t=n.getStructureMetaData(),i=t?t.size:undefined;n.isFillVertical()||(i=n.getPropertyValue("sizeAndPosition"));n.properties.lastResizingSize.value=$.quickExtend({},i);PropertiesManager.recomputePropertyValue(n,"lastResizingSize");OperationsManager.enableOperationsRecording("initializeLastResizingSize")}function r(t){t.isForTemplateUse()&&Global.IsMobileView||(t.elementEnterEvent.bind(function(n){t.isInMobileMode()||Global.IsMobileClient||t.activateTrigger(Triggers.MouseEnter,n)}),t.elementLeaveEvent.bind(function(n){t.isInMobileMode()||Global.IsMobileClient||t.activateTrigger(Triggers.MouseLeave,n)}),t.influenceChanged.bindAndExecute(function(){n(t)}))}function u(n,t,i,r){var u=r===undefined;u&&t===1||n.animatePart(n.getVisibilityTargets(),{opacity:t},!0,i,{isInitialization:u})}function n(n){if(!Global.IsMobileClient){var t=n.getPropertyValue("customStates"),i=!1;t&&$.eachEntry(t,function(n,t){t.ids[ElementStates.MouseOverState.name]&&(i=!0)});n.isForTemplateUse()||(ConnectionManager.hasTargetConnectionsForTriggers(n,Triggers.MouseEnter,Triggers.MouseLeave,ElementStates.MouseOverState)||PropertiesManager.isStyleAffecting(n,ElementStates.MouseOverState)||n.parentInstance&&n.parentInstance.elementType===ElementsTypes.group&&PositionManager.isTrackOver(n)||i===!0?PositionManager.trackMouseOver(n):PositionManager.stopMouseOverTracking(n))}}function f(n,t){return!n||!t?!n&&!t:n.verticalMargin==t.verticalMargin&&n.horizontalMargin==t.horizontalMargin}function e(n,t,i,r){var u=r===undefined;LayoutManager.refreshElementsLayout(n)}function o(n,t){return!n||!t?!n&&!t:n.width==t.width&&n.height==t.height}function s(n,t){return!n||!t?!n&&!t:n.left==t.left&&n.top==t.top&&n.width==t.width&&n.height==t.height}function h(n,t,i,r,u){var f=r===undefined;n.animatePart(n.$element,{sizeAndPosition:t},undefined,i,{isInitialization:f,complete:u})}ElementsModel.registerDefinition(Features,{DesignElement:{features:[Features.SeoElement,Features.HasPropertiesBinding,Features.HasShadow],properties:{isSupportsMobile:{defaultValue:$.returnFalse,isNotForCustomProperty:!0},isVisibleInMode:{isStateProperty:!0,defaultValue:$.returnTrue,shouldRefreshIfNotVisible:!0,onChange:function(n,t,i,r){var u,f,e,h,o,s;if(!n.isContent()&&!n.isForTemplateUse()){if(t?n.showElement():n.hideElement(),MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&n.isMasterPageElement.isTrue()&&MobileVersionViewManager.refreshMobileMasterSectionInstanceVisibilty(),!n.isInitialized&&r===undefined)return;MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&PropertiesManager.inStateEditingMode()&&(t?MobileVersionViewManager.addInstanceToMobile(n):(n.hasCellWrapper.isTrue()&&(u=n.getCellItem(),f=u.getRowParent(),f&&(e={},h=u.getWidth(),$.eachEntry(f.cellItems,function(n,t){t.id!==u.id&&(o=t.getInstance());e[t.getInstance().id]=t.getWidth()}),Global.IsDesigner&&(s=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"setCellWidth",performOperation:function(){if(o){var t=o.getCellItem().getRowParent(),r=n.getCellItem(),i=[];$.eachEntry(e,function(n,t){var r=ElementsManager.getInstanceByID(n);i.push({cellItem:r.getCellItem(),width:t})});t&&t.isRowInPage.isTrue()&&(t.addCellItems([r]),t.updateCellsSpacing(),t.updateCellsWidth(i))}}}),OperationsManager.informOnOperation(s)),f.removeCells([u]))),RowsManager.removeInstancesFromContainer(n,{shouldRemoveFromViewPort:!0}),LayoutManager.refreshElementsLayout(n.parentInstance)))}}},isFixed:{title:"Is Fixed",defaultValue:$.returnFalse,isStateProperty:!1,onChange:function(n,t,i,r){var n=this;n.isInitialized&&r!==undefined&&MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&RenderingCoordinator.performOnFramesLayoutUpdade(function(){n.refreshFixedState()})}},topZIndex:{title:"Element Z-Index",isStyleProperty:!0,isStateProperty:!0,supportsStatesTransitionAnimation:!0,getResetValue:$.returnZero,defaultValue:$.returnZero},elementOpacity:{title:"Element Opacity",isStyleProperty:!0,isStateProperty:!0,supportsStatesTransitionAnimation:!0,valueConverter:[function(n){return $.adjustFraction(n,3)}],defaultValue:$.returnOne,getResetValue:$.returnOne,onChange:u},staticMargin:{defaultValue:function(){return{horizontalMargin:"",verticalMargin:""}},isStateProperty:!0,isStyleProperty:!1,disableInDesign:!0,supportsStatesTransitionAnimation:!0,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["horizontalMargin","verticalMargin"])],priority:999,scaleProperty:function(n){return{horizontalMargin:n.x,verticalMargin:n.x}},onChange:e,comparer:f,title:"Static Margin",category:PropertiesCategories.SizeAndPosition},sizeAndPosition:{defaultValue:function(){return{left:0,width:100,top:0,height:100}},isStateProperty:!0,isStyleProperty:!1,disableInDesign:!0,supportsStatesTransitionAnimation:!0,valueConverter:[StructureLoadingManager.createRoundPropertyValueConverter(["left","width","top","height"])],priority:999,scaleProperty:function(n){return{left:n.x,width:n.x,top:n.y,height:n.y}},customStateValueGetter:function(n,t,i,r){var u=ElementStates[r];return u&&u.responsiveState?t:(t||(t={left:0,top:0,width:n.width,height:n.height}),{left:t.left+n.left,top:t.top+n.top,width:t.width+n.width,height:t.height+n.height})},customStateValueSetter:function(n,t,i,r){var u=ElementStates[r];return u&&u.responsiveState?t:{left:t.left-n.left,top:t.top-n.top,width:t.width-n.width,height:t.height-n.height}},onChange:h,comparer:s,title:"Size And Position",category:PropertiesCategories.SizeAndPosition},lastResizingSize:{defaultValue:function(){return{width:0,height:0}},isNotForCustomProperty:!0,shouldJoinToUndo:!0,isStateProperty:!0,priority:999,scaleProperty:function(n){return{width:n.x,height:n.y}},comparer:o,category:PropertiesCategories.SizeAndPosition}},methods:{getNoneContentSize:function(){var i=this,t,n;return t=i.hasFeature(Features.HasBorder)?i.getPropertyValue("borderWidth"):{left:0,top:0,bottom:0,right:0},n=i.getPropertyValue("padding"),n===undefined&&(n={left:0,top:0,bottom:0,right:0}),{width:parseInt(t.left)+parseInt(t.right)+parseInt(n.left)+parseInt(n.right),height:parseInt(t.top)+parseInt(t.bottom)+parseInt(n.top)+parseInt(n.bottom),widthLeft:parseInt(t.left)+parseInt(n.left),heightTop:parseInt(t.top)+parseInt(n.top)}},refreshFixedState:function(){var n=this,i=n.getPropertyValue("isFixed"),t;i?ElementsStructureHelper.reattachInstances([n],PageManager.getCurrentPage()):n.parentInstance===PageManager.getCurrentPage()&&(t=ElementsStructureHelper.getSectionByPosition(n.getPosition(!0)),t||(t=PageManager.getCurrentPage().lastSectionInstance.getValue()),t&&(n.isMasterPageElement.isFalse()||t.isMasterPageElement.isTrue())&&ElementsStructureHelper.reattachInstances([n],t))},getLayoutAffectedInstances:function(){return this.getChildInstances()},calculateActualOffset:function(){var n=this,r=0,u=0,t,i,f;return n.hasVerticalLayout()?(t=n.getPropertyValue("margin"),r=t.top):(i=n.getPropertyValue("sizeAndPosition"),r=i.top),n.hasHorizontalLayout()?(t=n.getPropertyValue("margin"),u=t.left):(i=n.getPropertyValue("sizeAndPosition"),u=i.left),f=n.parentInstance.calculateActualOffset(),{top:f.top+r,left:f.left+u}},calculateActualSize:function(){var n=this,r=n.getPropertyValue("sizeAndPosition"),u=r.width,f=r.height,e=n.isFillVertical(),o=n.isFillHorizontal(),t,i;return(e||o)&&(t=n.getPropertyValue("margin"),i=n.parentInstance.calculateActualSize(),o&&(u=i.width-t.left-t.right),e&&(f=i.height-t.top-t.bottom)),{width:u,height:f}},getLastResizingSize:function(){return this.calcualateLastResizingSize()},calcualateLastResizingSize:function(){var n=this.getPropertyValue("lastResizingSize");return this.isFillVertical()?$.extend({},n,this.parentInstance.calcualateLastResizingSize()):n},setLastResizingSize:function(n){var t=this;ViewManager.isViewMode()||(n?t.setPropertyValue("lastResizingSize",n):(t.setPropertyValue("lastResizingSize",t.getPropertyValue("sizeAndPosition")),RenderingCoordinator.performOnLayoutUpdate(function(){var n=t.getSize();t.setPropertyValue("lastResizingSize",n)},t.id+"setLastResizingSize")))},hasHeight:$.returnTrue,hasWidth:$.returnTrue,isRelativePositioned:function(){return this.isRelativePositionedFlag.isTrue()},toggleRelativePosition:function(n){this.isRelativePositionedFlag.setValue(n)},getRelativePosition:function(){var i=this.getPropertyValue("margin"),u=this.getPropertyValue("sizeAndPosition"),t,r=u.top,n;return this.hasHorizontalLayout()?t=i.left:(n=this.$element.position(),t=n.left),r=this.hasVerticalLayout()?i.top:n?n.top:this.$element.position().top,{top:r,left:t}},getMinSize:function(){return{height:5,width:5}},getMaxSize:function(){return this.parentInstance&&MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&this.shouldBeWithLayoutOnMobile()?this.parentInstance.getMaxSize():{height:Infinity,width:Infinity}},toggleVisibilityInMode:function(n){this.setPropertyValue("isVisibleInMode",n)},isVisibleInMode:function(){var n=this.parentInstance?this.parentInstance.isVisibleInMode():!0;return this.getPropertyValue("isVisibleInMode")&&n},setContentSize:function(n){var t=this.getPropertiesValues(),i=$.quickExtend({},t.sizeAndPosition);n.width!==undefined&&(i.width=n.width+t.borderWidth.left+t.borderWidth.right+t.padding.left+t.padding.right+t.margin.left+t.margin.right);n.height!==undefined&&(i.height=n.height+t.borderWidth.top+t.borderWidth.bottom+t.padding.top+t.padding.bottom+t.margin.top+t.margin.bottom);this.setPropertiesValues({sizeAndPosition:i})},getShadowTarget:function(){return this.getBorderBox()},refreshTracking:function(){n(this)},handleContentSizeChange:function(){var n=this;n.onContentSizeChange();n.contentSizeChangedEvent.fireNew();LayoutManager.requestUpdatePosition(n.getChildInstances())},isFixed:function(){return this.getPropertyValue("isFixed")&&this.parentInstance===PageManager.getCurrentPage()&&!Global.IsMobileView&&MobileVersionViewManager.Flags.IsInMobileContext.isFalse()},isRootInstance:function(){var n=this,t=n.hasParent();return!t&&(n.isForTemplateUse()||ElementsManager.isRootInstance(n)&&n.isContent()||ElementsManager.getRootInstance()===n)},isAttachedToVisibleNode:function(){var n=this,t=n.hasParent(),i=n.isRootInstance();return(i||t&&n.parentInstance.isInstanceVisible())&&!n.isDeleted},getStaticMargin:function(n){var u;n=$.quickExtend({vertically:!0,horizontally:!0},n);var f=this,t={},i=this.getPropertyValue("staticMargin"),r=f.getPropertyValue("cellHorizontalAlignment");if(r===CssHorizontalAlignment.None&&(r=PageManager.getCoordinator().getPropertyValue("cellsHorizontalAlignment")),u=PageManager.getCoordinator().getPropertyValue("cellsVerticalAlignment"),n.horizontally)switch(r){case CssHorizontalAlignment.Center:t.marginLeft=i.horizontalMargin;break;case CssHorizontalAlignment.Left:t.marginLeft=i.horizontalMargin;break;case CssHorizontalAlignment.Right:t.marginRight=i.horizontalMargin}if(n.vertically)switch(u){case CssVerticalAlignment.Middle:t.marginTop=i.verticalMargin;break;case CssVerticalAlignment.Top:t.marginTop=i.verticalMargin;break;case CssVerticalAlignment.Bottom:t.marginBottom=i.verticalMargin}return t},isSupportsMobile:function(){return this.getPropertyValue("isSupportsMobile")},toggleMobileSupport:function(n){OperationsManager.beginAtomicBatch();this.changeMobileSupportState(n);this.setPropertyValue("isSupportsMobile",n);OperationsManager.endAtomicBatch()},renderElement:function(n){var i=this,t=!1;Global.IsDesigner||(t=i.getPropertyValue("tagName"),t===HtmlTags.DIV&&(t=!1));n.startInstanceRendering(i,"element-size-box");t&&n.openTag(t,"html-element");n.openTag("div","element-main-box design-element-main-box");n.openTag("div","element-background-layer element-border-target design-element-background-layer");Global.IsExplorerMode&&n.addTag("div","element-background-target-explorer");n.closeTag();n.openTag("div","element-border-box element-border-target element-padding-box design-element-border-box");n.openTag("div","element-content-box design-element-content-box");n.openTag("div","content-container content-container-type element-size-box element-size-target");i.renderElementContent(n);i.renderElementChildren(n);n.closeTag();n.closeTag();n.closeTag();n.closeTag();t&&n.closeTag();n.finishInstanceRendering()},renderElementChildren:$.noop,renderElementContent:$.noop,isConvertedToMobile:function(){return!this.isContent()},isUpdatedToViewPort:function(){return this.data.isUpdatedToViewPort},shouldBeHiddenInMode:$.returnFalse,getAutoLayoutProperties:function(){if(this.hasFeature(Features.HasLayout)){if((this.isDataListItem()||ViewManager.isDesignMode()&&TemplateEditingManager.getCurrentInstance()===this&&TemplateEditingManager.Flags.IsInEditingMode.getValue())&&this.hasFeature(Features.TemplateItem))return{left:!0,top:!0};var n=this.getPropertyValue("fillLayout"),t=this.getPropertyValue("verticalLayout"),i=this.getPropertyValue("horizontalLayout");return{left:n.fillHorizontal||i!==LayoutManager.Layout.normal,top:n.fillVertical||t!==LayoutManager.Layout.normal,width:n.fillHorizontal,height:n.fillVertical}}return{}},shouldDisplayOnMobile:function(){return this.isPageChildInstance()||!(this.parentInstance&&this.parentInstance.isType(ElementsTypes.page)&&this.isMasterPageElement.isFalse())&&!this.getPropertyValue("isFixed")}},aggregatedMethods:{definitions:{changeMobileSupportState:function(n){var t=this,r=PropertiesManager.getEditableStyleProperties(),i=MobileVersionViewManager.getMobileState();n?($.eachItem(r,function(n,r){PropertiesManager.setValueInCustomState(t,t.properties[r],i,t.getPropertyValue(r))}),t.hasFeature(Features.HasBackgroundImage)&&PropertiesManager.setValueInCustomState(t,t.properties.imageUrl,i,t.getPropertyValue("imageUrl"))):($.eachItem(r,function(n,r){PropertiesManager.resetCustomStateProperty(t,i,r)}),t.hasFeature(Features.HasBackgroundImage)&&PropertiesManager.resetCustomStateProperty(t,i,"imageUrl"))},onContentSizeChange:$.noop,onElementAddedToContainer:$.noop,addFixeState:function(){var n=this;n.data.fixedStateAdded=!0;n.$element.addClass("positioned-fixed");$(window).bind("scroll."+n.id+"isFixed",function(){PositionManager.invalidateAreas(n,{updateSize:!1})});Global.PageHeightChanged.bindAndExecute(function(){PositionManager.invalidateAreas(n,{updateSize:!1})},"isFixedPageHeightChanged"+n.id);n.customZIndex.setValue(Global.MinPropertyZindex)},removeFixedState:function(){var n=this;n.data.fixedStateAdded&&(n.data.fixedStateAdded=!1,Global.PageHeightChanged.unbind("isFixedPageHeightChanged"+n.id),LayoutManager.refreshElementsLayout(this),n.customZIndex.setValue(undefined),n.$element.removeClass("positioned-fixed"),$(window).unbind("scroll."+n.id+"isFixed"))}},aggregations:{onCreation:function(){var n=this;n.isRelativePositionedFlag=ObservableFlag.create(!1,{valueChangeCallback:function(t){n.classesManager.set({"relative-element":t});Global.IsDesigner&&(t?n.sizeChangedPositionUpdateController.activate():n.sizeChangedPositionUpdateController.deactivate())}});n.containerChanged=SimpleEvent.create();n.containerChanging=SimpleEvent.create();n.duringResizing=ObservableFlag.create(!1);n.isInDragging=ObservableFlag.create(!1);n.sizeElementClassesManager=ContextValue.createClassesFlags(function(){return n.getElementSizeBox()});n.contentBoxElementClassesManager=ContextValue.createClassesFlags(function(){return n.$elementContentBox})},adjustInstanceToViewPort:function(){this.setPropertyValue("isFixed",!1);this.setPropertyValue("isVisible",!0)},updateInstanceToViewPort:function(){this.data.isUpdatedToViewPort=!0;this.canResizeVertically.setValue(this.hasHeight(),"hasHeight");this.childIndex.setValue(-1);this.setPropertyValue("isVisible",!0);this.shouldDisplayOnMobile()||this.isDisplayed.setValue(!1,"insideThePageButNoMasterTemplateOrSection")},removeInstanceFromViewPort:function(){this.canResizeVertically.setValue(!0,"hasHeight");this.childIndex.setValue(-1);this.data.isUpdatedToViewPort=!1;this.isDisplayed.setValue(!0,"insideThePageButNoMasterTemplateOrSection")},onInitializing:t}},triggers:[Triggers.MouseEnter,Triggers.MouseLeave],supportedStates:[ElementStates.MouseOverState]}});$.cssHooks.sizeAndPosition={get:function(n){var t=$instance(n);if(t)return t.getActualPropertyValue("sizeAndPosition")},set:function(n,t){var i=$instance(n);i&&(i.setActualPropertyValue("sizeAndPosition",t),LayoutManager.refreshElementsLayout(i))}};$.fx.step.sizeAndPosition=function(n){$.cssHooks.sizeAndPosition.set(n.elem,{left:n.end.left===null?null:Math.floor(n.start.left+n.pos*(n.end.left-n.start.left)),top:n.end.top===null?null:Math.floor(n.start.top+n.pos*(n.end.top-n.start.top)),width:n.end.width===null?null:Math.floor(n.start.width+n.pos*(n.end.width-n.start.width)),height:n.end.height===null?null:Math.floor(n.start.height+n.pos*(n.end.height-n.start.height))})}}(),function(){var n={ElementContent:{group:"iframe-content-templates",name:"iframe-content-template",isSimple:!0}};ElementsModel.registerDefinition(Features,{IFrameContent:{features:[Features.HasContent],methods:{getIFrameUrl:$.returnEmptyString,isScrollableIFrame:$.returnFalse,reloadIFrame:function(n){var t=this;n=$.valueOrCalculate(n,function(){return t.getIFrameUrl()});t.data.$iframe.attr("src",n)},creationFunction:function(){var t=this,u=t.isScrollableIFrame(),r=$.useTemplate(n.ElementContent,{url:t.getIFrameUrl(),scrolling:u?"yes":"no"}),i;return t.data.$iframeContainer=r,i=t.data.$iframe=r.find(".iframe-content-element"),i.addClass("state-invisible"),i.load(function(){i.removeClass("state-invisible")}),r}},aggregatedMethods:{aggregations:{}}}})}(),function(){ElementsModel.registerDefinition(Features,{ConnectableExternalApp:{aggregatedMethods:{aggregations:{onCreation:function(){this.featureConnections={}}}},methods:{getAppConnectableFeatures:function(){return this.getAppDefinition().connectableFeatures},getAppConnectableFeature:function(n){return this.getAppConnectableFeatures()[n]},callConnectedFeatureFunction:function(n,t,i,r){var u=this.featureConnections[n];u&&u.instance.callFeatureFunction(n,t,i,this.createCallInfo(),r)},connectFeatureInstance:function(n,t){var i=this,r,u;if(!t.hasFeature(Features.FeatureExternalApp))throw new Error("Invalid use");if(r=t.getAppFeature(n),!r)throw new Error("Instance: {0} doesn't implement feature: {1}".format(t.id,n));u=t.appFeaturesEvent.bind(n,function(t,r,u){i.getApiManager().fireConnectedFeatureEvent(n,t,r,u)});i.featureConnections[n]={instance:t,eventBinding:u}},disconnectFeatureInstance:function(n){var t=this,i=t.featureConnections[n];i&&(i.eventBinding.unbind(),delete t.featureConnections[n])}}}})}(),function(){function n(n){var t=n.getAppDefinition();if(t.growableSettings){if(t.growableSettings.view&&ViewManager.isViewMode()||t.growableSettings.design&&ViewManager.isDesignMode())return!0}else return!0}ElementsModel.registerDefinition(Features,{ExternalApp:{features:[Features.IFrameContent],defaultProperties:{},properties:{appProperties:{}},aggregatedMethods:{aggregations:{onCreation:function(){var n=this;n.isIframeInitialized=ObservableFlag.create(!1);n.isIframeNotLoaded=ObservableFlag.create(!1);n.connectableFeaturesEvent=SimpleEvent.createNamedEvents()},onRemove:function(){var n=this;n.data.apiManager.deactivate();delete n.data.apiManager},switchToDesign:function(){this.reloadApp()},switchToPreview:function(n){n&&this.reloadApp()},updateInstanceToViewPort:function(){this.reloadApp()},removeInstanceFromViewPort:function(){this.reloadApp()},onInitializing:function(){var n=this,i={apiInitialize:function(){n.isIframeInitialized.setTrue()}},t;n.data.apiManager=new ApiManager({instance:n,$iframe:n.data.$iframe,callbacks:i});t=n.getAppDefinition();t.resizingSettings&&(t.resizingSettings.canResizeVertically===!1&&n.canResizeVertically.setFalse(),t.resizingSettings.canResizeHorizontally===!1&&n.canResizeHorizontally.setFalse());n.InstancePropertiesInitialized.onceTrue(function(){$.eachEntry(n.getAppSettings(),function(t){n.isQueryParamSetting(t)&&n.bindAppSettingProperty(t,function(){n.reloadApp()})})});n.resizingStopped.bind(function(){n.data.lastDocumentSize&&t.resizingSettings.canResizeVertically===!1&&n.setDocumentSize(n.data.lastDocumentSize)});n.visibilityChangedEvent.bind(function(){n.isInstanceVisible()&&n.reloadApp()});setTimeout(function(){n.isIframeInitialized.isFalse()&&n.isIframeNotLoaded.setTrue()},5e3)}}},methods:{setDocumentSize:function(t){n(this)&&(OperationsManager.disableOperationsRecording("setDocumentSize"),this.data.lastDocumentSize=t,this.whenInstanceContentHeightChanged(t.height),OperationsManager.enableOperationsRecording("setDocumentSize"))},calculateNormalizedHeight:function(n){var t=this,i=t.getNoneContentSize();return n+i.height},setAppSize:function(n){OperationsManager.disableOperationsRecording("setAppSize");var t=this.getNoneContentSize();ElementsLayoutHelper.setInstancesSize(this,{width:n.width+t.width,height:n.height+t.height});OperationsManager.enableOperationsRecording("setAppSize")},setAppContentSize:function(n){this.data.$iframeContainer.css({width:n.width,height:n.height})},createCallInfo:function(){var t=this,n=t.getAppDefinition();return{instanceId:t.id,app:{id:n.id,version:n.version,name:n.name}}},getAppDefinition:function(){return this.elementType.appDefinition},getAppSettingPrefix:function(){return this.getAppDefinition().appSettingPrefix},getAppSettings:function(){return this.getAppDefinition().settings},getAppSettingValue:function(n){var r=this.getAppSettings(),t=this.getPropertyValue(this.getAppDefinition().appSettingPrefix+n),i=r[n];return i&&i.type==="color"?$.Color(ThemeColorsManager.evaluateColorBinding(t)).toHEX():t},setAppSettingValue:function(n,t){var i=this.getAppSettings();i.hasOwnProperty(n)&&this.setPropertyValue(this.getAppSettingPrefix()+n,t)},isQueryParamSetting:function(n){return $.inArray(n,this.elementType.querySettings)!=-1},getApiManager:function(){return this.data.apiManager},reloadApp:function(n){var t=this,i=Global.IsDesigner?[ModeManager.updateBatch,PageManager.PageChangingOperation]:[PageManager.PageChangingOperation];OperationsBatch.whenAllFinished(i,function(){t.reloadIFrame(t.getIFrameUrl(n))},t.id+"reloadApp")},getIFrameUrl:function(n){var t={wzSize:this.getContentSize()};return IframeManager.createIframeUrl(this,{frameId:this.id,baseUrl:this.getAppDefinition().getUrl(),apiType:"app",additionalParams:n,encodedParams:t})},bindAppSettingProperty:function(n,t,i){var r=this.getAppSettingPrefix();return this.bindPropertyChange(r+n,t,i)},getMinSize:function($super){var n=this.getAppDefinition();return n.resizingSettings&&n.resizingSettings.minSize?n.resizingSettings.minSize:$super()},getMaxSize:function($super){var n=this.getAppDefinition();return n.resizingSettings&&n.resizingSettings.maxSize?n.resizingSettings.maxSize:$super()}}}})}(),function(){ElementsModel.registerDefinition(Features,{FeatureExternalApp:{aggregatedMethods:{aggregations:{onCreation:function(){this.appFeaturesEvent=SimpleEvent.createNamedEvents()}}},methods:{getAppFeatures:function(){return this.getAppDefinition().implementedFeatures},getAppFeature:function(n){return this.getAppFeatures()[n]},getInternalFeatureName:function(n){return $.findFirst(this.getAppFeatures(),function(t,i){return i.isInternal&&i.featureInternalType===n})},fireFeatureEvent:function(n,t,i){this.appFeaturesEvent.fire(n,this,t,i,this.createCallInfo())},callFeatureFunction:function(n,t,i,r,u){this.getApiManager().callFeatureFunction(n,t,i,r,u)},bindFeatureEvent:function(n,t){return this.appFeaturesEvent.bind(n,t)}}}})}(),function(){ElementsModel.registerDefinition(Features,{NavigatableExternalApp:{features:[],methods:{navigate:function(n,t,i,r){this.callFeatureFunction(this.data.navigatableFeatureName,"navigate",{navigationDelta:n,useAnimation:t,animationOptions:r},{},i)}},aggregatedMethods:{aggregations:{onInitializing:function(){this.data.navigatableFeatureName=this.getInternalFeatureName("NavigatableExternalApp")}}}}})}(),function(){function n(n,t){t.setNeverSelectedInClick(!0);t.getSkinInstance().setNeverSelectedInClick(!0);n.onItemSet(t)}function t(n,t){return n.getInstanceController(t)!==undefined}ElementsModel.registerDefinition(Features,{HasMenu:{methods:{refreshSelectedItem:function(){var n=this;ViewManager.isDesignMode()||RenderingCoordinator.performUpdateOnRenderingFinished(function(){var i,r,f,e,u;n.isInstanceVisible()&&(i=n.getPotentialSelectedMenuItemId(),r=n.data.currentItemSelected,r&&r.getDataItemId()!==i&&(f=r.getSkinInstance(),f.userSelect(!1)),i&&t(n,i)&&(e=n.getInstanceController(i),u=e.getInstance(),n.data.currentItemSelected=u,u.getSkinInstance().userSelect(!0)))},n.id+"onItemChanged-hasmenu")}},aggregatedMethods:{aggregations:{setItem:function(t){var i=this;t.instanceController.createdFlag.onceTrue(function(){n(i,t)})},onRemove:function(){this.data.currentItemChangedEvent.unbind()},onInitializing:function(){var n=this;n.data.currentItemChangedEvent=n.getDataSource().currentItemChangedEvent.bindAndExecute(function(){n.performWhenVisible(function(){n.refreshSelectedItem()},n.id+"currentItemChangedEvent-visibility")})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{HasNavigation:{properties:{navigation:{title:"navigation",isStateProperty:!0,defaultValue:$.returnFixedValue("SlideNavigation"),onChange:function(n,t){if(n.isInitialized){var i=n.data.navigationController;i&&i.replaceNavigation(t)}}},navigationProperties:{isStateProperty:!0,title:"navigationProperties",defaultValue:$.returnEmptyObject}},methods:function(){$.returnTrue},aggregatedMethods:{aggregations:{switchToPreview:function(){var n=this;n.$element.bind("click.navigation",function(){n.data.navigationController.isOpened.isFalse()?n.data.navigationController.open({$element:n.$element,instanceId:n.id,navigationProperties:n.getPropertyValue("navigationProperties",n.getPropertyValue("navigation"))}):n.data.navigationController.close()})},switchToDesign:function(){var n=this;n.$element.unbind("click.navigation");n.data.navigationController.close({animate:!1})},onRemove:function(){var n=this.data.navigationController;n&&n.remove()},onInitializing:function(){this.data.navigationController=NavigationManager.createNavigationController(this.getPropertyValue("navigation"))}}}}})}(),function(){function n(n){return{dataItemID:n.id,dataSourceName:n.id,styleBindingId:n.getSkinId()}}ElementsModel.registerDefinition(Features,{SkinElement:{className:"skin-element",features:[Features.ItemsContainer,Features.HasSkinBinding],properties:{skinBinding:{defaultValue:$.returnNull,preSaveProcessing:function(n){var i,r,t;return n&&n.type===SkinsBindingsTypes.Inline&&(i=n.skinName+n.index,r=StylesManager.getStyle(i),r&&(t=StylesManager.getStyleInformation(i),t&&(n.hierarchy.fieldsToValues=t.fields,n.hierarchy.statesAnimations=t.statesAnimations))),n},onChange:function(n,t,i,r){n.skinUpdateEventBindings&&n.skinUpdateEventBindings.unbind();r&&r.type===SkinsBindingsTypes.Inline&&StylesManager.removeStyle(r.skinName+r.index);n.skinUpdateEventBindings=SkinsManager.Events.SkinHierarchyUpdated.bindAndExecute(n.getSkinId(),function(){n.performWhenVisible(function(){n.setSkinInstanceControllerFromBinding()},n.id+"skinBinding")})}}},methods:{initiailizeDelegatedContentBinding:function(n){var t=this;t.instanceController.createdEvent.bindAndExecute(function(){t.instanceController.createdFlag.isTrue()&&RenderingCoordinator.performOnFramesLayoutUpdade(n,t.id+"initiailizeDelegatedContentBinding")})},getNoneContentSize:$.returnZeroSize,getLayoutAffectedInstances:function($super){var n=$.duplicateArray($super());return n.push(this.getSkinInstance()),n},getInstancesBindingsByField:function(n){return this.getSkinInstance().getInstancesBindingsByField(n)},setSkinInstanceControllerFromBinding:function(){var n=this,i=n.getPropertyValue("skinBinding"),t;OperationsManager.disableOperationsRecording("setSkinInstanceControllerFromBinding");StylesManager.isStyleExist(n.getSkinId())||StylesManager.addStyle(n.getSkinId(),n.getSkinFieldsValues(),n.getSkinStatesAnimations());t=SkinsManager.getSkinHierarchy(i);n.instanceController.extendDataSourceOptionsWith({styleBindingId:n.getSkinId()});n.instanceController.setTemplateStructure(t);n.instanceController.initialize();n.instanceController.appendTo(n.getElementContent(),n);OperationsManager.enableOperationsRecording("setSkinInstanceControllerFromBinding")},getSkinInstance:function(){return this.instanceController.getTemplateStructure()||this.setSkinInstanceControllerFromBinding(),this.instanceController.getInstance()},getSkinSupportedStates:function(){return[ElementStates.MouseOverState,ElementStates.MouseDownState]},getFieldsMap:function(){return this.instanceController.getInstance().getPropertyValue("fieldsMap")},reorderChildElements:$.noop,getSkinBinding:function(){return $.cloneObject(this.getPropertyValue("skinBinding"))},getSkinId:function(){var n=this.getSkinBinding(),t=n.index!==undefined?n.index:"";return n.skinName+n.index},creationFunction:function(){return $("<div class='absolute-fill'><\/div>")},getSkinFieldsValues:function(){var i=this.getPropertyValue("skinBinding"),n=SkinsManager.getSkinHierarchy(i),t=n?n.fieldsToValues:undefined;return t?t:{}},getSkinStatesAnimations:function(){var i=this.getPropertyValue("skinBinding"),n=SkinsManager.getSkinHierarchy(i),t=n?n.statesAnimations:undefined;return t?t:{}},accept:$.returnFalse,extendDataSourceOptionsWith:function(n,t){this.instanceController.extendDataSourceOptionsWith(n,t)},setStructureProcessor:function(n,t){this.instanceController.setStructureProcessor(n,t)},isDroppable:$.returnFalse},aggregatedMethods:{aggregations:{updateInstanceToViewPort:function(){var n=this;n.data.removingSkinElementFromMobile&&(n.data.removingSkinElementFromMobile.unbind(),n.data.removingSkinElementFromMobile=undefined)},removeInstanceFromViewPort:function(){var n=this;n.data.removingSkinElementFromMobile=MobileVersionViewManager.Events.AfterSwitchBetweenDevices.bind(function(){n.data.removingSkinElementFromMobile.unbind();n.data.removingSkinElementFromMobile=undefined;n.performWhenVisible(function(){$.eachItem(n.getSkinInstance().getDescendingInstances(!0),function(n,t){t.refreshStyleBinding()})},"removeInstanceFromViewPortskinElement"+n.id)})},onCreation:function(){var t=this;t.instanceController=InstanceController.create(undefined,{parentInstanceId:t.id,dataSourceOptions:n(t),templateOptions:{isContent:!0,isLoading:!0,generateNewID:!0}});t.instanceController.$element.addClass("skin-instance-controller")}}}}})}(),function(){ElementsModel.registerDefinition(Features,{CommonDataListSkinItem:{features:[Features.DesignElement,Features.SkinElement,Features.DataListItem,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasPadding,Features.HasContent],methods:{setOverFlow:function(){var n=this,t=n.getItemMainParent();t&&n.isOverflowHidden.setValue(t.isOverflowHidden.getValue())}},aggregatedMethods:{aggregations:{onInitialized:function(){var n=this,t=n.getItemMainParent();t&&t.isOverflowHidden.valueChangedEvent.bindAndExecute(function(){n.setOverFlow()})}}}}})}(),function(){ElementsModel.registerDefinition(Features,{RemoteDataListSkinItem:{features:[Features.CommonDataListSkinItem],methods:{hasEditingBehaviour:$.returnFalse,canDuplicate:$.returnFalse,canDelete:$.returnFalse,canRedropTo:$.returnFalse}}})}(),function(){function n(n){var i=n.id,t={};return{rule:function(n,r){var u=t[n];u||(u=t[n]=$.rule("#"+i+" "+n+" {}"));u.css(r)}}}function t(n,t,i){var r=n.instanceCssRules,u=i.contentType;switch(u){case InlineTextStylesContentTypes.Text:r.rule(".theme-inline-text-style-"+t,{color:ThemeColorsManager.evaluateColorBinding(i.color,!0),"font-family":ThemeFontsManager.evaluateFontBinding(i.fontFamily),"font-size":i.fontSize});break;case InlineTextStylesContentTypes.Link:r.rule("a",{color:ThemeColorsManager.evaluateColorBinding(i.color,!0),"text-decoration":i.useUnderline?"underline":"none"});r.rule("a:hover",{color:ThemeColorsManager.evaluateColorBinding(i.hoverColor,!0)});break;case InlineTextStylesContentTypes.Marked:r.rule(".theme-inline-text-style-"+t,{color:ThemeColorsManager.evaluateColorBinding(i.color,!0),"background-color":ThemeColorsManager.evaluateColorBinding(i.backgroundColor,!0)})}}ElementsModel.registerDefinition(Features,{HasMultiStyles:{properties:{predefinedTextStyles:{defaultValue:function(){return InlineTextStyles},onChange:function(n){var i=n.getPropertyValue(PropertiesTypes.predefinedTextStyles.name);$.eachEntry(i,function(i,r){t(n,i,r)})}}},features:[Features.HasText],aggregatedMethods:{aggregations:{onCreation:function(){var t=this;t.instanceCssRules=n(t)}}}}})}(),function(){function n(n,t){var r=n.getElementDataContent(),i=$("<div style='width:100000px; position:absolute; left: 0; top: 0;'><\/div>"),f=r.clone().css({position:"absolute",width:$.valueOrDefault(t,"auto"),right:"auto",left:0}).quickShow().appendTo(i),u;return i.appendTo(r.parent()),u=f.elementSize(),i.remove(),u}ElementsModel.registerDefinition(Features,{HasRichContent:{className:"has-rich-content",features:[Features.HasContent,Features.Editable,Features.Resizable,Features.Clickable],methods:{editingEnabled:function(){var n=this;return MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&!n.isConnectedToField()},normalizeSize:function(t){t=$.quickExtend({widthPadding:0,heightPadding:0,targetWidth:undefined},t);var i=this,r=n(i,t.targetWidth);i.data.disableElementSizeUpdate=!0;ElementsLayoutHelper.setInstancesSize(this,{width:Math.ceil(r.width)+t.widthPadding,height:Math.ceil(r.height)+t.heightPadding});i.setLastResizingSize();i.data.disableElementSizeUpdate=!1},refreshContentSize:function(){var n=this;n.isInitialized&&PositionManager.isElementVisible(n)&&(LayoutManager.refreshElementsLayout(n),ReadWriteController.requestReadOperation(function(){if(n.isInstanceVisible()){var u=n.getElementDataContentSize(),i=n.contentHeight.getValue(),t=u.height,r=n.getSize(),f=n.getNoneContentSize(),e=n.contentHeight.setValue(t),o=i>r.height,s=t+f.height>r.height;if(e||o||s){if(n.propertiesRefreshingState&&ViewManager.isViewMode()&&!MobileVersionViewManager.updateBatch.isActive())return;n.whenInstanceContentHeightChanged(t,{onlyGrow:i===undefined})}n.contentHeightRefreshedEvent.fireNew()}},n.id+"refreshContentSize"))}},aggregatedMethods:{aggregations:{onCreation:function(){this.contentHeight=ObservableObject.createNumerical(undefined);this.contentHeightRefreshedEvent=SimpleEvent.create()},onInitialized:function(){var n=this,t=SimpleEvent.createEventListener(n.contentSizeChangedEvent,function(){n.refreshContentSize()}),i=SimpleEvent.createEventListener(n.visibilityChangedEvent,function(){var i=PositionManager.isElementVisible(n);i?t.activateAndExecute():t.deactivate()}).activateAndExecute();n.instanceRemoving.one(function(){i.dispose();t.dispose()})},adjustResizing:function(){var n=this,t=PositionManager.getElementSize(n),i=t.height,r=n.getNoneContentSize(),u=n.contentHeight.getValue(),f=u+r.height,e=Math.max(i,f);ElementsLayoutHelper.setInstancesSize(n,{height:e},{preserveVerticalMargins:!0})}}}}})}(),function(){function t(t){t.data.payPalHolder=$.useTemplate(n.ElementContent);t.data.payPalButtonController=EcommerceManager.createButton();var i=t.getPropertyValue("paypalOptions"),r=t.getPropertyValue("paypalData");return t.data.payPalButtonController.refresh(AccountsManager.Types.PayPal,i,r.type,t.data.payPalHolder),t.data.payPalHolder}var n={ElementContent:{id:"paypal-button-template"}};ElementsModel.registerDefinition(Features,{PaypalFeature:{properties:{paypalData:{defaultValue:function(){return{type:EcommerceManager.ButtonTypes.buynow.value,accountType:AccountsManager.Types.PayPal}},isNotForCustomProperty:!0,supportsBinding:!0,isBound:function(n){return n.isBound&&n.isBound(DataSourceItemsFields.paypal.getContentType())},onChange:function(n,t){if(n.InstancePropertiesInitialized.isTrue()){var i=n.getPropertyValue("paypalOptions");n.data.payPalButtonController.refresh(AccountsManager.Types.PayPal,i,t.type,n.data.payPalHolder)}}},paypalOptions:{isNotForCustomProperty:!0,defaultValue:function(){return{item_name:"Product Name",currency_code:"USD",shipping:0,tax:0,amount:5,quantity:1}},supportsBinding:!0,isBound:function(n){return n.isBound&&n.isBound(DataSourceItemsFields.paypal.getContentType())},onChange:function(n,t){if(n.InstancePropertiesInitialized.isTrue()){var i=n.getPropertyValue("paypalData");n.data.payPalButtonController.refresh(AccountsManager.Types.PayPal,t,i.type,n.data.payPalHolder)}}}},methods:{hasButtonBehaviour:$.returnTrue,hasBinding:function(){return PropertiesTypes.paypalData.isBound(this)&&PropertiesTypes.payPal.isBound(this)},creationFunction:t,createBindingFieldsToProperties:function($super){var t=this,n=$super();return this.isBound(DataSourceItemsFields.paypal.getContentType())&&(n[PropertiesTypes.paypalData.name]=ObservableObject.createPropertyBinding(t,{propertyName:PropertiesTypes.paypalData.name}),n[PropertiesTypes.paypalOptions.name]=ObservableObject.createPropertyBinding(t,{propertyName:PropertiesTypes.paypalOptions.name})),n},onUpdateBindingReady:function($super){var i=$super(),e=this,n=this.getPropertyValue("paypalData"),r=$.isPlainObject(n)?$.extend({},n):n;var u=this.getPropertyValue("binding"),f=u.dataFields,t={};return this.isBound(DataSourceItemsFields.paypal.getContentType())&&(t[f[DataSourceItemsFields.paypal.getContentType()].name]=r),$.quickExtend(i,t)}},aggregatedMethods:{aggregations:{switchToPreview:function(){this.data.payPalButtonController.activate(this)},switchToDesign:function(){this.data.payPalButtonController.deactivate(this)},onBoundValueReady:function(n){var t=this;t.isBound(DataSourceItemsFields.paypal.getContentType())&&t.setBindingValueToProperty({paypalData:n[DataSourceItemsFields.paypal.getContentType()]===undefined?PropertiesTypes.paypalData.defaultValue():n[DataSourceItemsFields.paypal.getContentType()].paypalData,paypalOptions:n[DataSourceItemsFields.paypal.getContentType()]===undefined?PropertiesTypes.paypalOptions.defaultValue():n[DataSourceItemsFields.paypal.getContentType()].paypalOptions})}}}}})}(),function(){function t(t){var i,r;return t.data.payPalHolder=$.useTemplate(n.ElementContent),i=EcommerceManager.createButton(),t.data.payPalButtonController=i,r=t.getPropertyValue("paypalAccount"),t.data.payPalButtonController.refresh(AccountsManager.Types.PayPal,{},"view",t.data.payPalHolder),t.data.payPalHolder}var n={ElementContent:{id:"paypal-button-template"}};ElementsModel.registerDefinition(Features,{CheckOutFeature:{properties:{paypalAccount:{isNotForCustomProperty:!0,defaultValue:function(){return AccountsManager.Types.PayPal},onChange:function(n){if(n.InstancePropertiesInitialized.isTrue()){var t=n.getPropertyValue("checkOutOptions");n.data.payPalButtonController.refresh(AccountsManager.Types.PayPal,t,"view",n.data.payPalHolder)}}},checkOutOptions:{isNotForCustomProperty:!0,defaultValue:function(){return{notify_url:""}},onChange:function(n,t){if(n.InstancePropertiesInitialized.isTrue()){var i=n.getPropertyValue("paypalAccount");n.data.payPalButtonController.refresh(AccountsManager.Types.PayPal,t,"view",n.data.payPalHolder)}}}},methods:{hasButtonBehaviour:$.returnTrue,creationFunction:t},aggregatedMethods:{aggregations:{switchToPreview:function(){this.data.payPalButtonController.activate(this)},switchToDesign:function(){this.data.payPalButtonController.deactivate(this)}}}}})}(),function(){function n(n,t){function c(){i.appendTo(f.$element)}function a(){var n=f.getInstance();u.add(n.instanceController.createdFlag.onceTrue(function(){r=n.getSkinInstance().getInstancesByField("title")[0];r&&u.add(r.propertiesChanged.bind(function(n){$.containsOneOfKeys(n,"fontColor","fontSize","namedTextStyle")&&l(r)}));l();o&&c()}))}function l(){var i="#000",u=r.getPropertyValue("fontColor"),f=TextStyleManager.getElementTextStyle(r),o,n;!u&&f&&(u=f.color);u&&(i=u,i=ThemeColorsManager.evaluateColorBinding(i,!0));o=r.getPropertyValue("fontSize")||14;!o&&f&&(o=f.fontSize);switch(t.arrowSide){case Side.Bottom:n="angle-down";break;case Side.Top:n="angle-up";break;case Side.Right:n="angle-right";break;case Side.Left:n="angle-left"}e.css({fontSize:o,color:i});FontIconsManager.applyIcon(e,{collectionName:"public-font-icons",iconName:n})}var f,i,e,u,r,o,h,s;t=$.extend({arrowSide:Side.Bottom,controller:undefined},t);f=t.controller;u=SimpleEvent.createBindingsCollection();u.add(n.propertyChangedEvent.bindAndExecute("showDropDownArrow",function(){o=n.getPropertyValue("showDropDownArrow");o?i?c():(i=$('<div class="right-block menu-sub-hierarchy menu-button-cursor-pointer"><span class="height-normalizer"><\/span><span class="menu-sub-hierarchy-arrow vertically-centered"><\/span><\/div>'),e=$(".menu-sub-hierarchy-arrow",i),u.add(f.initializeFlag.onceTrue(a))):i&&i.detach()}));h=!1;s={remove:function(){h||(h=!0,i&&i.remove(),u.unbindAll())}};f.removedEvent.one(function(){s.remove()});return s}function t(n,t){t=$.quickExtend({instanceCreatedCallback:$.noop},t);var i={};return{createInstanceController:function(r){var f=r.id,u=i[f],e,o;return u||(e=n.getDefaultTemplate().hierarchy,u=InstanceController.create(e,{fieldName:n.elementType.itemName,dataSourceOptions:{dataItem:r,dataItemID:r.id,dataSourceName:n.getDataSource().name},templateOptions:{isContent:!0,isLoading:!0,rootsIds:[n.id+TemplateItemInstanceIdSeperator+"temp"+TemplateItemInstanceIdSeperator+f],generateNewID:!0},isForTemplateUse:!1}),o=n.dataLayoutController.getLastArrangementOptionsByCurrentDevice(),u.setSize(o.fixedSize),i[f]=u,t.instanceCreatedCallback(u)),u},remove:function(){$.eachEntry(i,function(n,t){t.removeController()})}}}function i(n){function r(t){i.activate();t.instanceRemoving.one(function(){i.deactivate()});t.getItemMainParent=function(){return n};t.setNeverSelectedInClick(!0);t.canSelectFlag.setValue(!1,"dataListItem");t.canBeSelected=$.returnFalse;t.canDelete=$.returnFalse;t.instanceController.initializeFlag.onceTrue(function(){t.getSkinInstance().setNeverSelectedInClick(!0);var i=t.getSkinInstance().getPropertyValue("fieldsMap"),r=n.getPropertyValue("moreButtonText");t.instanceController.createdFlag.onceTrue(function(){$.eachEntry(i,function(i,u){var f=ElementsManager.getInstanceByID(i),e=!1;$.eachEntry(u,function(i,u){if(i==DataSourceItemsData.Text&&u.name==="title"){e=!0;PropertiesManager.removeStateAffected(f,function(n,t,i,r){return r==="text"});f.setPropertyValue("binding",null);f.data.textBinding=ObservableObject.createPropertyBinding(f,{propertyName:"text"});f.data.textBinding.setValue(r);var o=n.propertyChangedEvent.bind("moreButtonText",function(n){f.data.textBinding.setValue(n)});t.instanceRemoved.one(function(){o.unbind()})}});e||ElementsManager.removeInstances(f)})})})}var t=InstanceController.create(n.getDefaultTemplate().hierarchy,{parentInstanceId:n.id,dataSourceOptions:{dataItemID:$.uniqueID().toString()},templateOptions:{initialProperties:{all:{binding:null}},isContent:!0,isLoading:!0,generateNewID:!0}}),i=SimpleEvent.createEventListener([{event:n.propertyChangedEvent,name:"fieldsTemplates"}],function(){var i=n.getDefaultTemplate().hierarchy;i.id!==t.getTemplateStructure().id&&(t.setTemplateStructure(i),r(t.getInstance()))}),u=t.getInstance();return r(u),t}ElementsModel.registerDefinition(Features,{HasMoreButton:{properties:{dropDownNavigationSettings:{isStateProperty:!0,defaultValue:function(){return{navigation:"DropDownNavigation",navigationProperties:{}}}},moreButtonText:{isStateProperty:!0,defaultValue:function(){return"More"}},showDropDownArrow:{isStateProperty:!0,defaultValue:function(){return!1}}},defaultProperties:{itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},title:{type:"title",title:"Title",name:"title",isDefaultField:!0}}},sizeAndPosition:function(){return{width:400,height:400,top:0,left:0}},dataLayout:function(){return{name:DataLayouts.HorizontalMenu.name}},dataLayoutOptions:function(){return{lineSpacing:15,columnSpacing:15,colsSpacing:15,rowsSpacing:15,rotation:0,cols:3,R:100,maxItems:6}}},methods:{getArrangementOptions:function($super){var t=this,n=t.data;return $.quickExtend($super(),{dropDownNavigationSettings:t.getPropertyValue("dropDownNavigationSettings"),createSubHierarchyElement:n.createSubHierarchyElement,createMoreItemsController:n.createMoreItemsController,createItemsController:n.createItemsController})}},aggregatedMethods:{aggregations:{switchToPreview:function(n){n&&this.requestArrangement()},switchToDesign:function(){this.requestArrangement()},onInitializing:function(){var r=this,u=r.data;u.createMoreItemsController=$.firstArgProxy(i,r);u.createSubHierarchyElement=$.firstArgProxy(n,r);u.createItemsController=$.firstArgProxy(t,r)}}}}})}(),function(){ElementsModel.registerDefinition(Features,{DelegatedContent:{features:[Features.HasRichContent],methods:{getDelegatedContentInstance:$.returnUndefined,getElementDataContent:function($super){var t=this,n=t.getDelegatedContentInstance();return n?n.$element:$super()},refreshContentSize:function($super){var n=this.getDelegatedContentInstance();n?n.contentHeight.getValue()!==undefined&&$super():$super()},getElementDataContentSize:function($super){var i=this,n=i.getDelegatedContentInstance();if(n){var t=n.getSize(),r=i.getSize(),u=r.width-t.width,f=r.height-t.height;return{width:t.width+u,height:n.contentHeight.getValue()+f}}return $super()},initiailizeDelegatedContentBinding:function(n){var t=this;RenderingCoordinator.performOnFramesLayoutUpdade(n,t.id+"initiailizeDelegatedContentBinding")}},aggregatedMethods:{aggregations:{onInitialized:function(){var n=this;n.initiailizeDelegatedContentBinding(function(){var t=n.getDelegatedContentInstance();t&&t.contentHeightRefreshedEvent.bind(function(){n.refreshContentSize()})})}}}}})}(),function(){function u(n,t,i){var r=$.valueOrDefaultArray(i,[t&&t.title,"Default Text"]);n.setBindingValueToProperty(r.toString(),PropertiesTypes.text.name)}function c(n){var u=n.isInDesignMode(),i=$.useTemplate(h.Element,{tagName:Global.IsDesigner?"div":n.getPropertyValue("tagName"),editable:n.isInDesignMode()}),r,t;Global.IsDesigner&&(r=CommonToolTips.ButtonDescriptionToolTip.Above.get(),n.data.labelToolTip=i.attachToolTip(r.toolTip,$.extend({content:"<b>Connected to Data<\/b> <br> This text cannot be changed as it is connected to a data field.<br> To connect/disconnect data fields use the 'Connect To Data' section of the settings panel."},r.contextOptions),[ToolTip.createDeactivateOnMouseDownBehaviour()]));t=n.data;t.verticalContextValue=ContextValue.createContextClass({getTarget:function(){return n.getTextElements()}});t.$textContent=$(".text-content",i).dotdotdot({height:function(){var t=n.getContentSize();return t&&t.height},ignoredHeight:function(){return Math.ceil(n.calculateDecimalLineHeight()*n.calculateFontSize())}});n.instanceRemoving.one(function(){t.$textContent.trigger("destroy.dot")});return t.$label=i,t.isEditable=u,u&&(t.$textInput=$(".element-text-input",i)),i}function l(){function o(){window.setTimeout(function(){u.currentMode==n.EditMode&&(i.properties.text.descriptor.isBound(i)?i.setBindingValueToProperty(u.$textInput.val(),PropertiesTypes.text.name):i.setPropertiesValues({text:u.$textInput.val()}))},0)}var i=this,u=i.data;i.hasHorizontalAlignFlag.setTrue();i.hasVerticalAlignFlag.setTrue();i.contentSizeChangedEvent.bind(function(){t(i)});u.isEditable&&(u.$textInput.keypress(o).keydown(o),i.$element.click(function(t){u.currentMode==n.EditMode&&t.target!=u.$textInput[0]&&u.$textInput.focus()}));r(i);e(i);i.data.loadingFonts={};f(i)}function f(n){ReadWriteController.requestReadOperation(function(){var t=n.getPropertyValue("font");if(t=ThemeFontsManager.evaluateFontBinding(t),!FontDetect.isFontLoaded(t)&&!n.data.loadingFonts[t]){n.data.loadingFonts[t]=!0;FontDetect.onFontLoaded(t,{successCallback:function(){n.performWhenVisible(function(){r(n);i(n);delete n.data.loadingFonts[t]},n.id+"visibilityEventBinding")},timeout:15e3})}},n.id+"pollFontUpdate")}function e(t){t.$element.removeClass("state-editing");var r=t.data;r.currentMode!==n.ViewMode&&(r.currentMode=n.ViewMode,r.isEditable&&r.$textInput.quickHide().unbind("keydown.rtl"),r.$textContent.quickShow(),i(t))}function a(t){var r,i,u;(t.$element.addClass("state-editing"),r=t.data,r.currentMode!==n.EditMode)&&(i=r.$textInput,u=r.$textContent,t.data.currentMode=n.EditMode,i.quickShow(),u.quickHide(),o(t),i.selectRange(0,0),i.scrollTop(0),i.bind("keydown.rtl",function(n){if(n.ctrlKey&&n.which===16){var i=t.getPropertyValue("textDirection");i===TextDirection.LeftToRight?(t.setPropertyValue("textDirection",TextDirection.RightToLeft),t.setPropertyValue("horizontalAlign",HorizontalAlignment.Right)):(t.setPropertyValue("textDirection",TextDirection.LeftToRight),t.setPropertyValue("horizontalAlign",HorizontalAlignment.Left))}}),$.browser.msie&&s(t))}function t(t){t.data.currentMode==n.EditMode?o(t):i(t)}function o(n){var t=n.getPropertyValue("text"),i;t!==n.data.$textInput.val()&&n.data.$textInput.val(t);i=n.data.$textInput.measureText(n.data.normalizedText!==""?n.data.normalizedText:"&nbsp;",!1);n.data.$textInput.css({height:i.height})}function i(n){ReadWriteController.requestIndpendentWriteOperation(function(){window.setTimeout(function(){n.data.$textContent.html(n.data.normalizedText)},0)},n.id+"dotdotdot")}function r(n){var r=n.getPropertyValue("text"),t,i;t=r?r.toString():"";i=t.replace(/\n/g,"<br />");t.charAt(t.length-1)=="\n"&&(i+="&nbsp;");n.data.normalizedText=i}function s(n){var t=n.$element;n.performWhenVisible(function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){if(n.isInstanceVisible()){var i=n.getSize();t.width(i.width+1).width(i.width-1)}},n.id+"explorerHack")},n.id+"explorerHack")}var h={Element:{useTemplate:function(n){var r=n.type,i=n.editable,t=new StringBuilder;return t.append('<div class="label-element absolute-fill" style="overflow: hidden;">'),t.append('<span class="height-normalizer"><\/span>'),t.append('<span class="text-content element-text-container"><\/span>'),i&&t.append('<textarea class="element-text-input element-text-container"><\/textarea>'),t.append("<\/div>"),$(t.toString())}}},n;ElementsModel.registerDefinition(ElementsTypes,{label:{className:"label-element",title:"Label",description:"No description yet.",properties:{text:{title:"Label text",isContentProperty:!0,defaultValue:function(){return"Title"},category:PropertiesCategories.TextStyle,isStateProperty:!0,supportsBinding:!0,isBound:function(n){return n.isBound(DataSourceItemsFields.title.getContentType())||n.isBound(DataSourceItemsFields.description.getContentType())},getBindingType:function(n){var t;return n.isBound(DataSourceItemsFields.title.getContentType())?t=DataSourceItemsFields.title.getContentType():n.isBound(DataSourceItemsFields.description.getContentType())&&(t=DataSourceItemsFields.description.getContentType()),t},onChange:function(n){r(n)}},textType:{title:"Format",isStyleProperty:!0,defaultValue:function(){return TextTypes.None.value}},trimText:{title:"Trim Text",isStateProperty:!0,isStyleProperty:!0,defaultValue:$.returnFalse,category:PropertiesCategories.TextStyle}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Clickable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.Hideable,Features.HasLayout,Features.HasPadding,Features.HasContent,Features.HasText,Features.Editable,Features.HasBorder,Features.Rotatable],methods:{creationFunction:c,startEditingOnClick:$.returnTrue,refreshTextLayout:function(){t(this)},hasBinding:function(){return PropertiesTypes.text.isBound(this)},getTextElements:function(){var n=$([]),t=this.data;return t.isEditable&&n.pushElements(t.$textInput),n.pushElements(t.$textContent),n},getElementDataContent:function(){return this.data.$textContent},editingEnabled:function(){var n=this;return n.isConnectedToField()?!1:!0},onEditingDisable:function(){var n=this;n.isConnectedToField()&&this.data.labelToolTip.activate()},hasHorizontalAlign:$.returnTrue,hasVerticalAlign:$.returnTrue,alignVertical:function(){var t=this,i,n;if(t.hasVerticalAlign()){i=t.getPropertyValue("verticalAlign");switch(i){case VerticalAlignment.Centered:n="vertically-centered";break;case VerticalAlignment.Top:n="vertically-top";break;case VerticalAlignment.Bottom:n="vertically-bottom"}t.data.verticalContextValue.set(n)}},createBindingFieldsToProperties:function($super){var t=this,n=$super(),i=DataSourceItemsFields.title.getContentType(),r=DataSourceItemsFields.description.getContentType();return(this.isBound(i)||this.isBound(r))&&(n[PropertiesTypes.text.name]=ObservableObject.createPropertyBinding(t,{propertyName:PropertiesTypes.text.name})),n},onUpdateBindingReady:function($super){var u=$super(),n=this,i=n.getPropertyValue("text"),f=n.getPropertyValue("binding"),r=f.dataFields,t={};return n.isBound(DataSourceItemsFields.title.getContentType())?(t[r[DataSourceItemsFields.title.getContentType()].name]=i,t.useDefaultTitle=!1):n.isBound(DataSourceItemsFields.description.getContentType())&&(t[r[DataSourceItemsFields.description.getContentType()].name]=i),$.quickExtend(u,t)}},aggregatedMethods:{aggregations:{onInitializing:l,onStartEditing:function(){var n=this;a(this)},onFinishEditing:function(){var n=this;e(this);n.updateBinding()},onContentTypeChanged:function(n,t){var i=this;u(i,t)},onBoundValueReady:function(n){var t=this,i=PropertiesTypes.text.getBindingType(t),r;i!==undefined&&(r=t.getBindingFields(i),u(t,r,n[i]))},onPropertiesChanged:function(n){var i=this;$.containsOneOfKeys(n,"fontSize","text","textStyle","verticalAlign","lineHeight")&&t(i);$.containsOneOfKeys(n,"font")&&f(i);$.browser.msie&&i.isInitialized&&$.containsOneOfKeys(n,"horizontalAlign")&&s(i)}}}}});n={ViewMode:"view-mode",EditMode:"edit-mode"}}(),function(){function n(n){var i=Math.max(0,n.getPropertyValue("sectionPadding")),r=Math.max(0,n.getPropertyValue("sectionVerticalPadding")),t=n.data.sectionPaddingCssRule;t||(t=$.rule(".{0} .content-container.content-container-type.element-size-box.section-element-size-box {}".format(EditorManager.MobileDesktopViewClass)),n.data.sectionPaddingCssRule=t);t.css({padding:"{0}px {1}px".format(r,i)})}ElementsModel.registerDefinition(ElementsTypes,{coordinator:{className:"coordinator-element",title:"Coordinator",features:[],properties:{pageContentWidth:{defaultValue:function(){return 960}},siteStatesGroups:{title:"States Groups",category:PropertiesCategories.Other,defaultValue:$.returnNull},responsiveStates:{defaultValue:$.returnNull},sitePresetPalettes:{defaultValue:function(){return[]}},themeFonts:{defaultValue:function(){return{heading1:"Questrial",heading2:"Questrial",body1:"Arial",body2:"Arial"}}},textStyles:{defaultValue:function(){return{title:{fontSize:23,fontFamily:{themeFont:"heading1"},color:"#000000",isBold:!1,isItalic:!1},menu:{fontSize:15,fontFamily:{themeFont:"body2"},color:"#000000",isBold:!1,isItalic:!1},pageTitle:{fontSize:50,fontFamily:{themeFont:"heading1"},color:"#000000",isBold:!1,isItalic:!1},headingXL:{fontSize:72,fontFamily:{themeFont:"heading1"},color:"#000000",isBold:!1,isItalic:!1},headingL:{fontSize:25,fontFamily:{themeFont:"heading1"},color:"#000000",isBold:!1,isItalic:!1},headingM:{fontSize:24,fontFamily:{themeFont:"heading2"},color:"#000000",isBold:!1,isItalic:!1},headingS:{fontSize:20,fontFamily:{themeFont:"heading2"},color:"#000000",isBold:!1,isItalic:!1},bodyL:{fontSize:19,fontFamily:{themeFont:"body1"},color:"#000000",isBold:!1,isItalic:!1},bodyM:{fontSize:15,fontFamily:{themeFont:"body2"},color:"#000000",isBold:!1,isItalic:!1},bodyS:{fontSize:14,fontFamily:{themeFont:"body2"},color:"#000000",isBold:!1,isItalic:!1},bodyXS:{fontSize:10,fontFamily:{themeFont:"body2"},color:"#000000",isBold:!1,isItalic:!1}}}},themeColors:{defaultValue:function(){return ThemeColorsManager.generatePalette(["#69D2E7","#A7DBD8","#E0E4CC","#F38630","#FA6900"])}},skins:{comparer:$.returnFalse,preSaveProcessing:function(n){return $.eachEntry(n,function(n,t){$.each(t,function(t,i){var r,f,u;i&&(r=n+t,f=StylesManager.getStyle(r),f&&(u=StylesManager.getStyleInformation(r),$.eachEntry(i,function(n,t){t&&$.eachEntry(t,function(n,t){t&&(t.fieldsToValues=u.fields,t.statesAnimations=u.statesAnimations)})})))})}),n},defaultValue:function(){var n={};return n[ElementsTypes.skinImageElement.name]=$.createArrayWithValue(null,4),n}},contentWidth:{isStateProperty:!0,defaultValue:function(){return 960},onChange:function(n,t){t!==null&&Global.PageContentWidthChanged.fireNew()}},columnsGrid:{isStateProperty:!0,defaultValue:function(){return{margin:10,gutter:20,columnsNumber:12,color:"#92C348",showAlways:!1,isEnabled:!1,opacity:20}},onChange:function(n,t){t.isEnabled===undefined&&(n.properties.columnsGrid.value.isEnabled=!0,n.properties.columnsGrid.value.showAlways=!1)}},innerRowsSpacing:{isStateProperty:!0,defaultValue:function(){return 5},onChange:function(n,t){var i=n.data.innerRowsSpacing;i||(i=$.rule(".{0} .row-element.desc-row {}".format(EditorManager.MobileDesktopViewClass)),n.data.innerRowsSpacing=i);i.css({"margin-bottom":"{0}px".format(t)})}},rowsSpacing:{isStateProperty:!0,defaultValue:function(){return 5},onChange:function(n,t){var i=n.data.rowCssRule;i||(i=$.rule(".{0} .row-element.root-row {}".format(EditorManager.MobileDesktopViewClass)),n.data.rowCssRule=i);i.css({"margin-bottom":"{0}px".format(t)})}},cellsSpacing:{isStateProperty:!0,defaultValue:function(){return 2},onChange:function(n,t){var i=n.data.cellCssRule;i||(i=$.rule(".{0} .design-element .cell-element {}".format(EditorManager.MobileDesktopViewClass)),n.data.cellCssRule=i);i.css({"margin-right":"{0}%".format(t)})}},sectionPadding:{isStateProperty:!0,defaultValue:function(){return 0},onChange:n},sectionVerticalPadding:{isStateProperty:!0,defaultValue:function(){return 0},onChange:n},pagePadding:{isStateProperty:!0,defaultValue:function(){return 20},onChange:function(n,t){var i=n.data.paddingCssRule;i||(i=$.rule(".{0} .page-element-border-box {}".format(EditorManager.MobileDesktopViewClass)),n.data.paddingCssRule=i);i.css({padding:"0px {0}px".format(t)})}},innerRowPadding:{isStateProperty:!0,defaultValue:function(){return 5},onChange:function(n,t){var i=n.data.innerRowPadding;i||(i=$.rule(".{0} .row-element .cell-element-container {}".format(EditorManager.MobileDesktopViewClass)),n.data.innerRowPadding=i);i.css({padding:"{0}px".format(t)})}},cellsVerticalAlignment:{isStateProperty:!0,defaultValue:function(){return CssVerticalAlignment.Middle},onChange:function(n,t){var i=n.data.cellsVerticalAlignment;i||(i=$.rule(".{0} .design-element .cell-element {}".format(EditorManager.MobileDesktopViewClass)),n.data.cellsVerticalAlignment=i);i.css({"vertical-align":"{0}".format(t)})}},cellsHorizontalAlignment:{isStateProperty:!0,defaultValue:function(){return CssHorizontalAlignment.Center},onChange:function(n,t){var i=n.data.cellsHorizontalAlignment;i||(i=$.rule(".{0} .design-element .cell-element {}".format(EditorManager.MobileDesktopViewClass)),n.data.cellsHorizontalAlignment=i);i.css({"text-align":"{0}".format(t)})}},isSiteWasEditedInMode:{isStateProperty:!0,defaultValue:$.returnFalse},listsData:{notForUndoProperty:!0,defaultValue:$.returnEmptyObject},freeVideoElements:{notForUndoProperty:!0,defaultValue:$.returnUndefined}},methods:{getSkin:function(n){var i=n.skinName,r=n.index,u=$.valueOrDefault(n.skinNameVariationType,SkinsBindingsTypesNames.Default),f=$.valueOrDefault(n.device,SkinsBindingsDevices.Desktop),t=$.objectGet(this.getPropertyValue("skins"),[i,r,u,f]);return t||f!==SkinsBindingsDevices.Mobile||(t=$.objectGet(this.getPropertyValue("skins"),[i,r,u,SkinsBindingsDevices.Desktop])),t},updateSkin:function(n,t){t=$.extend({type:undefined,skinName:undefined,skinNameVariationType:SkinsBindingsTypesNames.Default,device:SkinsBindingsDevices.Desktop,index:0},t);var r=t.skinName,u=t.index,f=t.skinNameVariationType,e=t.device,i=this.getPropertyValue("skins");i=$.objectSetAndClone(i,[r,u,f,e],n);this.setPropertyValue("skins",i);SkinsManager.Events.SkinHierarchyUpdated.fire(r+u)}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{EditorCoordinator:{properties:{},methods:{}}})}();RichContentFormatting={Full:1,Basic:2},function(){function t(n,t,i){var r=$.valueOrDefaultArray(i,[t&&t.title,"Default Text"]);n.setBindingValueToProperty(r.toString(),PropertiesTypes.formattedText.name)}function f(){var n=this;n.hasHorizontalAlignFlag.setTrue();n.isInDesignMode()&&(n.data.rte=DeferredObject.create(function(){return CKEditorController.create(n.data.$richTextContent)}));Global.IsDesigner&&PageManager.AllPagesInformation.itemsUpdatedEvent.bindUntil(n.instanceRemoving,function(){var t=n.getPropertyValue("formattedText");RichTextProcessor.startProcessing(t).processLinks().finish().ifContentChanged(function(t){n.data.$richTextContent.html(t)})})}function e(n){var t=$.useTemplate(r.Element),i,f,u;return n.data.$richTextElementContent=t,n.data.$richTextContent=$(".rich-text-content",t),i=$(".rich-text-positioning-wrapper",t),n.data.positioningClass=ContextValue.createContextClass(i),n.data.$positioningWrapper=i,Global.IsDesigner&&(f=$(".rich-text-content-overlay",t),n.data.showContentOverlay=ObservableFlag.createConditionalPositive({valueChangeCallback:function(n){f.quickToggle(n)}})),u=n.getPropertyValue("binding"),$.objectGet(u,"dataSourceName")==="LocalBlog"&&$.objectGet(u,["dataFields",1,"name"])==="content"&&n.data.$richTextContent.addClass("rich-content-hack"),t}function n(n){var t=n.contentHeight.getValue();n.data.isVerticallyCentered&&t!==undefined&&RenderingCoordinator.requestIndpendentWriteOperation(function(){var t=n.contentHeight.getValue();n.data.isVerticallyCentered&&t!==undefined&&(n.data.$positioningWrapper.css("margin-top",-t/2),n.$container.scrollTop(0))},n.id+"refreshVerticalAlignment")}function o(n){var r=n.data._beforeSavingSiteEventBinding,t;r&&(r.unbind(),n.data._beforeSavingSiteEventBinding=undefined);i(n);t=n.data.contentChangedBinding;t&&t.unbind();n.useRichTextEditor().deactivate();Panels.RichTextPanel.requestDeactivation();n.data.showContentOverlay.setTrue("Editing")}function s(n){n.data._beforeSavingSiteEventBinding=SiteManager.BeforeSavingSiteEvent.bind(function(){n.data._ignoreTextPropertyChange=!0;i(n);n.data._ignoreTextPropertyChange=!1});n.data.$richTextContent.html()===""&&n.data.$richTextContent.html(" ");var t=h(n);n.useRichTextEditor().activate({toolbar:t,getDefaultStyle:function(t){switch(t){case CKEditorStyleProperties.TextStyle:return n.getPropertyValue("namedTextStyle");case CKEditorStyleProperties.LineHeight:return n.getPropertyValue("lineHeight").percentages;default:return undefined}},ckConfig:{scrollingParent:function(){return DesignerManager.getDesignerFrame()}}});n.data.contentChangedBinding=n.useRichTextEditor().contentChangedEvent.bind(function(){n.refreshContentSize()});Panels.RichTextPanel.openWindow({activationArgs:{richTextToolbar:t},positioningFunction:PositioningFunctions.buildPositioningFunction(EditorPositioningArea.Editor).allRelativeTo(n.$element).alignHorizontally(Side.Center,Side.Center).alignVertically(Side.Bottom,Side.Top,{distance:15,mirrorOnOverflow:!0})});n.data.showContentOverlay.setFalse("Editing")}function i(n){n.setPropertyValue("formattedText",n.useRichTextEditor().getData())}function h(n){var t=n.getRichContentFormatting();switch(t){case RichContentFormatting.Full:return RichTextToolbars.FullRichTextEditingToolbar.get();case RichContentFormatting.Basic:return RichTextToolbars.BasicEditingToolbar.get();default:return RichTextToolbars.FullRichTextEditingToolbar.get()}}function c(n,t){if(!n.data._ignoreTextPropertyChange){t=RichTextProcessor.startProcessing(t).processLinks().finish().getProcessedContent();var i=n.data.$richTextContent;i.html(t)}}function l(n){switch(n){case VerticalAlignment.Bottom:return"vertical-alignment-bottom";case VerticalAlignment.Centered:return"vertical-alignment-center";default:return"vertical-alignment-top"}}function a(n){ReadWriteController.requestReadOperation(function(){$.eachItem(n.findUsedFonts(),function(t,i){if(!FontDetect.isFontLoaded(i)&&!n.data.loadingFonts[i]){n.data.loadingFonts[i]=!0;FontDetect.onFontLoaded(i,{successCallback:function(){n.performWhenVisible(function(){n.refreshContentSize()},n.id+"visibilityEventBinding")},timeout:15e3})}})},n.id+"pollForNotLoadedFonts")}var r={Element:{useTemplate:function(){var n=new StringBuilder;return n.append('<div class="rich-text-element-content absolute-fill" style="background: none;">'),n.append('<div class="rich-text-positioning-wrapper">'),n.append('<div class="rich-text-content"><\/div>'),Global.IsDesigner&&n.append('<div class="rich-text-content-overlay stretched-to-fill fully-transparent"><\/div>'),n.append("<\/div>"),n.append("<\/div>"),$(n.toString())}}},u="Write your text here, you can fully customize it like in your word editor. try to change the font, color, and other properties from the style panel.";ElementsModel.registerDefinition(ElementsTypes,{freeText:{title:"Text",properties:{formattedText:{isNotForCustomProperty:!0,isContentProperty:!0,defaultValue:function(){return u},supportsBinding:!0,isBound:function(n){var t=this;return t.getBindingType(n)!==undefined},getBindingType:function(n){var t;return n.isBound(DataSourceItemsFields.title.getContentType())?t=DataSourceItemsFields.title.getContentType():n.isBound(DataSourceItemsFields.description.getContentType())&&(t=DataSourceItemsFields.description.getContentType()),t},onChange:c},verticalAlignment:{isStateProperty:!0,defaultValue:function(){return VerticalAlignment.Top},onChange:function(t,i){t.data.positioningClass.set(l(i));t.data.isVerticallyCentered=i===VerticalAlignment.Centered;i!==VerticalAlignment.Centered?t.data.$positioningWrapper.css("margin-top",""):n(t)}}},defaultProperties:{backgroundColor:function(){return"transparent"},fontColor:function(){return"Black"},fontSize:function(){return 12},horizontalAlign:function(){return HorizontalAlignment.Left},sizeAndPosition:function(){return{width:200,height:160,top:0,left:0}}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.Hideable,Features.HasLayout,Features.HasBorder,Features.HasPadding,Features.HasRichContent,Features.HasText,Features.Rotatable],methods:{refreshTextLayout:function(t){this.refreshContentSize(t);n(this)},creationFunction:e,startEditingOnClick:$.returnTrue,hasHorizontalAlign:$.returnTrue,getScrollable:function(){return this.data.$richTextElementContent},getTextElements:function(){return this.data.$richTextElementContent},getTextContentElement:function(){return this.data.$richTextContent},getElementDataContent:function(){return this.data.$richTextContent},hasBinding:function(){var n=this;return n.getBindingType()!==undefined},getBindingType:function(){var n=this;return PropertiesTypes.formattedText.getBindingType(n)},findUsedTextStyles:function(){var n=this,r=n.data.$richTextContent,t=$.makeDictionaryFromKeys($.map(r.findUsedClasses(TextStyleManager.TextStyleClassNames),function(n){return TextStyleManager.getTextStyleFromClass(n)}),!0),i=n.getPropertyValue("namedTextStyle");return i&&(t[i]=!0),$.getKeys(t)},findUsedFonts:function(){var n=this,t=n.data.$richTextContent,r=$.map(t.findUsedInlineStyles("font-family"),function(n){return $.parseFontFamilyFromStyleValue(n)}),u=n.findUsedTextStyles(),f=$.map(u,function(n){var i=TextStyleManager.getTextStyleInformation(n),t;return i&&(t=ThemeFontsManager.evaluateFontBinding(i.fontFamily),t)?t.toLowerCase():undefined}),e=$.map(t.findUsedClasses(ThemeFontsManager.FontFamilyClassNames.get()),function(n){var t=ThemeFontsManager.evaluateFontBinding(ThemeFontsManager.getFontBindingFromClass(n));return t?t.toLowerCase():undefined}),i=$.merge(r,$.merge(f,e));return i.push(ThemeFontsManager.evaluateFontBinding(n.getPropertyValue("calculatedFontFamily"))),$.getKeys($.makeDictionaryFromKeys(i,!0))},getForeGroundPropertyName:function(){return"fontColor"},createBindingFieldsToProperties:function($super){var n=this,t=$super();return(n.isBound(DataSourceItemsFields.title.getContentType())||n.isBound(DataSourceItemsFields.description.getContentType()))&&(t[PropertiesTypes.formattedText.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.formattedText.name})),t},useRichTextEditor:function(){return this.data.rte.get()},getRichContentFormatting:function(){var n=SelectionManager.getSelectedInstance();return n&&n.isTypeOf(ElementsTypes.SkinButtonElement)?RichContentFormatting.Basic:RichContentFormatting.Full}},aggregatedMethods:{aggregations:{onInitializing:f,updateInstanceToViewPort:function(){this.refreshContentSize()},removeInstanceFromViewPort:function(){var n=this;n.isBoundToProperty("formattedText")||n.refreshContentSize()},onStartEditing:function(){s(this)},onFinishEditing:function(){o(this);$.clearFocus()},switchToPreview:function(){Global.IsDesigner&&this.data.showContentOverlay.setFalse("Preview")},switchToDesign:function(){this.data.showContentOverlay.setTrue("Preview")},onContentTypeChanged:function(n,i){var r=this;t(r,i)},onBoundValueReady:function(n){var i=this,r=PropertiesTypes.formattedText.getBindingType(i),u;r!==undefined&&(u=i.getBindingFields(r),t(i,u,n[r]))},onPropertiesChanged:function(n){var t=this;t.isInitialized&&($.containsOneOfKeys(n,["textStyle","lineHeight","formattedText"])&&t.refreshContentSize(),$.containsOneOfKeys(n,["font","namedTextStyle"])&&ReadWriteController.requestReadOperation(function(){FontDetect.onFontLoaded(ThemeFontsManager.evaluateFontBinding(t.getPropertyValue("calculatedFontFamily")),{finishCallback:function(){t.refreshContentSize()},timeout:15e3})},t.id+"onPropertiesChanged - onFontLoaded"))},onInitialized:function(){var t=this,i,r;if(t.data.loadingFonts={},i=t.contentHeight.createValueListener(function(){n(t)}),r=t.visibilityChangedEvent.bindAndExecute(function(){var n=PositionManager.isElementVisible(t);n&&(RenderingCoordinator.performOnLayoutVisibilityUpdate(function(){n=PositionManager.isElementVisible(t);n&&i.toggleActivation(n,!0)},t.id+"visibilityEventBindingRichTextNew"),a(t))}),Global.IsDesigner)t.data.$richTextContent.on("click","a",function(n){if(ViewManager.isViewMode()&&$(this).attr("target")!=="_blank"&&!$(this).is(".internal-link")){var t=$(this).attr("href");return ConfirmationDialog.open({buttons:ConfirmationPanel.YesNoButtons,buttonsOptions:[{type:ConfirmationButtonsTypes.Yes,href:t}],header:"Open Link",confirmationMessage:'The editor is preventing you from opening a link to "{0}"<br/> Do you want to open the link in a new window?'.format(t)}),n.preventDefault(),!0}});t.instanceRemoving.one(function(){r.unbind();i.deactivate();Global.IsDesigner&&t.data.$richTextContent.off()})}}}}})}(),function(){var n={Element:{getTemplateString:function(){return'<div class="rich-content"><\/div>'}}};ElementsModel.registerDefinition(ElementsTypes,{RichContent:{title:"RichContent",className:"rich-content-element",properties:{htmlContent:{onChange:function(n,t){n.getElementDataContent().html(t);n.refreshContentSize()},getBindingType:function(){return DataSourceItemsFields.content.getContentType()}}},features:[Features.HasMultiStyles,Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.Hideable,Features.HasLayout,Features.HasBorder,Features.HasPadding,Features.HasRichContent,Features.Rotatable],methods:{creationFunction:function(){return $.useTemplate(n.Element)},hasBinding:function(){var n=this;return n.isBound(n.getBindingType())},getBindingType:function(){return PropertiesTypes.htmlContent.getBindingType()},createBindingFieldsToProperties:function($super){var n=this,t=$super();return n.hasBinding()&&(t[PropertiesTypes.htmlContent.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.htmlContent.name})),t},getTextElements:function(){return this.getElementDataContent()}},aggregatedMethods:{aggregations:{onBoundValueReady:function(n){var t=this,i=t.getBindingType(),r=t.getBindingFields(i),u,f;r!==undefined&&(u=n[i],f=$.valueOrDefault(u,r.title),t.setBindingValueToProperty(f,PropertiesTypes.htmlContent.name))},onInitialized:function(){var n=this,t=SimpleEvent.createEventListener({name:PropertiesTypes.predefinedTextStyles.name,event:n.propertyChangedEvent},function(){n.refreshContentSize()}).activate();n.instanceRemoving.one(function(){t.dispose()})}}}}})}(),function(){function n(n){var t={dateMillis:n.getPropertyValue(PropertiesTypes.dateMillis.name),dateSeparator:n.getPropertyValue(PropertiesTypes.dateSeparator.name),dateFormat:n.getPropertyValue(PropertiesTypes.dateFormat.name)},i=t.dateFormat.replace(/-/g,t.dateSeparator);n.dateValueObject.setValue(DateUtils.formatDateMillis(t.dateMillis,i))}ElementsModel.registerDefinition(ElementsTypes,{date:{title:"Date",properties:{dateFormat:{isStateProperty:!0,defaultValue:function(){return DateFormats[0].format},onChange:n},dateSeparator:{isStateProperty:!0,defaultValue:function(){return DateSeparators[0].value},onChange:n},dateMillis:{isStateProperty:!0,defaultValue:function(){return Date.now()},isBound:function(n){var t=this;return t.getBindingType(n)!==undefined},getBindingType:function(n){var t;return n.isBound(DataSourceItemsFields.date.getContentType())&&(t=DataSourceItemsFields.date.getContentType()),t},onChange:n}},ancestorElementType:ElementsTypes.freeText,methods:{hasBinding:function(){var n=this;return n.getBindingType()!==undefined},getBindingType:function(){var n=this;return PropertiesTypes.dateMillis.getBindingType(n)},createBindingFieldsToProperties:function($super){var t=this,n=$super(),i=DataSourceItemsFields.date.getContentType();return this.isBound(i)&&(n[PropertiesTypes.dateMillis.name]=ObservableObject.createPropertyBinding(t,{propertyName:PropertiesTypes.dateMillis.name})),n}},aggregatedMethods:{aggregations:{onCreation:function(){var n=this;n.dateValueObject=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.formattedText.name})},onContentTypeChanged:function(){var n=this;n.setPropertyValue(PropertiesTypes.dateMillis.name,Date.now())},onBoundValueReady:function(n){var t=this,i=t.getBindingType();i!==undefined&&t.setBindingValueToProperty(DateUtils.getDateStringMillis(n[i]),PropertiesTypes.dateMillis.name)}}}}})}(),function(){function f(i){var u=$.unite(i.useImageLayer(),i.$elementBackgroundLayer),e=!!$.support.backgroundSize,f;e?u.addClass("fixed-attachment-background"):u.addClass("sticky-background");i.data.fixedBackgroundTargetsClass=ContextValue.createContextClass({getTarget:function(){return u}});i.sizeChangedEvent.bind(function(){i.isFixedBackground.isTrue()?t(i):i.setImageBoxViewport(i.getSize())});f=SimpleEvent.createEventListener([SiteViewportManager.ViewPortChanged],function(){ReadWriteController.requestIndpendentWriteOperation(function(){var n=SiteViewportManager.getViewPort();e?i.setImageBoxViewport($.getWindowSize(),!0):i.setImageBoxViewport(n,!0);t(i);r(i,u)},i.id+"viewPortListener")});Global.IsDesigner&&PositionManager.Events.PositionRootInvalidated.bind(function(){n(i)&&(t(i),r(i,u))});i.isFixedBackground.valueChangedEvent.bindAndExecute(function(){i.isFixedBackground.isTrue()?f.activateAndExecute():(f.deactivate(),ReadWriteController.requestIndpendentWriteOperation(function(){i.setImageBoxViewport(i.getSize())},"setImageBoxViewport"+i.id))})}function r(t,i){ReadWriteController.requestIndpendentWriteOperation(function(){var r,u,f;n(t)&&(r=SiteViewportManager.getViewPort(),t.getPropertyValue("fixedBackground")?(t.getImageBox().toggleForceBackgroundImage(SiteViewportManager.IsFullScreen.isFalse()),u=!!$.support.backgroundSize,SiteViewportManager.IsFullScreen.isTrue()?i.css({width:r.width,height:"100%",top:r.top,left:r.left,"margin-left":""}):u?i.css({width:"",height:"",top:0,left:0,"margin-left":""}):(f=t.data.fixedBackgroundTargetsClass.get()==="fixed-to-center",MobileVersionViewManager.Flags.IsActivated.isTrue()&&Global.IsDesigner&&(r.width=DesignerManager.ResponsiveViewPort.getValue()),i.css({width:r.width,height:r.height,top:"",left:"","margin-left":0-r.width/2+(f?DesignerManager.getDesignerAreaCoordinates().left/2:0)}))):i.css({width:"",height:"",top:"",left:"","margin-left":""}))},"instance.idrefreshBackgroundTargetsLayout")}function n(n){if(SiteViewportManager.IsFullScreen.isTrue()||n.isFixedBackground.isFalse())return!1;var t=PositionManager.getElementArea(n,!0);return t?!0:!1}function t(t){ReadWriteController.requestIndpendentWriteOperation(function(){if(n(t)){var r=SiteViewportManager.getViewPort(),u=PositionManager.getElementArea(t,!0),f=u.top-r.top,e=r.height-(f+u.height),i=t.data.fixedBackgroundTargetsClass;return f>0?i.set("fixed-to-top"):e>0?i.set("fixed-to-bottom"):i.set("fixed-to-center")}},t.id+"updateInnerScreenFixedTargets")}function e(n){if(n===PageManager.getCurrentPage()){var t=PageManager.AllPagesInformation.getItem(n.id);ListsManager.isListPage(t)?$.setDocumentTitle(ListsManager.getListPageTitle(t)):$.setDocumentTitle(t.pageTitle||t.title)}}function o(n){if(n===PageManager.getCurrentPage()){var t=PageManager.AllPagesInformation.getItem(n.id).description;$("#meta-description").attr("content",t)}}function s(n){if(n===PageManager.getCurrentPage()){var t=PageManager.AllPagesInformation.getItem(n.id).keyWords;$("#meta-keywords").attr("content",t)}}function h(n){if(n===PageManager.getCurrentPage()){var t=PageManager.AllPagesInformation.getItem(n.id).metaTags;i&&$(i).remove();i=$.addHtmlCodeToTheHead(t)}}function c(){}var u={Element:{group:"page-element-templates",name:"page-element-template"}},i;Global.PageHeightChanged=SimpleEvent.create();Global.PageContentWidthChanged=SimpleEvent.create();ElementsModel.registerDefinition(ElementsTypes,{page:{title:"Page",features:[Features.DesignElement,Features.Resizable,Features.HasContent,Features.Selectable,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.HasBackground,Features.HasBackgroundImage],defaultProperties:{padding:function(){return $.convertValueToObject(0,["top","left","bottom","right"])},backgroundColor:function(){return"white"},sizeAndPosition:function(){return{width:null,height:1068,top:null,left:null}},childrenAnchor:function(){return HorizontalAlignment.Centered}},properties:{gridLines:{defaultValue:function(){return[]}},fixedBackground:{defaultValue:$.returnFalse,isStateProperty:!0,title:"Fixed Background",onChange:function(n,t){(!$.browser.msie||parseInt($.browser.version)>8)&&n.isFixedBackground.setValue(t)}},statesGroups:{title:"States Groups",category:PropertiesCategories.Other,defaultValue:$.returnNull,onChange:function(n){var t=n.getPropertyValue("statesGroups");if(t&&t!==null){var i=PageManager.getCoordinator(),r=i.getPropertyValue("siteStatesGroups"),u=$.extend({},t,r);i.setPropertyValue("siteStatesGroups",u)}}}},calculatedProperties:["pageTitle"],methods:{getMinSize:$.returnZeroSize,hasHeight:$.returnFalse,calculateActualSize:function(){var i=this,n=Global.IsDesigner?DesignerManager.calculateDesignerArea():$.getWindowSize(),t=n.width;return{width:t,height:0}},getContentLayer:function($super){return MobileVersionViewManager.Flags.IsInMobileContext.isFalse()?$super():$(".master-page-mobile-content-container ",this.$element)},getMaxSize:function(){return{height:Infinity,width:Infinity}},isRelativePositioned:function(){return!0},getHandlePosition:function(){return PositionManager.getElementArea(this).bottom-this.getFooterInstanceHeight()-this.getPropertyValue("borderWidth").bottom},forceImageBoxCreation:$.returnTrue,autoCalculateBackgroundViewPort:$.returnFalse,getImageLayerTemplate:function(){return $('<div class="element-background-image"><\/div>')},refreshPageMetaData:function(){var n=this;e(n);o(n);s(n);h(n)},getPaddingBox:function(){return this.$paddingBox},getContentArea:function(){var r=this,n=PositionManager.getElementArea(r,!0),t,i;return n?(t=PageManager.getContentWidth(),i=(n.width-t)/2+n.left,$.extendedAreaInfo({left:i,width:t,top:n.top,bottom:n.bottom})):undefined},attachPage:function(){var n=this;n.$container||ElementsManager.addInstanceToRoot(n)},reorderChildElements:function($super){var t,n,u;if(this.hasOrder.getValue()){var i=$([]),r=this.getChildInstances(),f=this.getPageContentInstancesMap();for(t=0;t<r.length;t++)n=r[t],PositionManager.isElementVisible(n)&&n.elementType===ElementsTypes.SectionElement&&(u=n.getPageContentInstance(),i.pushElements(n.$element));i.applyDOMOrder();MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&$super()}},handleImageBoxBorderWidthChange:function(){var n=this,i=n.data.imageBox,t=n.getActualPropertyValue("borderWidth"),r={left:0,top:0,right:0,bottom:0};n.getPropertyValue("fixedBackground")?i.setBorderWidth(r):(t||(t=r),i.setBorderWidth(t))},addChildElement:function(n){var t=this;return n.addElementToPage(t)},getFooterInstanceHeight:function(){var n=this.getFooterInstance();return n&&PositionManager.isElementVisible(n)?n.getActualPropertyValue("sizeAndPosition").height:0},getHeaderInstanceHeight:function(){var n=this.getHeaderInstance();return n&&PositionManager.isElementVisible(n)?n.getActualPropertyValue("sizeAndPosition").height:0},getFooterInstance:function(){return this.data.footerInstance},getHeaderInstance:function(){return this.data.headerInstance},setFooterInstance:function(n){this.data.footerInstance=n},setHeaderInstance:function(n){this.data.headerInstance=n},getPageContentInstancesMap:function(){return this.pageContentInstances},getPageContentInstances:function(){return $.getValues(this.pageContentInstances)},addPageContentInstance:function(n){this.pageContentInstances[n.id]=n},removePageContentInstance:function(n){delete this.pageContentInstances[n.id]},creationFunction:function(n){var t=$.useTemplate(u.Element);return n.data.pageContentContainer=t,n.data.$footerSection=$(".footer-section",n.$element),n.data.$headerSection=$(".header-section",n.$element),t},renderElement:function(n){var t=this,r=t.id,i=t.elementType,u=i.typeClass,f=new StringBuilder;n.startInstanceRendering(t,"page-element");n.openTag("div","element-main-box positioned");n.openTag("div","element-background-layer positioned absolute-fill element-border-target design-element-border-target");Global.IsExplorerMode&&n.addTag("div","element-background-target-explorer");n.closeTag();n.openTag("div","page-element-border-box element-border-target positioned design-element-border-box");Global.IsDesigner&&n.addTag("div","bottom-background-designer-pane");n.addTag("div","header-section page-section positioned");n.openTag("div","element-content-box element-padding-box positioned");n.openTag("div","page-element-size-box element-size-box positioned element-size-target");n.addTag("div","master-page-mobile-content-container");n.openTag("div","page-content-container content-container-type");t.renderElementChildren(n);n.closeTag();n.closeTag();n.closeTag();n.addTag("div","footer-section page-section positioned");n.closeTag();n.closeTag();n.finishInstanceRendering()},getAutoLayoutProperties:function(){return{left:!0,top:!0,width:!0}},getCalculatedPropertyValue:function($super,n){switch(n){case"pageTitle":return PageManager.AllPagesInformation.getItem(this.id).pageTitle}return $super(n)},setCalculatedPropertyValue:function($super,n,t,i,r){switch(n){case"pageTitle":PageManager.AllPagesInformation.updateItemFields(this.id,{pageTitle:t});return}$super(n,t,i,r)}},aggregatedMethods:{aggregations:{onCreation:function(){var n=this;n.firstSectionInstance=ObservableObject.create(undefined,{equalityComparer:$.defaultIdComparer});n.lastSectionInstance=ObservableObject.create(undefined,{equalityComparer:$.defaultIdComparer});n.firstContentSectionInstance=ObservableObject.create(undefined,{equalityComparer:$.defaultIdComparer});n.lastContentSectionInstance=ObservableObject.create(undefined,{equalityComparer:$.defaultIdComparer});n.firstSectionContextClass=ContextValue.createSingleTargetClass("first-section");n.lastSectionContextClass=ContextValue.createSingleTargetClass("last-section");n.firstContentSectionContextClass=ContextValue.createSingleTargetClass("first-content-section");n.lastContentSectionContextClass=ContextValue.createSingleTargetClass("last-content-section");n.contentSectionsCount=ObservableObject.create();n.sectionsCount=ObservableObject.create();n.pageContentInstancesCount=ObservableObject.create();n.pageContentInstances={};n.isFixedBackground=ObservableFlag.create(!1,{valueChangeCallback:function(t){var i=$.unite(n.useImageLayer(),n.$elementBackgroundLayer);i.toggleClass("fixed-page-background",t);t||(i.css({width:"",height:"",top:"",left:"","margin-left":""}),i.removeClass("fixed-to-top fixed-to-bottom fixed-to-center"))}})},onChildElementRemoved:function(n){n.classesManager.set({"is-page-child":!1,"positioned-fixed":!1})},onChildElementAdded:function(n){var t=this;n.classesManager.set({"is-page-child":!0});n.hasFeature(Features.PageSection)&&PropertiesManager.invalidateProperty(t,"sizeAndPosition",undefined,t.getPropertyValue("sizeAndPosition"))},onPropertyChange:function(n,t){switch(n.name){case"backgroundColor":c(this.$element,t)}},switchToPreview:function(){var n=this;n.data.isLoaded=!1},onInitializing:function(){var n=this;n.isVisible=!1;n.canMove.setValue(!1);f(n)}}},supportedStates:[ElementStates.BeforeLoadedState,ElementStates.BeforeOpenedState]}})}(),function(){function n(n,t){RenderingCoordinator.performUpdateOnRenderingFinished(function(){var i=n.getPropertyValue("iconSize"),r;i==="auto"&&(r=PositionManager.getContentSize(n),i=Math.min(r.height,r.width)*(1/Math.sqrt(2)));n.animatePart(n.data.$icon,{"font-size":i,"margin-top":-i/2},!1,t)},n.id+"updateIconSize")}ElementsModel.registerDefinition(ElementsTypes,{Icon:{title:"Icon",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasLayout,Features.HasPadding,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Rotatable,Features.HasContent],properties:{iconColor:{title:"Color",isStyleProperty:!0,isStateProperty:!0,supportsStatesTransitionAnimation:!0,supportsThemeBinding:!0,defaultValue:function(){return"black"},onChange:function(n,t,i){t=ThemeColorsManager.evaluateColorBinding(t,!0);n.animatePart(n.data.$icon,{color:t},!0,i)}},iconReference:{title:"Icon",defaultValue:$.returnNull,isStateProperty:!0,supportsBinding:!0,isBound:function(n){return n.hasFeature(Features.HasSimpleBinding)&&n.isBound(DataSourceItemsFields.fontIcon.getContentType())},onChange:function(n,t){FontIconsManager.applyIcon(n.data.$icon,t)}},iconSize:{title:"Size",defaultValue:function(){return 24},isStateProperty:!0,supportsStatesTransitionAnimation:!0,onChange:function(t,i,r){n(t,r)}}},methods:{hasBinding:function(){return PropertiesTypes.iconReference.isBound(this)},creationFunction:function(n){var t=$("<div class='icon-element-content'><\/div>");return n.data.$icon=t,t},createBindingFieldsToProperties:function($super){var n=this,t=$super(),i=DataSourceItemsFields.fontIcon.getContentType();return n.isBound(i)&&(t[PropertiesTypes.iconReference.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.iconReference.name})),t},onUpdateBindingReady:function($super){var i=$super(),f=this,n=this.getPropertyValue("iconReference");$.isPlainObject(n)&&(n=$.extend({},n));var r=this.getPropertyValue("binding"),u=r.dataFields,t={};return this.isBound(DataSourceItemsFields.fontIcon.getContentType())&&(t[u[DataSourceItemsFields.fontIcon.getContentType()].name]=n),$.quickExtend(i,t)}},aggregatedMethods:{aggregations:{adjustInstanceToViewPort:function(){this.setPropertyValue("iconSize","auto")},onContentTypeChanged:function(){var n=this;n.setPropertyValue(PropertiesTypes.iconReference.name,undefined)},onBoundValueReady:function(n){var r=this,t=DataSourceItemsFields.fontIcon.getContentType(),i;r.isBound(t)&&(i=n[t]===undefined?null:n[t],this.setBindingValueToProperty(i,PropertiesTypes.iconReference.name))},onInitialized:function(){var t=this,i=SimpleEvent.createEventListener(t.contentSizeChangedEvent,function(){var i=t.getPropertyValue("iconSize");i==="auto"&&n(t)}),r=t.visibilityChangedEvent.bindAndExecute(function(){var n=PositionManager.isElementVisible(t);n?i.activateAndExecute():i.deactivate()});t.instanceRemoving.one(function(){r.unbind();i.dispose()})}}}}})}(),function(){function n(n,t){var i=Math.max(1,t),r=n.getPropertyValue("orientation");n.data.$line.css({"border-bottom-width":r===Orientation.Horizontal?i+"px":"","border-left-width":r===Orientation.Vertical?i+"px":""});n.data.$line.makeCentered({horizontally:r===Orientation.Vertical,vertically:r===Orientation.Horizontal,preComputedSize:{width:i,height:i},skipPositionCheck:!0})}function t(n,t){t=ThemeColorsManager.evaluateColorBinding(t,!0);n.data.$line.css({"border-bottom-color":t,"border-left-color":t})}function i(n,t){n.data.$line.css({"border-bottom-style":t,"border-left-style":t})}ElementsModel.registerDefinition(ElementsTypes,{line:{title:"Line",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasLayout,Features.Hideable,Features.HasOutline,Features.Clickable],properties:{orientation:{title:"Orientation",category:PropertiesCategories.Line,isStateProperty:!0,defaultValue:function(){return Orientation.Horizontal},onChange:function(t,i){t.data.$line.toggleClass("vertical",i===Orientation.Vertical).toggleClass("horizontal",i===Orientation.Horizontal);t.data.$line.clearCentering();n(t,t.getPropertyValue("lineWidth"))}}},methods:{getShadowTarget:function(){return this.data.$line},creationFunction:function(n){var t=$("<div class='line-element-line'><\/div>");return n.data.$line=t,t},shouldBeHiddenInMode:function(){return this.getPropertyValue("orientation")===Orientation.Vertical?!0:!1}},aggregatedMethods:{aggregations:{onPropertyChange:function(r,u){switch(r.name){case"lineWidth":n(this,u);break;case"lineColor":t(this,u);break;case"lineStyle":i(this,u)}}}}}})}(),function(){function i(t,i){var r=Math.max(0,i);n&&t.getBorderTarget().css({"border-top-width":r+"px","border-left-width":r+"px","border-bottom-width":r+"px","border-right-width":r+"px"});LayoutManager.refreshElementsLayout(t)}function r(t,i){n&&(i=ThemeColorsManager.evaluateColorBinding(i),t.getBorderBox().css("border-color",i))}var n,t;$.support.borderRadius?(t=document.createElement("div"),t.style.cssText="-webkit-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;-ms-border-radius:50%;",n=t.style.cssText!=""):n=!1;ElementsModel.registerDefinition(ElementsTypes,{Ellipse:{title:"Ellipse",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasLayout,Features.Hideable,Features.HasOutline,Features.HasBackground,Features.Clickable,Features.Shape],methods:{createShape:function(n){return n.addEllipse()},shouldBeHiddenInMode:$.returnTrue,creationFunction:function(t){return n?undefined:t.createContent()}},aggregatedMethods:{aggregations:{onPropertyChange:function(n,t){switch(n.name){case"lineWidth":i(this,t);break;case"lineColor":r(this,t)}},onInitializing:function(){var t=this;n?(t.getBorderBox().addClass("border-radius-ellipse"),t.getBackgroundTarget().addClass("border-radius-ellipse")):t.getBorderBox().addClass("canvas-ellipse")}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{Triangle:{title:"Triangle",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Rotatable,Features.Selectable,Features.HasLayout,Features.Hideable,Features.HasOutline,Features.HasBackground,Features.Clickable,Features.Shape],properties:{shapeAngle:{title:"Angle",isStyleProperty:!1,isStateProperty:!0,supportsStatesTransitionAnimation:!1,defaultValue:function(){return 0},onChange:function(n,t){n.getShape().setPropertyValue("angle",t)}}},methods:{creationFunction:function(n){return n.createContent()},createShape:function(n){return n.addTriangle()},shouldBeHiddenInMode:$.returnTrue}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{Rectangle:{title:"Rectangle",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Rotatable],methods:{creationFunction:function(){return $("<div><\/div>").addClass("absolute-fill")},shouldBeHiddenInMode:$.returnTrue}}})}(),function(){function n(n){n.ignoreGroupUpdate.isTrue()||n.isGroupDisabled()||n.groupUpdateBatch.performInstanceOperation(function(){ElementsManager.HierarchyChangedUpdateBatch.performInstanceOperation(function(){var t=n.childInstances;t.length>1?n.refreshGroupArea():t.length===1?(n.ignoreGroupUpdate.setValue(!0,"updatingGroup"),ElementsStructureHelper.releaseGroup(n),ElementsManager.removeInstances([n]),n.ignoreGroupUpdate.setValue(!1,"updatingGroup")):t.length===0&&ElementsManager.removeInstances([n])},n,"updateGroup")},n,"updateGroup")}ElementsModel.registerDefinition(ElementsTypes,{group:{title:"Group",features:[Features.DesignElement,Features.HasResponsiveItem,Features.Selectable,Features.Clickable,Features.HasLayout,Features.ItemsContainer,Features.Hideable],methods:{getMainBox:function(){return this.$elementContentBox},getShadowTarget:function(){return this.$elementContentBox},disableGroup:function(n){this.groupDisabled.setValue(!0,n)},enableGroup:function(n){this.groupDisabled.setValue(!1,n)},startGroupUpdating:function(){this.groupUpdateBatch.start()},hasHeight:function(){return this.isRelativePositioned()?!1:!0},hasWidth:function(){return this.isRelativePositioned()?!1:!0},finishGroupUpdating:function(){this.groupUpdateBatch.finish()},refreshGroupArea:function(n){var t=this;ElementsManager.HierarchyChangedUpdateBatch.performInstanceOperation(function(){t.isInstanceDeleted()||!n&&(t.isGroupDisabled()||t.groupUpdateBatch.isActive()||!ModeManager.inMode(Modes.NormalMode,Modes.CustomStateMode))||OperationsManager.isInUndoRedoState()||!PositionManager.isElementVisible(t)||LayoutManager.LayoutContentOperationsSet.requestOperation(function(){t.disableGroup("refreshGroupArea");t.adjustSizeAndPositionToChilds();t.enableGroup("refreshGroupArea")},t.id+"refreshGroupArea")},t,"refreshGroupArea")},isGroupDisabled:function(){return this.groupDisabled.isTrue()},renderElement:function(n){var i=this,t=!1;Global.IsDesigner||(t=i.getPropertyValue("tagName"),t===HtmlTags.DIV&&(t=!1));n.startInstanceRendering(i,"group-element");t&&n.openTag(t,"html-element");n.openTag("div","element-content-box design-element-content-box");n.openTag("div","content-container content-container-type element-size-box element-size-target");i.renderElementChildren(n);n.closeTag();n.closeTag();t&&n.closeTag();n.finishInstanceRendering()},accept:$.returnFalse,isDroppable:$.returnFalse},aggregatedMethods:{aggregations:{onCreation:function(){var t=this;t.autoAdjustSize=ObservableFlag.createConditionalPositive();t.ignoreGroupUpdate=ObservableFlag.createConditionalNegative();t.groupDisabled=ObservableFlag.createConditionalNegative();t.groupUpdateBatch=OperationsBatch.create({batchFinishCallback:function(){n(t)}})},updateInstanceToViewPort:function(){var n=this;n.data.groupInstances=n.childInstances;n.startGroupUpdating();ElementsStructureHelper.reattachInstances(n.childInstances,n.parentInstance,{rememberWidth:!1,rememberHeight:!1});$.eachItem(n.data.groupInstances,function(n,t){t.data.groupInstanceInMobile=t});n.isDisplayed.setValue(!1,"group");PositionManager.visibilityTreeDetach(n)},removeInstanceFromViewPort:function(){var n=this;n.isDisplayed.setValue(!0,"group");PositionManager.visibilityTreeAttach(n);$.eachItem(n.data.groupInstances,function(n,t){t.data.groupInstanceInMobile=undefined});ElementsManager.addElementToContainerElement(n,n.data.groupInstances);MobileVersionViewManager.updateBatch.performOperationWhenBatchStart(function(){n.finishGroupUpdating()})},onRemove:function(){$.eachItem(this.childInstances,function(n,t){t.data.rearrangeGroupId&&(t.propertyChangedEvent.unbind(t.data.rearrangeGroupId),t.data.rearrangeGroupId=undefined)})},onChildElementAdded:function(n){if(n.refreshTracking(),n.$element.toggleLayerEventsCatching(!0),this.parentInstance&&this.parentInstance.hasFeature(Features.PageSection)&&n.classesManager.set({"is-section-child":!0}),Global.IsDesigner){var t=this;n.data.rearrangeGroupId||(n.data.rearrangeGroupId=n.propertyChangedEvent.bind("sizeAndPosition",function(){t.isInstanceDeleted()?(n.propertyChangedEvent.unbind(n.data.rearrangeGroupId),n.data.rearrangeGroupId=undefined):t.refreshGroupArea()}))}},onChildElementRemoved:function(t){if(t.$element.toggleLayerEventsCatching(!1),Global.IsDesigner){this.parentInstance.hasFeature(Features.PageSection)&&t.classesManager.set({"is-section-child":!1});t.refreshTracking();var i=this;t.data.rearrangeGroupId&&(t.propertyChangedEvent.unbind(t.data.rearrangeGroupId),t.data.rearrangeGroupId=undefined);n(i)}},switchToPreview:function(){$.eachItem(this.childInstances,function(n,t){t.propertyChangedEvent.unbind(t.data.rearrangeGroupId);t.data.rearrangeGroupId=undefined})},switchToDesign:function(){var n=this;$.eachItem(this.childInstances,function(t,i){i.data.rearrangeGroupId||(i.data.rearrangeGroupId=i.propertyChangedEvent.bind("sizeAndPosition",function(){n.refreshGroupArea()}))})},onInitialized:function(){this.$element.toggleLayerEventsForwarding(!0)}}}}})}(),function(){function t(n){LayoutManager.LayoutContentOperationsSet.isLocked(n.getArrangementRequestName())||(n.refreshTemplatesSize(!0),n.getDataSource().invalidateAllItems(),n.requestArrangement(),LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName()))}function i(n){OperationsManager.disableOperationsRecording("removeInstanceFromViewPort");n.dataLayoutController.resetLayout();n.getDataSource().invalidateAllItems();n.refreshTemplatesSize(!0);n.requestArrangement({keepItemSize:!0,shouldPush:!0});LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName());OperationsManager.enableOperationsRecording("removeInstanceFromViewPort")}function n(n){var r=n.getPropertyValue("dataInfo");if(n.isConnectedToNavigatable()&&n.isMasterPageElement.isTrue()){var u=r.currentData,t=ElementsManager.getInstanceByID(u.id),i=!!t&&t.getPageId()===PageManager.getCurrentPageId(),f=n.isDisplayed.getValue();n.isDisplayed.setValue(i,"DataNotInitialized");i&&!f&&n.requestArrangement()}}ElementsModel.registerDefinition(ElementsTypes,{Menu:{className:"menu-element",title:"Menu",itemName:"MenuButton",itemTitle:"Button",features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.HasMenu],properties:{},defaultProperties:{fitToContent:function(){return!1},sizeAndPosition:function(){return{width:400,height:400,top:0,left:0}},tagName:function(){return HtmlTags.NAV},itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},title:{type:"title",title:"Title",name:"title",isDefaultField:!0}}},dataLayoutOptions:function(){return{lineSpacing:15,columnSpacing:15,colsSpacing:15,rowsSpacing:15,rotation:0,cols:3,R:100}}},methods:{unSelectAll:function(){var n=this;$.eachItem(n.getItemsControllers(),function(n,t){var i=t.getInstance();ElementsManager.performOnInstancesInitialization(i.id,function(){i.userSelect(!1)})})},hasContentHorizontalAlign:function(){return!1},getDataSourceName:function(){var n=this;return MenuDataViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.MenuElementView},onItemSet:function(n){var t=this,e=t.getDataSource().dataSourceInfo,u,i,f,r;if(e){u=t.getDataSource().dataSourceInfo.currentData.type;switch(u){case MenuItemTypes.NavigableInstance.name:n.hasOrder.setValue(!1,"menuChild");f=t.getNavigableInstance();r=f.getUrlAddressForPage(n.getDataItem().index);r?(n.setPropertyValue(PropertiesTypes.urlAddress.name,r),n.$element.unbind(".navigable")):(n.setPropertyValue(PropertiesTypes.urlAddress.name,null),i=function(){var t=n.getDataItemId(),i=ElementsManager.getInstanceByID(t);i.getPageId()===PageManager.getCurrentPageId()&&ElementsManager.getInstanceByID(t).showParents()})}if(i)n.$element.on("mouseup.navigable",function(){ViewManager.isDesignMode()||i()})}},getPotentialSelectedMenuItemId:function(){var i=this,n=i.getDataSource(),r=n.dataSourceInfo,t;if(r){t=n.dataSourceInfo.currentData.type;switch(t){case MenuItemTypes.NavigableInstance.name:return this.getNavigableInstance()?this.getNavigableInstance().getCurrentItem().id:undefined;case MenuItemTypes.MasterPages.name:return PageManager.getCurrentPageId()}}},isConnectedToNavigatable:function(){var n=this.getPropertyValue("dataInfo");return n&&n.currentData&&n.currentData.type===MenuItemTypes.NavigableInstance.name},getNavigableInstance:function(){var n=this.getPropertyValue("dataInfo");return this.isConnectedToNavigatable()?ElementsManager.getInstanceByID(n.currentData.id):null},addArrangementRequest:function(n){var t=this;LayoutManager.LayoutContentOperationsSet.requestEndOperation(function(){t.reArrangeTheTemplates(n)},t.getArrangementRequestName())},updateDataListToMobile:function(){var n=this;t(n)},removeDataListFromMobile:function(){var n=this;n.performWhenVisible(function(){i(n)})}},aggregatedMethods:{aggregations:{adjustInstanceToViewPort:function(){var n=this;n.setPropertyValue("dataLayout",{name:DataLayouts.SquareGrid.name});n.setPropertyFieldsValues("dataLayoutOptions",{cols:3,colsSpacing:10,rowsSpacing:10})},onRemove:function(){this.data.refreshMenuDisplaying.dispose()},onPropertiesChanged:function(t){var i=this;i.isInitialized&&$.containsOneOfKeys(t,"dataInfo")&&n(i)},onInitializing:function(){var t=this;t.data.refreshMenuDisplaying=SimpleEvent.createEventListener([PageManager.Events.PageChanged],function(){n(t)});t.isMasterPageElement.valueChangedEvent.bindAndExecute(function(){var n=t.isMasterPageElement.isTrue();n?t.data.refreshMenuDisplaying.activate():t.data.refreshMenuDisplaying.deactivate()})},onInitialized:function(){var n=this;n.$element.addVisibilityStates();n.previewEventsListener.add(SimpleEvent.createEventListener([n.totalCountObservable.valueChangedEvent],function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){var t=n.getNavigableInstance(),i;t&&t.isType(ElementsTypes.PostsList)&&(i=n.totalCountObservable.getValue(),n.$element.toggleVisibility(!(i===1&&n.isConnectedToNavigatable())))},n.id+"postlist-visibility-preview")}))}}}}})}();MenuDataViewPreText="menu",function(){function n(n,t){var i=n.getPropertyValue("navigationButtonSettings");t.navigationBinding.setValue(i.navigation);t.navigationPropertiesBinding.setValue(i.navigationProperties)}function t(t){LayoutManager.layoutUpdateBatch.start();PropertiesManager.UpdateBatch.start();var u=t.getNavigationButtonTemplate().hierarchy,f=TemplateCreator.addTemplateInstance({elementForCreation:u},t,{isContent:!0,isLoading:!0,generateNewID:!0}),i=f.instances[0];i.setPropertyFieldValue("fillLayout","fillVertical",!0);i.setPropertyFieldValue("fillLayout","fillHorizontal",!0);i.canDelete=$.returnFalse;i.canSelectFlag.setFalse("SkinNavigationButton");i.canMove.setFalse("SkinNavigationButton");i.canResize.setFalse("SkinNavigationButton");var e=ObservableObject.createPropertyBinding(i,{propertyName:PropertiesTypes.navigationProperties.name}),o=ObservableObject.createPropertyBinding(i,{propertyName:PropertiesTypes.navigation.name}),s=ObservableObject.createPropertyBinding(i,{propertyName:PropertiesTypes.skinBinding.name}),r={instance:i,navigationBinding:o,navigationPropertiesBinding:e,skinBinding:s,remove:function(){ElementsManager.removeInstances(i)}};return n(t,r),PropertiesManager.UpdateBatch.finish(),LayoutManager.layoutUpdateBatch.finish(),r}function i(n,i,r){OperationsManager.disableOperationsRecording("dataLayoutChange");var u=n.dataLayoutController,f=r&&r.name===DataLayouts.NavigationButton.name,e=i&&i.name===DataLayouts.NavigationButton.name;e&&!f?(n.inEmptyStateFlag.setFalse("SkinNavigationButton"),n.reArrangementDisabled.setTrue("SkinNavigationButton"),n.data.navigationButton=t(n),u.setArrangement(i.name),u.refreshLayout(),!f&&n.isInMobileMode()&&n.setPropertyValue("display",ElementDisplay.Fixed),n.getDataSource().refresh(),PropertiesManager.resetInstanceStyleProperties(n)):!e&&f&&(n.inEmptyStateFlag.setTrue("SkinNavigationButton"),PropertiesManager.resetInstanceStyleProperties(n),u.setArrangement(i.name),n.reArrangementDisabled.setFalse("SkinNavigationButton"),n.data.navigationButton.remove(),delete n.data.navigationButton,n.getDataSource().refresh());OperationsManager.enableOperationsRecording("dataLayoutChange")}function r(n){OperationsManager.disableOperationsRecording("removeMenuFromViewPort");n.dataLayoutController.resetLayout();n.getDataSource().invalidateAllItems();n.refreshTemplatesSize(!0);PropertiesManager.UpdateBatch.whenFinished(function(){LayoutManager.LayoutContentOperationsSet.unLockRequest(n.getArrangementRequestName());n.requestArrangement({keepItemSize:!0,shouldPush:!0});LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName())},n.id+"requestArrangement");LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName());OperationsManager.enableOperationsRecording("removeMenuFromViewPort")}ElementsModel.registerDefinition(ElementsTypes,{PagesMenu:{title:"Pages Menu",itemTitle:"Button",itemName:"MenuButton",className:"menu-element",features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.HasMenu,Features.HasMoreButton],methods:{isNavigationButton:function(){var n=this.getPropertyValue("dataLayout","name");return n===DataLayouts.NavigationButton.name},disableStyleProperties:function(){return this.isNavigationButton()},shouldBeBlockElementInMobile:function(){return!this.isNavigationButton()},getManageTitle:function(){return"Pages"},getSkinBinding:function(){var n=this.isNavigationButton()?this.getNavigationButtonTemplate():this.getDefaultTemplate();return $.cloneObject(n.hierarchy.structures[0].elementProperties.skinBinding)},getNavigationButtonTemplate:function(){return $.getValues(this.getFieldsTemplates().SkinNavigationButton)[0]},getDefaultFieldName:function(){return this.isNavigationButton()?"SkinNavigationButton":this.elementType.itemName?this.elementType.itemName:undefined},getFirstDisplayedListItem:function(){return this.isNavigationButton()?this.data.navigationButton.instance:Features.HasTemplates.methods.getFirstDisplayedListItem.apply(this,arguments)},shouldRefreshTemplates:function(){return!this.isNavigationButton()},refreshTemplates:function(){var n=this;OperationsManager.disableOperationsRecording("refreshTemplates");n.isInitialized&&n.isNavigationButton()&&n.data.navigationButton?(n.data.navigationButton.remove(),n.data.navigationButton=t(n)):Features.HasTemplates.methods.refreshTemplates.apply(this,arguments);OperationsManager.enableOperationsRecording("refreshTemplates")},getDataSourceName:function(){var n=this;return PagesMenuDataViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.PageMenuElementView},onItemSet:function(n){n.setPropertyValue("urlAddress",{url:n.getDataItemId(),type:LinkTypes.Pages});n.canDelete=$.returnFalse},getPotentialSelectedMenuItemId:function(){return PageManager.getCurrentPageId()},swapItemsIndex:function(n,t){var i=PageManager.AllPagesInformation.getItems(),r=i[n.id].index;n.index=i[t.id].index;t.index=r},removeDataListFromMobile:function(){var n=this;n.performWhenVisible(function(){r(n)})},updateDataListToMobile:function($super){var n=this,t=n.dataLayoutController.getArrangement();t.name===DataLayouts.NavigationButton.name&&n.getPropertyValue("dataLayout").name!==DataLayouts.NavigationButton.name&&n.reArrangementDisabled.setFalse("SkinNavigationButton");$super()}},properties:{navigationButtonSettings:{isStateProperty:!0,defaultValue:function(){return{navigation:"SlideNavigation",navigationProperties:{}}},onChange:function(t){t.isInitialized&&t.data.navigationButton&&n(t,t.data.navigationButton)}}},defaultProperties:{tagName:function(){return HtmlTags.NAV}},aggregatedMethods:{aggregations:{adjustInstanceToViewPort:function(){var n=this;n.setPropertyValue("dataLayout",{name:DataLayouts.NavigationButton.name});n.isNavigationButton()||(ElementsLayoutHelper.setInstancesSize(n,{width:30,height:30}),n.data.disableAdjustWidthToMobile=!0)},updateInstanceToViewPort:function(){var n=this.data.navigationButton;n&&PropertiesManager.invalidateElement(n.instance)},removeInstanceFromViewPort:function(){var n=this.data.navigationButton;n&&PropertiesManager.invalidateElement(n.instance)},onInitialized:function(){var n=this,t=n.propertyChangedEvent.bind("dataLayout",function(t,r){i(n,t,r)});n.instanceRemoving.one(function(){t.unbind()})},onInitializing:function(){i(this,this.getPropertyValue("dataLayout"))}}}}})}();PagesMenuDataViewPreText="pagesmenu",function(){function n(n){return n.data.currentSectionScrollId}function t(n,t){var r=n.getPropertyValue("scrollingAnimationDuration"),i=ElementsManager.getInstanceByID(t);i&&ElementsManager.scrollToInstanceInPreview(i,{animationDuration:r})}function i(n,t){var u=n.data.currentSectionScrollId,i=u,r;if(t){var f=t.id,e=n.getDataSource(),o=e.getItem(f);o?i=f:u||(r=e.getSortedItems(),r&&r.length>0&&(i=r[0].id))}else i=undefined;u!==i&&(n.data.currentSectionScrollId=i,n.refreshSelectedItem())}ElementsModel.registerDefinition(ElementsTypes,{SectionMenu:{title:"Sections Menu",itemTitle:"Button",itemName:"MenuButton",className:"sections-menu-element",features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.HasMenu,Features.HasMoreButton],methods:{refreshFixedState:$.noop,canRedropTo:function(n){return n.isType(ElementsTypes.page)},getDataSourceName:function(){return SectionMenuDataViewPreText+this.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.SectionMenuElementView},onItemSet:function(n){n.hasOrder.setFalse("sectionButton")},getPotentialSelectedMenuItemId:function(){return MobileVersionViewManager.Flags.IsInMobileContext.isFalse()?this.getPropertyValue("showSelection")?this.data.currentSectionScrollId:undefined:undefined},getArrangementOptions:function($super){var t=this,n=t.data;return $.quickExtend($super(),{dropDownItemClick:n.scrollToSection,currentSelectedItem:n.getCurrentSelectedSection})}},properties:{scrollingAnimationDuration:{isStateProperty:!0,defaultValue:function(){return 400}},showSelection:{isStateProperty:!0,defaultValue:$.returnTrue}},defaultProperties:{sizeAndPosition:function(){return{width:400,height:400,top:0,left:0}}},aggregatedMethods:{aggregations:{switchToPreview:function(){SectionsManager.addSectionScrollListener(this.data.sectionScrollCallback)},onInitializing:function(){var r=this,u=r.data;u.sectionScrollCallback=$.firstArgProxy(i,r);u.scrollToSection=$.firstArgProxy(t,r);u.getCurrentSelectedSection=$.firstArgProxy(n,r);r.customZIndex.setValue(Global.MinPropertyZindex+1)}}}}})}();SectionMenuDataViewPreText="sectionmenu";TagCloudTypes={Capitalize:{title:"Abc",value:"capitalize"},Lowercase:{title:"abc",value:"lowercase"},Uppercase:{title:"ABC",value:"uppercase"}},function(){ElementsModel.registerDefinition(ElementsTypes,{TagCloud:{className:"tag-cloud-element",title:"Tag Cloud",itemName:"SkinTagButton",itemTitle:"Tag Button",features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.HasMenu],properties:{textTransform:{title:"Text Transform",defaultValue:$.returnFixedValue(TagCloudTypes.Capitalize.value),onChange:function(n,t){n.getContentLayer().css("text-transform",t)}}},defaultProperties:{dataInfo:function(){return{listName:DefaultsListNames.LocalBlog}},dataLayout:function(){return{name:DataLayouts.Horizontal.name}},dataLayoutOptions:function(){return{lineSpacing:15,columnSpacing:15,colsSpacing:15,rowsSpacing:15,rotation:0,cols:3,R:100,maxItems:6}}},methods:{getDataSourceName:function(){var t=this;return n+t.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.TagCloudView},onItemSet:$.noop,getPotentialSelectedMenuItemId:function(){var n=this,t=ListUtils.getListControllerFromInstance(n);if(ListUtils.isMasterListPage(PageManager.CurrentPageData.getValue())&&t.isTypeOf(ListsManager.SupportedListTypes.tag)){var r=n.getDataSource().getCollectionItems().getItems(),u=t.currentDisplayedTag.getValue(),i=$.findFirst(r,function(n,t){return t.tag===u});return i?i.id:undefined}},getLoadingRequirements:function(){var n=this,t=ListUtils.getListControllerFromInstance(n);if(t)return LoadingRequirementsManager.LoadingRequirements.ListsContent.create({listName:t.getListName(),widgetContent:{elementId:n.id,type:ListContentTypes.TagCloud}})}},aggregatedMethods:{aggregations:{}}}});var n="tag-cloud"}(),function(){function t(n,t,i){var r,u,e=n.getDataSource().getViewInfo(!1,i),f=n.getPropertyValue(PropertiesTypes.dataLayoutOptions.name,"elementsPerPage"),s=n.isPrimary(),o=!1;return s?(r=f*(t.currentDisplayedPage.getValue()-1),u=f,o=r>0||!t.isTypeOf(ListsManager.SupportedListTypes.page)):(r=0,u=n.getPropertyValue(PropertiesTypes.dataLayoutOptions.name,"maxItemsCount")),{elementId:n.id,type:ListContentTypes.PostsList,filters:e.filters,sort:e.sorts,skip:r,take:u,itemsPerPage:f,mandatory:o}}var n="posts-list";ElementsModel.registerDefinition(ElementsTypes,{PostsList:{className:"posts-list-element",title:"Posts List",itemName:"ListViewItemTemplate",itemTitle:"Posts List Item",properties:{primaryPostsList:{title:"Main Posts List",defaultValue:$.returnFalse}},defaultProperties:{dataInfo:function(){return{listName:DefaultsListNames.LocalBlog,showPinned:!0,filterType:PostListTypes.RecentPosts.name,specificTag:""}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.TemplatePagesList],methods:{shouldMaintainHeightInPreview:function(){return this.isPrimary()?!0:!1},getDataSourceName:function(){var t=this;return n+t.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.ListView},canDuplicate:function(){var n=this;return!n.isPrimary()},isUnique:function(){var n=this;return n.isPrimary()},isMandatory:function(){var n=this;return n.isPrimary()},isPrimary:function(){var n=this;return n.getPropertyValue(PropertiesTypes.primaryPostsList.name)},togglePrimary:function(){var n=this;OperationsManager.beginAtomicBatch();n.isPrimary()?(n.setPropertyValue(PropertiesTypes.primaryPostsList.name,!1),n.setPropertyFieldValue(PropertiesTypes.dataLayoutOptions.name,"maxItemsCount",20)):(n.setPropertyValue(PropertiesTypes.primaryPostsList.name,!0),n.setPropertyFieldValue(PropertiesTypes.dataLayoutOptions.name,"maxItemsCount",Infinity));OperationsManager.endAtomicBatch()},getUrlAddressForPage:function(n){var t=this,i;if(t.isPrimary())return i=ListUtils.getListControllerFromInstance(t),i.getPageLink(n)},getLoadingRequirements:function(n){var r=this,i=ListUtils.getListControllerFromInstance(r);if(i)return LoadingRequirementsManager.LoadingRequirements.ListsContent.create({listName:i.getListName(),widgetContent:t(r,i,ListUtils.isDynamicPage(n))})},calculateItemSizeOnMobile:function(n){var t=this.getPcTemplateSize();return{height:t?t.height*t.width/n.width:n.height,width:n.width}},navigateToTabIndex:function($super,n,t,i,r){var u=this,f;if(!u.isPrimary()||ViewManager.isDesignMode())return $super(n,t,i,r);f=ListUtils.getListControllerFromInstance(u);UrlManager.navigate(PageManager.getPageFragmentValue(f.getPageLink(n+1).url))},getCurrentPageIndex:function($super){var n=this,t;return!n.isPrimary()||ViewManager.isDesignMode()?$super():(t=ListUtils.getListControllerFromInstance(n),t.currentDisplayedPage.getValue()-1)},accept:$.returnFalse},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this,t=SimpleEvent.createEventListener(n.currentPageId.valueChangedEvent,function(){PageManager.isDynamicPage(n.currentPageId.getValue())?n.getDataSource().inDynamicPage.setTrue():n.getDataSource().inDynamicPage.setFalse()}).activateAndExecute();n.instanceRemoving.one(function(){t.dispose()})}}}}})}();PostListTypes={RecentPosts:{name:"RecentPosts",title:"Recent Posts",manageTitle:"Posts",commonFilterName:ListsManager.CommonFiltersNames.All,emptyMessage:"You have no published posts.\n{filterOperation} through the Manage Posts Page",iconClass:"blog-recent-posts"},FeaturedPosts:{name:"FeaturedPosts",title:"Featured Posts",manageTitle:"Featured Posts",commonFilterName:ListsManager.CommonFiltersNames.Featured,emptyMessage:"You have no published featured posts.\n{filterOperation} through the Manage Posts Page",iconClass:"blog-featured-posts"},PinnedPosts:{name:"PinnedPosts",title:"Pinned Posts",manageTitle:"Pinned Posts",commonFilterName:ListsManager.CommonFiltersNames.Pinned,emptyMessage:"You have no published pinned posts.\n{filterOperation} through the Manage Posts Page",iconClass:"pinned-posts"}},function(){ElementsModel.registerDefinition(ElementsTypes,{VideoGallery:{className:"data-list-element",title:"Video Gallery",itemName:"DataListItemTemplate",itemTitle:"Video Item",defaultProperties:{itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},video:{type:"video",title:"Video",name:"video",isDefaultField:!0},title:{type:"title",title:"Video Title",name:"title",isDefaultField:!0},description:{type:"description",title:"Video Description",name:"description",isDefaultField:!0}}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.TemplatePagesList],methods:{getDataSourceName:function(){var n=this;return VideoGalleryViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.VideoGalleryElementView},getEmptyTemplateInfo:function(){return{title:"Video Gallery",label:"{add} to your gallery",shortLabel:"No Videos",iconClass:$.getIconClass("element-video-gallery",IconLocation.Font),actions:{add:{title:"Add Videos",doAction:function(){Commands.ManageItems.action()}}}}}}}})}();VideoGalleryViewPreText="videogallertListElement",function(){ElementsModel.registerDefinition(ElementsTypes,{Gallery:{className:"gallery-element",title:"Gallery",itemName:"ImageBox",itemTitle:"Image",defaultProperties:{itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},image:{type:"image",title:"Image",name:"image",isDefaultField:!0},title:{type:"title",title:"Title",name:"title",isDefaultField:!0},description:{type:"description",title:"Description",name:"description",isDefaultField:!0},link:{type:"link",title:"Link",name:"link",isDefaultField:!0}}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.TemplatePagesList],properties:{templateOpener:{defaultValue:$.returnTrue,isStateProperty:!0,onChange:function(n,t){t?n.$element.addClass("popupOpener"):n.$element.removeClass("popupOpener")}}},methods:{getDataSourceName:function(){var n=this;return GalleyDataViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.GalleryElementView}},aggregatedMethods:{aggregations:{switchToPreview:function(){this.getPropertyValue("templateOpener")&&$.eachItem(this.getItemsControllers(),function(n,t){t.$element.bind("click.galleryPreview",function(){var n=t.getInstance();n.activateAction(Behaviours.showInCenter,{},n)})})},setItem:function(n){ViewManager.isViewMode()&&this.getPropertyValue("templateOpener")&&n.getInstanceController().$element.bind("click.galleryPreview",function(){n.activateAction(Behaviours.showInCenter,{},n)})}}}}})}();GalleyDataViewPreText="gallery",function(){ElementsModel.registerDefinition(ElementsTypes,{SocialIconsElement:{className:"social-icons-element",title:"Social Links Icons",itemName:"SkinSocialIconItem",itemTitle:"Social Icon",defaultProperties:{itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},fontIcon:{type:"fontIcon",title:"fontIcon",name:"fontIcon",isDefaultField:!0},link:{type:"link",title:"Link",name:"link",isDefaultField:!0}}},dataInfo:function(){return{isSynced:!1,collectionName:"Collection1",currentData:{facebook:{id:"facebook",title:"Facebook",iconType:"facebook",index:0,link:{url:"http://www.facebook.com",type:LinkTypes.Web}},googlePlus:{id:"googlePlus",title:"Google+",iconType:"googlePlus",index:1,link:{url:"http://plus.google.com",type:LinkTypes.Web}},twitter:{id:"twitter",title:"Twitter",iconType:"twitter",index:2,link:{url:"http://www.twitter.com",type:LinkTypes.Web}},linkedin:{id:"linkedin",title:"LinkedIn",iconType:"linkedin",index:3,link:{url:"http://www.linkedin.com",type:LinkTypes.Web}}},iconsMap:{facebook:{iconDisplayed:!0},googlePlus:{iconDisplayed:!0},twitter:{iconDisplayed:!0},linkedin:{iconDisplayed:!0},pinterest:{iconDisplayed:!1},reddit:{iconDisplayed:!1},instagram:{iconDisplayed:!1},youtube:{iconDisplayed:!1},flickr:{iconDisplayed:!1},soundCloud:{iconDisplayed:!1},tripAdvisor:{iconDisplayed:!1},picasa:{iconDisplayed:!1},behance:{iconDisplayed:!1},etsy:{iconDisplayed:!1},tumblr:{iconDisplayed:!1},dribbble:{iconDisplayed:!1},vimeo:{iconDisplayed:!1},vk:{iconDisplayed:!1},renren:{iconDisplayed:!1},weibo:{iconDisplayed:!1}}}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList],methods:{supportsEditContent:$.returnFalse,getManageTitle:function(){return"Social Icons"},getDataSourceName:function(){var n=this;return SocialIconsViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.SocialIconsElementView},getEmptyTemplateInfo:function(){return{title:"Social Icons",label:"{add}",shortLabel:"No Icons",iconClass:$.getIconClass("element-social-icons",IconLocation.Font),actions:{add:{title:"Add Icons",doAction:function(){ContextManager.getContextInstances()[0].getDataSource().openItemsDialog({})}}}}}},aggregatedMethods:{aggregations:{setItem:function(){}}}}})}();SocialIconsViewPreText="SocialIconsViewPreText",function(){function n(n,t){n.$element.on("click.socialSharePreview",function(){var r=n.getInstance(),i=r.data.dataItemID;t?ConfirmationDialog.open({buttons:ConfirmationPanel.OkButton,header:"Cannot Share In Preview",confirmationMessage:"You cannot share this page while in preview mode. <\/br> In the published version of your site clicking this icon, <\/br> will share this page on {0}.".format(i.replace(/([A-Z])/g," $1").replace(/^./,function(n){return n.toUpperCase()}))}):Global.IsDesigner||SocialSharingManager.share(i,window.location)})}ElementsModel.registerDefinition(ElementsTypes,{SocialSharingElement:{className:"social-sharing-element",title:"Social Share Icons",itemName:"SkinSocialIconItem",itemTitle:"Sharing Icon",defaultProperties:{itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},fontIcon:{type:"fontIcon",title:"fontIcon",name:"fontIcon",isDefaultField:!0}}},dataInfo:function(){return{collectionName:"Collection1",currentData:{facebook:{id:"facebook",title:"Facebook",iconType:"facebook",index:0},googlePlus:{id:"googlePlus",title:"Google+",iconType:"googlePlus",index:1},twitter:{id:"twitter",title:"Twitter",iconType:"twitter",index:2},linkedin:{id:"linkedin",title:"LinkedIn",iconType:"linkedin",index:3}},iconsMap:{facebook:{iconDisplayed:!0},googlePlus:{iconDisplayed:!0},twitter:{iconDisplayed:!0},linkedin:{iconDisplayed:!0}}}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList],methods:{supportsEditContent:$.returnFalse,getManageItemsTitle:function(){return"Display Sharing Icons"},getDataSourceName:function(){var n=this;return SocialSharingViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.SocialSharingElementView},getEmptyTemplateInfo:function(){return{title:"Sharing Icons",label:"{add}",shortLabel:"All Icons Are Hidden",iconClass:$.getIconClass("element-social-icons",IconLocation.Font),actions:{add:{title:"Show Icons",doAction:function(){ContextManager.getContextInstances()[0].getDataSource().openItemsDialog({})}}}}}},aggregatedMethods:{aggregations:{switchToPreview:function(){var t=Global.IsDesigner&&ViewManager.isViewMode();$.eachItem(this.getItemsControllers(),function(i,r){n(r,t)})},switchToDesign:function(){$.eachItem(this.getItemsControllers(),function(n,t){t.$element.unbind("click.socialSharePreview")})}}}}})}();SocialSharingViewPreText="SocialSharingViewPreText",function(){function t(t){var i=$.useTemplate(n.Element);return t.data.textInput=i.find(".text-input"),i}function i(){var n=this;n.hasHorizontalAlignFlag.setTrue();n.isInDesignMode()&&n.elementIsSelected.valueChangedEvent.bind(function(t){t?n.data.textInput.val("Example Text"):n.data.textInput.val("")})}var n={Element:{id:"text-input-field-element-template"}};ElementsModel.registerDefinition(ElementsTypes,{TextInputField:{className:"TextInputField",title:"Text Input",defaultProperties:{sizeAndPosition:function(){return{width:200,height:30,top:0,left:0}},horizontalAlign:function(){return HorizontalAlignment.Left},fontColor:function(){return"#666666"},padding:function(){return $.convertValueToObject(3,["top","left","bottom","right"])},fontSize:function(){return 13}},features:[Features.DesignElement,Features.HasInnerShadow,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasPadding,Features.HasBackgroundImage,Features.HasContent,Features.Clickable,Features.HasText,Features.Hideable,Features.HasLayout,Features.HasBorder,Features.HasContentOverlay,Features.FormInput,Features.Focusable],methods:{getTextElements:function(){return this.data.textInput},hasHorizontalAlign:function(){return!0},clear:function(){this.data.textInput.val("")},getValue:function(){return this.data.textInput.val()},creationFunction:t},aggregatedMethods:{aggregations:{switchToDesign:function(){this.data.textInput.val("")},onContentSizeChange:function(){var n=this;ReadWriteController.requestReadOperation(function(){var t=n.data.textInput.height();ReadWriteController.requestIndpendentWriteOperation(function(){n.data.textInput.css("line-height",t+"px")},n.id+"onContentSizeChange")},n.id+"onContentSizeChange")},onInitializing:i}}}})}(),function(){function t(t){var i=$.useTemplate(n.Element);return t.data.textArea=i.find(".text-area"),i}function i(){var n=this;n.hasHorizontalAlignFlag.setTrue();n.isInDesignMode()&&n.elementIsSelected.valueChangedEvent.bind(function(t){t?n.data.textArea.val("Example Text"):n.data.textArea.val("")})}var n={Element:{id:"text-area-element-template"}};ElementsModel.registerDefinition(ElementsTypes,{TextArea:{title:"Text Area",defaultProperties:{sizeAndPosition:function(){return{width:200,height:30,top:0,left:0}},horizontalAlign:function(){return HorizontalAlignment.Left},fontColor:function(){return"#666666"},padding:function(){return $.convertValueToObject(3,["top","left","bottom","right"])},fontSize:function(){return 13}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.Clickable,Features.HasBackground,Features.HasBackgroundImage,Features.HasText,Features.Hideable,Features.HasLayout,Features.HasBorder,Features.HasContentOverlay,Features.FormInput,Features.Focusable],methods:{getTextElements:function(){return this.data.textArea},hasHorizontalAlign:function(){return!0},clear:function(){this.data.textArea.val("")},getValue:function(){return this.data.textArea.val()},creationFunction:t},aggregatedMethods:{aggregations:{switchToDesign:function(){this.data.textArea.val("")},onInitializing:i}}}})}(),function(){function i(n,t){n.getMapController().setOptions({draggable:t,scrollwheel:t})}function e(){var t=this,i=t.data.mapController=GoogleMapHelper.createMap(this.data.$dataContent);t.data.ignorePropertiesChange=!1;t.mapStyleObject.setValue({mapColor:{stylers:[{hue:""},{saturation:""},{lightness:""}]}});Global.IsDesigner&&(t.data.mapPositionListener=SimpleEvent.createEventListener(i.currentCenter.valueChangedEvent,function(){r(t)}),t.data.mapZoomingListener=SimpleEvent.createEventListener(i.currentZoom.valueChangedEvent,function(){o(t)}),t.data.mapTypeListener=SimpleEvent.createEventListener(i.mapTypeId.valueChangedEvent,function(n){t.setPropertyValue("mapType",n)}));n(t,!0)}function r(n){var t=n.getMapController();n.data.ignorePropertiesChange=!0;n.setPropertyValue("mapPosition",GoogleMapHelper.latLngToArray(t.currentCenter.getValue()));n.data.ignorePropertiesChange=!1}function o(n){var t=n.getMapController();n.data.ignorePropertiesChange=!0;n.setPropertyValue("zooming",t.currentZoom.getValue());n.data.ignorePropertiesChange=!1}function n(n,t){n.data.$mapOverlay.quickToggle(t)}function u(n){var t=[],i=n.mapStyleObject.getValue();for(var r in i)t.push(i[r]);return t}function t(n,t){var i=n.getMarkersCollection().getItems();for(var r in i)i[r].setOptions({draggable:t})}function s(n,t){var r,i;t==="transparent"?(n.mapStyleObject.setValue({mapColor:{stylers:[{hue:""},{saturation:""},{lightness:""}]}}),i=u(n),n.data.mapController.setOptions({styles:i})):t&&(typeof t=="string"&&(t=$.Color(t)),t=ThemeColorsManager.evaluateColorBinding(t),r=$.color.RGB.toHEX(t),t=$.color.RGB.toHSL(t),n.data.mapController&&(n.mapStyleObject.setValue({mapColor:{stylers:[{hue:r},{saturation:parseInt(t[1]*200-100)},{lightness:parseInt(t[2]*200-100)}]}}),i=u(n),n.data.mapController.setOptions({styles:i})))}var f={ElementContent:{useTemplate:function(){var n=new StringBuilder;return n.append('<div class="google-map-element absolute-fill" style="overflow:hidden;">'),n.append('<div class="google-map-container gmap3" style="width:100%; height:100%;"><\/div>'),Global.IsDesigner&&n.append('<div class="map-overlay absolute-fill" ><\/div>'),n.append("<\/div>"),$(n.toString())}}};ElementsModel.registerDefinition(ElementsTypes,{googleMap:{title:"Google Map",properties:{zooming:{defaultValue:function(){return 8},isStateProperty:!0,title:"Zoom",category:PropertiesCategories.Other,onChange:function(n,t){n.data.mapController&&!n.data.ignorePropertiesChange&&n.data.mapController.setZoom(t)}},mapPosition:{title:"Map Position",isContentProperty:!0,isStateProperty:!0,defaultValue:function(){return[41.866236,-87.617094]},onChange:function(n,t){n.data.mapController&&!n.data.ignorePropertiesChange&&setTimeout(function(){n.data.mapController.setCenter(t)})}},mapType:{title:"Map Type",isStateProperty:!0,defaultValue:function(){return GoogleMapTypes.Roadmap},onChange:function(n,t){n.data.mapController&&n.data.mapController.setOptions({mapTypeId:t})}},streetView:{title:"Street View",isStateProperty:!0,defaultValue:$.returnFalse},streetViewVisible:{title:"Street View Visible",isStateProperty:!0,defaultValue:$.returnTrue,onChange:function(n,t){n.data.mapController&&n.data.mapController.setOptions({streetViewControl:t})}},positionVisible:{title:"Position Visible",isStateProperty:!0,defaultValue:$.returnTrue,onChange:function(n,t){n.data.mapController&&n.data.mapController.setOptions({panControl:t})}},mapTypeVisible:{title:"Map Type Visible",isStateProperty:!0,defaultValue:$.returnTrue,onChange:function(n,t){n.data.mapController&&n.data.mapController.setOptions({mapTypeControl:t})}},mapColor:{title:"Map Color",isStateProperty:!0,isStyleProperty:!0,supportsThemeBinding:!0,getResetValue:$.returnTransparent,defaultValue:$.returnTransparent,onChange:function(n,t){s(n,t)}},mapDraggable:{title:"is Map Editable",isStateProperty:!0,defaultValue:$.returnFalse},markers:{title:"Markers",isContentProperty:!0,defaultValue:$.returnEmptyObject,onChange:function(n,t){!n.data.ignorePropertiesChange&&n.data.mapController&&n.data.mapController.setMarkers($.extend({},t))}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Hideable,Features.Clickable,Features.Selectable,Features.HasLayout,Features.Editable,Features.HasBorder],methods:{getMapController:function(){return this.data.mapController},refreshMapPosition:function(){var n=this;PropertiesManager.invalidateProperty(n,"mapPosition")},getMarkersCollection:function(){return this.getMapController().markers},moveToMarker:function(n){this.getMapController().setCenter(n.position);r(this)},updateMarkerPosition:function(n,t){var i=this;i.updateMarker(n.name,{position:t},function(n){return n.title=undefined,n})},setMarkerIcon:function(n,t){this.updateMarker(n.name,{icon:t})},updateMarker:function(n,t,i){i=i?i:$.returnValue;var r=$.extend({},this.getPropertyValue("markers")),u=$.extend({},r[n],t);u=i(u);r[n]=u;this.setPropertyValue("markers",r)},addMarker:function(n){var u=this,i=$.uniqueID(),t=$.extend({},this.getPropertyValue("markers"));for(var r in t)if(n.position[0]===t[r].position[0]||n.position[1]===t[r].position[1])return;u.updateMarker(i,$.extend({name:i},n))},removeMarker:function(n){var t=$.extend({},this.getPropertyValue("markers"));delete t[n.name];this.setPropertyValue("markers",t)},clearAllMarkers:function(){var n=$.extend({},this.getPropertyValue("markers"));for(var t in n)delete n[t];this.setPropertyValue("markers",n)},creationFunction:function(n){var t=$.useTemplate(f.ElementContent);return n.data.$dataContent=$(".google-map-container",t),n.data.$mapOverlay=$(".map-overlay",t),t}},aggregatedMethods:{aggregations:{onCreation:function(){this.mapStyleObject=ObservableObject.create()},updateInstanceToViewPort:function(){var n=this;n.refreshMapPosition();t(n,!1)},removeInstanceFromViewPort:function(){var n=this;n.performWhenVisible(function(){n.refreshMapPosition()},n.id+"refreshMapPosition");t(n,!0)},onStartEditing:function(){var t=this;t.data.mapPositionListener.activate();t.data.mapZoomingListener.activate();t.data.mapTypeListener.activate();n(t,!1)},onFinishEditing:function(){var t=this;t.data.mapPositionListener.deactivate();t.data.mapZoomingListener.deactivate();t.data.mapTypeListener.deactivate();n(t,!0)},switchToDesign:function(r){var u=this;i(u,!0);n(u,!0);t(u,!0);r&&(u.getMapController().setCenter(u.getPropertyValue("mapPosition")),u.getMapController().setZoom(u.getPropertyValue("zooming")),u.getMapController().setOptions({mapTypeId:u.getPropertyValue("mapType")}))},switchToPreview:function(){var r=this;i(r,r.getPropertyValue("mapDraggable"));n(r,!1);t(r,!1)},onInitialized:function(){var n=this,t=n.getMapController();n.sizeChangedEvent.bind(function(){n.getMapController().refreshSize();n.data.mapController.setCenter(n.getPropertyValue("mapPosition"))})},onInitializing:e}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{userBox:{className:"userBox",title:"Box",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.HasPadding,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Rotatable],methods:{creationFunction:$.returnUndefined,hasHeight:function(){if(this.hasCellWrapper.isTrue()&&this.isRelativePositioned()){var n=$.grep(this.childInstances,function(n){return n.isInstanceVisible()});if(n.length>0)return!1}return!0},hasWidth:function(){return!0}},aggregatedMethods:{aggregations:{updateInstanceToViewPort:function(){this.childInstances.length===0&&this.isDisplayed.setValue(!1,"noInstancesInContainer")},removeInstanceFromViewPort:function(){this.childInstances.length===0&&this.isDisplayed.setValue(!0,"noInstancesInContainer")}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{templateBox:{className:"template-box",title:"Template Box",defaultProperties:{backgroundColor:function(){return"white"}},features:[Features.DesignElement,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.ItemsContainer,Features.Clickable,Features.Hideable,Features.HasBorder,Features.DataListItem],methods:{creationFunction:function(){return $("<div><\/div>").addClass("absolute-fill")},canDuplicate:$.returnFalse,canRedropTo:$.returnFalse}}})}(),function(){function v(n){var t=n.getPropertyValue("videoId");o(n).getVideoImageUrl(t,function(t){t!=="error"?(n.inEmptyStateFlag.setValue(!1),OperationsManager.disableOperationsRecording("videoIdChange"),n.imageValueObject.setValue(AssetsManager.getImageInfoForSaving({imagePath:t,storageServer:0})),OperationsManager.enableOperationsRecording("videoIdChange")):n.inEmptyStateFlag.setValue(!0)})}function y(){var r=this;f(r);r.inEmptyStateFlag.setValue(!1);r.data.$videoIconHolder=p();r.data.$videoIcon=$(".icon-holder",r.data.$videoIconHolder);r.data.$videoIconHolder.makeButton().buttonClick(function(){r.play();r.data.$videoIconHolder.toggleDisplayed(!1)});r.data.$videoIconHolder.prependTo(r.$elementContentContainer);Global.IsDesigner&&r.refreshOverlay();r.data.videoBindings=SimpleEvent.createBindingsCollection();Global.IsMobileClient||t(r);r.previewEventsListener.add(SimpleEvent.createEventListener([r.visibilityChangedEvent,MobileVersionViewManager.Flags.IsInMobileContext.valueChangedEvent],function(){r.performWhenVisible(function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){var u=n(r);if(r.inEmptyStateFlag.isTrue()){r.$element.quickHide();return}r.isInstanceVisible()?r.isAutoPlay()?(i(r),u.whenReady(function(){r.play()})):Global.IsMobileClient?i(r):t(r):r.stop()},r.id+"video-element-visibi-preview")},r.id+"video-element-visibi-preview")}))}function p(){var n=new StringBuilder;return n.append('<div class="video-icon-holder content-centered absolute-fill ">'),n.append('<span class="height-normalizer"><\/span>'),n.append('<span class="vertically-centered">'),n.append('<span class="icon-holder block">'),n.append('<span class="icon image-sprite-video-play-button inline-block"><\/span>'),n.append("<\/span>"),n.append("<\/span>"),n.append("<\/div>"),$.useSimpleTemplate(n.toString())}function t(t){if(!t.isForTemplateUse()){var i=n(t),r=$.browser.msie||parseInt($.browser.version)<10;r||!ViewManager.isViewMode()||t.isContent()?i.unloadPlayer():i.whenReady(function(){i.stopVideo();g(t)})}t.data.videoPlayerHolder.toggleDisplayed(!1,"showPreviewInfo");t.data.$videoIconHolder.toggleDisplayed(!0);t.showImageLayer.setValue(!0,"showPreviewInfo")}function i(t){t.showImageLayer.setValue(!1,"showPreviewInfo");t.data.$videoIconHolder.toggleDisplayed(!1);t.data.videoPlayerHolder.toggleDisplayed(!0,"showPreviewInfo");var i=n(t);i.toggleInitilized(!0);i.isReady||i.reload()}function f(n){if(!n.isForTemplateUse()){b(n);var t=o(n).createPlayer(s(n));w(n,t)}}function e(n){var t=n.getPropertyValue("videoType");switch(t){case VideoTypes.Youtube:n.data.helper=YoutubeHelper;break;case VideoTypes.Vimeo:n.data.helper=VimeoHelper}}function o(n){return n.data.helper}function n(n){return n.data.videoPlayer}function w(n,t){n.data.videoPlayer=t}function b(n){n.data.videoPlayer&&(n.data.videoPlayer.unloadPlayer(),a(n),delete n.data.videoPlayer)}function s(n){var r=n.id,t=n.getPropertyValue("useLoop"),i=n.getPropertyValue("videoId");return{$container:n.data.videoPlayerHolder,createIframe:k,videoID:i,instanceId:r,controls:n.getPropertyValue("useController")?1:0,loop:t?1:0,playlist:t?i:"",wmode:"transparent",isHtml5:!1,$iframe:$.useTemplate(u.VideoIframe)}}function k(){return $.useTemplate(u.VideoIframe)}function d(n){var t=$.useTemplate(u.ElementContent);return n.data.videoPlayerHolder=t.addDisplayingStates(),t}function h(t){i(t);n(t).whenReady(function(){nt(t,t.getPropertyValue("useLoop"));var i=n(t).getPlayerState();i===r.Paused||i===r.Unstarted?n(t).play():i!==r.Playing&&(n(t).seekToBeginning(),n(t).play())})}function c(n){t(n)}function g(t){n(t).whenReady(function(){if(t.getPropertyValue("videoType")===VideoTypes.Youtube&&n(t).player){var i=n(t).player.getVideoData(),r=i.video_id,u=t.getPropertyValue("videoId");u!==r&&(n(t).unloadPlayer(),f(t))}})}function l(t){n(t).whenReady(function(){n(this).pause()})}function a(t){t.data.videoBindings.unbindAll();n(t).whenReady(function(){n(t).$iframe.remove()})}function nt(t,i){n(t).setLoop(i)}$.quickExtend(Global.Events,{VideoStateChanged:SimpleEvent.create()});var r={Unstarted:-1,Ended:0,Playing:1,Paused:2,Buffering:3,Cued:5},u={ElementContent:{group:"video-element-templates",name:"video-element-template",isSimple:!0},VideoIframe:{group:"video-element-templates",name:"video-iframe-element-template",isSimple:!0}};ElementsModel.registerDefinition(ElementsTypes,{VideoPlayer:{className:"video-element",title:"Video Player",description:"No Description",defaultProperties:{backgroundColor:function(){return"Transparent"},opacity:function(){return 1},sizeAndPosition:function(){return{width:150,height:110,top:0,left:0}}},properties:{videoType:{title:"Video Type",isNotForCustomProperty:!0,category:PropertiesCategories.Other,defaultValue:function(){return VideoTypes.Youtube},isBound:function(n){return n.isBound&&n.isBound(DataSourceItemsFields.video.getContentType())}},videoId:{defaultValue:$.returnNull,isNotForCustomProperty:!0,isContentProperty:!0,title:"Video Id",supportsBinding:!0,isBound:function(n){return n.isBound&&n.isBound(DataSourceItemsFields.video.getContentType())}},autoPlay:{title:"Auto play",category:PropertiesCategories.Other,defaultValue:$.returnFalse},useController:{title:"Use Player",isStateProperty:!0,category:PropertiesCategories.Other,defaultValue:$.returnTrue},useLoop:{title:"Loop Playing",isStateProperty:!0,category:PropertiesCategories.Other,defaultValue:$.returnFalse}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.HasContent,Features.Resizable,Features.Selectable,Features.Clickable,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.HasContentOverlay,Features.HasEmptyState],methods:{hidePreviewImage:function(){i(this)},creationFunction:d,play:function(){try{h(this)}catch(n){h(this);console.warn("video play error - ")}},stop:function(){try{c(this)}catch(n){c(this);console.warn("video stop error - ")}},pause:function(){try{l(this)}catch(n){l(this);console.warn("video pause error - ")}},hasBinding:function(){return PropertiesTypes.videoId.isBound(this)},isAutoPlay:function(){return this.getPropertyValue("autoPlay")&&!Global.IsMobileView&&MobileVersionViewManager.Flags.IsInMobileContext.isFalse()},createBindingFieldsToProperties:function($super){var n=this,t=$super();return n.isBound(DataSourceItemsFields.video.getContentType())&&(t[PropertiesTypes.videoType.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.videoType.name}),t[PropertiesTypes.videoId.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.videoId.name})),t},onUpdateBindingReady:function($super){var i=$super(),n=this,r=n.getPropertyValue("videoType"),u=n.getPropertyValue("videoId"),f=n.getPropertyValue("binding"),e=f.dataFields,t={};return n.isBound(DataSourceItemsFields.video.getContentType())&&(t[e[DataSourceItemsFields.video.getContentType()].name]={videoType:r,videoId:u}),$.quickExtend(i,t)},getEmptyTemplateInfo:function(){var n=this;return{title:"Video Not Found",label:"{change}",iconClass:" image-sprite-video-not-found-small",actions:{change:{title:"Change Video",doAction:function(){VideoLimitationManager.validateInstance(n)&&ChangeVideoDialog.open({videoInstance:n,submitCallback:function(t){OperationsManager.beginAtomicBatch();PropertiesManager.UpdateBatch.start();n.properties.videoType.descriptor.isBound(n)?n.setBindingValueToProperty(t.videoType,PropertiesTypes.videoType.name):n.setPropertyValue("videoType",t.videoType);n.properties.videoId.descriptor.isBound(n)?n.setBindingValueToProperty(t.videoId,PropertiesTypes.videoId.name):n.setPropertyValue("videoId",t.videoId);PropertiesManager.UpdateBatch.finish();n.updateBinding();VideoLimitationManager.changedVideo(n);OperationsManager.endAtomicBatch()}})}}}}}},aggregatedMethods:{aggregations:{onCreation:function(){var n=this;n.imageValueObject=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.imageUrl.name});n.imageLayoutObject=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.imageLayout.name});n.imageLayoutObject.setValue(ImageBoxLayout.Cover)},onInitializing:function(){var n=this;e(n)},onInitialized:y,onContentTypeChanged:function(){var n=this,t=DesignerManager.VideosIds[0];n.setPropertyValue(PropertiesTypes.videoType.name,t.videoType);n.setPropertyValue(PropertiesTypes.videoId.name,t.videoId)},onBoundValueReady:function(n){var i=this;if(i.isBound(DataSourceItemsFields.video.getContentType())){var t=n[DataSourceItemsFields.video.getContentType()]===undefined?undefined:n[DataSourceItemsFields.video.getContentType()],r=t===undefined?VideoTypes.Youtube:t.videoType,u=t===undefined?DesignerManager.VideosIds[0].videoId:t.videoId;i.setBindingValuesToProperties({videoType:r,videoId:u})}},switchToDesign:function(){var i=this;i.inEmptyStateFlag.isTrue()&&i.$element.quickShow();t(i);n(i).ie8Counter>0&&(n(i).ie8Counter=1)},onRemove:function(){a(this)},onPropertiesChanged:function(t){var i=this;i.InstancePropertiesInitialized.isTrue()&&(this.isForTemplateUse()||($.containsOneOfKeys(t,"videoType")&&(o(i)&&n(i).unloadPlayer(),i.data.videoPlayerHolder.empty(),e(i)),$.containsOneOfKeys(t,"useController","videoType","videoId","useLoop")&&(f(i),n(i).setOptions(s(i),ViewManager.isDesignMode()))));$.containsOneOfKeys(t,"videoType")&&e(i);$.containsOneOfKeys(t,"videoId")&&v(i)}}}}})}(),function(){function n(n){var t=n.getImageBox(),i;t&&(i=n.getPropertyValue("alt"),i?t.setAlt(i):t.setAlt(undefined))}ElementsModel.registerPropertiesCategories({"Image Loading":{title:"Image Loading",iconClass:"sprite-icon sprite-property-category-text"}});ElementsModel.registerDefinition(ElementsTypes,{image:{className:"image-element",title:"Image",defaultProperties:{backgroundColor:function(){return"transparent"},borderColor:function(){return $.convertValueToObject("black",["top","left","bottom","right"])},borderWidth:function(){return $.convertValueToObject(0,["top","left","bottom","right"])},opacity:function(){return 0},sizeAndPosition:function(){return{width:200,height:200,top:0,left:0}},imageUrl:function(){return DesignerManager.getDefaultImage()}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.Hideable,Features.HasBackground,Features.HasLayout,Features.Clickable,Features.HasImage,Features.HasBorder,Features.Rotatable,Features.HasBackgroundOverlay],properties:{imageLoadingOverlay:{title:"Loading Overlay",isStateProperty:!1,isStyleProperty:!0,defaultValue:function(){return{background:"rgba(255,255,255,0.7)",imageInfo:{image:CommonAssets.Images.CircleBall}}}},imageLoadingSettings:{title:"Loading Settings",isStateProperty:!1,isStyleProperty:!0,supportsThemeBinding:!0,defaultValue:function(){return{hideImage:!1,showOverlay:!1,showingAnimation:undefined,overlayBackground:"rgba(255,255,255,0.7)",overlayImage:CommonAssets.Images.CircleBall}}},alt:{defaultValue:$.returnNull,supportsBinding:!0,isBound:function(n){return n.hasFeature(Features.HasSimpleBinding)&&(n.isBound(DataSourceItemsFields.title.getContentType())||n.isBound(DataSourceItemsFields.description.getContentType())||n.isBound(DataSourceItemsFields.alt.getContentType()))},onChange:function(t){n(t)}}},methods:{getImageSizeInLayout:function(){return this.getImageBox().getImageSizeInLayout()},hasBinding:function(){return PropertiesTypes.imageUrl.isBound(this)},hideImageLoadingOverlay:function(){var n=this.data.imageLoadingOverlayController;n&&n.hide()},showImageLoadingOverlay:function(){var n=this;RenderingCoordinator.performUpdateOnRenderingFinished(function(){var o=n.getPropertyValue("imageLoadingSettings"),t,r;if(o.showOverlay){if(t=n.data.imageLoadingOverlayController,!t){var i=n.addBackgroundLayer(BackgroundLayers.BackgroundImageOverlay,function(){var n=new StringBuilder;return n.append('<div class="image-loading-overlay stretched-to-fill element-border-target">'),n.conditionalAppend(Global.IsExplorerMode,'<div class="explorer-background"><\/div>'),n.append('<div class="loading-image stretched-to-fill"><\/div>'),n.append("<\/div>"),$(n.toString())}),f=i.find(".loading-image").makeImageBoxNew({layout:ImageBoxLayout.Original,autoLoad:!0}),e=SimpleEvent.createEventListener(n.sizeChangedEvent,function(){f.setViewPort(n.getSize())}),u=Global.IsExplorerMode?i.find(".explorer-background"):i;n.setBorderTarget(i);r=QuickStates.createDisplayController(i);r.setValue(!1);t={show:function(){var i,t;e.activateAndExecute();i=n.getPropertyValue("imageLoadingSettings");f.setImage(AssetsManager.resolveImageUrl(i.overlayImage));t=ThemeColorsManager.evaluateColorBinding(i.overlayBackground);u.clearBackground();ColorsHelper.isGradient(t)?u.applyGradientColor(t):u.css("rgbaBackground",t);r.setValue(!0)},hide:function(){e.deactivate();r.setValue(!1)}};n.data.imageLoadingOverlayController=t}t.show()}},n.id+"showOverlay")},createBindingFieldsToProperties:function($super){var n=this,t=$super(),i=DataSourceItemsFields.image.getContentType();n.isBound(i)&&(t[PropertiesTypes.imageUrl.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.imageUrl.name}),t[PropertiesTypes.imageLayout.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.imageLayout.name}),t[PropertiesTypes.imagePosition.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.imagePosition.name}));var r=DataSourceItemsFields.title.getContentType(),u=DataSourceItemsFields.description.getContentType(),f=DataSourceItemsFields.alt.getContentType();return(n.isBound(r)||n.isBound(u)||n.isBound(f))&&(t[PropertiesTypes.alt.name]=ObservableObject.createPropertyBinding(n,{propertyName:PropertiesTypes.alt.name})),t},onUpdateBindingReady:function($super){var u=$super(),e=this,t=this.getPropertyValue("imageUrl"),r=this.getPropertyValue("alt");$.isPlainObject(t)&&(t=$.extend({},t));var f=this.getPropertyValue("binding"),i=f.dataFields,n={};return this.isBound(DataSourceItemsFields.image.getContentType())?n[i[DataSourceItemsFields.image.getContentType()].name]={imageUrl:t}:this.isBound(DataSourceItemsFields.icon.getContentType())&&(n[i[DataSourceItemsFields.icon.getContentType()].name]={imageUrl:t}),this.isBound(DataSourceItemsFields.title.getContentType())?n[i[DataSourceItemsFields.title.getContentType()].name]=r:this.isBound(DataSourceItemsFields.description.getContentType())?n[i[DataSourceItemsFields.description.getContentType()].name]=r:this.isBound(DataSourceItemsFields.alt.getContentType())&&(n[i[DataSourceItemsFields.alt.getContentType()].name]=r),$.quickExtend(u,n)}},aggregatedMethods:{aggregations:{adjustInstanceToViewPort:function(){var n=this.getSize(),t;n&&(t=n.width<340?n.width:340,ElementsLayoutHelper.setInstancesSize(this,{width:t,height:t/n.width*n.height}))},onContentTypeChanged:function(n){var i=this,r=DataSourceItemsFields.image.getContentType(),u=DataSourceItemsFields.icon.getContentType(),t={};n===undefined||n===r?t[PropertiesTypes.imageUrl.name]=DesignerManager.getDefaultImage():n===u&&(t[PropertiesTypes.imageUrl.name]=DesignerManager.getDefaultIcon());i.setPropertiesValues(t)},onBoundValueReady:function(n){var i=this,f=DataSourceItemsFields.image.getContentType(),e=DataSourceItemsFields.icon.getContentType(),o=DataSourceItemsFields.title.getContentType(),s=DataSourceItemsFields.description.getContentType(),u=DataSourceItemsFields.alt.getContentType(),r={},t;i.isBound(f)?(t=n[f]?n[f]:{},$.quickExtend(r,{imageUrl:n[f]===undefined?DesignerManager.getDefaultImage():t.imageUrl,imageLayout:t.imageLayout,imagePosition:t.imagePosition})):i.isBound(e)&&(t=n[e]?n[e]:{},$.quickExtend(r,{imageUrl:n[e]===undefined?DesignerManager.getDefaultIcon():t.imageUrl,imageLayout:t.imageLayout,imagePosition:t.imagePosition}));i.isBound(u)&&$.quickExtend(r,{alt:n[u]===undefined?null:n[u]});i.isBound(u)&&n[u]||(i.isBound(o)?$.quickExtend(r,{alt:n[o]===undefined?null:n[o]}):i.isBound(s)&&$.quickExtend(r,{alt:n[s]===undefined?null:n[s]}));i.setBindingValuesToProperties(r)},onImageBoxCreated:function(t){var i=this;t.trackStates(ImageBoxState.LoadingImage,{setCallback:function(){i.showImageLoadingOverlay()},unsetCallback:function(){i.hideImageLoadingOverlay()}});n(this)},onInitialized:function(){var n=this;n.sizeChangedEvent.bindAndExecute(function(){ReadWriteController.requestIndpendentWriteOperation(function(){n.setImageBoxViewport(n.getSize())},n.id+"setImageBoxViewport")})}}}}})}(),function(){function i(n){if(this.getNavigatableInstances().length>1){var t=this.data.currentTab;this.navigate(1,!1);ElementsManager.removeInstances(t);n()}}var t=["backgroundColor","backgroundOverlay","imageUrl","imageLayout","imagePosition","padding","roundness","borderWidth","borderStyle","borderColor","shadow","innerShadow","borderColor","glow","innerGlow","childrenAnchor"],n=$.makeDictionaryFromKeys(t,!0);$.quickExtend(n,{lineColor:!0});ElementsModel.registerDefinition(ElementsTypes,{TabsPanel:{className:"switch-panel-element",title:"Tabs",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasLayout,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Navigatable],calculatedProperties:t,methods:{getContextChildren:function(){var n=this.getCurrentItem();return n?n.getChildInstances():[]},navigateTo:function(n,t,i,r){this.showItem(n,t,i,r)},getAutoNavigationDuration:function(){return this.getPropertyValue("autoNavigationDuration")},addItem:function(n){var t,i;return n=$.extend({withCallOut:!1,tabName:undefined,id:undefined,initialProperties:{all:{}}},n),Global.Events.ElementsAdding.fireNew(),n.initialProperties.all.name=n.tabName,t=this.getCurrentItem(),t&&(n.initialProperties.all=$.deepCloneObject($.extend({},n.initialProperties.all,{backgroundColor:t.getPropertyValue("backgroundColor")}))),i=TemplateCreator.addTemplateInstance(DesignTools.Tab.utilizationData,this.$element,n),i.instances[0]},addCustomItem:function(n){Global.Events.ElementsAdding.fireNew();var t=TemplateCreator.addTemplateInstance({elementForCreation:n},this.$element);return t.instances[0]},showItem:function(n,t,i,r){function a(){t&&$.eachItem(f.getDescendingInstances(!1),function(n,t){t.data.isTrackOverInTransition===!0&&PositionManager.trackMouseOver(t)});u.startAutoNavigation();LayoutManager.requestUpdatePosition(u)}function tt(){u.startAutoNavigation()}function b(){u.data.duringAnimatedTransition=!1;u.data.animatedTabsOrder=undefined;i();OperationsManager.disableOperationsRecording("onTransitionFinish");var n=u.data.pendingTransition;n&&(u.data.pendingTransition=undefined,u.showItem(n.tabSelector,n.performAnimation,n.navigateCallback,n.animationOptions));Global.Events.NavigationFinished.fireNew();OperationsManager.enableOperationsRecording("onTransitionFinish")}var u=this,k,o,s,f,v,e,g,nt;if(PositionManager.isElementVisible(this)){if(k=u.getPropertyValue("navigationDuringTransitionBehaviour"),u.data.duringAnimatedTransition)switch(k){case NavigationDuringTransitionBehaviour.StopTransition:if(o=u.data.animatedTabsOrder,o)for(s=0;s<o.length;s++)o[s].stopVisibilityAnimations();break;case NavigationDuringTransitionBehaviour.IgnoreNavigation:return;case NavigationDuringTransitionBehaviour.EnqueueNavigation:u.data.pendingTransition={tabSelector:n,performAnimation:t,navigateCallback:i,animationOptions:r}}if(OperationsManager.disableOperationsRecording("navigateInTabsElement"),t===undefined&&(t=!0),i===undefined&&(i=$.noop),PositionManager.isElementVisible(this)||(t=!1),f=undefined,isFinite(n)?(v=this.getChildInstances(),f=v[Math.max(0,Math.min(v.length-1,n))]):typeof n=="string"?f=ElementsManager.getInstanceByID(n):n&&(f=ElementsManager.getInstanceByID(n.id)),this.data.currentTab&&(e=ElementsManager.getInstanceByID(this.data.currentTab.id)),f&&e!==f){if(u.stopAutoNavigation(),e&&f.$element.insertAfter(e.$element),this.data.currentTab=f,u.currentItemChangedEvent.fireNew({prevItem:e,currentItem:f}),Global.Events.NavigableTabChanged.fireNew(),t){u.data.duringAnimatedTransition=!0;$.eachItem(f.getDescendingInstances(!1),function(n,t){PositionManager.isTrackOver(t)&&(t.data.isTrackOverInTransition=!0,PositionManager.stopMouseOverTracking(t))});var d=r&&r.transitionOrder?r.transitionOrder:this.getPropertyValue("transitionOrder"),y=r&&r.entranceAnimation?r.entranceAnimation:this.getPropertyValue("entranceAnimation"),p=r&&r.entranceAnimationSpeed?r.entranceAnimationSpeed:this.getPropertyValue("entranceAnimationSpeed"),w=r&&r.entranceAnimationDirection?r.entranceAnimationDirection:this.getPropertyValue("entranceAnimationDirection"),h=undefined,c=undefined,l=undefined;e&&(h=r&&r.exitAnimation?r.exitAnimation:this.getPropertyValue("exitAnimation"),c=r&&r.exitAnimationSpeed?r.exitAnimationSpeed:this.getPropertyValue("exitAnimationSpeed"),l=r&&r.exitAnimationDirection?r.exitAnimationDirection:this.getPropertyValue("exitAnimationDirection"));d!==TransitionOrder.Simultaneously&&e?d===TransitionOrder.EnterBeforeExit?(u.data.animatedTabsOrder=[f,e],f.showElement({animation:y,animationOptions:{duration:p,direction:w},complete:function(){a();e.hideElement({animation:h,animationOptions:{duration:c,direction:l},complete:function(){tt();b()}})}})):(u.data.animatedTabsOrder=[e,f],e.hideElement({animation:h,animationOptions:{duration:c,direction:l},complete:function(){f.showElement({animation:y,animationOptions:{duration:p,direction:w},complete:function(){a();b()}})}})):(u.data.animatedTabsOrder=[f],e&&u.data.animatedTabsOrder.push(e),nt=f.showElement({animation:y,animationOptions:{duration:p,direction:w},complete:a}),e&&(g=e.hideElement({animation:h,animationOptions:{duration:c,direction:l},complete:tt})),$.when(nt,g).done(function(){b()}))}else e!==undefined&&e.hideElement(),f.showElement(),a(),i();u.currentItemFinishChanging.fireNew({prevItem:e,currentItem:f});OperationsManager.enableOperationsRecording("navigateInTabsElement")}else OperationsManager.enableOperationsRecording("navigateInTabsElement"),i(),LayoutManager.requestUpdatePosition(u)}},removeCurrentItem:i,removeItem:function(n,t){t||(t=$.noop);n===this.data.currentTab?this.removeCurrentItem(t):(ElementsManager.removeInstances(n),t())},creationFunction:$.returnUndefined,getCurrentItem:function(){return this.data.currentTab?this.data.currentTab:this.childInstances[0]},accept:$.returnFalse,isDroppable:$.returnFalse,getCalculatedPropertyValue:function($super,t){if(n[t]){var i=this.getCurrentItem();return i?i.getPropertyValue(t):undefined}return $super(t)},setCalculatedPropertyValue:function($super,t,i,r,u){if(n[t]){var f=this.getCurrentItem();f&&f.setPropertyValue(t,i,r,u)}else $super(t,i,r,u)}},aggregatedMethods:{aggregations:{onChildElementAdded:function(n){var t=this,i={id:n.id,title:n.getPropertyValue("name"),type:MenuItemTypes.NavigableInstance.name,index:t.getNavigatableInstances().length};n.bindPropertyChangeId=n.bindPropertyChange("name",function(){t.getItemsInformation().updateItemFields(n.id,{title:n.getPropertyValue("name")})},"tabNameChanged");t.data.currentTab===undefined?(t.data.currentTab=n,t.currentItemChangedEvent.fireNew({prevItem:undefined,currentItem:n})):n.hideElement();t.getItemsInformation().put(i)},onChildElementRemoved:function(n){this.getItemsInformation().remove(n.id);this.data.currentTab===n&&this.navigate(-1,!1);n.unbindPropertyChange("name",n.bindPropertyChangeId)},switchToPreview:function(n){var t=this;n&&t.showItem(0,!1)},switchToDesign:function(){var n=this;n.showItem(0,!1)},onRemove:function(){this.getItemsInformation().clear()},onInitializing:function(){var n=this;this.sizeChangedEvent.bind(function(){LayoutManager.refreshElementsLayout(n.childInstances)})}}}},Tab:{className:"tab-element",title:"Tab",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.HasContent,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.HasBorder,Features.HasBackground,Features.HasBackgroundImage],methods:{creationFunction:function(){return $("<div><\/div>").addClass("absolute-fill")},hasWidth:$.returnFalse,hasHeight:$.returnFalse,getContextInstances:function(){var t=this,n=[];return $.eachItem(this.parentInstance.getNavigatableInstances(),function(i,r){t.id!==r.id&&n.push(r)}),n},getAutoLayoutProperties:function(){return{left:!0,top:!0,width:!0,height:!0}}},aggregatedMethods:{aggregations:{onInitializing:function(){this.canMove.setValue(!1)}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{Button:{className:"button-element",title:"Button",itemTitle:"Button",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.Clickable,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.HasResponsiveItem,Features.ItemsContainer,Features.HasChildrenLayoutAnchor],properties:{buttonType:{defaultValue:function(){return ButtonTypes.ActionButton}}},methods:{creationFunction:function(n){return n.data.$content=$("<div><\/div>").addClass("absolute-fill"),n.data.$content}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{Flash:{title:"Flash",features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Rotatable,Features.HasPadding,Features.HasContent,Features.HasContentOverlay],properties:{flashAsset:{title:"Flash",defaultValue:$.returnEmptyString,onChange:function(n,t){var i={};i.wmode="transparent";swfobject.embedSWF(AssetsManager.resolveAssetUrl(t),n.data.flashID,"100%","100%","9.0.0",!1,!1,i,!1)}}},methods:{shouldBeHiddenInMode:$.returnTrue,creationFunction:function(n){return n.data.flashID="f"+$.uniqueID(),n.data.$flash=$("<div id='{0}'><\/div>".format(n.data.flashID)).addClass("absolute-fill").addClass("no-wrap"),n.data.$flash}}}})}(),function(){function n(n){var t,i,r;n.data.appIframe&&(t=n.getPropertyValue("appInfo"),t?(t.remoteUrl?(i=t.remoteUrl,i.indexOf("://")<0&&(i="http://"+i)):(r=AssetsManager.getAssetsFolder(t.ownerID,AssetsStorageServers.AzureBlob,AssetsTypes.App),i=t.ownerID!=null?r+t.fileName:r+t.appFolder+t.fileName),n.data.appIframe.attr("src",i)):n.data.appIframe.attr("src",""))}ElementsModel.registerDefinition(ElementsTypes,{App:{title:"App",features:[Features.DesignElement,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Rotatable,Features.HasPadding,Features.HasContent,Features.HasContentOverlay,Features.HasResponsiveItem],defaultProperties:{},properties:{autoScrollbars:{defaultValue:$.returnFalse,onChange:function(t,i){var r=$('<iframe class="app-iframe {1}" frameborder="0" marginheight="0" marginwidth="0" width="100%" height="100%" scrolling="{0}"><\/iframe>'.format(i?"yes":"no",i?"auto-scrollbars":""));t.data.appIframe=r;t.data.$iframeContainer.empty().append(r);n(t)}},appInfo:{title:"Application",defaultValue:$.returnNull,isStateProperty:!1,onChange:function(t){n(t)}}},methods:{creationFunction:function(n){var t=$("<div class='absolute-fill'><\/div>");return n.data.$iframeContainer=t,t}},aggregatedMethods:{aggregations:{switchToDesign:function(){n(this)}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{DataListElement:{className:"data-list-element",title:"Data List",itemName:"DataListItemTemplate",itemTitle:"Data List Item",defaultProperties:{itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0}}}},features:[Features.DesignElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.DataList,Features.TemplatePagesList],methods:{getDataSourceName:function(){var n=this;return DataListViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.DataListElementView},calculateItemSizeOnMobile:function(n){var t=this.getPcTemplateSize();return{height:t?t.height*t.width/n.width:n.height,width:n.width}}},aggregatedMethods:{aggregations:{setItem:function(){}}}}})}();DataListViewPreText="dataListElement",function(){ElementsModel.registerDefinition(ElementsTypes,{paypalButton:{className:"paypalButton",title:"PayPal Button",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.Clickable,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.ItemsContainer,Features.PaypalFeature]}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{checkOutButton:{className:"checkOutButton",title:"CheckOut Button",defaultProperties:{backgroundColor:function(){return"Transparent"},opacity:function(){return 1},sizeAndPosition:function(){return{width:90,height:30,top:0,left:0}}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.Clickable,Features.HasBackgroundImage,Features.HasResponsiveItem,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.CheckOutFeature]}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{FormElement:{className:"form-element",title:"Form",itemTitle:"Input Field",itemName:"TextInputField",extensions:{structureProcessor:function(n,t){return n.type==="TextInputField"&&t==="TextArea"&&(n.type="TextArea"),n}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Focusable,Features.Hideable,Features.HasBorder,Features.DataList,Features.HasFormData],defaultProperties:{dataLayout:function(){return{name:"Rows"}},dataLayoutOptions:function(){return{cols:1,rows:5,colsSpacing:10,rowsSpacing:10,oneColumn:!0}},itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},labelText:{type:"title",title:"Label Text",name:"labelText",isDefaultField:!0}}}},methods:{setContentSizeChangeBinding:function(){var n=this;n.contentSizeChangedEvent.bind(function(){if(n.shouldRequestArrangementFromSizeChange()){var t=n.getContentSize(),i=n.dataLayoutController.getLastArrangementInstanceSizeByDevice();$.sizesEqual({width:0,height:0},t)||i&&i.width===t.width||n.requestArrangement({keepItemSize:!1,shouldFetch:!1})}})},calculateActualSize:function(){var n=this;return n.$element.elementContentSize()},mainTypeChange:function(n){OperationsManager.beginAtomicBatch(!0);RenderingCoordinator.startRenderingBatch();OperationsManager.addRememberSectionsLayoutOperation(this);var t=this;t.setPropertyValue("dataLayout",{name:n});n===DataLayouts.Rows.name?t.setPropertyFieldValue("dataLayoutOptions","rows",3):n===DataLayouts.Columns.name&&t.setPropertyFieldValue("dataLayoutOptions","cols",3);RenderingCoordinator.finishRenderingBatch();Global.IsDesigner&&ContextManager.refreshContext();OperationsManager.endAtomicBatch()},getDefaultTemplate:function(n){var i=this.elementType.itemName,t=$.getValues(this.getFieldsTemplates()[n])[0];return t||(t=$.getValues(this.getFieldsTemplates()[i])[0]),t},getNewContentSize:function(n){return n.vertically=!1,this.calculateNewContentSize(n)},calculateDiffHeight:function(n,t,i,r){return i?r.height-i.height:0},alignContentHorizontal:function(){if(this.hasContentHorizontalAlign()){var n=this.getPropertyValue("horizontalContentAlign");n!==CssHorizontalAlignment.None?this.data.$relativeChildElementContentHolder.css({"text-align":"{0}".format(n)}):this.data.$relativeChildElementContentHolder.css({"text-align":""})}},hasContentHorizontalAlign:function(){return!0},renderElementChildren:function(n){var i=this,e=i.id,r=i.childInstances,f=r.length,t,u;for(n.openTag("div","element-content positioned"),n.addTag("div","arrangement-content-holder positioned","$arrangementContentHolder"),n.openTag("div","relative-child-elements-content-holder positioned","$relativeChildElementContentHolder"),t=0;t<f;t++)u=r[t],u.renderElement(n);n.closeTag();n.closeTag()},creationFunction:$.noop,addChildElement:function(n){return this.data.$relativeChildElementContentHolder.append(n.$element)},getDataSourceName:function(){var n=this;return FormDataViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.FormElementView},hasHeight:function(){var n=this;return n.inEmptyStateFlag.isTrue()},canDuplicate:function(){return!0},hasVerticalAlign:function(){return!1},hasHorizontalAlign:function(){return!0},getEmptyTemplateInfo:function(){return{title:"Form",label:"{add} to your form",shortLabel:"No Fields",iconClass:$.getIconClass("tool-category-forms",IconLocation.Font),actions:{add:{title:"Add fields",doAction:function(){Commands.ManageItems.action()}}}}},adjustDataListToMobile:function(){var n=this,n=this;n.setPropertyValue("dataLayout",DataLayouts.OneColumn);this.setPropertyFieldsValues("dataLayoutOptions",{rowsSpacing:10});n.getDataSource().invalidateAllItems();n.requestArrangement({keepItemSize:!1});LayoutManager.LayoutContentOperationsSet.lockRequest(n.getArrangementRequestName())}},aggregatedMethods:{aggregations:{onChildElementAdded:function(n){var t=this;n.isContent()||(n.isRelativePositionedFlag.setTrue(),n.classesManager.set({"inline-block-element":!0}),n.isType(ElementsTypes.SkinButtonElement)||ElementActivationManager.connectElement(n.id,t.id,Behaviours.SubmitForm.name,{triggerName:Triggers.MouseClick.name,triggerType:TriggerType.Trigger}),n.canRedropTo=$.returnFalse,n.canDuplicate=$.returnFalse,n.canPushFlag.setValue(!1,"formChild"),n.hasOrder.setValue(!1,"formChild"),n.customZIndex.setValue(Global.MinExternalAppPropertyZindex),t.data.hasSubmitButton=!0)},onChildElementRemoved:function(n){n.isContent()||(n.isRelativePositionedFlag.setFalse(),n.classesManager.set({"inline-block-element":!1}),this.data.hasSubmitButton=!1)}}}}})}();FormDataViewPreText="form",function(){ElementsModel.registerDefinition(ElementsTypes,{ButtonsGroup:{className:"buttons-group",title:"Button Group",itemName:"MenuButton",itemTitle:"Button",features:[Features.DesignElement,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasResponsiveItem,Features.HasBorder,Features.DataList],defaultProperties:{fitToContent:function(){return!1},sizeAndPosition:function(){return{width:400,height:400,top:0,left:0}},itemFields:function(){return{index:{type:"index",title:"Index",name:"index",isDefaultField:!0},title:{type:"title",title:"Title",name:"title",isDefaultField:!0},icon:{type:"icon",title:"Icon",name:"icon",isDefaultField:!0}}},dataLayoutOptions:function(){return{lineSpacing:15,columnSpacing:15,colsSpacing:15,rowsSpacing:15,rotation:0,cols:3,R:100}}},properties:{buttonsType:{name:"buttonsType",defaultValue:function(){return ButtonsGroupTypes.RadioButtons.value}},enableButtonToggling:{name:"enableButtonToggling",defaultValue:function(){return!0}}},methods:{hasContentHorizontalAlign:$.returnFalse,getDefaultStructure:function(n){var t={};return t[ElementsTypes.ButtonsGroup.itemName]={},n&&(t[ElementsTypes.ButtonsGroup.itemName][n.id]={id:n.id,name:"Template",isDefault:!0,hierarchy:n}),{isTemplate:!0,wizardName:"WebzaiChooseButtonsGroupWizard",isDefaultStructure:!0,structures:[{type:"ButtonsGroup",elementProperties:{sizeAndPosition:{width:0,height:0},backgroundColor:"transparent",dataLayout:{name:DataLayouts.Horizontal.name},fieldsTemplates:t}}]}},unSelectAll:function(){var n=this;$.eachItem(n.getItemsControllers(),function(n,t){var i=t.getInstance();ElementsManager.performOnInstancesInitialization(i.id,function(){i.userSelect(!1)})})},getDataSourceName:function(){var n=this;return ButtonsGroupViewPreText+n.id},getDataSourceDefinition:function(){return DataSourcesDefinitions.ButtonsGroupView},refreshSelectedItem:function(n){var i=this,r=i.getInstanceController(n),t,u;if(r&&r.isInitialized())if(t=r.getInstance(),t&&ViewManager.isViewMode()){u=i.getPropertyValue("buttonsType");switch(u){case ButtonsGroupTypes.RadioButtons.value:$.eachItem(i.getItemsControllers(),function(n,i){var r=i.getInstance();r.id!==t.id&&ElementsManager.performOnInstancesInitialization(r.id,function(){r.userSelect(!1)})});ElementsManager.performOnInstancesInitialization(t.id,function(){var n=i.getPropertyValue("enableButtonToggling");n?t.userSelect(!0):t.userSelect(!t.isUserSelected())});break;case ButtonsGroupTypes.ToggleGroup.value:ElementsManager.performOnInstancesInitialization(t.id,function(){t.userSelect(!t.isUserSelected())})}}else i.unSelectAll()}},aggregatedMethods:{aggregations:{adjustInstanceToViewPort:function(){var n=this;n.setPropertyValue("dataLayout",{name:DataLayouts.SquareGrid.name});n.setPropertyFieldsValues("dataLayoutOptions",{cols:3,colsSpacing:10,rowsSpacing:10})},switchToPreview:function(){var n=this;n.$element.on("click",".design-element.button-element",function(){var t=$instance($(this));t.elementType===ElementsTypes.MenuButton&&ViewManager.isViewMode()&&n.getPageId()===PageManager.getCurrentPageId()&&n.refreshSelectedItem(t.getDataItemId())})},switchToDesign:function(n){n&&(this.unSelectAll(),this.$element.off("click",".design-element.button-element"))},setItem:function(n){n.setNeverSelectedInClick(!0)}}}}})}();ButtonsGroupViewPreText="menu";ButtonsGroupTypes={ToggleGroup:{title:"Multiple Selection",value:1},RadioButtons:{title:"Single Selection",value:2}},function(){var n,t;ElementsModel.registerDefinition(ElementsTypes,{FooterElement:{className:"footer-element",title:"Footer",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.HasResizingGrip,Features.PageSection,Features.HasBorder],defaultProperties:{resizingGripPosiotion:function(){return"s"},tagName:function(){return HtmlTags.FOOTER},sectionName:function(){return"Footer"}},methods:{canDuplicate:$.returnFalse,addElementToPage:function(n){var t=this,u=t.$element,i,r;return OperationsManager.disableUndo("removeSection"),i=n.getFooterInstance(),i&&i!==t&&(ElementsManager.removeInstances(i),console.warn("Adding a footer to a page that already has a footer")),OperationsManager.enableUndo("removeSection"),r=t.data.pageInstance,r&&r.setFooterInstance(undefined),n.setFooterInstance(t),t.data.pageInstance=n,n.data.$footerSection.append(u),n.data.$footerSection}},aggregatedMethods:{aggregations:{addFixeState:function(){var n=this;n.isFixed()&&(t||(t=$.rule(".page-element-border-box {}")),n.data.switchToPreviewFooter=SimpleEvent.bindAndExecute([n.sizeChangedEvent,n.visibilityChangedEvent],function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){if(ViewManager.isViewMode()){var i=PageManager.getCurrentPage();PositionManager.isElementVisible(n)?t.css({"padding-bottom":"{0}px".format(n.getSize().height)}):t.css({"padding-bottom":"{0}px".format(0)});PositionManager.invalidateAreas(i)}},n.id+"_sectionsPaddingBottomCssRule")}))},removeFixedState:function(){var n=this;t||(t=$.rule(".page-element-border-box {}"));SimpleEvent.unbind(n.data.switchToPreviewFooter);t.css({"padding-bottom":"{0}px".format(0)});PositionManager.invalidateAreas(n)},onRemove:function(){var n=PageManager.getCurrentPage().getFooterInstance();n&&n.id===this.id&&PageManager.getCurrentPage().setFooterInstance(undefined);LayoutManager.refreshElementsLayout(PageManager.getCurrentPage())},onInitializing:function(){this.isMasterPageElement.isFalse()&&MasterPagesManager.setAsMasterPageRoots(this)}}}},HeaderElement:{className:"header-element",title:"Header",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.HasResizingGrip,Features.PageSection,Features.HasBorder],defaultProperties:{resizingGripPosiotion:function(){return"s"},tagName:function(){return HtmlTags.HEADER},sectionName:function(){return"Header"}},methods:{canDuplicate:$.returnFalse,addElementToPage:function(n){var t=this,u=t.$element,i,r;return OperationsManager.disableUndo("removeSection"),i=n.getHeaderInstance(),i&&i!==t&&(ElementsManager.removeInstances(i),console.warn("Adding a header to a page that already has a header")),OperationsManager.enableUndo("removeSection"),r=t.data.pageInstance,r&&r.setHeaderInstance(undefined),n.setHeaderInstance(t),t.data.pageInstance=n,n.data.$headerSection.append(u),n.data.$headerSection}},aggregatedMethods:{aggregations:{addFixeState:function(){var t=this;t.isFixed()&&(n||(n=$.rule(".page-element-border-box {}")),t.data.switchToPreviewHeader=SimpleEvent.bindAndExecute([t.sizeChangedEvent,t.visibilityChangedEvent],function(){RenderingCoordinator.performUpdateOnRenderingFinished(function(){if(ViewManager.isViewMode()){var i=PageManager.getCurrentPage();PositionManager.isElementVisible(t)?n.css({"padding-top":"{0}px".format(t.getSize().height)}):n.css({"padding-top":"{0}px".format(0)});PropertiesManager.invalidateProperty(i,"sizeAndPosition",undefined,i.getPropertyValue("sizeAndPosition"))}},t.id+"_sectionspaddingTopCssRule")}))},removeFixedState:function(){var t=this;SimpleEvent.unbind(t.data.switchToPreviewHeader);n||(n=$.rule(".page-element-border-box {}"));SimpleEvent.unbind(t.data.switchToPreviewFooter);n.css({"padding-top":"{0}px".format(0)});LayoutManager.refreshElementsLayout(t)},onRemove:function(){var n=PageManager.getCurrentPage(),t=n.getHeaderInstance();t&&t.id===this.id&&n.setHeaderInstance(undefined);LayoutManager.refreshElementsLayout(PageManager.getCurrentPage())},onInitializing:function(){this.isMasterPageElement.isFalse()&&MasterPagesManager.setAsMasterPageRoots(this)}}}},SectionElement:{className:"page-section-element",title:"Section",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.HasResizingGrip,Features.PageSection,Features.HasBorder],defaultProperties:{resizingGripPosiotion:function(){return"s"},tagName:function(){return HtmlTags.SECTION},sizeAndPosition:function(){return{height:600}},backgroundColor:function(){return"transparent"},sectionName:function(){return"Section A"}},properties:{pageContentId:{isNotForCustomProperty:!0,defaultValue:function(){return null},onChange:function(n,t){n.isInitialized&&n.data.pageContentInstance.id!==t&&ElementsManager.addElementToContainerElement(PageManager.getCurrentPage(),n)}}},methods:{getMinSize:function(){return{height:this.data.calculatedMinHeight&&ViewManager.isViewMode()?this.data.calculatedMinHeight:0,width:0}},getPageContentInstance:function(){return PageManager.getCurrentPage().getPageContentInstances()[0]},addElementToPage:function(n){var t=this,i=t.getPageContentInstance(),r;return t.data.pageContentInstance=i,this.setPropertyValue("pageContentId",i.id),r=i.addSectionElement(n,t),PositionManager.invalidateAreas(t,{updateSize:!1}),r}},aggregatedMethods:{aggregations:{switchToPreview:function(){var n=this;LayoutManager.refreshElementsLayout(n)},switchToDesign:function(){var n=this;LayoutManager.refreshElementsLayout(n)},onRemove:function(){var n=this,t=n.getPageContentInstance(),i=PageManager.getPage(n.getPageId());t.removeSectionElement(i,n)},onInitializing:function(){var n=this;n.sizeChangedEvent.bind(function(){var t=PageManager.getCurrentPage(),i=n.getPageContentInstance();PositionManager.invalidateAreas(i?[t,i]:t)});n.visibilityChangedEvent.bind(function(){var t=PageManager.getCurrentPage(),i=n.getPageContentInstance();PositionManager.invalidateAreas(i?[t,i]:t)})}}}}})}();ExternalAppElementBuilder=new function(){function n(n,t){if(n){var i=t.features;$.eachItem(n,function(n,t){Features.hasOwnProperty(t)&&i.push(Features[t])})}}function t(n,t){if(n){var i=t.features;$.eachItem(n,function(n,t){Features.hasOwnProperty(t)&&i.removeItem(Features[t])})}}function i(n,t){if(n){var i=t.methods;$.eachEntry(n,function(n,r){n==="onInitializing"?t.aggregatedMethods={aggregations:{onInitializing:r}}:i[n]=r})}}function r(n){var t={title:n.title,defaultValue:function(){return n.defaultValue}};switch(n.stateType){case"custom":t.isStateProperty=!0;break;case"single":t.isNotForCustomProperty=!0}return t}function u(n,t,i){var e=t.properties,o=t.extensions.querySettings,u,f;for(u in n)f=n[u],e[i+u]=r(f),f.isQueryParam&&o.push(u)}function f(n,t){$.isEmptyObject(n)||t.features.push(Features.ConnectableExternalApp)}function e(n,t){var i=t.features;$.isEmptyObject(n)||(i.push(Features.FeatureExternalApp),$.eachEntry(n,function(n,t){i.push(Features[t.featureTypeName])}))}function o(n,t){if(n){var i=t.defaultProperties;$.eachEntry(n,function(n,t){i[n]=function(){return t}})}}function s(n){var t={};return $.quickExtend(t,{title:n.name,features:[Features.DesignElement,Features.HasInnerShadow,Features.Selectable,Features.HasBackground,Features.HasPadding,Features.HasBackgroundImage,Features.HasLayout,Features.Hideable,Features.HasBorder,Features.Rotatable,Features.HasContentOverlay,Features.HasResponsiveItem,Features.ExternalApp],extensions:{querySettings:[],appDefinition:n},defaultProperties:{},properties:{},methods:{}}),t}this.createElement=function(r){var h=s(r),c;return n(r.features,h),t(r.excludeFeatures,h),o(r.defaultProperties,h),u(r.settings,h,r.appSettingPrefix),i(r.methods,h),e(r.implementedFeatures,h),f(r.connectableFeatures,h),c={},c[r.elementTypeName]=h,c}},function(){ElementsModel.registerDefinition(ElementsTypes,{PageContentElement:{className:"page-content-element",title:"Page Content",features:[Features.DesignElement,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.HasLayout,Features.ItemsContainer,Features.HasChildrenLayoutAnchor,Features.Hideable,Features.HasBorder],defaultProperties:{resizingGripPosiotion:function(){return"s"},sizeAndPosition:function(){return{height:200,width:960,top:0,left:0}}},properties:{isContentTypeFluid:{defaultValue:function(){return!0}}},methods:{isPageChildInstance:$.returnTrue,getMinSize:$.returnZeroSize,isReattchable:$.returnFalse,creationFunction:$.returnUndefined,isRelativePositioned:function(){return!0},hasHeight:function(){return!1},hasWidth:function(){return!1},canBeSelected:$.returnFalse,selectBeforeChildren:$.returnFalse,isArrangeable:function(){return!1},canDuplicate:function(){return!1},changeElementSize:function(n){var t=this.getPropertyValue("isContentTypeFluid");t||this.$element.css(n);this.$elementSizeBox.css(n)},getPageContentElement:function(n){return this.data.pageToContainers[n]||(this.data.pageToContainers[n]=$("<div class='positioned'><\/div>")),this.data.pageToContainers[n]},addSectionElement:function(n,t){var i=this.data.sectionsByPage;return $.objectSetIfUndefined(i,n.id,$.returnEmptyObject),$.objectSet(i,[n.id,t.id],t),this.getPageContentElement(n.id).append(t.$element)},removeSectionElement:function(n,t){var i=this.data.sectionsByPage;delete i[n.id][t.id]},getSectionsByPage:function(n){var i=this.data.sectionsByPage,t=$.objectGet(i,[n.id]);return t?$.getValues(t):[]},getVisibleSectionsByPage:function(n){var t=this.getSectionsByPage(n);return $.grep(t,function(n){return n.isInstanceVisible()})},renderElement:function(n){var t=this;n.startInstanceRendering(t,"positioned");n.openTag("div","element-main-box positioned");n.openTag("div","element-background-layer element-border-target design-element-border-target");Global.IsExplorerMode&&n.addTag("div","element-background-target-explorer");n.closeTag();n.openTag("div","element-border-box element-border-target positioned design-element-border-box");n.openTag("div","element-content-box design-element-content-box element-padding-box positioned");n.openTag("div","page-content-element-size-box element-size-box positioned element-size-target");n.openTag("div","page-content-content-container content-container-type positioned");t.renderElementChildren(n);n.closeTag();n.closeTag();n.closeTag();n.closeTag();n.closeTag();n.finishInstanceRendering(t)},getAutoLayoutProperties:function($super){return $.quickExtend($super(),{top:!0,left:!0})},accept:$.returnFalse,isDroppable:$.returnFalse,canDelete:function(){return MasterPagesManager.EditingMasterPage.isTrue()&&PageManager.getCurrentPage().getPageContentInstances().length>1},canRedropTo:$.returnFalse},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this;this.isMasterPageElement.isFalse()&&MasterPagesManager.setAsMasterPageRoots([this]);Global.IsDesigner&&n.instanceRemoved.bind(function(){$.eachItem(n.getSectionsByPage(PageManager.getCurrentPage()),function(n,t){t.detach()})});PageManager.Events.PageLoaded.bindAndExecute(function(){var t=PageManager.getPrevPage(),i=PageManager.getCurrentPage();n.getPageId()===i.id&&(t&&n.getPageContentElement(t.id).detach(),n.getPageContentElement(i.id).appendTo(n.getContentLayer()))})},onCreation:function(){this.data.pageToContainers={};this.data.sectionsByPage={}},adjustInstanceToViewPort:function(){this.setPropertyValue("margin",0)},onDetached:function(){var n=PageManager.getCurrentPage();PropertiesManager.invalidateProperty(n,"sizeAndPosition",undefined,n.getPropertyValue("sizeAndPosition"))},onElementAddedToContainer:function(n){n.addPageContentInstance(this)},onRemove:function(){this.parentInstance.removePageContentInstance(this)},switchToPreview:function(){LayoutManager.refreshElementsLayout(this)},switchToDesign:function(){LayoutManager.refreshElementsLayout(this)}}}}})}(),function(){function t(t){if(t.setSkinInstanceBox(t),t.data.instanceController)t.data.instanceController.createdFlag.onceTrue(function(){n(t)});else n(t)}function n(n){var i={},t={},r=[];$.eachItem(n.getDescendingInstances(!0),function(u,f){var e=f.getPropertyValue("styleBindingFields");e&&($.eachEntry(e,function(n,r){$.eachEntry(r,function(r){$.objectSet(i,[f.id,n],r);t[n]||(t[n]=[]);t[n].push(f)})}),r.push(f),f.setSkinInstanceBox(n))});n.data.skinStyleAffectedInstances=r;n.data.instanceIdToFieldsToPropertiesMap=i;n.data.boundFieldsToInstances=t;n.influenceChanged.fireNew()}ElementsModel.registerDefinition(ElementsTypes,{skinHierarchyBox:{className:"skin-hierarchy-box",title:"Skin Element",features:[Features.DesignElement,Features.HasInnerShadow,Features.TemplateItem,Features.Focusable,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.ItemsContainer,Features.Clickable,Features.HasContent,Features.HasPadding,Features.Hideable,Features.HasBorder],methods:{creationFunction:$.returnUndefined,getStyleStateAffectedInstances:function(){return this.data.skinStyleAffectedInstances?this.data.skinStyleAffectedInstances:[]},getInstancesBindingsByField:function(n){var t=this;return t.data.boundFieldsToInstances?t.data.boundFieldsToInstances[n]:undefined},getMainSkinInstance:function(){return this.data.skinInstance},canDuplicate:$.returnFalse,getAutoLayoutProperties:function(){return this.parentInstance?{left:!0,top:!0,width:!0,height:!0}:{}},canDelete:$.returnFalse,canRedropTo:$.returnFalse},aggregatedMethods:{aggregations:{onInitializing:function(){var n=this;n.data.skinInstance=n.parentInstance;t(n)}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinInputElement:{className:"skin-input-element",title:"Input",defaultProperties:{skinBinding:function(){return{skinName:"skinInputElement",type:SkinsBindingsTypes.Global}}},features:[Features.CommonDataListSkinItem],methods:{getSkinSupportedStates:function(){return[ElementStates.ElementFocusedState,ElementStates.MouseOverState,ElementStates.MouseDownState]},clear:function(){var n=this.getInputField();return n.clear()},getValue:function(){var n=this.getInputField();return n.getValue()},canDuplicate:function(){return!0},getInputField:function(){var n=this.data.formInput;return n||(n=this.refreshFormInput()),n},getInputTitle:function(){return this.getInputField().elementType.title},refreshFormInput:function(){var n=this,t=n.getDescendingInstances(!1);return $.eachItem(t,function(t,i){!n.data.formInput&&i.hasFeature(Features.FormInput)&&(n.data.formInput=i,i.canRedropTo=canRedropTo,i.canDelete=$.returnFalse)}),n.data.formInput},canRedropTo:$.returnFalse},aggregatedMethods:{aggregations:{onInitialized:function(){var n=this;n.instanceController.createdEvent.bind(function(){n.refreshFormInput()})}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinListViewItem:{className:"skin-list-view-element",title:"Post Item",defaultProperties:{skinBinding:function(){return{skinName:"skinListViewItem",type:SkinsBindingsTypes.Global}}},features:[Features.RemoteDataListSkinItem]}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinImageElement:{className:"skin-image-element",title:"Image",defaultProperties:{itemFields:function(){return{image:{type:"image",title:"Image",name:"image",isDefaultField:!0}}},dataInfo:function(){return{currentData:{image:DesignerManager.getDefaultImage()}}},skinBinding:function(){return{skinName:"skinImageElement",type:SkinsBindingsTypes.Global}}},features:[Features.DesignElement,Features.HasDataSource,Features.SkinElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasContent],delegatedDefinitionsProperties:[ElementsTypes.image,Features.HasImage],methods:{},aggregatedMethods:{aggregations:{}}}})}();ButtonActions={None:"None",NavigateNext:"NavigateNext",NavigatePrev:"NavigatePrev",NavigateTo:"NavigateTo",SubmitForm:"SubmitForm",PlayVideo:"PlayVideo",StopVideo:"StopVideo"},function(){ElementsModel.registerDefinition(ElementsTypes,{SkinButtonElement:{className:"skin-button-element",title:"Button",properties:{buttonAction:{isNotForCustomProperty:!0,defaultValue:function(){return{type:ButtonActions.None,data:undefined}}}},defaultProperties:{skinBinding:function(){return{skinName:"SkinButtonElement",index:0,type:SkinsBindingsTypes.Global}},formattedText:function(){return"Button"},verticalAlignment:function(){return VerticalAlignment.Centered},iconSize:function(){return"auto"}},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasDataSource,Features.DelegatedContent,Features.SkinElement,Features.HasResponsiveItem,Features.Selectable,Features.HasLayout,Features.Hideable],delegatedDefinitionsProperties:[ElementsTypes.freeText],customDelegatedProperties:["iconReference"],methods:{getDelegatedContentInstance:function(){var t=this,n=t.getInstancesBindingsByField("formattedText");if(n&&n.length>0)return n[0]},getInitializedTargetConnections:function($super){var n=this,t=$super(),i=n.getPropertyValue("buttonAction"),r=i.data,u=i.type;if(Behaviours[u]){var f=n.id+"buttonAction",e=r.targetId,o={id:f,sourceElementID:n.getSkinInstance().id,targetElementID:e,behaviourName:u,options:r.options};t[f]=o}return t},getSkinSupportedStates:function(){return[ElementStates.MouseOverState,ElementStates.MouseDownState]},hasButtonBehaviour:$.returnTrue},aggregatedMethods:{aggregations:{switchToPreview:function(){this.data.visbilityListener&&this.data.visbilityListener.activateAndExecute()},switchToDesign:function(){this.data.visbilityListener&&this.data.visbilityListener.deactivate();this.isDisplayed.setTrue("targetIsVisible")},onInitialized:function(){var n=this,i,t;n.propertyChangedEvent.bindAndExecute("buttonAction",function(){var f,r,u;i?i.unbind():undefined;t?t.dispose():undefined;delete n.data.visbilityListener;f=n.getPropertyValue("buttonAction");r=f.data;r&&r.targetId&&(u=r.targetId,ElementsManager.performOnInstancesCreated([u],function(){var r=ElementsManager.getInstanceByID(u);i=r.instanceRemoved.bind(function(){var t=n.getPropertyValue("buttonAction"),i=t.data;i.targetId===r.id&&ElementsManager.removeInstances([n])});t=SimpleEvent.createEventListener([r.visibilityChangedEvent],function(){var t=n.getPropertyValue("buttonAction"),i=t.data;i.targetId===r.id&&(r.isInstanceVisible()?n.isDisplayed.setTrue("targetIsVisible"):n.isDisplayed.setFalse("targetIsVisible"))});n.data.visbilityListener=t}));n.instanceRemoved.bind(function(){i?i.unbind():undefined;t?t.dispose():undefined})})},updateInstanceToViewPort:function(){var n=this;n.refreshContentSize()},removeInstanceFromViewPort:function(){var n=this;n.refreshContentSize()}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinDataItem:{className:"skin-image-element",title:"Data Item",defaultProperties:{skinBinding:function(){return{skinName:"skinDataItem",type:SkinsBindingsTypes.Global}}},features:[Features.CommonDataListSkinItem],methods:{canRedropTo:$.returnFalse,getDisplayName:function(){var n=this,t=n.getItemMainParent(),i=t&&t.isType(ElementsTypes.VideoGallery);return i?"Video Item":n.elementType.title}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinGalleryItem:{className:"skin-gallery-element",title:"Image",defaultProperties:{skinBinding:function(){return{skinName:"skinGalleryItem",type:SkinsBindingsTypes.Global}}},features:[Features.CommonDataListSkinItem],methods:{canRedropTo:$.returnFalse}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinMenuButtonItem:{className:"skin-menu-button-element",title:"Button",defaultProperties:{skinBinding:function(){return{skinName:"skinMenuButtonItem",type:SkinsBindingsTypes.Global}}},features:[Features.CommonDataListSkinItem],methods:{canDelete:function($super){var t=this,n=t.getItemMainParent();return $super()&&!(n&&n.isType(ElementsTypes.Menu))},hasButtonBehaviour:$.returnTrue,getFieldName:function(){return"MenuButton"},getSkinSupportedStates:function(){return[ElementStates.ElementSelectedState,ElementStates.MouseOverState,ElementStates.MouseDownState]},canDuplicate:$.returnFalse}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{skinVideoItem:{className:"skin-image-element",title:"Video",defaultProperties:{skinBinding:function(){return{skinName:"skinVideoItem",type:SkinsBindingsTypes.Global}}},features:[Features.CommonDataListSkinItem]}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{SkinSocialIconItem:{className:"skin-social-icon-element",title:"Social Icon",defaultProperties:{skinBinding:function(){return{skinName:"SkinSocialIconItem",type:SkinsBindingsTypes.Global,index:0}}},features:[Features.DesignElement,Features.SkinElement,Features.DataListItem,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasContent],methods:{hasButtonBehaviour:$.returnTrue,getSkinSupportedStates:function(){return[ElementStates.MouseOverState,ElementStates.MouseDownState]},canDuplicate:$.returnFalse},aggregatedMethods:{aggregations:{}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{SkinTagButton:{className:"skin-image-element",title:"Tag Button",defaultProperties:{skinBinding:function(){return{skinName:"SkinTagButton",type:SkinsBindingsTypes.Global}}},features:[Features.RemoteDataListSkinItem],methods:{getSkinSupportedStates:function(){return[ElementStates.ElementSelectedState,ElementStates.MouseOverState,ElementStates.MouseDownState]}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{SkinSectionButton:{className:"skin-section-button-element",title:"Button",defaultProperties:{skinBinding:function(){return{skinName:"SkinSectionButton",type:SkinsBindingsTypes.Global}}},features:[Features.CommonDataListSkinItem],aggregatedMethods:{aggregations:{switchToPreview:function(){var n=this,i=0,r=n.getItemMainParent(),t;if(r&&(i=r.getPropertyValue("scrollingAnimationDuration")),t=ElementsManager.getInstanceByID(n.getDataItemId()),t)n.$element.on("vclick."+n.id,function(){ElementsManager.scrollToInstanceInPreview(t,{animationDuration:i})})},switchToDesign:function(){this.$element.off("vclick."+this.id)}}},methods:{canDelete:$.returnFalse,getFieldName:function(){return"MenuButton"},getSkinSupportedStates:function(){return[ElementStates.ElementSelectedState,ElementStates.MouseOverState,ElementStates.MouseDownState]},canDuplicate:function(){return!1},hasButtonBehaviour:$.returnTrue}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{MenuButton:{className:"button-element",title:"Button",itemTitle:"Button",extensions:{skinTypeName:ElementsTypes.skinMenuButtonItem.name},features:[Features.DesignElement,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.ItemsContainer,Features.Clickable,Features.Hideable,Features.HasBorder,Features.DataListItem],methods:{creationFunction:function(n){return n.data.$content=$("<div><\/div>").addClass("absolute-fill"),n.data.$content},canDuplicate:function(){return!1}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{ImageBox:{className:"image-item-element",title:"Gallery Item",itemTitle:"Image Box",extensions:{skinTypeName:ElementsTypes.skinGalleryItem.name},features:[Features.DesignElement,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.ItemsContainer,Features.Clickable,Features.Hideable,Features.HasBorder,Features.DataListItem],methods:{creationFunction:function(n){return n.data.$content=$("<div><\/div>").addClass("absolute-fill"),n.data.$content},canRedropTo:$.returnFalse}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{DataListItemTemplate:{className:"data-list-item-element",title:"Data List Item",itemTitle:"Data List Item",extensions:{skinTypeName:ElementsTypes.skinDataItem.name},features:[Features.DesignElement,Features.HasInnerShadow,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.ItemsContainer,Features.Clickable,Features.Hideable,Features.HasBorder,Features.DataListItem],methods:{creationFunction:function(n){return n.data.$content=$("<div><\/div>").addClass("absolute-fill"),n.data.$content},canRedropTo:$.returnFalse}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{ListViewItemTemplate:{className:"list-view-item-element",title:"List View Item",itemTitle:"List View Item",extensions:{skinTypeName:ElementsTypes.skinListViewItem.name},features:[Features.DesignElement,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.ItemsContainer,Features.Clickable,Features.Hideable,Features.HasBorder,Features.DataListItem],methods:{hasEditingBehaviour:function(){return!1},creationFunction:function(n){return n.data.$content=$("<div><\/div>").addClass("absolute-fill"),n.data.$content},canDuplicate:function(){return!1},canDelete:$.returnFalse,canRedropTo:$.returnFalse}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{InputItem:{className:"input-element",title:"Input Item",itemTitle:"Input Item",extensions:{skinTypeName:ElementsTypes.skinInputElement.name},features:[Features.DesignElement,Features.HasPadding,Features.HasContent,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasBackgroundImage,Features.ItemsContainer,Features.Clickable,Features.Hideable,Features.HasBorder,Features.Focusable,Features.DataListItem],methods:{creationFunction:function(n){return n.data.$content=$("<div><\/div>").addClass("absolute-fill"),n.data.$content},clear:function(){var n=this.getInputField();return n.clear()},getValue:function(){var n=this.getInputField();return n.getValue()},canDuplicate:function(){return!0},getInputField:function(){return this.data.formInput},canRedropTo:$.returnFalse},aggregatedMethods:{aggregations:{onInitialized:function(){var n=this,t=n.getDescendingInstances(!1);$.eachItem(t,function(t,i){function r(t){return!!t.isDescendantOf(n)}!n.data.formInput&&i.hasFeature(Features.FormInput)&&(n.data.formInput=i,i.canRedropTo=r,i.canDelete=$.returnFalse)})}}}}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{SkinNavigationButton:{title:"Navigation Button",features:[Features.DesignElement,Features.HasDataSource,Features.SkinElement,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasLayout,Features.Clickable,Features.Hideable,Features.HasContent,Features.HasNavigation],delegatedDefinitionsProperties:[ElementsTypes.Icon],methods:{getFieldName:function(){return"SkinNavigationButton"},hasButtonBehaviour:$.returnTrue},aggregatedMethods:{aggregations:{}}}})}(),function(){var n={id:"TwitterFollowApp",version:1,name:"Twitter Follow Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/twitter-app/twitter-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:300,height:24,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"twitterFollow",isDisableUserEdit:!0,isQueryParam:!0},defaultUser:{defaultValue:"twitter",isDisableUserEdit:!0,isQueryParam:!0},followUser:{title:"Follow User:",type:"text-box",defaultValue:"twitter",isQueryParam:!0},showCount:{title:"Show number of followers",type:"check-box",defaultValue:!0,isQueryParam:!0,stateType:"custom"},showScreenName:{title:"Show user name",type:"check-box",defaultValue:!0,isQueryParam:!0,stateType:"custom"}}}],features:[]},t={id:"TwitterFollow",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"TwitterTweetApp",version:1,name:"Twitter Tweet Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/twitter-app/twitter-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:107,height:20,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"twitterTweet",isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"Tweet custom url",type:"check-box",defaultValue:!1,isQueryParam:!0},tweetUrl:{title:"Url to tweet:",type:"text-box",defaultValue:"http://www.twitter.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},tweetVia:{title:"Tweet via user:",type:"text-box",defaultValue:"",isQueryParam:!0},customTweetText:{title:"Add custom tweet text:",type:"text-box",defaultValue:"",isQueryParam:!0},countLayout:{title:"Tweet count layout:",type:"combo-box",values:[{title:"Horizontal",value:"horizontal"},{title:"Vertical",value:"vertical"},{title:"None",value:"none"}],defaultValue:"horizontal",isQueryParam:!0,stateType:"custom"}}}],features:[]},t={id:"TwitterTweet",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookShareApp",version:1,name:"Facebook Share Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:84,height:20,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"facebookShare",isDisableUserEdit:!0,isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"Share custom url:",type:"check-box",defaultValue:!1,isQueryParam:!0},url:{title:"Url to share:",type:"text-box",defaultValue:"http://www.facebook.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},layout:{title:"Button Layout:",type:"combo-box",values:[{title:"Button with Count",value:"button_count"},{title:"Box with Count",value:"box_count"},{title:"Button Only",value:"button"},{title:"Icon with Link",value:"icon_link"},{title:"Icon Only",value:"icon"},{title:"Link Only",value:"link"}],defaultValue:"button_count",isQueryParam:!0,stateType:"custom"}}}],features:[]},t={id:"FacebookShare",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookLikeApp",version:1,name:"Facebook Like Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:76,height:20,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"facebookLike",isDisableUserEdit:!0,isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"Like custom url",type:"check-box",defaultValue:!1,isQueryParam:!0},url:{title:"Url to like:",type:"text-box",defaultValue:"http://www.facebook.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},layout:{title:"Button layout:",type:"combo-box",values:[{title:"Button with Count",value:"button_count"},{title:"Standard",value:"standard"},{title:"Box with Count",value:"box_count"},{title:"Button Only",value:"button"}],defaultValue:"button_count",isQueryParam:!0,stateType:"custom"},actionType:{title:"Action:",type:"combo-box",values:[{title:"Like",value:"like"},{title:"Recommend",value:"recommend"}],defaultValue:"like",isQueryParam:!0},showFaces:{title:"Show faces",type:"check-box",defaultValue:!1,isQueryParam:!0,bindState:{type:"setting",state:"displaying",settingName:"layout",value:"standard",stateType:"custom"}}}}],features:[]},t={id:"FacebookLike",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookFollowApp",version:1,name:"Facebook Follow Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:90,height:20,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"facebookFollow",isDisableUserEdit:!0,isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},url:{title:"Profile to follow:",type:"text-box",defaultValue:"http://www.facebook.com",isQueryParam:!0},layout:{title:"Button layout:",type:"combo-box",values:[{title:"Button with Count",value:"button_count"},{title:"Standard",value:"standard"},{title:"Box with Count",value:"box_count"},{title:"Button Only",value:"button"}],defaultValue:"button_count",isQueryParam:!0,stateType:"custom"},colorScheme:{title:"Color scheme:",type:"combo-box",values:[{title:"Light",value:"light"},{title:"Dark",value:"dark"}],defaultValue:"light",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"layout",value:"standard"},stateType:"custom"},showFaces:{title:"Show faces",type:"check-box",defaultValue:!1,isQueryParam:!0,bindState:{type:"setting",state:"displaying",settingName:"layout",value:"standard"},stateType:"custom"}}}],features:[]},t={id:"FacebookFollow",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookCommentsApp",version:1,name:"Facebook Comments",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",resizingSettings:{minSize:{width:50,height:50}},growableSettings:{view:!0,design:!1},manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:400,height:140,top:0,left:0}},settingCategories:[{title:"Widget Settings",settings:{widgetType:{defaultValue:"facebookComments",isDisableUserEdit:!0,isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},width:{defaultValue:"100%",isDisableUserEdit:!0,isQueryParam:!0},postLimit:{title:"No. of posts:",type:"numeric",defaultValue:10,min:1,max:Infinity,isQueryParam:!0,stateType:"custom"},colorScheme:{title:"Color scheme:",type:"combo-box",values:[{title:"Light",value:"light"},{title:"Dark",value:"dark"}],defaultValue:"light",isQueryParam:!0,stateType:"custom"}}}],features:["Resizable"]},t={id:"FacebookComments",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookActivityApp",version:1,name:"Facebook Activity Feed ",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],resizingSettings:{canResizeVertically:!1,minSize:{width:160,height:20}},defaultProperties:{sizeAndPosition:{width:300,height:300,top:0,left:0}},settingCategories:[{title:"Widget Settings",settings:{widgetType:{isDisableUserEdit:!0,defaultValue:"facebookActivityFeed",isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"Use custom domain",type:"check-box",defaultValue:!1,isQueryParam:!0},url:{title:"Activity for domain:",type:"text-box",defaultValue:"www.facebook.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},width:{defaultValue:"100%",isDisableUserEdit:!0,isQueryParam:!0},limitPostAge:{title:"Limit post age",type:"check-box",defaultValue:!1,isQueryParam:!0},maxAge:{title:"Post age (days):",type:"numeric",defaultValue:0,min:0,max:180,isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"limitPostAge",value:!1,negative:!0}},colorScheme:{title:"Color scheme:",type:"combo-box",values:[{title:"Light",value:"light"},{title:"Dark",value:"dark"}],defaultValue:"light",isQueryParam:!0,stateType:"custom"}}}],features:["Resizable"]},t={id:"FacebookActivity",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookLikeboxApp",version:1,name:"Facebook Likebox",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",resizingSettings:{canResizeVertically:!1,minSize:{width:290,height:20}},manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:400,height:70,top:0,left:0}},settingCategories:[{title:"Widget Settings",settings:{widgetType:{defaultValue:"facebookLikeBox",isDisableUserEdit:!0,isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},url:{title:"Facebook page to like",type:"text-box",defaultValue:"http://www.facebook.com/facebook",isQueryParam:!0},colorScheme:{title:"Color scheme",type:"combo-box",values:[{title:"Light",value:"light"},{title:"Dark",value:"dark"}],defaultValue:"light",isQueryParam:!0,stateType:"custom"},showFaces:{title:"Show faces",type:"check-box",defaultValue:!1,isQueryParam:!0,stateType:"custom"},showHeader:{defaultValue:!1,isQueryParam:!0,isDisableUserEdit:!0},showPosts:{title:"Show posts",type:"check-box",defaultValue:!1,isQueryParam:!0,stateType:"custom"}}}],features:["Resizable"]},t={id:"FacebookLikebox",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"FacebookPagePluginApp",version:1,name:"Facebook Page Plugin",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/facebook-widget-app/facebook-widget-app.html")},isCacheDisabled:!1,type:"ui",resizingSettings:{minSize:{width:280,height:130},maxSize:{width:500}},manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:340,height:224,top:0,left:0}},settingCategories:[{title:"Widget Settings",settings:{widgetType:{defaultValue:"facebookPagePlugin",isDisableUserEdit:!0,isQueryParam:!0},appId:{defaultValue:$.valueOrDefault(Settings.FacebookAppID,Global.FacebookAppID),isDisableUserEdit:!0,isQueryParam:!0},url:{title:"Facebook page to like",type:"text-box",defaultValue:"http://www.facebook.com/facebook",isQueryParam:!0},showFaces:{title:"Show faces",type:"check-box",defaultValue:!0,isQueryParam:!0,stateType:"custom"},showPosts:{title:"Show posts",type:"check-box",defaultValue:!1,isQueryParam:!0,stateType:"custom"},hideCover:{title:"Hide Cover Image",type:"check-box",defaultValue:!1,isQueryParam:!0,stateType:"custom"},width:{defaultValue:340,isDisableUserEdit:!0,isQueryParam:!0},height:{defaultValue:224,isDisableUserEdit:!0,isQueryParam:!0}}}],features:["Resizable"]},t={id:"FacebookPagePlugin",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"TwitterFeedApp",version:1,name:"Twitter Feed",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/twitter-app/twitter-app.html")},isCacheDisabled:!1,type:"ui",resizingSettings:{canResizeVertically:!1,minSize:{width:40,height:0}},manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:224,height:400,top:0,left:0}},settingCategories:[{title:"WIDGET SETTINGS",settings:{widgetType:{defaultValue:"twitterFeed",isDisableUserEdit:!0,isQueryParam:!0},user:{title:"User:",type:"text-box",defaultValue:"twitter",isQueryParam:!0},theme:{title:"Theme:",type:"combo-box",values:[{title:"Light",value:"light"},{title:"Dark",value:"dark"}],defaultValue:"light",isQueryParam:!0,stateType:"custom"},limitTweets:{title:"Limit number of tweets",type:"check-box",defaultValue:!1,isQueryParam:!0,stateType:"custom"},dataWidgetId:{defaultValue:"",isDisableUserEdit:!0,isQueryParam:!0},tweetLimit:{title:"Tweet limit:",type:"numeric",defaultValue:5,min:1,max:20,isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"limitTweets",value:!1,negative:!0},stateType:"custom"}}}],features:["Resizable"]},t={id:"TwitterFeed",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"LinkedinShareApp",version:1,name:"LinkedIn Share Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/linkedin-app/linkedin-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:107,height:25,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"linkedinShare",isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"Share custom url",type:"check-box",defaultValue:!1,isQueryParam:!0},shareUrl:{title:"Url to Share:",type:"text-box",defaultValue:"http://www.linkedin.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},showCount:{title:"Share count layout:",type:"combo-box",values:[{title:"Horizontal",value:"right"},{title:"Vertical",value:"top"},{title:"None",value:"none"}],defaultValue:"right",isQueryParam:!0}}}],features:[]},t={id:"LinkedinShare",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"LinkedinFollowApp",version:1,name:"Linkedin Follow Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/linkedin-app/linkedin-app.html")},isCacheDisabled:!1,type:"ui",manages:[],resizingSettings:{minSize:{width:60,height:20}},defaultProperties:{sizeAndPosition:{width:156,height:20,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"linkedinFollow",isDisableUserEdit:!0,isQueryParam:!0},followUser:{title:"ID of company to follow:",type:"text-box",defaultValue:"1337",isQueryParam:!0},showCount:{title:"Follower count layout:",type:"combo-box",values:[{title:"Horizontal",value:"right"},{title:"Vertical",value:"top"},{title:"None",value:"none"}],defaultValue:"right",isQueryParam:!0}}}],features:[]},t={id:"LinkedinFollow",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"linkedin_company_profile_app",version:1,name:"Linkedin Company Profile",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/linkedin-app/linkedin-app.html")},isCacheDisabled:!1,type:"ui",manages:[],defaultProperties:{sizeAndPosition:{width:160,height:20,top:0,left:0}},settingCategories:[{title:"Widget Settings",settings:{widgetType:{defaultValue:"linkedinCompanyProfile",isDisableUserEdit:!0,isQueryParam:!0},companyId:{title:"ID of company to follow:",type:"text-box",defaultValue:"1337",isQueryParam:!0},widgetText:{title:"Show company name",type:"text-box",defaultValue:"Linkedin",isQueryParam:!0},panelBehavior:{title:"Show panel on:",type:"combo-box",values:[{title:"On Hover",value:"hover"},{title:"On Click",value:"click"},],defaultValue:"hover",isQueryParam:!0},showConnections:{title:"Show Connections",type:"check-box",defaultValue:!0,isQueryParam:!0}}}],features:["Resizable"]},t={id:"linkedin-company-profile",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"GooglePlusOneApp",version:1,name:"Google Plus +1 Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/google-app/google-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],resizingSettings:{canResizeVertically:!1,minSize:{width:38,height:24}},defaultProperties:{sizeAndPosition:{width:264,height:24,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"googlePlusOne",isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"+1 custom url",type:"check-box",defaultValue:!1,isQueryParam:!0},url:{title:"Url to +1",type:"text-box",defaultValue:"http://www.google.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},width:{defaultValue:264,isDisableUserEdit:!0,isQueryParam:!0},dataSize:{defaultValue:"standard",isDisableUserEdit:!0,isQueryParam:!0},dataAnnotation:{title:"Count Layout:",type:"combo-box",values:[{title:"Inline",value:"inline"},{title:"Bubble",value:"bubble"},{title:"None",value:"none"},{title:"Tall",value:"tall"}],defaultValue:"inline",isQueryParam:!0,stateType:"custom"}}}],features:["Resizable"]},t={id:"GooglePlusOne",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"GoogleFollowApp",version:1,name:"Google+ Follow Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/google-app/google-app.html")},isCacheDisabled:!1,type:"ui",resizingSettings:{minSize:{width:80,height:20}},manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:118,height:20,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"googleFollow",isDisableUserEdit:!0,isQueryParam:!0},followUser:{title:"User to follow",type:"text-box",defaultValue:"+Google",isQueryParam:!0},height:{defaultValue:20,isDisableUserEdit:!0,isQueryParam:!0},dataAnnotation:{title:"Count Layout:",type:"combo-box",values:[{title:"Bubble",value:"bubble"},{title:"Vertical",value:"vertical-bubble"},{title:"None",value:"none"}],defaultValue:"bubble",isQueryParam:!0,stateType:"custom"}}}],features:[]},t={id:"GoogleFollow",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"GoogleShareApp",version:1,name:"Google+ Share Button",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/google-app/google-app.html")},isCacheDisabled:!1,type:"ui",manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],resizingSettings:{canResizeVertically:!1,minSize:{width:57,height:20}},defaultProperties:{sizeAndPosition:{width:200,height:68,top:0,left:0}},settingCategories:[{title:"Button Settings",settings:{widgetType:{defaultValue:"googleShare",isDisableUserEdit:!0,isQueryParam:!0},dataAction:{defaultValue:"share",isDisableUserEdit:!0,isQueryParam:!0},useCustomUrl:{title:"Share custom url",type:"check-box",defaultValue:!1,isQueryParam:!0},url:{title:"Url to share",type:"text-box",defaultValue:"http://www.google.com",isQueryParam:!0,bindState:{type:"setting",state:"enabling",settingName:"useCustomUrl",value:!1,negative:!0}},width:{defaultValue:200,isDisableUserEdit:!0,isQueryParam:!0},dataAnnotation:{title:"Count Layout:",type:"combo-box",values:[{title:"Inline",value:"inline"},{title:"Bubble (Horizontal)",value:"bubble"},{title:"Bubble (Vertical)",value:"vertical-bubble"},{title:"None",value:"none"}],defaultValue:"inline",isQueryParam:!0,stateType:"custom"}}}],features:["Resizable"]},t={id:"GoogleShare",apps:[n]};AppsManager.addAppContainer(t)}(),function(){var n={id:"ecwid_app",version:1,name:"Store",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/ecwid-app/ecwid.html")},isCacheDisabled:!1,type:"ui",styleSupport:!0,resizingSettings:{canResizeVertically:!1},manages:[{title:"Manage Store",type:"main",panel:"EcwidManagePanel"}],defaultProperties:{sizeAndPosition:{width:960,height:400,top:0,left:-480}},settingCategories:[{title:"LAYOUT SETTINGS",settings:{storeId:{defaultValue:5194001,isDisableUserEdit:!0,isQueryParam:!0},categoriesPerRow:{title:"Categories in row:",type:"numeric",defaultValue:3,min:1,max:Infinity,isQueryParam:!0,stateType:"custom"},categoryView:{title:"Default view:",type:"combo-box",values:[{title:"Grid",value:"grid"},{title:"List",value:"list"},{title:"Table",value:"table"}],defaultValue:"grid",isQueryParam:!0,stateType:"custom"},tableNumber:{title:"Table - products in page:",type:"numeric",defaultValue:20,min:1,max:Infinity,isQueryParam:!0,stateType:"custom"},listNumber:{title:"List - products in page:",type:"numeric",defaultValue:10,min:1,max:Infinity,isQueryParam:!0,stateType:"custom"},gridColumnNumber:{title:"Grid - products in column:",type:"numeric",defaultValue:3,min:1,max:Infinity,isQueryParam:!0,stateType:"custom"},gridRowNumber:{title:"Grid - products in row:",type:"numeric",defaultValue:3,min:1,max:Infinity,isQueryParam:!0,stateType:"custom"}}}],features:["Resizable"]};AppsManager.addAppContainer({id:"ecwid",apps:[n]})}(),function(){function n(n){EmbedHtmlDialog.open({html:n.getAppSettingValue("html")||undefined,headerHtml:n.getAppSettingValue("headerHtml")||undefined,submitCallback:function(t,i){OperationsManager.beginAtomicBatch(!0);PropertiesManager.UpdateBatch.begin();n.setAppSettingValue("html",t);n.setAppSettingValue("headerHtml",i);PropertiesManager.UpdateBatch.end();OperationsManager.endAtomicBatch()}})}var t={id:"embed_html_app",version:1,name:"Embed Html",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/embed-html/embed-html.html")},isCacheDisabled:!1,useSessionParams:!0,type:"ui",manages:[{title:"Edit HTML",type:"main",manageCallback:n}],styleSupport:!0,defaultProperties:{sizeAndPosition:{width:400,height:400,top:0,left:-480}},settingCategories:[{isDisableUserEdit:!0,settings:{html:{stateType:"single",defaultValue:""},headerHtml:{stateType:"single",defaultValue:""}}}],methods:{onInitializing:function(){if(Global.IsDesigner){var n=this,t=n.getAppSettingValue("html");n.inEmptyStateFlag.setValue(!t);n.InstancePropertiesInitialized.onceTrue(function(){n.bindAppSettingProperty("html",function(t){n.inEmptyStateFlag.setValue(!t)})})}},getEmptyTemplateInfo:function(){var t=this;return{title:"Embed HTML",iconClass:$.getIconClass("embedded-html",IconLocation.Font),actions:{editHtml:{title:"Insert HTML",doAction:function(){n(t)}}},label:"{editHtml}",shortLabel:"Empty HTML"}}},features:["Resizable","HasEmptyState"]};AppsManager.addAppContainer({id:"embed_html",apps:[t]})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{EmbedIFrameElement:{title:"Embed IFrame",features:[Features.DesignElement,Features.HasInnerShadow,Features.HasResponsiveItem,Features.Resizable,Features.Selectable,Features.HasBackground,Features.HasLayout,Features.HasPadding,Features.Hideable,Features.HasBorder,Features.Rotatable,Features.HasContentOverlay,Features.IFrameContent,Features.HasEmptyState],properties:{iFrameUrl:{title:"IFrame Url",isNotForCustomProperty:!0,defaultValue:$.returnEmptyString(),onChange:function(n,t){n.isInitialized&&n.reloadIFrame(t)}}},defaultProperties:{sizeAndPosition:function(){return{width:400,height:400,top:0,left:0}}},methods:{getIFrameUrl:function(){return this.getPropertyValue("iFrameUrl")},isScrollableIFrame:$.returnTrue},aggregatedMethods:{aggregations:{}}}})}(),function(){var n={id:"SoundcloudPlayerApp",version:1,name:"SoundCloud Player",url:function(){return PathUtils.combinePaths(Settings.ApplicationRoot,"/extern/soundcloud-app/soundcloud-app.html")},isCacheDisabled:!1,type:"ui",resizingSettings:{minSize:{width:60,height:40}},manages:[{title:"Widget Settings",type:"main",showElementSettings:!0}],excludeFeatures:["HasBackground","HasPadding","HadBackgroundImage","HasBorder","HasBackgroundOverlay"],defaultProperties:{sizeAndPosition:{width:450,height:300,top:0,left:0}},settingCategories:[{title:"Widget Settings",settings:{trackId:{title:"Track ID",type:"text-box",defaultValue:190574049,isQueryParam:!0},height:{defaultValue:300,isDisableUserEdit:!0,isQueryParam:!0},autoPlay:{title:"Auto-play",type:"check-box",defaultValue:!1,isQueryParam:!0}}}],features:["Resizable"]},t={id:"SoundcloudPlayer",apps:[n]};AppsManager.addAppContainer(t)}(),function(){ElementsModel.registerDefinition(ElementsTypes,{newPaypalButton:{className:"paypalButton",title:"PayPal Button",features:[Features.PaypalFeature],ancestorElementType:ElementsTypes.SkinButtonElement,delegatedDefinitionsProperties:[ElementsTypes.freeText],customDelegatedProperties:["iconReference"]}})}(),function(){ElementsModel.registerDefinition(ElementsTypes,{newCheckoutButton:{className:"checkOutButton",title:"CheckOut Button",features:[Features.CheckOutFeature],ancestorElementType:ElementsTypes.SkinButtonElement,delegatedDefinitionsProperties:[ElementsTypes.freeText],customDelegatedProperties:["iconReference"]}})}(),function(){DataSourcesDefinitions.ButtonsGroupView=DeferredObject.create(function(){return BaseDataSource.extend("ButtonsGroupView",{fields:{index:{name:"index"},title:{name:"title"},icon:{name:"icon"}},isForSave:!0,itemsInformation:undefined,collectionItems:undefined,manageItemsPanelName:"ButtonsGroupPanel",manageItemsPanelTitle:"Manage Buttons",setDataItems:function(n){var f=this,u=f.instance;n=$.asArray(n);var e=u.getPropertyValue("dataInfo"),t=$.extend({},e),i=$.extend({},t.currentData),r=$.extend({},i.items);$.eachItem(n,function(n,t){r[t.id]=$.extend({},r[t.id],t)});i.items=r;t.currentData=i;OperationsManager.beginAtomicBatch();u.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getIndex:function(n){var t=this,i=t.instance,r=i.getPropertyValue("dataInfo");return r.currentData.items[n].index},addDataItem:function(n){var f=this,u=f.instance,e=u.getPropertyValue("dataInfo"),t=$.quickExtend({},e),i=$.quickExtend({},t.currentData),r=$.quickExtend({},i.items);r[n.id]=$.extend({},r[n.id],n);i.items=r;t.currentData=i;OperationsManager.beginAtomicBatch();u.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},removeDataItem:function(n){var f=this,r=f.instance,e=r.getPropertyValue("dataInfo"),t=$.quickExtend({},e),i=$.quickExtend({},t.currentData),u=$.quickExtend({},i.items);delete u[n];i.items=u;t.currentData=i;OperationsManager.beginAtomicBatch();r.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getEmptyItem:function(n){return $.extend({id:StructureLoadingManager.generateWebsiteId(),title:"Title",description:DesignerManager.DefaultTexts.description,icon:{imageUrl:DesignerManager.getDefaultIcon()}},n)},duplicateItem:function(n){return $.extend({},n,{id:StructureLoadingManager.generateWebsiteId()})},clear:function(){this.itemsInformation.clear()},getItemFields:function(){var n=this,t=n.instance;return t.getPropertyValue("itemFields")},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n)},setDataInfo:function(){var t=this,o=t.instance,i=o.getPropertyValue("dataInfo"),r,n,e;if(t.getCollectionItems().postponeUpdates(),i!==null&&i!==undefined){var u=t.itemsInformation.getItemsValues(),f=[],s=u.length;for(n=0;n<s;n++)i.currentData.items[u[n].id]||f.push(u[n].id);for(t.itemsInformation.remove(f),r=$.grep($.getValues(i.currentData.items),function(n){return i.itemsMap&&i.itemsMap[n.id]===!1?!1:!0}),r.sort(t.sortingFunction),n=0;n<r.length;n++)e=r[n],e.index=n+1;t.itemsInformation.syncrhonize(r)}else t.itemsInformation.clear();t.getCollectionItems().unPostponeUpdates()}})})}(),function(){DataSourcesDefinitions.GalleryElementView=DeferredObject.create(function(){return BaseDataSource.extend("GalleryElementView",{isForSave:!0,itemsInformation:undefined,collectionItems:undefined,manageItemsPanelName:"GalleryItemsPanel",manageItemsPanelTitle:"Manage Gallery Items",setDataItems:function(n){var r=this,i=r.instance,u=i.getPropertyValue("dataInfo"),t=$.quickExtend({},u);t.currentData=$.quickExtend({},t.currentData);n=$.asArray(n);$.eachItem(n,function(n,i){t.currentData[i.id]=$.quickExtend({},t.currentData[i.id],i)});OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getIndex:function(n){var t=this,i=t.instance,r=i.getPropertyValue("dataInfo");return r.currentData[n].index},addDataItem:function(n){var u=this,r=u.instance,f=r.getPropertyValue("dataInfo"),t=$.quickExtend({},f),i=$.quickExtend({},t.currentData);i[n.id]=$.extend({},i[n.id],n);t.currentData=i;OperationsManager.beginAtomicBatch();r.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},removeDataItem:function(n){var u=this,i=u.instance,f=i.getPropertyValue("dataInfo"),t=$.extend({},f),r=$.extend({},t.currentData);delete r[n];t.currentData=r;OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getEmptyItem:function(n){return $.quickExtend({id:StructureLoadingManager.generateWebsiteId(),title:"Title",description:DesignerManager.DefaultTexts.description,image:{imageUrl:DesignerManager.getDefaultImage()}},n)},duplicateItem:function(n){return $.extend({},n,{id:StructureLoadingManager.generateWebsiteId()})},clear:function(){this.itemsInformation.clear()},getItemFields:function(){var n=this,t=n.instance;return t.getPropertyValue("itemFields")},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n)},setDataInfo:function(){var t=this,s=t.instance,i=s.getPropertyValue("dataInfo"),r,f,n,e;if(t.getCollectionItems().postponeUpdates(),i!==null&&i!==undefined){var u=t.itemsInformation.getItemsValues(),o=[],h=u.length;for(n=0;n<h;n++)i.currentData[u[n].id]||o.push(u[n].id);for(t.itemsInformation.remove(o),r=$.grep($.getValues(i.currentData),function(n){return i.itemsMap&&i.itemsMap[n.id]===!1?!1:!0}),r.sort(t.sortingFunction),f=[],n=0;n<r.length;n++)e=$.quickExtend({},r[n]),e.index=n+1,f.push(e);t.itemsInformation.syncrhonize(f)}else t.itemsInformation.clear();t.getCollectionItems().unPostponeUpdates()}})})}(),function(){DataSourcesDefinitions.DataListElementView=DeferredObject.create(function(){return DataSourcesDefinitions.GalleryElementView.get().extend("DataListElementView",{manageItemsPanelName:"DataListItemsPanel",manageItemsPanelTitle:"Manage List Items"})})}(),function(){function t(n){var t={},i,u,f,r;return n&&n.currentData&&(t=$.quickExtend({},n),i=$.quickExtend({},n.currentData),u=$.quickExtend({},n.itemsMap),f=t.currentData.items,r={},$.each(f,function(n,t){r[n]=$.quickExtend({},t)}),i.items=r,t.currentData=i,t.itemsMap=u),t}function n(n){var t=n.dataSourceInfo.currentData,r,i;if(t){r=$.getKeys(t.collectionItems.getItems());n.itemsInformation.remove(r);n.fieldsInformation.disconnectObservableCollection();n.itemsInformation.disconnectObservableCollection();switch(t.type){case MenuItemTypes.NavigableInstance.name:i=ElementsManager.getInstanceByID(t.id);i&&i.instanceRemoved.unbind(t.onRemoved);t.itemsRefreshed.unbind()}delete n.dataSourceInfo.currentData}}function i(n,t,i){function l(){n.itemsInformation.connectObservableCollection(u.collectionItems);n.collectionFields.unPostponeUpdates();n.collectionItems.unPostponeUpdates()}var f=ElementsManager.getInstanceByID(n.instanceId),u=n.dataSourceInfo.currentData,a=t.type===MenuItemTypes.NavigableInstance.name,e,o,s,h,r,v,y,c,p;if(!u||u.id!==t.id){n.collectionFields.postponeUpdates();n.collectionItems.postponeUpdates();u={};switch(t.type){case MenuItemTypes.NavigableInstance.name:if(r=ElementsManager.getInstanceByID(t.id),!r)return;e=r.getItemsInformation();s=r.getFieldsInformation();o=r.getItemsCollection();h=r.getFieldsCollection();break;case MenuItemTypes.DummyType.name:e=DummyDataSource.getItemsInformation();s=DummyDataSource.getFieldsInformation();o=DummyDataSource.getItemsCollection();h=DummyDataSource.getFieldsCollection()}u=$.extend({id:t.id,type:t.type,itemsMap:i,observableCollection:e,observableFields:s,collectionItems:o,collectionFields:h},u);n.dataSourceInfo.currentData=u;switch(t.type){case MenuItemTypes.NavigableInstance.name:u.onItemChanged=r.currentItemChangedEvent.bind(function(t){r.isInstanceVisible()&&t.currentItem&&n.currentItemChangedEvent.fireNew(t.currentItem.id)});u.onRemoved=r.instanceRemoved.bind(function(){RenderingCoordinator.performOnLayoutUpdate(function(){var n=f.getDataSource();!f.isInDeleteProcess&&n&&n.dataSourceInfo.currentData.id===t.id&&ElementsManager.removeInstances([f])},"navigatable removed"+f.id)});u.itemsRefreshed=r.itemsRefreshed.bind(function(){$.each(f.dataItemsController.getAllControllers(),function(n,t){f.onItemSet(t.getInstance())})})}if(v=u.collectionItems.postponeUpdates(),n.fieldsInformation.clear(),n.itemsInformation.clear(),y=n.getItemFields(),c=$.getValues(y),c.length>0&&n.fieldsInformation.put(c),p=$.getValues(t.items),a&&r.reArrangingFinished&&!r.reArrangingFinishedWasFired)r.reArrangingFinished.one(function(){l()});else a?ElementsManager.performOnInstancesInitialization([r.id],l):l();v||u.collectionItems.unPostponeUpdates()}}ElementsModel.registerMenuItemTypes({NavigableInstance:{name:"NavigableInstance"},MasterPages:{name:"MasterPages"},DummyType:{name:"DummyType"}});DataSourcesDefinitions.MenuElementView=DeferredObject.create(function(){return BaseDataSource.extend("MenuElementView",{fields:{index:{name:"index"},title:{name:"title"}},isForSave:!0,manageItemsPanelName:"MenuItemsPanel",manageItemsPanelTitle:"Manage Menu Buttons",setDataItems:function(n){var r=this,u=r.instance,e=u.getPropertyValue("dataInfo"),t=$.quickExtend({},e),f=$.quickExtend({},t.currentData),i=$.quickExtend({},r.getAllDataItems());n=$.asArray(n);$.eachItem(n,function(n,t){i[t.id]=$.quickExtend({},i[t.id],t)});f.items=i;t.currentData=f;OperationsManager.beginAtomicBatch();u.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},removeDataItem:function(n){var u=this,i=u.instance,f=i.getPropertyValue("dataInfo"),t=$.extend({},f),r=$.extend({},t.itemsMap);r[n]=!1;t.itemsMap=r;OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getAllDataItems:function(){var n=this,i=n.instance;if(!n.dataSourceInfo)return{};var f=i.getPropertyValue("dataInfo"),r=$.objectGet(i.getPropertyValue("dataInfo"),["currentData","items"]),u=n.dataSourceInfo.currentData.observableCollection.getItems(),t={};return $.each(u,function(n,i){t[n]=r[i.id]?$.quickExtend({},r[i.id]):$.quickExtend({},i)}),$.extend({},t,n.collectionItems.getItems())},getItemFields:function(){var n=this,t=n.instance;return $.extend({},n.fieldsInformation.getItems(),t.getPropertyValue("itemFields"))},connectToNavigatable:function(n){var o=this,f=o.instance,i={id:n.id,type:MenuItemTypes.NavigableInstance.name,index:1,title:f.getPropertyValue("name")},e,r,u,t;switch(i.type){case MenuItemTypes.NavigableInstance.name:e=n.getItemsInformation()}r=e.getItems();u={};$.each(r,function(n){u[n]=!0});t=$.extend({},r);$.each(t,function(n,i){t[n]=$.extend({},i)});i.items=t;i.connectedItems=$.count(t);f.setPropertyValue("dataInfo",{currentData:i,itemsMap:u})},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n);t.fieldsInformation.syncrhonize($.getValues(n))},clear:function(){var t=this;t.dataSourceInfo&&n(t)},setDataInfo:function(){function s(){r.dataSourceInfo&&r.dataSourceInfo!==null&&r.dataSourceInfo.currentData&&(u&&u.id===r.dataSourceInfo.currentData.id||n(r));u?(r.dataSourceInfo&&r.dataSourceInfo!==null||(r.dataSourceInfo={}),i(r,u,h)):r.itemsInformation.clear()}var r=this,f=r.instance,e=f.getPropertyValue("dataInfo");if(!e){window.setTimeout(function(){ElementsManager.removeInstances([f])},0);return}var o=t(e),u=o.currentData,h=o.itemsMap;if(u&&u.type===MenuItemTypes.NavigableInstance.name)ElementsManager.performOnInstancesInitialization([u.id],function(){s()});else{if(u&&u.type===MenuItemTypes.MasterPages.name){window.setTimeout(function(){ElementsManager.removeInstances([f])},0);return}s()}}})})}(),function(){DataSourcesDefinitions.FormElementView=DeferredObject.create(function(){return BaseDataSource.extend("FormElementView",{isForSave:!0,itemsInformation:undefined,collectionItems:undefined,manageItemsPanelName:"FormItemsPanel",manageItemsPanelTitle:"Manage Form Fields",setDataItems:function(n){var u=this,r=u.instance,f=r.getPropertyValue("dataInfo"),t=$.quickExtend({},f),i=$.quickExtend({},t.currentData);n=$.asArray(n);$.each(n,function(n,t){i[t.id]=$.quickExtend({},i[t.id],t)});t.currentData=i;OperationsManager.beginAtomicBatch();r.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getIndex:function(n){var t=this,i=t.instance,r=i.getPropertyValue("dataInfo");return r.currentData[n].index},addDataItem:function(n){var u=this,i=u.instance,f=i.getPropertyValue("dataInfo"),t=$.quickExtend({},f),r=$.quickExtend({},t.currentData);r[n.id]=$.quickExtend({},n);t.currentData=r;OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},removeDataItem:function(n){var u=this,i=u.instance,f=i.getPropertyValue("dataInfo"),t=$.quickExtend({},f),r=$.quickExtend({},t.currentData);delete r[n];t.currentData=r;OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getEmptyItem:function(n){return n=$.quickExtend({fieldTypeName:undefined},n),$.quickExtend({id:StructureLoadingManager.generateWebsiteId(),fieldName:n.fieldTypeName?ElementsTypes[n.fieldTypeName].title:undefined,labelText:n.fieldTypeName?ElementsTypes[n.fieldTypeName].title:undefined,fieldOptions:{isOptional:!0},fieldTypeName:undefined},n)},duplicateItem:function(n){return $.extend({},n,{id:StructureLoadingManager.generateWebsiteId()})},clear:function(){this.itemsInformation.clear()},getItemFields:function(){var n=this,t=n.instance;return t.getPropertyValue("itemFields")},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n)},setDataInfo:function(){var t=this,o=t.instance,i=o.getPropertyValue("dataInfo"),r,n,e;if(t.getCollectionItems().postponeUpdates(),i!==null&&i!==undefined){var u=t.itemsInformation.getItemsValues(),f=[],s=u.length;for(n=0;n<s;n++)i.currentData[u[n].id]||f.push(u[n].id);for(t.itemsInformation.remove(f),r=$.grep($.getValues(i.currentData),function(n){return i.itemsMap&&i.itemsMap[n.id]===!1?!1:!0}),r.sort(t.sortingFunction),n=0;n<r.length;n++)e=r[n],e.index=n+1;t.itemsInformation.syncrhonize(r)}else t.itemsInformation.clear();t.getCollectionItems().unPostponeUpdates()}})})}(),function(){DataSourcesDefinitions.VideoGalleryElementView=DeferredObject.create(function(){return DataSourcesDefinitions.GalleryElementView.get().extend("VideoGalleryElementView",{onViewInitialized:function(){if(Global.IsDesigner){var n=this,t={};n.collectionItems.itemUpdatedEvent.bind(function(i){var r=t[i.id],u=ElementsManager.getInstanceByID(n.instanceId);r?r.video!==i.video&&VideoLimitationManager.changedVideo(u):VideoLimitationManager.changedVideo(u);t[i.id]=i});n.collectionItems.itemsAddedEvent.bind(function(i){var f,r,u;for($.isEmptyObject(t)||(f=ElementsManager.getInstanceByID(n.instanceId),VideoLimitationManager.changedVideo(f)),r=0;r<i.length;r++)u=i[r],t[u.id]=u})}},getEmptyItem:function(n){return $.quickExtend({id:StructureLoadingManager.generateWebsiteId(),title:"Video Title",description:DesignerManager.DefaultTexts.description,video:{videoId:DesignerManager.VideosIds[0].videoId,videoType:VideoTypes.Youtube}},n)},manageItemsPanelName:"VideoGalleryItemsPanel",manageItemsPanelTitle:"Manage Video Items"})})}(),function(){DataSourcesDefinitions.ListView=DeferredObject.create(function(){return BaseDataSource.extend("ListView",{sortingFunction:!1,onViewInitialized:function(){var n=this;n.inDynamicPage=ObservableFlag.create(!1)},getItemFields:function(){var t=this,i=t.instance,n=ListUtils.getListControllerFromInstance(i);return n&&n.getAvailableFields()},openItemsDialog:function(){var t=this,i=t.instance,n=i.getPropertyValue(PropertiesTypes.dataInfo.name);Commands.ManageList.action({listName:n.listName,selectedFilter:PostListTypes[n.filterType].commonFilterName})},getViewInfo:function(n,t){var s=this,e=s.instance,r=e.getPropertyValue(PropertiesTypes.dataInfo.name);if(r!==null&&r!==undefined){var u=ListsManager.getListByName(r.listName),f=[],i=ListsManager.CommonFilters.Published,o=u&&u.currentListType.getValue();if(o!==ListsManager.SupportedListTypes.page&&!n&&e.isPrimary())switch(o){case ListsManager.SupportedListTypes.tag:i=i.concat(ListsManager.CommonFilters.ByTag(u.currentDisplayedTag.getValue()))}else r.showPinned&&f.push(ListsManager.createSorter(ListsManager.FieldNames.Pinned)),i=i.concat(ListsManager.CommonFilters[PostListTypes[r.filterType].commonFilterName]),r.specificTag&&(i=i.concat(ListsManager.CommonFilters.ByTag(r.specificTag))),n?i=i.concat(ListsManager.CommonFilters.NotCurrentItem()):t&&u.currentDisplayedItemAlias!==undefined&&(i=i.concat(ListsManager.CommonFilters.NotCurrentItem(u.currentDisplayedItemAlias)));return f.push(ListsManager.createSorter(ListsManager.FieldNames.Date)),{filters:i,sorts:f}}return null},setDataInfo:function(){function i(){var i=ListsManager.getListByName(r),t;i!==undefined&&(n.collectionView&&n.collectionView.viewChangedEventListener.dispose(),t=n.getViewInfo(!1,n.inDynamicPage.isTrue()),t!==null&&(n.collectionView=i.createCollectionView({filters:t.filters,sorts:t.sorts}),n.collectionView.viewChangedEventListener=n.collectionView.createViewChangedListener(function(){n.dataSourceRefreshed.fireNew()}).activateAndExecute()))}function u(){var u=ListsManager.getListByName(r);u!==undefined&&(n.listItemChangedEvent&&n.listItemChangedEvent.dispose(),n.listItemChangedEvent=SimpleEvent.createEventListener([u.currentItemChangedEvent],function(){i()}),n.inDynamicPage.isTrue()&&n.listItemChangedEvent.activate(),t.isPrimary()&&(n.primaryPostsListListeners&&n.primaryPostsListListeners.disposeAll(),n.primaryPostsListListeners=SimpleEvent.createEventListenersGroup(),SimpleEvent.createEventListener([u.primaryListChanged],function(){ViewManager.isDesignMode()||t.changeCurrentItem(u.currentDisplayedPage.getValue()-1);i();t.isPrimary()&&t.itemsRefreshed.fireNew()}).addToGroup(n.primaryPostsListListeners),n.primaryPostsListListeners.activateAll()))}var n=this,t=n.instance,r=ListUtils.getListNameFromInstance(t);n.listenersGroup===undefined&&(n.listenersGroup=SimpleEvent.createEventListenersGroup(),SimpleEvent.createEventListener([{name:r,event:ListsManager.Events.ListCreated}],function(){i();u()}).addToGroup(n.listenersGroup),SimpleEvent.createEventListener([{name:r,event:ListsManager.Events.ListRemoved}],function(){n.dataSourceRefreshed.fireNew()}).addToGroup(n.listenersGroup),u(),SimpleEvent.createEventListener([n.inDynamicPage.valueChangedEvent],function(){n.inDynamicPage.isTrue()?n.listItemChangedEvent.activateAndExecute():(n.listItemChangedEvent.deactivate(),i())}).addToGroup(n.listenersGroup),n.listenersGroup.activateAll());i()},clear:function(){var n=this;n.collectionView&&n.collectionView.viewChangedEventListener.dispose();n.listItemChangedEvent&&n.listItemChangedEvent.dispose();n.listenersGroup.disposeAll();n.primaryPostsListListeners&&n.primaryPostsListListeners.disposeAll();n.itemsInformation.clear()},fetchItems:function(n,t,i,r,u){var f=this,e=f.instance,o=ListUtils.getListControllerFromInstance(e);f.itemsInformation.clear();o!==undefined?f.collectionView.fetchItems(n,t,e.getItemFieldsToRequest(),function(n){var t=n.fetchedItems;f.itemsInformation.put(t);i({fetchedItems:t,totalCount:n.totalCount})},r,u):i({fetchedItems:[],totalCount:0})},fetchAllItems:function(n,t){var i=this,r=i.instance;i.collectionView.fetchAllItems(r.getItemFieldsToRequest(),n,t)}})})}(),function(){function n(n){SimpleEvent.unbind(n.currentItemChangedEventBindings);delete n.currentItemChangedEventBindings;SimpleEvent.unbind(n.hierarchyUpdateEventBiniding);delete n.hierarchyUpdateEventBiniding;n.itemsInformation.disconnectObservableCollection()}function t(t){var i=t.instance;t.itemsInformation.beginUpdate();n(t);i.isNavigationButton()||(t.itemsInformation.connectObservableCollection(PageManager.NavigatablePagesCollection),t.hierarchyUpdateEventBiniding=SimpleEvent.bind([PageManager.NavigatableHierarchy.hierarchyUpdateEvent],function(){t.dataSourceRefreshed.fireNew()}),t.currentItemChangedEventBindings=PageManager.Events.PageChanged.bind(function(){t.currentItemChangedEvent.fireNew(PageManager.getCurrentPage().id)}));t.itemsInformation.endUpdate()}DataSourcesDefinitions.PageMenuElementView=DeferredObject.create(function(){return BaseDataSource.extend("PageMenuElementView",{isForSave:!0,removeDataItem:$.noop,getItemFields:function(){return PageManager.FieldsCollection.getItems()},clear:function(){n(this)},openItemsDialog:function(n){ManagePagesDialog.open(n)},setDataItems:function(n,t){var u=this,i,r;n=$.asArray(n);t||$.eachItem(n,function(n,t){delete t.index});OperationsManager.disableOperationsRecording("setDataItems");i=[];PageManager.PagesUpdatingOperation.start();$.eachItem(n,function(n,t){var r=PageManager.AllPagesInformation.getItem(t.id);r&&(i.push($.extend({},r)),r.useNameASUrl&&$.extend(t,{urlAlias:UrlUtils.normalizeFriendlyUrl(t.title,"-")}),PageManager.AllPagesInformation.updateItemFields(t.id,t,$.defaultEqualityComparer))});PageManager.PagesUpdatingOperation.finish();OperationsManager.enableOperationsRecording("setDataItems");r=UndoOperation.create({type:OperationsManager.Types.PostPropertiesChangeType,name:"setDataItems",performOperation:function(){u.setDataItems(i,t)}});OperationsManager.informOnOperation(r)},refresh:function(){var n=this;t(n)},getControllersHierarchy:function(){return PageManager.NavigatableHierarchy},setDataInfo:function(){var n=this;n.isItemsInformationInitialized||(t(n),n.isItemsInformationInitialized=!0)}})})}(),function(){function n(n){SimpleEvent.unbind(n.currentItemChangedEventBindings);n.itemsInformation.disconnectObservableCollection()}function t(t){t.itemsInformation.beginUpdate();n(t);t.itemsInformation.connectObservableCollection(SectionsManager.CurrentVisiblePageSectionsObserver,{mapItem:r});t.currentItemChangedEventBindings=SimpleEvent.bind([PageManager.Events.PageChanged],function(){t.currentItemChangedEvent.fireNew(PageManager.getCurrentPage().id)});t.itemsInformation.endUpdate()}function r(n){return{id:n.id,title:n.title,index:n.index}}var i={index:{type:"index",title:"Index",name:"index",isDefaultField:!0},title:{type:"title",title:"Title",name:"title",isDefaultField:!0}};DataSourcesDefinitions.SectionMenuElementView=DeferredObject.create(function(){return BaseDataSource.extend("SectionMenuElementView",{isForSave:!0,removeDataItem:$.noop,getItemFields:function(){return i},clear:function(){n(this)},openItemsDialog:$.noop,setDataItems:function(n){n=$.asArray(n);OperationsManager.beginAtomicBatch();$.eachItem(n,function(n,t){var i=ElementsManager.getInstanceByID(t.id);i.setPropertyValue("sectionName",t.title)});OperationsManager.endAtomicBatch()},refresh:function(){var n=this;t(n)},setDataInfo:function(){var n=this;n.isItemsInformationInitialized||(t(n),n.isItemsInformationInitialized=!0)}})})}(),function(){DataSourcesDefinitions.ListItemView=DeferredObject.create(function(){return BaseDataSource.extend("ListItemView",{refreshItem:function(n){var t=this;t.getCollectionItems().postponeUpdates();t.itemsInformation.clear();t.itemsInformation.put($.extend({},n,{id:"currentItem"}));t.getCollectionItems().unPostponeUpdates()}})})}(),function(){function n(n){var t=n.iconsMap,i=$.grep($.getValues(n.currentData),function(n){return t&&t[n.id].iconDisplayed===!1?!1:!0});return i.sort(function(n,t){return n.index!==undefined&&t.index!==undefined?n.index-t.index:n.index!==undefined?-1:t.index!==undefined?1:0})}DataSourcesDefinitions.SocialIconsElementView=DeferredObject.create(function(){return BaseDataSource.extend("SocialIconsElementView",{clear:function(){this.itemsInformation.clear()},openItemsDialog:function(){var n=this,t=n.instance;ManageSocialIConsDialog.open({dataInfo:t.getPropertyValue("dataInfo")})},setDataItems:function(n){var r=this,i=r.instance,u=i.getPropertyValue("dataInfo"),t=$.quickExtend({},u);t.currentData=$.quickExtend({},t.currentData);n=$.asArray(n);$.eachItem(n,function(n,i){t.currentData[i.id]=$.quickExtend({},t.currentData[i.id],i)});OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},removeDataItem:function(n){var u=this,r=u.instance,t=$.quickExtend({},r.getPropertyValue("dataInfo")),i=$.quickExtend({},t.iconsMap);i[n]=$.quickExtend({},t.iconsMap[n]);i[n].iconDisplayed=!1;t.iconsMap=i;OperationsManager.beginAtomicBatch();r.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getItemFields:function(){var n=this,t=n.instance;return t.getPropertyValue("itemFields")},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n)},setDataInfo:function(){var i=this,h=i.instance,t=h.getPropertyValue("dataInfo"),f,e,o,r,u,s;if(i.getCollectionItems().postponeUpdates(),i.itemsInformation.disconnectObservableCollection(),i.itemsInformation.clear(),t!==null&&t!==undefined)if(f=t.collectionName,t.isSynced)i.itemsInformation.connectObservableCollection(SocialLinksManager.getSocialLinksCollectionObservable(),{filterFunction:function(n){return t.iconsMap&&(!t.iconsMap[n.id]||t.iconsMap[n.id].iconDisplayed===!1)?!1:!0},mapItem:function(n,t){var i=n.iconType;return n.fontIcon=SocialIconsSetCollection[f].icons[i],$.quickExtend({},t.getItem(n.id),n)},normalizeCollection:function(){for(var f,u=n(t),r=0;r<u.length;r++)f=u[r],i.itemsInformation.updateItemFields(f.id,{index:r+1})}});else{for(e=n(t),o=[],r=0;r<e.length;r++)u=$.quickExtend({},e[r]),u.index=r+1,s=u.iconType,u.fontIcon=SocialIconsSetCollection[f].icons[s],o.push(u);i.itemsInformation.syncrhonize(o)}i.getCollectionItems().unPostponeUpdates()}})})}(),function(){DataSourcesDefinitions.SocialSharingElementView=DeferredObject.create(function(){return BaseDataSource.extend("SocialSharingElementView",{clear:function(){this.itemsInformation.clear()},openItemsDialog:function(){var i=this,t=i.instance,n=$.quickExtend({},t.getPropertyValue("dataInfo")),r=$.quickExtend({},n.iconsMap);DisplaySocialIConsDialog.open({header:"Display Sharing Icons",currentIconsMap:r,elementType:"socialSharing",confirmationCallback:function(i){n.iconsMap=i;t.setPropertyValue("dataInfo",n)}})},setDataItems:function(n){var r=this,i=r.instance,u=i.getPropertyValue("dataInfo"),t=$.quickExtend({},u);t.currentData=$.quickExtend({},t.currentData);n=$.asArray(n);$.eachItem(n,function(n,i){t.currentData[i.id]=$.quickExtend({},t.currentData[i.id],i)});OperationsManager.beginAtomicBatch();i.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},removeDataItem:function(n){var u=this,r=u.instance,t=$.quickExtend({},r.getPropertyValue("dataInfo")),i=$.quickExtend({},t.iconsMap);i[n]=$.quickExtend({},t.iconsMap[n]);i[n].iconDisplayed=!1;t.iconsMap=i;OperationsManager.beginAtomicBatch();r.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},getItemFields:function(){var n=this,t=n.instance;return t.getPropertyValue("itemFields")},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n)},setDataInfo:function(){var n=this,s=n.instance,t=s.getPropertyValue("dataInfo"),e,i,f,r,u,o;if(n.getCollectionItems().postponeUpdates(),n.itemsInformation.disconnectObservableCollection(),n.itemsInformation.clear(),t!==null&&t!==undefined){for(e=t.collectionName,i=$.grep($.getValues(t.currentData),function(n){return t.iconsMap&&t.iconsMap[n.id].iconDisplayed===!1?!1:!0}),i=i.sort(n.sortingFunction),f=[],r=0;r<i.length;r++)u=$.quickExtend({},i[r]),u.index=r+1,o=u.iconType,u.fontIcon=SocialIconsSetCollection[e].icons[o],f.push(u);n.itemsInformation.syncrhonize(f)}n.getCollectionItems().unPostponeUpdates()}})})}(),function(){DataSourcesDefinitions.TagCloudView=DeferredObject.create(function(){return BaseDataSource.extend("TagCloudView",{onViewInitialized:function(){var n=this;n.currentItemChangedListener=SimpleEvent.createEventListener([PageManager.Events.PageChanged],function(){n.currentItemChangedEvent.fireNew()}).activate()},sortingFunction:!1,getItemFields:function(){var t=this,i=t.instance,r=i.getPropertyValue("dataInfo"),n=ListsManager.getListByName(r.listName);return n&&n.getTagFields()},openItemsDialog:function(){var n=this,t=n.instance,i=t.getPropertyValue("dataInfo");Commands.ManageList.action({listName:i.listName})},setDataInfo:function(){function i(){var i=ListsManager.getListByName(t.listName);i!==undefined&&(n.listUpdated&&n.listUpdated.dispose(),n.listUpdated=i.createListUpdatedListener(function(){n.dataSourceRefreshed.fireNew()}).activate())}var n=this,r=n.instance,t=r.getPropertyValue("dataInfo");n.listenersGroup===undefined&&(n.listenersGroup=SimpleEvent.createEventListenersGroup(),SimpleEvent.createEventListener([{name:t.listName,event:ListsManager.Events.ListCreated}],function(){i();n.dataSourceRefreshed.fireNew()}).addToGroup(n.listenersGroup),SimpleEvent.createEventListener([{name:t.listName,event:ListsManager.Events.ListRemoved}],function(){n.dataSourceRefreshed.fireNew()}).addToGroup(n.listenersGroup),n.listenersGroup.activateAll());i()},clear:function(){var n=this;n.listUpdated&&n.listUpdated.dispose();n.listenersGroup.disposeAll();n.itemsInformation.clear();n.currentItemChangedListener.dispose()},fetchAllItems:function(n,t){var i=this,u=i.instance,f=u.getPropertyValue("dataInfo"),r=ListsManager.getListByName(f.listName);i.itemsInformation.clear();r!==undefined?r.fetchTags(function(t){i.itemsInformation.put(t);n({fetchedItems:t,totalCount:t.length})},t):n({fetchedItems:[],totalCount:0})}})})}(),function(){DataSourcesDefinitions.InlineDataSource=DeferredObject.create(function(){return BaseDataSource.extend("InlineDataSource",{isForSave:!0,setDataItems:function(n){var i=this,r=i.instance,t=$.quickExtend({},r.getPropertyValue("dataInfo"));n=$.asArray(n);t.currentData=$.quickExtend({},t.currentData,n[0],{id:i.id});OperationsManager.beginAtomicBatch();r.setPropertyValue("dataInfo",t);OperationsManager.endAtomicBatch()},clear:function(){this.itemsInformation.clear()},getItemFields:function(){var n=this,t=n.instance;return t.getPropertyValue("itemFields")},updateItemFields:function(n){var t=this,i=t.instance;i.setPropertyValue("itemFields",n)},setDataInfo:function(){var n=this,i=n.instance,t=i.getPropertyValue("dataInfo");t&&t.currentData?(n.getCollectionItems().postponeUpdates(),n.itemsInformation.clear(),n.itemsInformation.syncrhonize([$.extend({},t.currentData,{id:n.id})]),n.getCollectionItems().unPostponeUpdates()):n.itemsInformation.clear()}})})}();InstanceController=function(){var n=Class.extend("InstanceController",{init:function(n,t){this._options=t=$.quickExtend({templateOptions:{},dataSourceOptions:{},isForTemplateUse:!1,connections:{},parentInstanceId:undefined,structureProcessor:undefined},t);var i;t.parentInstanceId&&(i=ElementsManager.getInstanceByID(t.parentInstanceId));this._structureProcessor=t.structureProcessor;this._dataSourceOptions=t.dataSourceOptions;this._currentSize=undefined;this._templateItem=n;this._parentInstance=i;this._isForTemplateUse=t.isForTemplateUse;this.id=$.uniqueID();this.$element=$("<span class='inline-block instance-container'><\/span>");this.instance=undefined;this.pendingClasses={};this.initializedEvent=SimpleEvent.create();this.createdEvent=SimpleEvent.create();this.initializeFlag=ObservableFlag.create(!1);this.createdFlag=ObservableFlag.create(!1);this.removedEvent=SimpleEvent.create();this.copiedConnections=t.connections;this.copiedProperties={}},getInstance:function(){return this.initialize(),this.instance},_initialize:function(){var i=this,r,u,t,e;OperationsManager.disableOperationsRecording("initializeInstanceConroller");RenderingCoordinator.startRenderingBatch();r=this.copiedConnections;r&&ElementActivationManager.applyConnections(r);u=this.copiedProperties;t=$.quickExtend({isForTemplateUse:this._isForTemplateUse,structureProcessor:this._structureProcessor},this._options.templateOptions);t.initialProperties=$.quickExtend({},t.initialProperties);t.initialProperties[this._templateItem.structures[0].id]=$.extend({},t.initialProperties[this._templateItem.structures[0].id],u);var f=TemplateCreator.addTemplateInstance({elementForCreation:this._templateItem,fieldName:this._options.fieldName,dataItemID:this._dataSourceOptions.dataItemID,dataSourceName:this._dataSourceOptions.dataSourceName,styleBindingId:this._dataSourceOptions.styleBindingId},null,t,{includeChildren:!1}),n=f.instances[0],o=f.apply;!$.isEmptyObject(this._dataSourceOptions)&&n.hasFeature(Features.SkinElement)&&n.extendDataSourceOptionsWith(this._dataSourceOptions);n.hasFeature(Features.SkinElement)&&this._structureProcessor&&n.setStructureProcessor(this._structureProcessor);e=n.getPropertyValue("sizeAndPosition");this._currentSize||(this._currentSize=e);n.data.instanceContainer=this.$element;n.$element.appendTo(this.$element);n.$element.toggleLayerEventsCatching(!0);this.instance=n;n.data.instanceController=this;this.initializeFlag.setTrue();this.initializedEvent.fireNew();InstanceControllerManager.CreationRequests.requestOperation(function(){o();i.createdFlag.setTrue();i.createdEvent.fireNew()},i.id+"createController");RenderingCoordinator.finishRenderingBatch();this.pendingClasses&&this.toggleClass(this.pendingClasses);this.pendingClasses={};OperationsManager.enableOperationsRecording("initializeInstanceConroller")},extendDataSourceOptionsWith:function(n,t){this._dataSourceOptions=$.extend({},this._dataSourceOptions,n);this.isInitialized()&&t&&(this.resetInstance(),this.initialize())},setStructureProcessor:function(n,t){this._structureProcessor=n;this.isInitialized()&&t&&(this.resetInstance(),this.initialize())},initialize:function(){this.isInitialized()||(this._initialize(),this.instance.data.isForTemplateUse=this._isForTemplateUse)},toggleClass:function(n){this.isInitialized()?this.getInstance().classesManager.set(n):$.extend(this.pendingClasses,n)},setIndex:function(n){this.index=n},getIndex:function(){return this.index},setTemplateStructure:function(n,t){OperationsManager.disableOperationsRecording("setTemplateStructure");t||(this.resetInstance(),this._templateItem=n);OperationsManager.enableOperationsRecording("setTemplateStructure")},resetInstance:function(){OperationsManager.disableOperationsRecording("resetInstance");this.isInitialized()&&(this.copiedConnections=this.instance.getTargetConnections(),this.copiedProperties={},this.instance&&(ElementsManager.removeInstances([this.instance]),this.$element.empty()),this.instance=undefined,this.createdFlag.setFalse(),this.initializeFlag.setFalse());OperationsManager.enableOperationsRecording("resetInstance")},getTemplateStructure:function(){return this._templateItem},getDataItemId:function(){return this._dataSourceOptions.dataItemID},isInitialized:function(){return this.initializeFlag.isTrue()},removeController:function(){n.removeControllers([this])},updatePropertiesValues:function(n){n&&!this.isInitialized()&&$.extend(this.copiedProperties,n)},getSize:function(){return this.getInstance().getPropertyValue("sizeAndPosition")},setSize:function(n){var t=this;this._currentSize=n;ReadWriteController.requestWriteOperation(function(){t.$element.css({width:n.width,height:n.height})},t.id+"sizeSize-instancecontroller");this.isInitialized()?(this.getInstance().setPropertyFieldsValues("sizeAndPosition",n),this.refreshLayout()):this.copiedProperties.sizeAndPosition=$.extend({},n)},setMargin:function(n){this.$element.css($.extend({marginBottom:"",marginLeft:"",marginTop:"",marginRight:""},{marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginTop:n.marginTop,marginRight:n.marginRight}));this.refreshLayout()},resetStyle:function(){this.$element.css({top:"",left:"","margin-left":"","margin-top":"","margin-right":"","padding-left":""})},refreshLayout:function(){this.isInitialized()&&LayoutManager.refreshElementsLayout(this.getInstance())},updatePosition:function(){this.isInitialized()&&PositionManager.invalidateAreas(this.getInstance())},detach:function(){this.isInitialized()&&this.getInstance().detach();this.$element.detach();this.resetStyle();this.hideElement()},isParent:function(n){return this.$element.parent()===n},appendTo:function(n,t,i){t&&(this._parentInstance=t);var r=this.getInstance();return this._parentInstance&&r.parentInstance!==this._parentInstance&&(ElementsManager.addElementToContainerElement(this._parentInstance,r),r.$element.appendTo(this.$element)),i||this.$element.appendTo(n),this.refreshLayout(),this},hideElement:function(){this.isInitialized()&&(this.getInstance().isDisplayed.setFalse("instanceController"),this.getInstance().setToCurrentMode())},showElement:function(){this.isInitialized()&&(this.getInstance().isDisplayed.setTrue("instanceController"),this.getInstance().setToCurrentMode())}});return n.create=function(t,i){return new n(t,i)},n.removeControllers=function(n){OperationsManager.disableOperationsRecording("removeControllers");var t=[];$.eachItem(n,function(n,i){i.isInitialized()&&t.push(i.getInstance())});ElementsManager.removeInstances(t);$.eachItem(n,function(n,t){t.isInitialized()&&(t.$element.remove(),t.instance.$element.remove());t.removedEvent.fireNew()});OperationsManager.enableOperationsRecording("removeControllers")},n}();InstanceControllerManager=new function(){var n,t=BatchOperationsSet.create(function(i){t.isActivated()?(n&&clearTimeout(n),n=setTimeout(function(){AppProfiler.profile("instanceControllers");OperationsManager.disableOperationsRecording("initializeInstanceConroller");RenderingCoordinator.startRenderingBatch();i();RenderingCoordinator.finishRenderingBatch();OperationsManager.enableOperationsRecording("initializeInstanceConroller");AppProfiler.profileEnd("instanceControllers")},0)):(AppProfiler.profile("instanceControllers"),OperationsManager.disableOperationsRecording("initializeInstanceConroller"),RenderingCoordinator.startRenderingBatch(),i(),RenderingCoordinator.finishRenderingBatch(),OperationsManager.enableOperationsRecording("initializeInstanceConroller"),AppProfiler.profileEnd("instanceControllers"))});this.CreationRequests=t},new function(){function n(n,t,i,r){var u,f,s,l,e;if(r=$.extend({lineSpacing:undefined,columnSpacing:undefined,rowsSpacing:undefined,colsSpacing:undefined,rows:undefined,keepItemSize:!0},r),u=t.totalCount,u>0){var h=n.getLastArrangementOptionsByCurrentDevice(),a=n.getInstance(),c=i.getFixedSize(r.size,u,r),v=i.getFixedSize(a.getMaxSize(),u,r),o=DataLayoutsManager.calculateItemSize(c,r,h);return r.calculatedFixedSize=c,r.calculatedMaxSize=v,r.fixedSize=o,r.length=u,f=t.instanceControllers,r.keepRatio&&(s=$.maxValue([o.width,o.height]),o={height:s,width:s}),l=i.getLayoutOptions(f.length,r),i.orderItemsLayout(n,f,$.extend({$container:n.$contentContainer},l)),e=i.arrange(f,r,h),e=$.extend({},r,e),e.controllersToArrange=f,e}}function r(n,t){for(var r,u=$([]),i=0;i<t.length;i++)r=t[i],r.appendTo(n.$contentContainer,undefined,!0),u.pushElements(r.$element);for(n.$contentContainer.applyChildrenSorting(u),i=0;i<t.length;i++)r=t[i],r.showElement()}function t(n){var t=n.$contentContainer;t||(t=$("<span class='inline-block relative-arrangement wrap'><\/span>"),n.$contentContainer=t);n.getDataItemsController().detach();n.setParentContent(t)}function i(n){n.getDataItemsController().detach();var t=n.$contentContainer;t&&t.remove()}DataLayoutsManager.registerDataLayoutTypes({SquareGrid:{name:"SquareGrid",isReArrangeable:!0,category:DataArrangements.Grid,arrange:function(t,i,r){return n(t,i,DataArrangements.Grid,r)},fields:{rows:!0,colsSpacing:!0,rowsSpacing:!0,cols:!0},startLayout:t,removeLayout:i},Vertical:{name:"Vertical",isReArrangeable:!0,category:DataArrangements.Vertical,arrange:function(t,i,r){return n(t,i,DataArrangements.Vertical,r)},fields:{columnSpacing:!0},startLayout:t,removeLayout:i},Horizontal:{name:"Horizontal",isReArrangeable:!0,category:DataArrangements.Horizontal,arrange:function(t,i,r){return n(t,i,DataArrangements.Horizontal,r)},fields:{lineSpacing:!0},startLayout:t,removeLayout:i,reAllocateTemplates:r},OneColumn:{name:"OneColumn",isReArrangeable:!0,category:DataArrangements.OneColumn,arrange:function(t,i,r){return n(t,i,DataArrangements.OneColumn,r)},shouldRearrangeWhenItemSizeChanged:!0,canItemResize:{vertically:!0,horizontally:!1},fields:{rowsSpacing:!0},canResize:{vertically:!1,horizontally:!0},startLayout:t,removeLayout:i},Columns:{name:"Columns",isReArrangeable:!0,category:DataArrangements.Columns,arrange:function(t,i,r){return n(t,i,DataArrangements.Columns,r)},shouldRearrangeWhenItemSizeChanged:!0,canItemResize:{vertically:!0,horizontally:!1},canResize:{vertically:!1,horizontally:!0},fields:{rowsSpacing:!0,colsSpacing:!0,cols:!0},startLayout:t,removeLayout:i}},DataLayoutsCategories.Normal)},new function(){function t(n,t,i,u){var o,f,s,e;if(u=$.extend({rowsSpacing:undefined,colsSpacing:undefined,columnSpacing:undefined,lineSpacing:undefined,elementsPerPage:undefined,cols:undefined,keepItemSize:!0,usePagesLayout:!0,maintainHeightInView:!1},u),o=u.usePagesLayout,u.controllersCount=t.totalCount,u.pageIndexToArrange=o?n.getDataItemsController().getInstance().getCurrentPageIndex():0,f=t.instanceControllers,s=n.getLastArrangementOptionsByCurrentDevice(),r(n,t.instanceControllers,i,u),f&&f.length>0){$.eachItem(f,function(n,t){t.toggleClass({"fit-to-size":!0})});u.length=(ViewManager.isDesignMode()||!u.maintainHeightInPreview)&&u.pageIndexToArrange>0?u.elementsPerPage:f.length;var c=n.getInstance(),h=i.getFixedSize(u.size,u.length,u),l=i.getFixedSize(c.getMaxSize(),u.length,u),a=DataLayoutsManager.calculateItemSize(h,u,s);return u.calculatedFixedSize=h,u.calculatedMaxSize=l,u.fixedSize=a,e=i.arrange(f,u),e.controllersToArrange=f,e}}function r(n,t,i,r){var o=r.controllersCount,f=1,s;if(r.usePagesLayout&&o!==0&&(f=Math.ceil(o/r.elementsPerPage)),s=n.pagesInstance,u(n,f,r),f!==0){var h=s.getNavigatableInstances(),e=h[Math.min(r.pageIndexToArrange,f-1)],c=i.getLayoutOptions(t.length,r),l=i.orderItemsLayout(n,t,$.extend({parentInstance:e,currentControllersMap:e.currentControllersMap,$container:e.getElementContent()},c));e.currentControllersMap=l}}function u(t,i,r){var s=t.pagesInstance,v=s.getNavigatableInstances(),f=v.length,a,c,o,l,h,u,e;if(i=i?i:1,a=s.getItemsCollection().postponeUpdates(),f>i){for(h=f-i,c=[],u=f-1;u>f-1-h;u--)o=ElementsManager.getInstanceByID(t.getDataItemsController().getId()+n+u),o&&(c.push(o),o.currentControllersMap&&($.eachEntry(o.currentControllersMap,function(n,t){t.detach()}),o.currentControllersMap={}));ElementsManager.removeInstances(c)}else if(f<i)for(l=f,h=i-f,u=0;u<h;u++)e=s.addItem({tabName:"page"+(l+u+1),rootsIds:[t.getDataItemsController().getId()+n+(l+u)],isContent:!0,initialProperties:{all:{backgroundColor:"transparent"}}}),e.getElementContent().addClass("wrap"),e.$element.toggleLayerEventsForwarding(!0),e.hasOrder.setValue(!1),e.accept=$.returnFalse,e.isDroppable=$.returnFalse,e.canRedropTo=$.returnFalse;(f===0&&i||!r.usePagesLayout)&&s.showItem(r.pageIndexToArrange,!1);a||s.getItemsCollection().unPostponeUpdates()}function f(n){var t=n.getDataItemsController().getInstance();t&&(t.getItemsInformation().disconnectObservableCollection(),t.getFieldsInformation().disconnectObservableCollection());n.getDataItemsController().detach();ElementsManager.removeInstances(n.pagesInstance);n.pagesInstance=undefined}function e(t){var f,u;if(OperationsManager.disableOperationsRecording("startLayout"),!t.pagesInstance){var r=t.getDataItemsController().getInstance(),e=TemplateCreator.addTemplateInstance(DesignTools.Tabs.utilizationData,r.$element,{rootsIds:[r.id+n],isContent:!0,isVisible:!0,initialProperties:{all:{fillLayout:{fillVertical:!0,fillHorizontal:!0},backgroundColor:"transparent",borderWidth:{top:0,left:0,bottom:0,right:0}}}}),i=e.instances[0];i.$element.toggleLayerEventsForwarding(!0);$.eachItem(i.getDescendingInstances(!0),function(n,t){t.hasFeature(Features.Selectable)&&(t.toggleSelectable(!1),t.hasOrder.setValue(!1))});i.accept=$.returnFalse;i.canRedropTo=$.returnFalse;i.isDroppable=$.returnFalse;RenderingCoordinator.startRenderingBatch();t.pagesInstance=i;i.$element.addClass("relative-arrangement");for(f in Features.Navigatable.properties)Features.Navigatable.properties[f]&&i.setPropertyValue(f,r.getPropertyValue(f));u=r.propertyChangedEventSimple.bind(function(n){OperationsManager.disableOperationsRecording("dataListInstance.propertyChangedEventSimple");Features.Navigatable.properties[n]&&i.setPropertyValue(n,r.getPropertyValue(n));OperationsManager.enableOperationsRecording("dataListInstance.propertyChangedEventSimple")});RenderingCoordinator.finishRenderingBatch();u=i.currentItemFinishChanging.bind(function(){h(r)});i.bindings.push(u);u=i.currentItemChangedEvent.bind(function(n){r.currentItemChangedEvent.fireNew({prevItem:n.prevItem,currentItem:n.currentItem})});i.bindings.push(u);r.getItemsInformation().connectObservableCollection(i.getItemsCollection());r.getFieldsInformation().clear();r.getFieldsInformation().connectObservableCollection(i.getFieldsCollection())}OperationsManager.enableOperationsRecording("startLayout")}function o(){var n={};return $.eachEntry(i,function(t,i){n[t]=$.extend({removeLayout:f,startLayout:e,getNavigatableInstances:a,navigateTo:l,getCurrentItem:c,showItem:s,fetchItemsInformationToArrange:function(n,t,i,r){t=$.extend({elementsPerPage:undefined,maxItemsCount:Infinity,usePagesLayout:!0},t);var f=t.usePagesLayout,e=t.maxItemsCount,u=t.elementsPerPage,o=$.isNumeric(e),s=n.getDataItemsController(),h=o||!f?0:s.getInstance().getCurrentPageIndex()*u,c=o?e:f?h+u:Infinity;s.fetchControllersByIndex(h,c,function(n){var r,t,h;o?(r=Math.min(n.totalCount,e),t=f?s.getInstance().getCurrentPageIndex()*u:0,t>=r&&t!==0&&(t=$.divideNoReminder(r-1,u)*u),h=f?n.instanceControllers.slice(t,t+u):n.instanceControllers,i({instanceControllers:h,totalCount:r})):i(n)},r)}},i)}),n}function s(n,t,i,r,u){n.pagesInstance&&n.pagesInstance.showItem(t,i,r,u)}function h(n){n.requestArrangement({shouldPush:!0})}function c(n){if(n.pagesInstance){var t=n.pagesInstance.getCurrentItem();if(t)return t}}function l(n,t,i,r,u){n.pagesInstance&&n.pagesInstance.navigateTo(t,i,r,u)}function a(n){return n.pagesInstance?n.pagesInstance.getNavigatableInstances():[]}var i={PagesRow:{name:"PagesRow",isPages:!0,isReArrangeable:!0,category:DataArrangements.Horizontal,fields:{lineSpacing:!0},arrange:function(n,i,r){return t(n,i,DataArrangements.Horizontal,r)}},PagesColumn:{name:"PagesColumn",isPages:!0,isReArrangeable:!0,category:DataArrangements.Vertical,fields:{columnSpacing:!0},arrange:function(n,i,r){return t(n,i,DataArrangements.Vertical,r)}},PagesGrid:{name:"PagesGrid",isPages:!0,isReArrangeable:!0,category:DataArrangements.Grid,fields:{rows:!0,colsSpacing:!0,rowsSpacing:!0,cols:!0},arrange:function(n,i,r){return t(n,i,DataArrangements.Grid,r)}}},n;DataLayoutsManager.registerDataLayoutTypes(o(),DataLayoutsCategories.Pages);n="p"},new function(){DataLayoutsManager.registerDataLayoutTypes({NormalForm:{name:"NormalForm",removeLayout:$.noop,startLayout:$.noop,orderElements:function(n,t,i){var r,u,s,h,c,f,l,e,a,o;for(t=$.extend({colsSpacing:0,columnSpacing:30,fieldSpacing:0,numberOfRows:5},t),r=n.getFieldsInstances(),u=0,i?(s=i.top,h=i.left):(s=$.min(r,function(n){var t=n.getPropertyValue("sizeAndPosition");return t.top}).value,h=$.min(r,function(n){var t=n.getPropertyValue("sizeAndPosition");return t.left}).value),c=h-t.columnSpacing,f=0;f*t.numberOfRows<r.length;f++)for(l=s,c+=u+t.columnSpacing,u=0,e=t.numberOfRows*f;e<r.length&&e<t.numberOfRows*(f+1);e++)a=r[e],a.setPropertyFieldsValues("sizeAndPosition",{top:l,left:c}),o=a.getPropertyValue("sizeAndPosition"),l+=t.colsSpacing+o.height,u=u<o.width?o.width:u}}},DataLayoutsCategories.FormLayouts)},new function(){function t(n,t,r,u){var e,s,f,o;if(u=$.extend({rowsSpacing:undefined,colsSpacing:undefined,columnSpacing:undefined,lineSpacing:undefined,elementsPerPage:undefined,cols:undefined,rows:undefined,keepItemSize:!0},u),e=t.totalCount,e>0){s=n.getInstance();u.controllersCount=e;var c=n.getLastArrangementOptionsByCurrentDevice(),h=r.getFixedSize(u.size,e,u),l=r.getFixedSize(s.getMaxSize(),e,u),a=DataLayoutsManager.calculateItemSize(h,u,c);return u.calculatedFixedSize=h,u.calculatedMaxSize=l,f=t.instanceControllers,i(n,f,r,u),$.each(f,function(n,t){t.toggleClass({"fit-to-size":!0})}),u.fixedSize=a,u.length=f.length,u.$columns=n.$columns,o=r.arrange(f,u),o.controllersToArrange=f,o}}function i(n,t,i,f){var e=f.controllersCount,o=Math.ceil(e/f.rows);r(n,o);u(n,t,f)}function r(n,t){var e=n.$columns,r=e.length,u,i,f;if(r>t)for(u=r-t,n.getDataItemsController().detach(),i=r-1;i>r-1-u;i--)e[i].remove(),n.$columns.pop();else if(r<t)for(u=t-r,i=0;i<u;i++)f=$("<span class='vertically-top positioned wrap'><\/span>"),n.$columns.push(f),f.appendTo(n.$contentContainer)}function u(n,t,i){for(var u,e,f,o=t,s=n.$columns.length,r=0;r<s;r++)for(u=0;u<i.rows;u++)e=u+r*i.rows,f=o[e],f&&(f.appendTo(n.$columns[r]),f.showElement())}function f(n){var t=n.$contentContainer;t||(t=$("<span class='inline-block relative-arrangement wrap'><\/span>"),n.$contentContainer=t);n.getDataItemsController().detach();n.setParentContent(t);n.$columns=[]}function e(n){n.getDataItemsController().detach();var t=n.$contentContainer;n.$columns&&$.each(n.$columns,function(n,t){t.remove()});t&&t.remove()}function o(){var t={};return $.each(n,function(n,i){t[n]=$.extend({removeLayout:e,startLayout:f},i)}),t}var n={Rows:{name:"Rows",category:DataArrangements.Rows,arrange:function(n,i,r){return t(n,i,DataArrangements.Rows,r)},shouldRearrangeWhenItemSizeChanged:!0,canItemResize:{vertically:!0,horizontally:!1},canResize:{vertically:!1,horizontally:!0},fields:{rowsSpacing:!0,colsSpacing:!0,rows:!0}}};DataLayoutsManager.registerDataLayoutTypes(o(),DataLayoutsCategories.FormLayouts)},function(){function t(n,t,i,r){var l;r=$.quickExtend({isVertical:!1,lineSpacing:undefined,columnSpacing:undefined,keepItemSize:!0,maxItems:4,dropDownNavigationSettings:undefined,createMoreItemsController:undefined,createSubHierarchyElement:undefined,createItemsController:undefined,dropDownItemClick:undefined,currentSelectedItem:undefined},r);var f=c(n,t,r),e=n.getLastArrangementOptionsByCurrentDevice(),a=n.getInstance(),u=s(n,t,r),o=undefined;if(u.length>0){var h=i.getFixedSize(r.size,f,r),v=i.getFixedSize(a.getMaxSize(),f,r),y=DataLayoutsManager.calculateItemSize(h,r,e);r.calculatedFixedSize=h;r.calculatedMaxSize=v;r.fixedSize=y;r.length=u.length;l=i.getLayoutOptions(u.length,r);i.orderItemsLayout(n,u,$.quickExtend({$container:n.$contentContainer},l));o=i.arrange(u,r,e)}return $.extend({},r,o,{controllersToArrange:u})}function e(n,t,i,r,u){if(i){var f=n.getDataItemsController().getDataSource().getCollectionItems();$.each(t,function(t,e){if(!r||n.moreItemsController===e){var c=e.getDataItemId(),s=h(c,i,f);s&&o(n,e,s,u)}})}}function o(t,r,u,f){var e={},g=f.dropDownItemClick,nt=f.currentSelectedItem,y=f.dropDownNavigationSettings,p=y.navigation,a=y.navigationProperties[p],w=f.createItemsController(),l,o;a=$.quickExtend({createInstanceController:w.createInstanceController},a);var h=r.$element,tt=f.isVertical?Side.Right:Side.Bottom,b=f.createSubHierarchyElement({controller:r,arrowSide:tt}),c;if(ViewManager.isViewMode()){l=!1;c=h;c.bind("click.menu-drop-down",function(n){e.isOpened()||(e.open(),n.stopPropagation(),n.preventDefault())});MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&(l=!0,h.bind("mouseenter.menu-drop-down",function(){setTimeout(function(){e.open()},0)}),n||(n=MouseTargetTracker.create(ViewManager.getBodyElement(),{onStoppedBeingTarget:function(){i.close()}})));var s=NavigationManager.createNavigationController(p),k=SimpleEvent.createEventListener(PageManager.Events.PageChanging,function(){s.close()}),v=!0,d={$element:h,navigationProperties:a,isVertical:f.isVertical,pages:u.controllersData,pagesHierarchy:u.hierarchyCollection,selectedPageId:nt,instanceId:$.uniqueID(),customClickCallback:g,closeAnimationCompleteCallback:function(){v=!0}};l&&$.quickExtend(d,{mouseEnteredCallback:function(){o.setTrue("mouseEntered")},mouseLeaveCallback:function(){o.setFalse("mouseEntered")},openCallback:function(t){var r=$.unionAreas([t.getOuterArea(),h.getOuterArea()]);i=e;n.setTrackedAreas([r]);n.setCurrentMouseTarget(r);n.activate()}});o=ObservableFlag.createConditionalNegative({valueChangeCallback:function(t){if(t){s.open(d);v=!1;var u=r.getInstance().getSkinInstance();PositionManager.stopMouseOverTracking(u);MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&u.activateTrigger(Triggers.MouseEnter);s.isOpened.once(!1,function(){l&&(n.deactivate(),i=undefined);k.deactivate();o.resetConditions();PositionManager.trackMouseOver(u);MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&u.activateTrigger(Triggers.MouseLeave)});k.activate()}else s.close()}});$.quickExtend(e,{open:function(){v&&o.setTrue("controller")},close:function(){o.setFalse("controller")},isOpened:function(){return o.isTrue()}})}$.quickExtend(e,{dropDownData:u,remove:function(){s&&s.remove();b&&b.remove();c&&c.unbind(".menu-drop-down");w.remove()}});r.dropDownController=e;t.dropDownControllers.push(r)}function s(n,t,i){var u,o,r,v,c,y;n.getDataItemsController().detach();u=n.moreItemsController;u&&u.detach();f(n);n.dropDownControllers=[];var l=i.maxItems,a=$.mapToDictionary(t.instanceControllers,$.identity,function(n){return n.getDataItemId()}),s=n.getDataItemsController().getControllersHierarchy(),h;return s?h=s.getRootIds():(h=$.getKeys(a),s=HierarchyCollection.create({ids:h})),MobileVersionViewManager.Flags.IsInMobileContext.isFalse()?(o=s,r=$.mapItem(h,function(n){return a[n]})):r=$.getValues(a),r.orderBy($.defaultIndexFunction),v=!1,r.length>l?(u||(u=n.moreItemsController=i.createMoreItemsController()),c=u.getDataItemId(),y=r.slice(l-1),r=r.slice(0,l-1),r.push(u),o=s.clone(),MobileVersionViewManager.Flags.IsInMobileContext.isFalse()?(o.addIds(c),$.eachItem(y,function(n,t){o.setParent(t.getDataItemId(),c)})):(v=!0,o.addIds(c),$.eachItem(h,function(n,t){o.setParent(t,c)}))):u&&(u.removeController(),delete n.moreItemsController),e(n,r,o,v,{createSubHierarchyElement:i.createSubHierarchyElement,dropDownNavigationSettings:i.dropDownNavigationSettings,createItemsController:i.createItemsController,dropDownItemClick:i.dropDownItemClick,currentSelectedItem:i.currentSelectedItem,fixedSize:i.fixedSize,isVertical:i.isVertical}),r}function r(n){var t=n.$contentContainer;t||(t=$("<span class='inline-block relative-arrangement wrap'><\/span>"),n.$contentContainer=t);n.getDataItemsController().detach();n.setParentContent(t)}function u(n){var t,i;n.getDataItemsController().detach();f(n);delete n.dropDownControllers;t=n.moreItemsController;t&&(t.removeController(),delete n.moreItemsController);i=n.$contentContainer;i&&i.remove()}function h(n,t,i){if(t.hasChildren(n)){var r=t.createSubHierarchy(n),u=$.mapEntry(r.getIds(),function(n,t){return i.getItem(t)});return{controllersData:u,hierarchyCollection:r}}return undefined}function f(n){n.dropDownControllers&&$.each(n.dropDownControllers,function(n,t){var i=t.dropDownController;i.remove();delete t.dropDownController})}function c(n,t,i){var u=t.instanceControllers.length,r;return MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&(r=n.getDataItemsController().getControllersHierarchy(),r&&(u=r.getRootCount())),Math.min(i.maxItems,u)}DataLayoutsManager.registerDataLayoutTypes({HorizontalMenu:{category:DataArrangements.Horizontal,arrange:function(n,i,r){return t(n,i,DataArrangements.Horizontal,$.extend(r,{isVertical:!1}))},isMenuLayout:!0,startLayout:r,removeLayout:u},VerticalMenu:{category:DataArrangements.Vertical,arrange:function(n,i,r){return t(n,i,DataArrangements.Vertical,$.extend(r,{isVertical:!0}))},isMenuLayout:!0,startLayout:r,removeLayout:u},SquareGridMenu:{category:DataArrangements.Grid,arrange:function(n,i,r){return t(n,i,DataArrangements.Grid,$.extend(r,{isVertical:!1}))},isMenuLayout:!0,startLayout:r,removeLayout:u}},DataLayoutsCategories.Normal);var i,n}();DataLayoutsManager.registerDataLayoutTypes({NavigationButton:{arrange:function(){},startLayout:function(){},removeLayout:function(){}}},DataLayoutsCategories.Normal);DesignToolsManager=new function(){function n(n,t){var i={name:n,iconClass:undefined,title:undefined,description:undefined,createHelper:undefined,designToolSize:{width:200,height:200},utilizationData:undefined,utilizeTool:$.noop};$.quickExtend(i,t);$.quickExtend(t,i);DesignTools[n]=t}this.registerDesignTools=function(t){$.eachEntry(t,n)}};DesignTools={},function(){DesignToolsManager.registerDesignTools({Tabs:{designToolSize:{width:750,height:600},utilizationData:{elementForCreation:{_objType_:"Template",structures:[{type:ElementsTypes.TabsPanel.name,elementProperties:{sizeAndPosition:{width:750,height:600,top:0,left:0},borderWidth:{top:1,left:1,bottom:1,right:1}}}]}}},Tab:{utilizationData:{elementForCreation:{_objType_:"Template",structures:[{type:ElementsTypes.Tab.name,elementProperties:{order:2,backgroundColor:"#333",borderColor:"#000"}}]}}}})}(),function(){DesignToolsManager.registerDesignTools({TextInputField:{fieldType:ElementsTypes.TextInputField,title:"Text Input",formField:FormFields.TextInputField,description:"No Description",iconClass:"sprite-icon sprite-tool-text-input"},TextAreaField:{fieldType:ElementsTypes.TextArea,title:"Text Area",formField:FormFields.TextArea,description:"No Description",iconClass:"sprite-icon sprite-tool-text-area"}})}();var TemplateCreator=new function(){function n(n,t){n.dataSourceName&&t&&$.eachEntry(t,function(t,i){n.initialProperties[t]||(n.initialProperties[t]={});n.initialProperties[t].binding={dataFields:$.quickExtend({},i),dataSourceName:n.dataSourceName,dataItemID:n.dataItemID}})}function t(n){$(n).each(function(n,t){t.elementProperties||(t.elementProperties={});var i=t.elementProperties.order;(i===undefined||i===null)&&(i=0);t.elementProperties.order=OrderManager.getMaxOrder()+1+i;OrderManager.increaseMaxOrder()})}function i(n,t,i){t?$(n).each(function(n,i){i.elementProperties&&i.elementProperties.sizeAndPosition&&(i.elementProperties.sizeAndPosition.left=t.left-i.elementProperties.sizeAndPosition.width/2,i.elementProperties.sizeAndPosition.top=t.top-i.elementProperties.sizeAndPosition.height/2)}):i&&$(n).each(function(n,t){t.elementProperties&&t.elementProperties.sizeAndPosition&&(t.elementProperties.sizeAndPosition.left+=i.left,t.elementProperties.sizeAndPosition.top+=i.top)})}function r(n){$.eachItem(n.structures,function(n,t){t.offset===undefined&&(t.offset={left:0,top:0})});var t=$.min(n.structures,function(n){return n.offset.left}).value,i=$.min(n.structures,function(n){return n.offset.top}).value;$.eachItem(n.structures,function(n,r){r.offset===undefined&&(r.offset=$.translateOffset(r.offset,{left:0-t,top:0-i}))})}function u(n,t){$.eachItem(n.structures,function(n,i){i.offset===undefined&&(i.elementProperties.sizeAndPosition=$.translateOffset(i.elementProperties.sizeAndPosition,t))})}this.addTemplateInstance=function(f,e,o,s){var h,c,y,a,p,l,v;return o=$.quickExtend({centerPosition:undefined,basePosition:undefined,isContent:!1,isLoading:!1,targetOffset:undefined,initialProperties:{all:{}},rootsIds:undefined,generateNewID:undefined,isForTemplateUse:!1,structureProcessor:undefined},o),s=$.quickExtend({includeChildren:!0},s),RenderingCoordinator.startRenderingBatch(),CompatibilityManager.fixTemplateInformation({templateStructure:f.elementForCreation,StructureVersion:f.elementForCreation.version!==undefined?f.elementForCreation.version:0}),h=ElementsManager.duplicateHierarchyInfo(f.elementForCreation,o),o.targetOffset&&(r(h),u(h,o.targetOffset)),i(h.structures,o.centerPosition,o.basePosition),t(h.structures),o.initialProperties.all=$.quickExtend(o.initialProperties.all,{templateName:f.elementForCreation.name,templateID:"template"+StructureLoadingManager.generateWebsiteId()}),c={dataItemID:f.dataItemID,styleBindingId:f.styleBindingId,initialProperties:$.replaceKeys(o.initialProperties,h.oldToNewIDMapping),parent:e,dataSourceName:f.dataSourceName,isContent:o.isContent,isVisible:o.isVisible,isLoading:o.isLoading,isForTemplateUse:o.isForTemplateUse},c.dataSourceName&&(y=h.structures[0],a=y.elementProperties,a&&(p=a.fieldsMap,n(c,p))),c.styleBindingId&&(c.initialProperties.all.styleBindingId=c.styleBindingId),l=HierarchyController.create(h),v=s.includeChildren?l.addHierarchyAndApply(c):l.addHierarchyFromNode(h.structures[0].id,$.quickExtend({includeNode:!0,includeChildren:!1},c)),RenderingCoordinator.finishRenderingBatch(),{instances:v,apply:s.includeChildren?undefined:function(){l.addHierarchyFromNode(h.structures[0].id,$.extend({},c,{includeNode:!1,includeChildren:!0,parent:v[0]}));l.applyHierarchy()}}}},DataItemsController=function(){function u(n,t){var r=e(n,t),i=t.addedItems&&t.addedItems.length>0||t.removedItems&&t.removedItems.length>0;!n._duringFetch&&(r||i)&&n._dataListInstance.requestArrangement({shouldPush:i})}function t(n,t){return function(i){n._duringFetch=!1;t(i)}}function i(n,t){return function(i){f(n,t,i)}}function f(n,t,i){var f=i.fetchedItems,u=[];$.eachItem(f,function(t,i){u[t]=r(n,i)});n._duringFetch=!1;t({instanceControllers:u,totalCount:i.totalCount})}function e(n,t){var i=n._dataListInstance;if(!i.isDeleted)return(i.reArrangementDisabled.setValue(!0,"itemsChanged"),OperationsManager.disableOperationsRecording("updateDataControllers"),RenderingCoordinator.startRenderingBatch(),t.removedItems&&o(n,t.removedItems),t.addedItems&&s(n,t.addedItems),RenderingCoordinator.finishRenderingBatch(),OperationsManager.enableOperationsRecording("updateDataControllers"),i.reArrangementDisabled.setValue(!1,"itemsChanged"),t.addedItems&&t.addedItems.length>0||t.removedItems&&t.removedItems.length>0||t.updatedItems&&t.updatedItems.length>0)?h(n):!1}function o(n,t){var r,u,i,f;if(t.length!==0){for(r=[],u=n._dataControllers,i=0;i<t.length;i++)f=u.removeField(t[i]),r.push(f);InstanceController.removeControllers(r)}}function s(n,t){$.eachItem(t,function(t,i){r(n,i)})}function r(n,t){var u=n._dataControllers,r=u.getField(t.id),e;if(r===undefined){var i=n._dataListInstance,o=i.getDefaultTemplate(t.fieldTypeName).hierarchy,f=i.elementType.structureProcessor,s=f?function(n){return f(n,t.fieldTypeName)}:undefined;r=InstanceController.create(o,{parentInstanceId:i.id,fieldName:t.fieldTypeName,structureProcessor:s,dataSourceOptions:{dataItem:t,dataItemID:t.id,dataSourceName:i.getDataSource().name},templateOptions:{isContent:!0,isLoading:!0,rootsIds:[i.getDataItemInstanceId(t.id)],generateNewID:!0},isForTemplateUse:i.isForTemplateUse()});e=i.getPropertyValue("itemsStyle")[t.id];r.updatePropertiesValues(e);u.setField(t.id,r);r.initializedEvent.bind(function(){var n=r.getInstance();n.setDataItemId(t.id);n.data.dataListParent=i;i.setItem(n);n.setPropertyValue("fieldsData",t);n.propertyChangedEvent.bind("sizeAndPosition",function(){Global.IsDesigner&&RenderingCoordinator.performUpdateOnRenderingFinished(function(){var u=n.getPropertyValue("sizeAndPosition"),r=$.quickExtend({},i.getPropertyValue("itemsStyle"));r[t.id]=$.quickExtend({},r[t.id],{sizeAndPosition:$.quickExtend({},u)});i.setPropertyValue("itemsStyle",r)},n.id+"itemsStyle-propertyChangedEvent");i.dataLayoutController.shouldRearrangeWhenItemSizeChanged()&&i.requestArrangement({shouldPush:!0})})})}return r}function h(n){var f=n._dataListInstance.getDataSource(),r=n._dataControllers,t,i,u;return r.isEmpty()?t=[]:(i=f.getAllItems(),t=r.getValues().sort(function(n,t){var f=i[n.getDataItemId()],e=i[t.getDataItemId()],r=parseInt(f.index),u=parseInt(e.index);return r!==undefined&&u!==undefined?r-u:r!==undefined?-1:u!==undefined?1:0})),$.eachItem(t,function(n,t){t.setIndex(n)}),u=n._dataControllersArray,n._dataControllersArray=t,!$.defaultArrayEqualityComparer(u,t)}var n=Class.extend("DataItemsController",{init:function(n){this._dataListInstance=n;this._dataControllers=Dictionary.create();this._dataControllersArray=[];this._duringFetch=!1},initialize:function(){var n=this._dataListInstance.getDataSource().getCollectionItems();this._instanceControllersChangedEventListener=SimpleEvent.createEventListener([n.itemsChangedEvent],$.firstArgProxy(u,this)).activate()},clear:function(){this._instanceControllersChangedEventListener.dispose()},getInstance:function(){return this._dataListInstance},getId:function(){return this._dataListInstance.id},getInstanceController:function(n){var t=this._dataControllers;return t.getField(n)},getAllControllers:function(){return this._dataControllersArray},getDataSource:function(){return this._dataListInstance.getDataSource()},fetchAllControllers:function(n,r){this._duringFetch=!0;var u=this._dataListInstance.getDataSource();u.fetchAllItems(i(this,n),t(this,r))},fetchControllersByIndex:function(n,r,u,f,e){e=$.quickExtend({fetchAlways:!0},e);var o=this._dataListInstance.getDataSource();this._duringFetch=!0;o.fetchItems(n,r,i(this,u),t(this,f),e)},getControllersHierarchy:function(){var n=this._dataListInstance.getDataSource();return n.getControllersHierarchy?n.getControllersHierarchy():undefined},detach:function(){$.eachItem(this.getAllControllers(),function(n,t){t.detach()})},attach:function(){}});return n.create=function(t){return new n(t)},n}(),DataLayoutController=function(){function t(n){var i,t=n.getStructureMetaData();return MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&!n.data.wasFirstArrangedInMobile?(n.data.wasFirstArrangedInMobile=ViewManager.isDesignMode(),i=t&&t.dataItemSizeMobile?t.dataItemSizeMobile:undefined):MobileVersionViewManager.Flags.IsInMobileContext.isFalse()&&!n.data.wasFirstArrangedInPc&&(n.data.wasFirstArrangedInPc=ViewManager.isDesignMode(),i=t&&t.dataItemSizePc?t.dataItemSizePc:undefined),i?$.cloneObject(i):undefined}var n=Class.extend("DataLayoutController",{init:function(n,t){t=$.quickExtend({onArrangementStarted:$.noop,onArrangementFinished:$.noop,startInitializingLayoutCallback:$.noop,finishInitializingLayoutCallback:$.noop,startArrangingCallback:$.noop,finishArrangingCallback:$.noop,getContainerSize:$.noop,setParentContent:$.noop},t);var i=n.getInstance(),r=t.startInitializingLayoutCallback,u=t.finishInitializingLayoutCallback,s=t.startArrangingCallback,h=t.finishArrangingCallback,c=t.getContainerSize,l=t.setParentContent,a=ObservableFlag.create(!1),v=ObservableFlag.create(!1),f=ObservableFlag.create(!1),y=OperationsBatch.create({batchStartCallback:s,batchFinishCallback:h}),e=OperationsBatch.create({batchStartCallback:r,batchFinishCallback:u}),p=this,o=OperationsQueue.createCancelableQueue({startOperationCallback:function(){f.setTrue();t.onArrangementStarted();e.start();p.refreshLayout();e.finish()},finishOperationCallback:function(){t.onArrangementFinished();f.setFalse()}});i.instanceRemoved.one(function(){o.dispose()});this._dataItemsController=n;this._getContainerSize=c;this._setParentContent=l;this._startInitializingLayoutCallback=r;this._finishInitializingLayoutCallback=u;this.isInitialized=a;this.instance=i;this._arrangingOperationQueue=o;this._arrangementBatch=y;this._shouldRefreshLayout=v;this._lastArrangementInformation={};this._lastArrangementInformationDevice={pc:{},mobile:{}}},getInstance:function(){return this.instance},refreshEmptyState:function(){this.getArrangement().refreshEmptyState(this)},isInEmptyState:function(){return this.instance.inEmptyStateFlag.isTrue()},getDataItemsController:function(){return this._dataItemsController},setParentContent:function(n){this._setParentContent(n)},setArrangement:function(n){var t=this._currentArrangement;DataLayouts[n]!==t&&(this._prevArrangement=t,this._currentArrangement=DataLayouts[n],this._shouldRefreshLayout.setTrue())},getArrangement:function(){return this._currentArrangement},hasItemSpecificSize:function(){var n=this._currentArrangement.canItemResize;return n.vertically||n.horizontally},shouldRearrangeWhenItemSizeChanged:function(){return this._currentArrangement.shouldRearrangeWhenItemSizeChanged},resetLayout:function(){this._dataItemsController.detach();this._shouldRefreshLayout.setTrue()},refreshLayout:function(){var i=this._currentArrangement,n,t;i&&(n=this._shouldRefreshLayout,t=this.isInitialized,(t.isFalse()||n.isTrue())&&(n.isTrue()&&this.remove(),this._startInitializingLayoutCallback(),i.startLayout(this),this._finishInitializingLayoutCallback(),t.setTrue(),n.setFalse()))},getLastArrangementOptions:function(){return this._lastArrangementInformation},getLastArrangementOptionsDevice:function(){return this._lastArrangementInformationDevice},getLastArrangementOptionsByCurrentDevice:function(){return this._lastArrangementInformationDevice[MobileVersionViewManager.Flags.IsActivated.isTrue()?"mobile":"pc"]},getLastArrangementInstanceSizeByDevice:function(){var n=this.getLastArrangementOptionsByCurrentDevice();return n&&n.contentSize?n.contentSize:null},remove:function(){var n=this.isInitialized;n.isTrue()&&(this._prevArrangement?(this._prevArrangement.removeLayout(this),this._prevArrangement=undefined):this._currentArrangement.removeLayout(this),n.setFalse())},reArrangeTheLayout:function(n){if(n=$.quickExtend({size:this._getContainerSize()},n),this._currentArrangement){var i=this;this._arrangingOperationQueue.executeOperation(function(t,r){var u=i.lastFetchedData;u===undefined||n.shouldFetch?i._currentArrangement.fetchItemsInformationToArrange(i,n,t,r):t(u)},function(r){var u,f,e;i.lastFetchedData=r;u=i.instance;r.totalCount>0&&!n.fixedSize&&(f=t(u),f&&(n.fixedSize=f,n.shouldPush=!0));i._arrangementBatch.start();e=i._currentArrangement.arrange(i,r,n);i._setLastArrangementOptionsByDevice(e);i._lastArrangementInformation=e;u.totalCountObservable.setValue(r.totalCount);i._arrangementBatch.finish()},ExceptionUtils.handleAjaxException)}},getSize:function(){var n=this._lastArrangementInformation;return n&&n.contentSize?n.contentSize:undefined},getMinSize:$.returnZeroSize,_setLastArrangementOptionsByDevice:function(n){n&&(MobileVersionViewManager.Flags.IsActivated.isTrue()?this._lastArrangementInformationDevice.mobile=n:this._lastArrangementInformationDevice.pc=n)}});return n.create=function(t,i){return new n(t,i)},n}(),PrivacyPolicyBar=new function(){function r(){i.css("height",$.maxValue([$.getWindowSize().height*.8-250,60]));i.css("width",$.minValue([$.getWindowSize().width*.8,900]))}var n,t=0,i;this.getPrivacyPolicyHeight=function(){return PageManager.getCurrentPage().getFooterInstance()?0:PrivacyPolicyBar.getPrivacyPolicyActualHeight()};this.getPrivacyPolicyActualHeight=function(){return ViewManager.isViewMode()&&n?t?t:function(){return t=n.height()}():0};this.initialize=function(){var s=SiteSettingsManager.getValue("privacyPolicyActive"),f,e,t,u,o;s&&(f=SimpleEvent.createEventListener([$.getWindowSizeEvent()],function(){r();Dialog.hasOpenedDialogs()&&(Dialog.close(u),Dialog.open(u,{showingAnimationFunction:function(){this.show();f.activate()},hidingAnimation:function(){this.hide();f.deactivate()}}))}),e=SiteSettingsManager.getValue("privacyPolicy"),n=$('<div id="privacy-policy-bar">Privacy Policy<\/div>'),t=new StringBuilder,t.append('<div class="privacy-policy-dialog">'),t.append('<div class="privacy-policy-dialog-title">Privacy Policy<\/div>'),t.append('<div class="privacy-policy-dialog-content">'),t.append('<pre class="privacy-policy-dialog-text dialog-text">'),t.append("<\/pre>"),t.append("<\/div>"),t.append('<div class="privacy-policy-dialog-footer">'),t.append('<span class="privacy-policy-dialog-button vertically-centered dialog-button-1 variation-medium variation-action">Close<\/span>'),t.append("<\/div>"),t.append("<\/div>"),u=$(t.toString()),$(".dialog-text",u).html(e),o=$(".privacy-policy-dialog-button",u),i=$(".privacy-policy-dialog-content",u),o.makeSimpleButton().buttonClick(function(){var n=Dialog.getDialogOverlay(u);Dialog.close(u);n.removeClass("popup-overlay")}),n.makeSimpleButton().buttonClick(function(){r();Dialog.open(u,{showingAnimationFunction:function(){this.show();f.activate()},hidingAnimation:function(){this.hide();f.deactivate()}});var n=Dialog.getDialogOverlay(u);n.css({backgroundColor:"black",opacity:.8})}),SimpleEvent.bind([PageManager.Events.AfterPageChanged],function(){ViewManager.isViewMode()&&(PageManager.getCurrentPage().getFooterInstance()&&PageManager.getCurrentPage().getFooterInstance().isInstanceVisible()?PageManager.getCurrentPage().getFooterInstance().$element.append(n):MobileVersionViewManager.Flags.IsInMobileContext.isTrue()&&Global.IsDesigner?$(".scrolling-view.mobile-wrapper-mode").append(n):$("body").append(n))}))}},SlideNavigationPanel=new function(){function i(n,t){var i,e,o;n=$.Color(n);t||(n[3]=1);var r=NavigationUtils.calculateAdjustBrightnessSign(n,.02*3+.02),u=[],f=[];for(i=0;i<=3;i++)e=i===0?n:ColorsHelper.adjustBrightness(n,function(n){return n+r*.02*i}),o=ColorsHelper.adjustBrightness(n,function(n){return n+r*(.02*i+.02)}),u.push(e.toCSS()),f.push(o.toCSS());return{backgroundColors:u,backgroundHoverColors:f}}var t={Panel:{group:"slide-navigation-panel-templates",name:"slide-navigation-panel-template",isSimple:!0},PageItem:{group:"slide-navigation-panel-templates",name:"page-item-template",isSimple:!0}},n=$.browser.msie&&parseInt($.browser.version)<9?"backgroundColor":"rgbaBackground";this.create=function(){function s(){p.css("top",a.height()+40)}function l(t){var i={};return i[n]=t,i}function nt(n,t){var r=n.backgroundColors,u=n.backgroundHoverColors,i;for(t=Math.round(t/1.25),h.rule(".hierarchy-level-0 > .hierarchy-item-content > .hierarchy-item-container .page-item",$.quickExtend({"padding-left":"45px"},l(r[0]))),h.rule(".hierarchy-level-0 > .hierarchy-item-content > .hierarchy-item-container .page-item:hover",l(u[0])),i=1;i<=3;i++)h.rule(".hierarchy-level-{0} > .hierarchy-item-content > .hierarchy-item-container .page-item".format(i),$.quickExtend({"font-size":t,"padding-left":"{0}px".format(45+15*i)},l(r[i]))),h.rule(".hierarchy-level-{0} > .hierarchy-item-content > .hierarchy-item-container .page-item:hover".format(i),l(u[i]))}var o=PanelsManager.createBaseController(),u=$.useTemplate(t.Panel),y=$(".close-icon-content",u),a=$(".pages-list",u),k=$(".header",u),p=$(".footer",u),c,h,f,w,e,b;FontIconsManager.applyIcon(y,{collectionName:"public-font-icons",iconName:"times"});y.click(function(){o.requestDeactivation()});c=ScrollingView.create(a,{scrollbarClass:"slide-scrollbar"});c.setMoveScrolling({enableHorizontalScrolling:!1});var d={collectionName:"public-font-icons",iconName:"plus"},g={collectionName:"public-font-icons",iconName:"minus"},v=ItemsListLayoutsFactory.createHierarchyLayout(),r=a.makeItemsList({idFunction:$.defaultIdFunction,itemCreationFunction:function(n,i){var r=$.useTemplate(t.PageItem,n),e=$(".open-icon",r),h,u,c,f;return e.click(function(){var n=i.$wrapper.find(">.hierarchy-item-content >.hierarchy-children-container");n.slideDown({duration:200,progress:s,always:function(){i.$wrapper.addClass("open");s()}})}),FontIconsManager.applyIcon(e,d),h=$(".close-icon",r),h.click(function(){var n=i.$wrapper.find(">.hierarchy-item-content >.hierarchy-children-container");n.slideUp({duration:200,progress:s,always:function(){i.$wrapper.removeClass("open");s()}})}),FontIconsManager.applyIcon($(".close-icon",r),g),i.data.$pageTitle=r.find(".page-title"),o.currentActivationArgs.disableLink||(u=$("<a class='no-decorations'><\/a>"),u.addClass("internal-link"),u.click(function(){setTimeout(function(){o.requestDeactivation(!0)},0)}),c=UrlManager.getFullHtmlUrl(PageManager.getPageFragmentValue(n.id)),u.attr("href",c),f=$(".title-container",r),f.wrap(u),i.data.$lingWrapper=f.parent()),r},itemUpdatedCallback:function(n,t){var i,r;t&&(i=n.item,n.data.$pageTitle.text(i.title),n.data.$lingWrapper&&(r=UrlManager.getFullHtmlUrl(PageManager.getPageFragmentValue(i.id)),n.data.$lingWrapper.attr("href",r)))}}).addOrderingSupport({orderingValueSelector:function(n){return n.item.index}}).addLayoutSupport().postponeLayoutUpdate();return r.layoutRecalculated.bind(s),o.associateScrollingView(c),o.associateItemsList(r),h=NavigationUtils.createCssRules("slide-navigation-panel"),f={},$.quickExtend(o,{$element:u,visualizers:[],defaultActivationArgs:{direction:undefined,backgroundColor:undefined,width:undefined,height:undefined,hierarchyOpened:undefined,useHierarchy:undefined,fontColor:undefined,fontSize:undefined,font:undefined,pages:undefined,pagesHierarchy:undefined,maxSize:undefined,instanceId:undefined},initialize:function(){},onActivated:function(t){var c=!1,l=MobileVersionViewManager.Flags.IsInMobileContext.isTrue(),h,g;if(w!==t.instanceId||l!==b||!$.defaultEqualityComparer(t.maxSize,f.maxSize)){var a=t.direction,y=a=="up"||a=="down",d=t.fontSize,o=i(ThemeColorsManager.evaluateColorBinding(t.backgroundColor),!t.pushContent);nt(o,d);k.css(n,o.backgroundColors[0]);p.css(n,o.backgroundColors[0]);u.toggleClass("vertical",y);y?u.css({width:"",height:Math.min(t.height,t.maxSize.height)}):u.css({width:Math.min(t.width,t.maxSize.width),height:""});h=ThemeFontsManager.evaluateFontBinding(t.font);u.css({color:ThemeColorsManager.evaluateColorBinding(t.fontColor,!0),fontSize:"{0}px".format(d),fontFamily:h!==null?h:""});(f.useHierarchy!==t.useHierarchy||f.pages!==t.pages||f.pagesHierarchy!==t.pagesHierarchy||f.disableLink||t.disableLink)&&(r.releaseBoundCollection(),r.clear(),r.setLayout(undefined),e&&(e.release(),e=undefined),CollectionUtils.isObservableCollection(t.pages)?(e=CollectionObserver.create(t.pages),r.setItems(e)):r.setItems(t.pages),t.useHierarchy?v.setHierarchyCollection(t.pagesHierarchy):(g=new HierarchyCollection({ids:$.getKeys(r.getDataItems())}),v.setHierarchyCollection(g)),r.setLayout(v),c=!0);t.useHierarchy&&t.hierarchyOpened?($.each(r.items,function(n,t){t.$wrapper.addClass("open")}),s()):!c&&f.useHierarchy&&f.hierarchyOpened&&($.each(r.items,function(n,t){t.$wrapper.removeClass("open")}),s())}e&&e.unPostponeUpdates();f=t;w=t.instanceId;b=l},onDeactivated:function(){e&&e.postponeUpdates()},refresh:function(){c.refreshScrolling()}}),o}},FreemiumBanners=new function(){var n=this,t;this.isVisible=ObservableFlag.createConditionalPositive();this.initialize=function(){var e=PageData.IsSitePreview,r=!SiteManager.isPremium()&&!PageData.IsTemplate||e,i=!1,f,u;Global.IsDesigner||PageData.IsTemplate||(i=LimitationsManager.getFreemiumBannerLimitation());r=!!i;n.isVisible.setValue(r);r&&(f=i.iframeUrl,u=parseInt(i.iframeHeight),t=$('<iframe id="freemium-footer-iframe" scrolling="no"><\/iframe>').attr("src",PathUtils.combinePaths(f,""+SiteManager.getSiteID())).css("height",u).css("z-index",1e5).appendTo("body"));n.isVisible.valueChangedEvent.bindAndExecute(function(){var t=n.isVisible.getValue();$("body").css("padding-bottom",t?u:"")})};this.getFooterHeight=function(){return n.isVisible.isTrue()?t.getOuterSize().height:0}},CompiledComponents={ElementsModel:{types:{"63":{d:[1,9,5,44,46,45,3,21,22,23,24,11,13,12,8,14,28,20,6,17,19,25,29,33,63],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,66,67,68,69,70,71,40,35,36,37,38,39,19,75,62,63,64,65,17,49,50,51,53,54,55,56,57,58,59,60,61,76,77,78,79,84,114,115,116],c:"user-selectable-element clickable-element has-text label-element",cp:["horizontalDocking","verticalDocking","calculatedFontFamily","calculatedFontSize","calculatedTextColor","lineColor"]},"64":{d:[1,64],p:[0,1,2,3,4,5,6,7,8,9,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138],c:"coordinator-element"},"65":{d:[1,65],p:[0,1,2,3,4,5,6,7,8,9],c:""},"66":{d:[1,9,5,44,46,45,3,11,13,12,8,14,28,20,29,6,17,25,21,22,23,24,58,19,33,66],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:66},101,92,93,{i:10,d:3},11,12,{i:40,d:66},35,36,37,38,39,19,75,62,63,64,65,76,77,78,79,17,49,{i:50,d:66},51,66,67,68,69,70,71,53,{i:54,d:66},55,56,57,{i:58,d:66},59,60,61,84,139,140],c:"user-selectable-element clickable-element has-rich-content has-text",cp:["horizontalDocking","verticalDocking","lineColor","calculatedFontFamily","calculatedFontSize","calculatedTextColor"]},"67":{d:[1,19,57,9,5,44,46,45,3,11,13,12,8,14,28,20,29,6,17,25,21,22,23,24,58,33,67],p:[0,1,2,3,4,5,6,7,8,9,53,54,55,56,57,58,59,60,61,106,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,40,35,36,37,38,39,19,75,62,63,64,65,76,77,78,79,17,49,50,51,66,67,68,69,70,71,84,141],c:"has-text user-selectable-element clickable-element has-rich-content rich-content-element",cp:["calculatedFontFamily","calculatedFontSize","calculatedTextColor","horizontalDocking","verticalDocking","lineColor"]},"68":{d:[1,9,5,44,46,45,3,11,13,12,8,14,28,20,29,6,17,25,21,22,23,24,58,19,33,66,68],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:66},101,92,93,{i:10,d:3},11,12,{i:40,d:66},35,36,37,38,39,19,75,62,63,64,65,76,77,78,79,17,49,{i:50,d:66},51,66,67,68,69,70,71,53,{i:54,d:66},55,56,57,{i:58,d:66},59,60,61,84,139,140,142,143,144],c:"user-selectable-element clickable-element has-rich-content has-text",cp:["horizontalDocking","verticalDocking","lineColor","calculatedFontFamily","calculatedFontSize","calculatedTextColor"],i:[9,5,44,46,45,3,11,13,12,8,14,28,20,29,6,17,25,21,22,23,24,58,19,33,66]},"69":{d:[1,9,5,44,46,21,17,11,26,27,40,13,12,8,14,69],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:69},101,49,50,51,72,73,74,{i:86,d:69},{i:40,d:69},35,36,37,38,39,19,145,146,147],c:"",cp:["pageTitle"]},"70":{d:[1,9,5,44,46,45,3,21,11,13,20,6,22,23,24,28,29,33,17,70],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,40,62,63,64,65,17,66,67,68,69,70,71,75,76,77,78,79,84,49,50,51,148,149,150],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"71":{d:[1,9,5,44,46,45,3,6,17,21,11,20,28,30,22,23,24,71],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,17,49,50,51,62,63,64,65,75,80,81,82,66,67,68,69,70,71,151],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking"]},"72":{d:[1,9,5,44,46,45,3,21,11,20,28,30,13,22,23,24,17,38,72],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,62,63,64,65,75,80,81,82,40,66,67,68,69,70,71,49,50,51],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking"]},"73":{d:[1,9,5,44,46,45,3,21,33,11,20,28,30,13,22,23,24,17,38,73],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,84,62,63,64,65,75,80,81,82,40,66,67,68,69,70,71,49,50,51,152],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking"]},"74":{d:[1,9,5,44,46,45,3,21,11,13,12,8,14,20,22,23,24,28,29,33,74],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,66,67,68,69,70,71,75,76,77,78,79,84],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"75":{d:[1,9,5,44,46,3,11,22,23,24,20,26,27,28,75],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,66,67,68,69,70,71,62,63,64,65,72,73,74,75],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking"]},"76":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,52,76],p:[{i:0,d:76},1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:76},101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,{i:42,d:76},13,{i:14,d:76},72,73,74,17,49,50,51,52,83],c:"menu-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"77":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,52,61,77],p:[{i:0,d:77},1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:61},101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,{i:41,d:61},{i:42,d:61},13,{i:14,d:61},72,73,74,17,49,50,51,52,83,111,112,113,153],c:"menu-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"78":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,52,61,78],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:78},101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,{i:41,d:61},{i:42,d:61},13,{i:14,d:61},72,73,74,17,49,50,51,52,83,111,112,113,154,155],c:"sections-menu-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"79":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,52,79],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,{i:41,d:79},{i:42,d:79},{i:13,d:79},14,72,73,74,17,49,50,51,52,83,156],c:"tag-cloud-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"80":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,10,39,80],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,{i:42,d:39},{i:13,d:80},14,72,73,74,17,49,50,51,52,83,24,25,26,27,28,29,30,31,32,33,34,85,157],c:"posts-list-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"81":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,10,39,81],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,{i:42,d:39},13,{i:14,d:81},72,73,74,17,49,50,51,52,83,24,25,26,27,28,29,30,31,32,33,34,85],c:"data-list-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"82":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,10,39,82],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,{i:42,d:39},13,{i:14,d:82},72,73,74,17,49,50,51,52,83,24,25,26,27,28,29,30,31,32,33,34,85,158],c:"gallery-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"83":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,83],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,42,{i:13,d:83},{i:14,d:83},72,73,74,17,49,50,51,52,83],c:"social-icons-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"84":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,84],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,42,{i:13,d:84},{i:14,d:84},72,73,74,17,49,50,51,52,83],c:"social-sharing-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"85":{d:[1,9,5,44,46,45,21,11,13,6,12,8,14,17,22,23,24,19,28,20,29,34,35,36,85],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:85},101,92,93,40,{i:17,d:85},35,36,37,38,39,19,49,{i:50,d:85},51,66,67,68,69,70,71,53,{i:54,d:85},55,56,57,{i:58,d:85},59,60,61,75,62,63,64,65,76,77,78,79],c:"user-selectable-element clickable-element has-text TextInputField",cp:["calculatedFontFamily","calculatedFontSize","calculatedTextColor","horizontalDocking","verticalDocking","lineColor"]},"86":{d:[1,9,5,44,46,45,6,17,21,11,22,23,24,13,12,8,14,19,28,20,29,34,35,36,86],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:86},101,92,93,{i:17,d:86},49,{i:50,d:86},51,66,67,68,69,70,71,40,35,36,37,38,39,19,53,{i:54,d:86},55,56,57,{i:58,d:86},59,60,61,75,62,63,64,65,76,77,78,79],c:"user-selectable-element clickable-element has-text",cp:["calculatedFontFamily","calculatedFontSize","calculatedTextColor","horizontalDocking","verticalDocking","lineColor"]},"87":{d:[1,9,5,44,46,3,6,17,21,28,22,23,24,11,20,25,29,87],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,17,49,50,51,75,66,67,68,69,70,71,62,63,64,65,76,77,78,79,159,160,161,162,163,164,165,166,167,168],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"88":{d:[1,9,5,44,46,45,3,6,21,11,13,12,8,14,20,26,27,40,22,23,24,28,29,33,88],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,17,40,35,36,37,38,39,19,62,63,64,65,72,73,74,86,66,67,68,69,70,71,75,76,77,78,79,84],c:"user-selectable-element clickable-element userBox",cp:["horizontalDocking","verticalDocking","lineColor"]},"89":{d:[1,9,5,44,46,6,17,21,11,13,12,8,14,20,26,27,22,23,24,28,29,42,89],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,17,49,50,51,{i:40,d:89},35,36,37,38,39,19,62,63,64,65,72,73,74,66,67,68,69,70,71,75,76,77,78,79],c:"user-selectable-element clickable-element data-list-item template-box",cp:["horizontalDocking","verticalDocking","lineColor"]},"90":{d:[1,9,5,44,46,3,17,21,11,22,23,24,12,8,14,20,28,29,34,31,90],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:90},101,{i:10,d:3},11,12,49,50,51,66,67,68,69,70,71,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,169,170,171,172,173],c:"user-selectable-element clickable-element video-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"91":{d:[1,9,5,44,46,45,3,21,11,28,13,20,22,23,24,12,29,33,8,91],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:91},101,92,93,{i:10,d:3},11,12,75,{i:40,d:91},62,63,64,65,66,67,68,69,70,71,{i:35,d:91},36,37,38,39,{i:76,d:91},77,{i:78,d:91},79,84,19,174,175,176],c:"user-selectable-element clickable-element image-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"92":{d:[1,9,5,44,46,45,3,6,17,21,11,20,26,27,40,22,23,24,28,29,10,92],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,17,49,50,51,62,63,64,65,72,73,74,86,66,67,68,69,70,71,75,76,77,78,79,24,25,26,27,28,29,30,31,32,33,34],c:"user-selectable-element clickable-element switch-panel-element",cp:["horizontalDocking","verticalDocking","lineColor","backgroundColor","backgroundOverlay","imageUrl","imageLayout","imagePosition","padding","roundness","borderWidth","borderStyle","borderColor","shadow","innerShadow","glow","innerGlow","childrenAnchor"]},"93":{d:[1,9,5,44,46,45,6,17,26,27,40,29,13,12,8,14,93],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,17,49,50,51,72,73,74,86,76,77,78,79,40,35,36,37,38,39,19],c:"tab-element",cp:["lineColor"]},"94":{d:[1,9,5,44,46,45,6,17,21,11,13,22,23,24,12,8,14,20,28,29,3,26,27,40,94],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,17,49,50,51,40,66,67,68,69,70,71,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,{i:10,d:3},11,12,72,73,74,86,177],c:"user-selectable-element clickable-element button-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"95":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,22,23,24,28,29,33,6,17,34,95],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,66,67,68,69,70,71,75,76,77,78,79,84,17,49,50,51,178],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"96":{d:[1,9,5,44,46,21,11,13,12,8,14,20,22,23,24,28,29,33,6,17,34,3,96],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,40,35,36,37,38,39,19,62,63,64,65,66,67,68,69,70,71,75,76,77,78,79,84,17,49,50,51,{i:10,d:3},11,12,179,180],c:"user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"97":{d:[1,9,5,44,46,3,21,11,13,12,8,14,20,28,29,15,4,26,27,6,17,2,18,31,32,10,39,97],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,41,{i:42,d:39},13,{i:14,d:97},72,73,74,17,49,50,51,52,83,24,25,26,27,28,29,30,31,32,33,34,85],c:"data-list-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"98":{d:[1,9,5,44,46,45,3,6,17,21,11,13,22,23,24,12,8,14,20,28,29,26,27,59,98],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,17,49,50,51,40,66,67,68,69,70,71,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,72,73,74,107,108],c:"user-selectable-element clickable-element paypalButton",cp:["horizontalDocking","verticalDocking","lineColor"]},"99":{d:[1,9,5,44,46,45,6,17,21,11,13,22,23,24,12,8,14,3,20,28,29,26,27,40,60,99],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:99},101,92,93,17,49,50,51,{i:40,d:99},66,67,68,69,70,71,35,36,37,38,39,19,{i:10,d:3},11,12,62,63,64,65,75,76,77,78,79,72,73,74,86,109,110],c:"user-selectable-element clickable-element checkOutButton",cp:["horizontalDocking","verticalDocking","lineColor"]},"100":{d:[1,9,5,44,46,45,3,21,11,13,12,8,14,20,36,28,29,15,4,26,27,6,17,2,18,31,32,16,100],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,{i:10,d:3},11,12,40,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,{i:41,d:100},{i:42,d:100},13,{i:14,d:100},72,73,74,17,49,50,51,52,83,43,44,45,46,47,48],c:"form-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"101":{d:[1,9,5,44,46,21,11,13,12,8,14,20,28,3,29,15,4,26,27,6,17,2,18,31,32,101],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:101},101,40,35,36,37,38,39,19,62,63,64,65,75,{i:10,d:3},11,12,76,77,78,79,41,{i:42,d:101},13,{i:14,d:101},72,73,74,17,49,50,51,52,83,181,182],c:"buttons-group",cp:["horizontalDocking","verticalDocking","lineColor"]},"102":{d:[1,9,5,44,46,45,6,21,11,13,12,8,14,20,26,27,40,7,43,29,102],p:[{i:0,d:102},1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:43},101,92,93,17,40,35,36,37,38,39,19,62,63,{i:64,d:43},65,72,73,74,{i:86,d:43},{i:18,d:102},88,{i:89,d:102},76,77,78,79],c:"footer-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"103":{d:[1,9,5,44,46,45,6,21,11,13,12,8,14,20,26,27,40,7,43,29,103],p:[{i:0,d:103},1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:43},101,92,93,17,40,35,36,37,38,39,19,62,63,{i:64,d:43},65,72,73,74,{i:86,d:43},{i:18,d:103},88,{i:89,d:103},76,77,78,79],c:"header-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"104":{d:[1,9,5,44,46,45,6,21,11,13,12,8,14,20,26,27,40,7,43,29,104],p:[{i:0,d:104},1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:104},101,92,93,17,{i:40,d:104},35,36,37,38,39,19,62,63,{i:64,d:43},65,72,73,74,{i:86,d:43},{i:18,d:104},88,{i:89,d:104},76,77,78,79,183],c:"page-section-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"105":{d:[1,9,5,44,46,6,17,21,11,13,12,8,14,20,26,27,40,28,29,105],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:105},101,17,49,50,51,40,35,36,37,38,39,19,62,63,64,65,72,73,74,86,75,76,77,78,79,184],c:"page-content-element",cp:["horizontalDocking","verticalDocking","lineColor"]},"106":{d:[1,9,5,44,46,45,41,36,3,21,11,13,12,8,14,26,27,22,23,24,17,6,28,29,106],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,87,{i:10,d:3},11,12,40,35,36,37,38,39,19,72,73,74,66,67,68,69,70,71,49,50,51,17,75,76,77,78,79],c:"template-item user-selectable-element clickable-element skin-hierarchy-box",cp:["lineColor"]},"107":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,107],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:107},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-input-element",cp:["horizontalDocking","verticalDocking"]},"108":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,56,108],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:108},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-list-view-element",cp:["horizontalDocking","verticalDocking"]},"109":{d:[1,9,5,44,46,4,26,27,2,54,3,21,11,20,22,23,24,28,17,109],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,{i:13,d:109},{i:14,d:109},72,73,74,{i:105,d:109},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,49,50,51,174,175,176,35,36,37,38,39],c:"skin-element user-selectable-element clickable-element skin-image-element",cp:["horizontalDocking","verticalDocking"],dd:[91,12],dp:[174,175,176,35,36,37,38,39]},"110":{d:[1,9,5,44,46,45,4,17,25,21,22,23,24,58,62,26,27,2,54,3,11,20,28,110],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,13,14,49,50,51,66,67,68,69,70,71,72,73,74,{i:105,d:110},{i:10,d:3},11,12,62,63,64,65,75,185,139,140,149],c:"user-selectable-element clickable-element has-rich-content skin-element skin-button-element",cp:["horizontalDocking","verticalDocking"],dd:[66],dp:[139,140,149]},"111":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,111],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:111},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-image-element",cp:["horizontalDocking","verticalDocking"]},"112":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,112],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:112},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-gallery-element",cp:["horizontalDocking","verticalDocking"]},"113":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,113],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:113},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-menu-button-element",cp:["horizontalDocking","verticalDocking"]},"114":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,114],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:114},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-image-element",cp:["horizontalDocking","verticalDocking"]},"115":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,17,115],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:115},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-social-icon-element",cp:["horizontalDocking","verticalDocking"]},"116":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,56,116],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:116},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-image-element",cp:["horizontalDocking","verticalDocking"]},"117":{d:[1,9,5,44,46,26,27,2,54,42,3,21,11,20,22,23,24,28,6,17,55,117],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,72,73,74,{i:105,d:117},{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,17,49,50,51],c:"skin-element data-list-item user-selectable-element clickable-element skin-section-button-element",cp:["horizontalDocking","verticalDocking"]},"118":{d:[1,9,5,44,46,6,17,21,11,13,12,8,14,26,27,22,23,24,28,29,42,118],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,17,49,50,51,40,35,36,37,38,39,19,72,73,74,66,67,68,69,70,71,75,76,77,78,79],c:"user-selectable-element clickable-element data-list-item button-element",cp:["lineColor"]},"119":{d:[1,9,5,44,46,6,17,21,11,13,12,8,14,26,27,22,23,24,28,29,42,119],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,17,49,50,51,40,35,36,37,38,39,19,72,73,74,66,67,68,69,70,71,75,76,77,78,79],c:"user-selectable-element clickable-element data-list-item image-item-element",cp:["lineColor"]},"120":{d:[1,9,5,44,46,45,6,17,21,11,13,12,8,14,26,27,22,23,24,28,29,42,120],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,17,49,50,51,40,35,36,37,38,39,19,72,73,74,66,67,68,69,70,71,75,76,77,78,79],c:"user-selectable-element clickable-element data-list-item data-list-item-element",cp:["lineColor"]},"121":{d:[1,9,5,44,46,6,17,21,11,13,12,8,14,26,27,22,23,24,28,29,42,121],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,17,49,50,51,40,35,36,37,38,39,19,72,73,74,66,67,68,69,70,71,75,76,77,78,79],c:"user-selectable-element clickable-element data-list-item list-view-item-element",cp:["lineColor"]},"122":{d:[1,9,5,44,46,6,17,21,11,13,12,8,14,26,27,22,23,24,28,29,36,42,122],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,17,49,50,51,40,35,36,37,38,39,19,72,73,74,66,67,68,69,70,71,75,76,77,78,79],c:"user-selectable-element clickable-element data-list-item input-element",cp:["lineColor"]},"123":{d:[1,9,5,44,46,4,26,27,2,54,3,21,11,20,22,23,24,28,17,53,123],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,13,14,72,73,74,105,{i:10,d:3},11,12,62,63,64,65,66,67,68,69,70,71,75,49,50,51,103,104,148,149,150],c:"skin-element user-selectable-element clickable-element",cp:["horizontalDocking","verticalDocking"],dd:[70],dp:[148,149,150]},"124":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,124],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:124},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,186,187,188,189,190],c:"",cp:["horizontalDocking","verticalDocking"]},"125":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,125],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:125},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,191,192,193,194,195,196],c:"",cp:["horizontalDocking","verticalDocking"]},"126":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,126],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:126},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,197,198,199,200,201],c:"",cp:["horizontalDocking","verticalDocking"]},"127":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,127],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:127},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,202,203,204,205,206,207,208],c:"",cp:["horizontalDocking","verticalDocking"]},"128":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,128],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:128},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,209,210,211,212,213,214],c:"",cp:["horizontalDocking","verticalDocking"]},"129":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,129],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:129},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,215,216,217,218,219],c:"",cp:["horizontalDocking","verticalDocking"]},"130":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,130],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:130},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,220,221,222,223,224,225,226,227],c:"",cp:["horizontalDocking","verticalDocking"]},"131":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,131],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:131},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,228,229,230,231,232,233,234],c:"",cp:["horizontalDocking","verticalDocking"]},"132":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,132],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:132},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,235,236,237,238,239,240,241,242],c:"",cp:["horizontalDocking","verticalDocking"]},"133":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,133],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:133},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,243,244,245,246,247,248],c:"",cp:["horizontalDocking","verticalDocking"]},"134":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,134],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:134},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,249,250,251,252],c:"",cp:["horizontalDocking","verticalDocking"]},"135":{d:[1,9,5,44,46,45,11,13,6,12,8,14,20,28,29,33,34,3,17,47,49,135],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:135},101,92,93,40,17,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,84,{i:10,d:3},11,12,49,50,51,102,253,254,255],c:"",cp:["horizontalDocking","verticalDocking","lineColor"]},"136":{d:[1,9,5,44,46,45,11,13,6,12,8,14,20,28,29,33,34,3,17,47,49,21,136],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:136},101,92,93,40,17,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,84,{i:10,d:3},11,12,49,50,51,102,256,257,258,259,260],c:"",cp:["horizontalDocking","verticalDocking","lineColor"]},"137":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,137],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:137},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,261,262,263,264,265,266],c:"",cp:["horizontalDocking","verticalDocking"]},"138":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,138],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:138},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,267,268,269,270],c:"",cp:["horizontalDocking","verticalDocking"]},"139":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,139],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:139},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,271,272,273,274,275,276],c:"",cp:["horizontalDocking","verticalDocking"]},"140":{d:[1,9,5,44,46,45,11,13,6,12,8,14,20,28,29,33,34,3,17,47,49,21,140],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:140},101,92,93,40,17,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,84,{i:10,d:3},11,12,49,50,51,102,277,278,279,280,281,282,283],c:"",cp:["horizontalDocking","verticalDocking","lineColor"]},"141":{d:[1,9,5,44,46,45,11,13,6,12,8,14,20,28,29,33,34,3,17,47,49,21,31,141],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:141},101,92,93,40,17,35,36,37,38,39,19,62,63,64,65,75,76,77,78,79,84,{i:10,d:3},11,12,49,50,51,102,284,285],c:"",cp:["horizontalDocking","verticalDocking","lineColor"]},"142":{d:[1,9,5,44,46,45,3,21,11,13,20,6,28,29,33,34,17,47,31,142],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:142},101,92,93,{i:10,d:3},11,12,40,62,63,64,65,17,75,76,77,78,79,84,49,50,51,286],c:"",cp:["horizontalDocking","verticalDocking","lineColor"]},"143":{d:[1,9,5,44,46,45,11,12,8,14,20,28,33,34,3,17,47,49,21,143],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,{i:100,d:143},101,92,93,35,36,37,38,39,19,62,63,64,65,75,84,{i:10,d:3},11,12,49,50,51,102,287,288,289],c:"",cp:["horizontalDocking","verticalDocking"]},"144":{d:[1,9,5,44,46,45,4,17,25,21,22,23,24,58,62,26,27,2,54,3,11,20,28,110,59,144],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,13,14,49,50,51,66,67,68,69,70,71,72,73,74,{i:105,d:110},{i:10,d:3},11,12,62,63,64,65,75,185,107,108,139,140,149],c:"user-selectable-element clickable-element has-rich-content skin-element skin-button-element paypalButton",cp:["horizontalDocking","verticalDocking"],dd:[66],dp:[139,140,149],i:[9,5,44,46,45,4,17,25,21,22,23,24,58,62,26,27,2,54,3,11,20,28,110]},"145":{d:[1,9,5,44,46,45,4,17,25,21,22,23,24,58,62,26,27,2,54,3,11,20,28,110,60,145],p:[0,1,2,3,4,5,6,7,8,9,20,21,22,23,15,16,90,91,94,95,96,97,98,99,100,101,92,93,13,14,49,50,51,66,67,68,69,70,71,72,73,74,{i:105,d:110},{i:10,d:3},11,12,62,63,64,65,75,185,109,110,139,140,149],c:"user-selectable-element clickable-element has-rich-content skin-element skin-button-element checkOutButton",cp:["horizontalDocking","verticalDocking"],dd:[66],dp:[139,140,149],i:[9,5,44,46,45,4,17,25,21,22,23,24,58,62,26,27,2,54,3,11,20,28,110]}},methods:[{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":43,"103":43,"104":43,"105":105,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":43,"103":43,"104":43,"105":105,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":[1,110],"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":[1,110],"145":[1,110]},{"63":3,"64":1,"65":1,"66":3,"67":3,"68":3,"69":1,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"85":1,"86":1,"87":3,"88":3,"89":1,"90":3,"91":3,"92":3,"93":1,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"102":1,"103":1,"104":1,"105":1,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"118":1,"119":1,"120":1,"121":1,"122":1,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":79,"80":80,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":77,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":20,"64":1,"65":1,"66":20,"67":20,"68":20,"69":1,"70":20,"71":20,"72":20,"73":20,"74":20,"75":20,"76":20,"77":20,"78":20,"79":20,"80":20,"81":20,"82":20,"83":20,"84":20,"85":20,"86":20,"87":20,"88":20,"89":20,"90":20,"91":20,"92":20,"93":1,"94":20,"95":20,"96":20,"97":20,"98":20,"99":20,"100":20,"101":20,"102":20,"103":20,"104":20,"105":20,"106":1,"107":20,"108":20,"109":20,"110":20,"111":20,"112":20,"113":20,"114":20,"115":20,"116":20,"117":20,"118":1,"119":1,"120":1,"121":1,"122":1,"123":20,"124":20,"125":20,"126":20,"127":20,"128":20,"129":20,"130":20,"131":20,"132":20,"133":20,"134":20,"135":20,"136":20,"137":20,"138":20,"139":20,"140":20,"141":20,"142":20,"143":20,"144":20,"145":20},{"63":20,"64":1,"65":1,"66":20,"67":20,"68":20,"69":1,"70":20,"71":20,"72":20,"73":20,"74":20,"75":20,"76":20,"77":20,"78":20,"79":20,"80":20,"81":20,"82":20,"83":20,"84":20,"85":20,"86":20,"87":20,"88":20,"89":20,"90":20,"91":20,"92":20,"93":1,"94":20,"95":20,"96":20,"97":20,"98":20,"99":20,"100":20,"101":20,"102":20,"103":20,"104":20,"105":20,"106":1,"107":20,"108":20,"109":20,"110":20,"111":20,"112":20,"113":20,"114":20,"115":20,"116":20,"117":20,"118":1,"119":1,"120":1,"121":1,"122":1,"123":20,"124":20,"125":20,"126":20,"127":20,"128":20,"129":20,"130":20,"131":20,"132":20,"133":20,"134":20,"135":20,"136":20,"137":20,"138":20,"139":20,"140":20,"141":20,"142":20,"143":20,"144":20,"145":20},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":20,"64":1,"65":1,"66":20,"67":20,"68":20,"69":1,"70":20,"71":20,"72":20,"73":20,"74":20,"75":20,"76":20,"77":20,"78":20,"79":20,"80":20,"81":20,"82":20,"83":20,"84":20,"85":20,"86":20,"87":20,"88":20,"89":20,"90":20,"91":20,"92":20,"93":1,"94":20,"95":20,"96":20,"97":20,"98":20,"99":20,"100":20,"101":20,"102":20,"103":20,"104":20,"105":20,"106":1,"107":20,"108":20,"109":20,"110":20,"111":20,"112":20,"113":20,"114":20,"115":20,"116":20,"117":20,"118":1,"119":1,"120":1,"121":1,"122":1,"123":20,"124":20,"125":20,"126":20,"127":20,"128":20,"129":20,"130":20,"131":20,"132":20,"133":20,"134":20,"135":20,"136":20,"137":20,"138":20,"139":20,"140":20,"141":20,"142":20,"143":20,"144":20,"145":20},{"63":20,"64":1,"65":1,"66":20,"67":20,"68":20,"69":1,"70":20,"71":20,"72":20,"73":20,"74":20,"75":20,"76":20,"77":20,"78":20,"79":20,"80":20,"81":20,"82":20,"83":20,"84":20,"85":20,"86":20,"87":20,"88":20,"89":20,"90":20,"91":20,"92":20,"93":1,"94":20,"95":20,"96":20,"97":20,"98":20,"99":20,"100":20,"101":20,"102":20,"103":20,"104":20,"105":20,"106":1,"107":20,"108":20,"109":20,"110":20,"111":20,"112":20,"113":20,"114":20,"115":20,"116":20,"117":20,"118":1,"119":1,"120":1,"121":1,"122":1,"123":20,"124":20,"125":20,"126":20,"127":20,"128":20,"129":20,"130":20,"131":20,"132":20,"133":20,"134":20,"135":20,"136":20,"137":20,"138":20,"139":20,"140":20,"141":20,"142":20,"143":20,"144":20,"145":20},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":102,"103":103,"104":104,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":24,"64":1,"65":1,"66":24,"67":24,"68":24,"69":1,"70":24,"71":24,"72":24,"73":24,"74":24,"75":24,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":24,"86":24,"87":24,"88":24,"89":24,"90":24,"91":24,"92":24,"93":1,"94":24,"95":24,"96":24,"97":1,"98":24,"99":24,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":24,"107":24,"108":24,"109":24,"110":24,"111":24,"112":24,"113":24,"114":24,"115":24,"116":24,"117":24,"118":24,"119":24,"120":24,"121":24,"122":24,"123":24,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":24,"145":24},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":42,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":42,"108":42,"109":1,"110":1,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":69,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":42,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":105,"106":1,"107":42,"108":42,"109":1,"110":1,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":75,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":42,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":42,"108":42,"109":1,"110":1,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":[1,69],"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":[1,32],"77":[1,32],"78":[1,32],"79":[1,32],"80":[1,32],"81":[1,32],"82":[1,32],"83":[1,32],"84":[1,32],"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":[1,32],"98":1,"99":1,"100":[1,32],"101":[1,32],"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":[1,20,19,29],"64":1,"65":1,"66":[1,20,29,19],"67":[1,19,20,29],"68":[1,20,29,19],"69":[1,69],"70":[1,20,29],"71":[1,20],"72":[1,20],"73":[1,20],"74":[1,20,29],"75":[1,20],"76":[1,20,29],"77":[1,20,29],"78":[1,20,29],"79":[1,20,29],"80":[1,20,29],"81":[1,20,29],"82":[1,20,29],"83":[1,20,29],"84":[1,20,29],"85":[1,19,20,29],"86":[1,19,20,29],"87":[1,20,29],"88":[1,20,29],"89":[1,20,29],"90":[1,20,29],"91":[1,20,29],"92":[1,20,29,92],"93":[1,29],"94":[1,20,29],"95":[1,20,29],"96":[1,20,29],"97":[1,20,29],"98":[1,20,29],"99":[1,20,29],"100":[1,20,29],"101":[1,20,29],"102":[1,20,29],"103":[1,20,29],"104":[1,20,29],"105":[1,20,29],"106":[1,29],"107":[1,20],"108":[1,20],"109":[1,20],"110":[1,20],"111":[1,20],"112":[1,20],"113":[1,20],"114":[1,20],"115":[1,20],"116":[1,20],"117":[1,20],"118":[1,29],"119":[1,29],"120":[1,29],"121":[1,29],"122":[1,29],"123":[1,20],"124":[1,20],"125":[1,20],"126":[1,20],"127":[1,20],"128":[1,20],"129":[1,20],"130":[1,20],"131":[1,20],"132":[1,20],"133":[1,20],"134":[1,20],"135":[1,20,29],"136":[1,20,29],"137":[1,20],"138":[1,20],"139":[1,20],"140":[1,20,29],"141":[1,20,29],"142":[1,20,29],"143":[1,20],"144":[1,20],"145":[1,20]},{"63":[1,20,19,29],"64":1,"65":1,"66":[1,20,29,19],"67":[1,19,20,29],"68":[1,20,29,19],"69":[1,69],"70":[1,20,29],"71":[1,20],"72":[1,20],"73":[1,20],"74":[1,20,29],"75":[1,20],"76":[1,20,29],"77":[1,20,29],"78":[1,20,29],"79":[1,20,29],"80":[1,20,29],"81":[1,20,29],"82":[1,20,29],"83":[1,20,29],"84":[1,20,29],"85":[1,19,20,29],"86":[1,19,20,29],"87":[1,20,29],"88":[1,20,29],"89":[1,20,29],"90":[1,20,29],"91":[1,20,29],"92":[1,20,29,92],"93":[1,29],"94":[1,20,29],"95":[1,20,29],"96":[1,20,29],"97":[1,20,29],"98":[1,20,29],"99":[1,20,29],"100":[1,20,29],"101":[1,20,29],"102":[1,20,29],"103":[1,20,29],"104":[1,20,29],"105":[1,20,29],"106":[1,29],"107":[1,20],"108":[1,20],"109":[1,20],"110":[1,20],"111":[1,20],"112":[1,20],"113":[1,20],"114":[1,20],"115":[1,20],"116":[1,20],"117":[1,20],"118":[1,29],"119":[1,29],"120":[1,29],"121":[1,29],"122":[1,29],"123":[1,20],"124":[1,20],"125":[1,20],"126":[1,20],"127":[1,20],"128":[1,20],"129":[1,20],"130":[1,20],"131":[1,20],"132":[1,20],"133":[1,20],"134":[1,20],"135":[1,20,29],"136":[1,20,29],"137":[1,20],"138":[1,20],"139":[1,20],"140":[1,20,29],"141":[1,20,29],"142":[1,20,29],"143":[1,20],"144":[1,20],"145":[1,20]},{"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":106,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":5,"66":5,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":5,"78":5,"79":5,"80":5,"81":5,"82":5,"83":5,"84":5,"85":5,"86":5,"87":5,"88":5,"89":5,"90":5,"91":5,"92":5,"93":5,"94":5,"95":5,"96":5,"97":5,"98":5,"99":5,"100":5,"101":5,"102":5,"103":5,"104":5,"105":5,"106":5,"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":5,"119":5,"120":5,"121":5,"122":5,"123":5,"124":5,"125":5,"126":5,"127":5,"128":5,"129":5,"130":5,"131":5,"132":5,"133":5,"134":5,"135":5,"136":5,"137":5,"138":5,"139":5,"140":5,"141":5,"142":5,"143":5,"144":5,"145":5},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"118":46,"119":46,"120":46,"121":46,"122":46,"123":54,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":54,"145":54},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":78,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":43,"103":43,"104":43,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":[46,54],"108":[46,54],"109":[46,54],"110":[46,54],"111":[46,54],"112":[46,54],"113":[46,54],"114":[46,54],"115":[46,54],"116":[46,54],"117":[46,54],"118":46,"119":46,"120":46,"121":46,"122":46,"123":[46,54],"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":[46,54],"145":[46,54]},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":43,"103":43,"104":43,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":69,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":100,"101":46,"102":43,"103":43,"104":43,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":69,"70":46,"71":46,"72":46,"73":46,"74":46,"75":75,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":88,"89":46,"90":46,"91":46,"92":46,"93":93,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":100,"101":46,"102":43,"103":43,"104":43,"105":105,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":75,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":88,"89":46,"90":46,"91":46,"92":46,"93":93,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":105,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":3,"66":3,"67":3,"68":3,"69":69,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"85":46,"86":46,"87":3,"88":3,"89":46,"90":3,"91":3,"92":3,"93":46,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"102":43,"103":43,"104":43,"105":105,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"118":46,"119":46,"120":46,"121":46,"122":46,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":69,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":32,"98":46,"99":46,"100":32,"101":32,"102":46,"103":46,"104":104,"105":105,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":[46,49],"125":[46,49],"126":[46,49],"127":[46,49],"128":[46,49],"129":[46,49],"130":[46,49],"131":[46,49],"132":[46,49],"133":[46,49],"134":[46,49],"135":[46,49],"136":[46,49],"137":[46,49],"138":[46,49],"139":[46,49],"140":[46,49],"141":[46,49],"142":46,"143":[46,49],"144":46,"145":46},{"63":3,"66":3,"67":3,"68":3,"69":69,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"85":46,"86":46,"87":3,"88":3,"89":46,"90":3,"91":3,"92":3,"93":46,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"102":46,"103":46,"104":46,"105":46,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"118":46,"119":46,"120":46,"121":46,"122":46,"123":3,"124":[3,49],"125":[3,49],"126":[3,49],"127":[3,49],"128":[3,49],"129":[3,49],"130":[3,49],"131":[3,49],"132":[3,49],"133":[3,49],"134":[3,49],"135":[3,49],"136":[3,49],"137":[3,49],"138":[3,49],"139":[3,49],"140":[3,49],"141":[3,49],"142":3,"143":[3,49],"144":3,"145":3},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":42,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":42,"108":42,"109":46,"110":46,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":71,"72":46,"73":46,"74":46,"75":75,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":2,"77":2,"78":2,"79":2,"80":2,"81":2,"82":2,"83":2,"84":2,"85":46,"86":46,"87":46,"88":46,"89":42,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":2,"98":46,"99":46,"100":2,"101":2,"102":46,"103":46,"104":46,"105":46,"106":46,"107":42,"108":42,"109":2,"110":2,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":2,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":2,"145":2},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":42,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":42,"108":42,"109":46,"110":46,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":69,"70":46,"71":46,"72":46,"73":46,"74":46,"75":75,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":105,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":27,"70":46,"71":46,"72":46,"73":46,"74":46,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"85":46,"86":46,"87":46,"88":27,"89":27,"90":46,"91":46,"92":27,"93":27,"94":27,"95":46,"96":46,"97":27,"98":27,"99":27,"100":100,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":27,"145":27},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":71,"72":72,"73":73,"74":74,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":95,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":[46,3],"66":[46,3],"67":[46,3],"68":[46,3],"69":69,"70":[46,3],"71":[46,3],"72":[46,3],"73":[46,3],"74":[46,3],"75":[46,3],"76":[46,3],"77":[46,3],"78":[46,3],"79":[46,3],"80":[46,3],"81":[46,3],"82":[46,3],"83":[46,3],"84":[46,3],"85":46,"86":46,"87":[46,3],"88":[46,3],"89":[46,42],"90":[46,3],"91":[46,3],"92":[46,3],"93":93,"94":[46,3],"95":[46,3],"96":[46,3],"97":[46,3],"98":[46,3],"99":[46,3],"100":[46,3],"101":[46,3],"102":43,"103":43,"104":43,"105":[46,105],"106":106,"107":[46,42,3],"108":[46,42,3],"109":[46,3],"110":[46,3],"111":[46,42,3],"112":[46,42,3],"113":[46,42,3],"114":[46,42,3],"115":[46,42,3],"116":[46,42,3],"117":[46,42,3],"118":[46,42],"119":[46,42],"120":[46,42],"121":[46,42],"122":[46,42],"123":[46,3],"124":[46,3],"125":[46,3],"126":[46,3],"127":[46,3],"128":[46,3],"129":[46,3],"130":[46,3],"131":[46,3],"132":[46,3],"133":[46,3],"134":[46,3],"135":[46,3],"136":[46,3],"137":[46,3],"138":[46,3],"139":[46,3],"140":[46,3],"141":[46,3],"142":[46,3],"143":[46,3],"144":[46,3],"145":[46,3]},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":46,"103":46,"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":32,"77":77,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":32,"98":3,"99":3,"100":32,"101":32,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":3,"66":3,"67":3,"68":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"87":3,"88":3,"90":3,"91":3,"92":3,"94":3,"95":3,"96":3,"97":3,"98":3,"99":3,"100":3,"101":3,"106":3,"107":3,"108":3,"109":3,"110":3,"111":3,"112":3,"113":3,"114":3,"115":3,"116":3,"117":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"131":3,"132":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"139":3,"140":3,"141":3,"142":3,"143":3,"144":3,"145":3},{"63":22,"66":22,"67":22,"68":22,"70":22,"71":22,"72":22,"73":22,"74":22,"75":22,"85":22,"86":22,"87":22,"88":22,"89":22,"90":22,"91":22,"92":22,"94":22,"95":22,"96":22,"98":22,"99":22,"106":22,"107":22,"108":22,"109":22,"110":22,"111":22,"112":22,"113":22,"114":22,"115":22,"116":22,"117":22,"118":22,"119":22,"120":22,"121":22,"122":22,"123":22,"144":22,"145":22},{"63":22,"66":22,"67":22,"68":22,"70":22,"71":22,"72":22,"73":22,"74":22,"75":22,"85":22,"86":22,"87":22,"88":22,"89":22,"90":22,"91":22,"92":22,"94":22,"95":22,"96":22,"98":22,"99":22,"106":22,"107":22,"108":22,"109":22,"110":22,"111":22,"112":22,"113":22,"114":22,"115":22,"116":22,"117":22,"118":22,"119":22,"120":22,"121":22,"122":22,"123":22,"144":22,"145":22},{"63":22,"66":22,"67":22,"68":22,"70":22,"71":22,"72":22,"73":22,"74":22,"75":22,"85":22,"86":22,"87":22,"88":22,"89":22,"90":22,"91":22,"92":22,"94":22,"95":22,"96":22,"98":22,"99":22,"106":22,"107":22,"108":22,"109":22,"110":22,"111":22,"112":22,"113":22,"114":22,"115":22,"116":22,"117":22,"118":22,"119":22,"120":22,"121":22,"122":22,"123":22,"144":22,"145":22},{"111":111},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":[23,24,63],"66":[23,24,66],"67":[23,24,67],"68":[23,24,66,68],"70":[23,24,70],"71":[23,24],"72":[23,24],"73":[23,24],"74":[23,24],"75":[23,24],"85":[23,24],"86":[23,24],"87":[23,24],"88":[23,24],"89":[23,24],"90":[23,24,90],"91":[23,24,91],"92":[23,24],"94":[23,24],"95":[23,24],"96":[23,24],"98":[23,24,59],"99":[23,24],"106":[23,24],"107":[23,24],"108":[23,24],"109":[23,24],"110":[23,24],"111":[23,24],"112":[23,24],"113":[23,24],"114":[23,24],"115":[23,24],"116":[23,24],"117":[23,24],"118":[23,24],"119":[23,24],"120":[23,24],"121":[23,24],"122":[23,24],"123":[23,24],"144":[23,24,59],"145":[23,24]},{"63":[23,63],"66":23,"67":23,"68":23,"70":[23,70],"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":[23,90],"91":[23,91],"92":23,"94":23,"95":23,"96":23,"98":[23,59],"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":[23,59],"145":23},{"63":63,"66":66,"67":67,"68":68,"70":70,"71":24,"72":24,"73":24,"74":24,"75":24,"85":24,"86":24,"87":24,"88":24,"89":24,"90":90,"91":91,"92":24,"94":24,"95":24,"96":24,"98":59,"99":24,"106":24,"107":24,"108":24,"109":24,"110":24,"111":24,"112":24,"113":24,"114":24,"115":24,"116":24,"117":24,"118":24,"119":24,"120":24,"121":24,"122":24,"123":24,"144":59,"145":24},{"63":24,"66":24,"67":24,"68":24,"70":24,"71":24,"72":24,"73":24,"74":24,"75":24,"85":24,"86":24,"87":24,"88":24,"89":24,"90":24,"91":24,"92":24,"94":24,"95":24,"96":24,"98":59,"99":60,"106":24,"107":24,"108":24,"109":24,"110":110,"111":24,"112":24,"113":113,"114":24,"115":115,"116":24,"117":117,"118":24,"119":24,"120":24,"121":24,"122":24,"123":123,"144":59,"145":60},{"63":24,"66":24,"67":24,"68":24,"70":24,"71":24,"72":24,"73":24,"74":24,"75":24,"85":24,"86":24,"87":24,"88":24,"89":24,"90":24,"91":24,"92":24,"94":24,"95":24,"96":24,"98":24,"99":24,"106":24,"107":24,"108":24,"109":24,"110":24,"111":24,"112":24,"113":24,"114":24,"115":24,"116":24,"117":24,"118":24,"119":24,"120":24,"121":24,"122":24,"123":24,"144":24,"145":24},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":105,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":11,"66":11,"67":11,"68":11,"69":11,"70":11,"71":11,"72":11,"73":11,"74":11,"75":11,"76":11,"77":11,"78":11,"79":11,"80":11,"81":11,"82":11,"83":11,"84":11,"85":11,"86":11,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"94":11,"95":11,"96":11,"97":11,"98":11,"99":11,"100":11,"101":11,"102":11,"103":11,"104":11,"105":11,"106":11,"107":11,"108":11,"109":11,"110":11,"111":11,"112":11,"113":11,"114":11,"115":11,"116":11,"117":11,"118":11,"119":11,"120":11,"121":11,"122":11,"123":11,"124":11,"125":11,"126":11,"127":11,"128":11,"129":11,"130":11,"131":11,"132":11,"133":11,"134":11,"135":11,"136":11,"137":11,"138":11,"139":11,"140":11,"141":11,"142":11,"143":11,"144":11,"145":11},{"63":13,"66":13,"67":13,"68":13,"69":13,"70":13,"72":38,"73":38,"74":13,"76":13,"77":13,"78":13,"79":13,"80":13,"81":13,"82":13,"83":13,"84":13,"85":13,"86":13,"88":13,"89":13,"91":13,"93":13,"94":13,"95":13,"96":13,"97":13,"98":13,"99":13,"100":13,"101":13,"102":13,"103":13,"104":13,"105":13,"106":13,"118":13,"119":13,"120":13,"121":13,"122":13,"135":13,"136":13,"140":13,"141":13,"142":13},{"63":13,"66":66,"67":13,"68":66,"69":13,"70":13,"72":13,"73":13,"74":13,"76":13,"77":13,"78":13,"79":13,"80":13,"81":13,"82":13,"83":13,"84":13,"85":13,"86":13,"88":13,"89":13,"91":13,"93":13,"94":13,"95":13,"96":13,"97":13,"98":13,"99":13,"100":13,"101":13,"102":13,"103":13,"104":13,"105":13,"106":13,"118":13,"119":13,"120":13,"121":13,"122":13,"135":13,"136":13,"140":13,"141":13,"142":13},{"63":12,"66":12,"67":12,"68":12,"69":12,"74":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"88":12,"89":12,"90":12,"91":12,"93":12,"94":12,"95":12,"96":12,"97":12,"98":12,"99":12,"100":12,"101":12,"102":12,"103":12,"104":12,"105":12,"106":12,"118":12,"119":12,"120":12,"121":12,"122":12,"124":12,"125":12,"126":12,"127":12,"128":12,"129":12,"130":12,"131":12,"132":12,"133":12,"134":12,"135":12,"136":12,"137":12,"138":12,"139":12,"140":12,"141":12,"143":12},{"63":12,"66":12,"67":12,"68":12,"69":69,"74":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"88":12,"89":12,"90":12,"91":12,"93":12,"94":12,"95":12,"96":12,"97":12,"98":12,"99":12,"100":12,"101":12,"102":12,"103":12,"104":12,"105":12,"106":12,"118":12,"119":12,"120":12,"121":12,"122":12,"124":12,"125":12,"126":12,"127":12,"128":12,"129":12,"130":12,"131":12,"132":12,"133":12,"134":12,"135":12,"136":12,"137":12,"138":12,"139":12,"140":12,"141":12,"143":12},{"63":12,"66":12,"67":12,"68":12,"69":69,"74":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"88":12,"89":12,"90":12,"91":12,"93":12,"94":12,"95":12,"96":12,"97":12,"98":12,"99":12,"100":12,"101":12,"102":12,"103":12,"104":12,"105":12,"106":12,"118":12,"119":12,"120":12,"121":12,"122":12,"124":12,"125":12,"126":12,"127":12,"128":12,"129":12,"130":12,"131":12,"132":12,"133":12,"134":12,"135":12,"136":12,"137":12,"138":12,"139":12,"140":12,"141":12,"143":12},{"63":12,"66":12,"67":12,"68":12,"69":12,"74":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"88":12,"89":12,"90":12,"91":12,"93":12,"94":12,"95":12,"96":12,"97":12,"98":12,"99":12,"100":12,"101":12,"102":12,"103":12,"104":12,"105":12,"106":12,"118":12,"119":12,"120":12,"121":12,"122":12,"124":12,"125":12,"126":12,"127":12,"128":12,"129":12,"130":12,"131":12,"132":12,"133":12,"134":12,"135":12,"136":12,"137":12,"138":12,"139":12,"140":12,"141":12,"143":12},{"63":12,"66":12,"67":12,"68":12,"69":69,"74":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"88":12,"89":12,"90":12,"91":12,"93":12,"94":12,"95":12,"96":12,"97":12,"98":12,"99":12,"100":12,"101":12,"102":12,"103":12,"104":12,"105":12,"106":12,"118":12,"119":12,"120":12,"121":12,"122":12,"124":12,"125":12,"126":12,"127":12,"128":12,"129":12,"130":12,"131":12,"132":12,"133":12,"134":12,"135":12,"136":12,"137":12,"138":12,"139":12,"140":12,"141":12,"143":12},{"63":12,"66":12,"67":12,"68":12,"69":12,"74":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"88":12,"89":12,"90":12,"91":12,"93":12,"94":12,"95":12,"96":12,"97":12,"98":12,"99":12,"100":12,"101":12,"102":12,"103":12,"104":12,"105":12,"106":12,"118":12,"119":12,"120":12,"121":12,"122":12,"124":12,"125":12,"126":12,"127":12,"128":12,"129":12,"130":12,"131":12,"132":12,"133":12,"134":12,"135":12,"136":12,"137":12,"138":12,"139":12,"140":12,"141":12,"143":12},{"63":14,"66":14,"67":14,"68":14,"69":69,"74":14,"76":14,"77":14,"78":14,"79":14,"80":14,"81":14,"82":14,"83":14,"84":14,"85":14,"86":14,"88":14,"89":14,"90":14,"93":14,"94":14,"95":14,"96":14,"97":14,"98":14,"99":14,"100":14,"101":14,"102":14,"103":14,"104":14,"105":14,"106":14,"118":14,"119":14,"120":14,"121":14,"122":14,"124":14,"125":14,"126":14,"127":14,"128":14,"129":14,"130":14,"131":14,"132":14,"133":14,"134":14,"135":14,"136":14,"137":14,"138":14,"139":14,"140":14,"141":14,"143":14},{"63":28,"66":28,"67":28,"68":28,"70":28,"71":28,"72":28,"73":28,"74":28,"75":28,"76":28,"77":28,"78":28,"79":28,"80":28,"81":28,"82":28,"83":28,"84":28,"85":28,"86":28,"87":28,"88":28,"89":28,"90":28,"91":28,"92":28,"94":28,"95":28,"96":28,"97":28,"98":28,"99":28,"100":28,"101":28,"105":28,"106":28,"107":28,"108":28,"109":28,"110":28,"111":28,"112":28,"113":28,"114":28,"115":28,"116":28,"117":28,"118":28,"119":28,"120":28,"121":28,"122":28,"123":28,"124":28,"125":28,"126":28,"127":28,"128":28,"129":28,"130":28,"131":28,"132":28,"133":28,"134":28,"135":28,"136":28,"137":28,"138":28,"139":28,"140":28,"141":28,"142":28,"143":28,"144":28,"145":28},{"63":20,"66":20,"67":20,"68":20,"70":20,"71":20,"72":20,"73":20,"74":20,"75":20,"76":20,"77":20,"78":20,"79":20,"80":20,"81":20,"82":20,"83":20,"84":20,"85":20,"86":20,"87":20,"88":20,"89":20,"90":20,"91":20,"92":20,"94":20,"95":20,"96":20,"97":20,"98":20,"99":20,"100":20,"101":20,"102":20,"103":20,"104":20,"105":20,"107":20,"108":20,"109":20,"110":20,"111":20,"112":20,"113":20,"114":20,"115":20,"116":20,"117":20,"123":20,"124":20,"125":20,"126":20,"127":20,"128":20,"129":20,"130":20,"131":20,"132":20,"133":20,"134":20,"135":20,"136":20,"137":20,"138":20,"139":20,"140":20,"141":20,"142":20,"143":20,"144":20,"145":20},{"63":20,"66":20,"67":20,"68":20,"70":20,"71":20,"72":20,"73":20,"74":20,"75":20,"76":20,"77":20,"78":20,"79":20,"80":20,"81":20,"82":20,"83":20,"84":20,"85":20,"86":20,"87":20,"88":20,"89":20,"90":20,"91":20,"92":20,"94":20,"95":20,"96":20,"97":20,"98":20,"99":20,"100":20,"101":20,"102":20,"103":20,"104":20,"105":20,"107":20,"108":20,"109":20,"110":20,"111":20,"112":20,"113":20,"114":20,"115":20,"116":20,"117":20,"123":20,"124":20,"125":20,"126":20,"127":20,"128":20,"129":20,"130":20,"131":20,"132":20,"133":20,"134":20,"135":20,"136":20,"137":20,"138":20,"139":20,"140":20,"141":20,"142":20,"143":20,"144":20,"145":20},{"63":6,"66":6,"67":6,"68":6,"70":6,"71":6,"76":6,"77":6,"78":6,"79":6,"80":6,"81":6,"82":6,"83":6,"84":6,"85":6,"86":6,"87":6,"88":6,"89":6,"92":6,"93":6,"94":6,"95":6,"96":6,"97":6,"98":6,"99":6,"100":6,"101":6,"102":6,"103":6,"104":6,"105":6,"106":6,"107":6,"108":6,"111":6,"112":6,"113":6,"114":6,"116":6,"117":6,"118":6,"119":6,"120":6,"121":6,"122":6,"135":6,"136":6,"140":6,"141":6,"142":6},{"63":63,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":100,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":63,"66":66,"67":17,"68":66,"69":17,"70":17,"71":17,"72":17,"73":17,"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"85":85,"86":86,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":32,"98":17,"99":17,"100":100,"101":32,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":19,"66":19,"67":17,"68":19,"69":17,"70":17,"71":17,"72":17,"73":17,"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"85":19,"86":19,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":32,"98":17,"99":17,"100":32,"101":32,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":63,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":100,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":27,"70":17,"71":17,"72":17,"73":17,"75":27,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"88":27,"89":27,"90":17,"92":27,"93":27,"94":27,"95":17,"96":17,"97":17,"98":27,"99":27,"100":17,"101":17,"102":27,"103":27,"104":27,"105":27,"106":17,"107":17,"108":17,"109":17,"110":27,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":27,"119":27,"120":27,"121":27,"122":27,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":27,"145":27},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":76,"77":17,"78":17,"79":17,"80":39,"81":39,"82":39,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":39,"98":17,"99":17,"100":100,"101":101,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":[17,62],"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":[17,62],"145":[17,62]},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":100,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":63,"66":66,"67":17,"68":66,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":39,"81":39,"82":39,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":10,"93":17,"94":17,"95":17,"96":17,"97":39,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":[17,62],"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":[17,62],"145":[17,62]},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":17,"125":17,"126":17,"127":17,"128":17,"129":17,"130":17,"131":17,"132":17,"133":17,"134":17,"135":17,"136":17,"137":17,"138":17,"139":17,"140":17,"141":17,"142":17,"143":17,"144":17,"145":17},{"63":17,"66":17,"67":17,"68":17,"69":17,"70":17,"71":17,"72":17,"73":17,"76":17,"77":17,"78":17,"79":17,"80":17,"81":17,"82":17,"83":17,"84":17,"85":17,"86":17,"87":17,"89":17,"90":17,"92":17,"93":17,"94":17,"95":17,"96":17,"97":17,"98":17,"99":17,"100":17,"101":17,"105":17,"106":17,"107":17,"108":17,"109":17,"110":17,"111":17,"112":17,"113":17,"114":17,"115":17,"116":17,"117":17,"118":17,"119":17,"120":17,"121":17,"122":17,"123":17,"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"142":17,"143":49,"144":17,"145":17},{"63":63,"66":66,"67":19,"68":66,"85":19,"86":19},{"63":63,"66":66,"67":67,"68":66,"85":85,"86":86},{"63":19,"66":19,"67":19,"68":19,"85":19,"86":19},{"63":19,"66":19,"67":19,"68":19,"85":19,"86":19},{"63":25,"66":25,"67":25,"68":25,"87":25,"110":25,"144":25,"145":25},{"63":25,"66":25,"67":25,"68":25,"87":25,"110":25,"144":25,"145":25},{"63":25,"66":25,"67":25,"68":25,"87":25,"110":25,"144":25,"145":25},{"63":63,"66":58,"67":58,"68":58,"87":25,"110":58,"144":58,"145":58},{"63":63,"66":25,"67":25,"68":25,"87":25,"110":25,"144":25,"145":25},{"63":33,"66":33,"67":33,"68":33,"70":33,"73":33,"74":33,"88":33,"91":33,"95":33,"96":33,"124":33,"125":33,"126":33,"127":33,"128":33,"129":33,"130":33,"131":33,"132":33,"133":33,"134":33,"135":33,"136":33,"137":33,"138":33,"139":33,"140":33,"141":33,"142":33,"143":33},{"63":33,"66":33,"67":33,"68":33,"70":33,"73":33,"74":33,"88":33,"91":33,"95":33,"96":33,"124":33,"125":33,"126":33,"127":33,"128":33,"129":33,"130":33,"131":33,"132":33,"133":33,"134":33,"135":33,"136":33,"137":33,"138":33,"139":33,"140":33,"141":33,"142":33,"143":33},{"63":63,"66":66,"67":67,"68":66,"69":69,"70":70,"71":71,"72":72,"73":73,"74":74,"76":15,"77":15,"78":15,"79":15,"80":15,"81":15,"82":15,"83":15,"84":15,"85":85,"86":86,"87":87,"88":88,"89":89,"90":90,"92":92,"93":93,"94":94,"95":95,"96":96,"97":15,"98":59,"99":60,"100":100,"101":15,"102":43,"103":43,"104":43,"105":105,"106":106,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"118":118,"119":119,"120":120,"121":121,"122":122,"123":54,"124":47,"125":47,"126":47,"127":47,"128":47,"129":47,"130":47,"131":47,"132":47,"133":47,"134":47,"135":47,"136":47,"137":47,"138":47,"139":47,"140":47,"141":47,"142":47,"143":47,"144":59,"145":60},{"63":63,"66":66,"68":66},{"64":64},{"64":64},{"66":58,"67":58,"68":58,"110":58,"144":58,"145":58},{"66":58,"67":58,"68":58,"110":[58,62],"144":[58,62],"145":[58,62]},{"66":66,"68":66},{"66":66,"68":66},{"66":66,"67":67,"68":68},{"66":66,"68":66},{"66":66,"68":66},{"66":66,"68":66},{"66":66,"68":66},{"69":26,"75":26,"76":26,"77":26,"78":26,"79":26,"80":26,"81":26,"82":26,"83":26,"84":26,"88":26,"89":26,"92":26,"93":26,"94":26,"97":26,"98":26,"99":26,"100":26,"101":26,"102":26,"103":26,"104":26,"105":26,"106":26,"107":55,"108":55,"109":26,"110":26,"111":55,"112":55,"113":55,"114":55,"115":26,"116":55,"117":55,"118":26,"119":26,"120":26,"121":26,"122":26,"123":26,"144":26,"145":26},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":80,"81":27,"82":27,"83":27,"84":27,"85":35,"86":35,"88":27,"89":89,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":100,"101":27,"102":102,"103":103,"104":27,"105":105,"106":106,"107":107,"108":56,"109":27,"110":27,"111":27,"112":27,"113":113,"114":27,"115":115,"116":56,"117":117,"118":118,"119":27,"120":27,"121":121,"122":122,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":80,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":80,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":43,"103":43,"104":43,"105":105,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":92,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":[27,69],"75":27,"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"88":27,"89":27,"92":27,"93":27,"94":27,"97":32,"98":27,"99":27,"100":32,"101":32,"102":27,"103":27,"104":27,"105":27,"106":27,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"118":27,"119":27,"120":27,"121":27,"122":27,"123":54,"144":54,"145":54},{"69":69,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":100,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"88":27,"89":27,"92":27,"93":27,"94":27,"97":32,"98":27,"99":27,"100":32,"101":32,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":27,"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":27,"93":27,"94":27,"97":27,"98":27,"99":27,"100":27,"101":27,"102":27,"103":27,"104":27,"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":27,"75":75,"76":32,"77":32,"78":32,"79":32,"80":80,"81":32,"82":32,"83":32,"84":32,"88":27,"89":27,"92":92,"93":27,"94":27,"97":32,"98":27,"99":27,"100":32,"101":32,"102":27,"103":27,"104":27,"105":105,"106":27,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"118":27,"119":27,"120":27,"121":27,"122":27,"123":54,"144":54,"145":54},{"75":75,"92":92,"105":105,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"105":105,"106":106,"108":56,"116":56,"117":117,"121":121},{"69":69,"102":7,"103":7,"104":7},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"69":69},{"72":38,"73":38},{"72":38,"73":38},{"72":38,"73":38},{"72":72,"73":73},{"75":75},{"75":75},{"75":75},{"75":75},{"75":75},{"75":75},{"76":15,"77":15,"78":15,"79":15,"80":15,"81":15,"82":15,"83":15,"84":15,"97":15,"100":100,"101":15},{"76":15,"77":15,"78":15,"79":15,"80":15,"81":15,"82":15,"83":15,"84":15,"97":15,"100":15,"101":15},{"76":15,"77":15,"78":15,"79":15,"80":15,"81":15,"82":15,"83":15,"84":15,"97":15,"100":15,"101":15},{"76":76,"77":15,"78":15,"79":15,"80":15,"81":15,"82":15,"83":15,"84":15,"97":15,"100":15,"101":15},{"76":15,"77":15,"78":15,"79":15,"80":15,"81":15,"82":15,"83":15,"84":15,"97":15,"100":15,"101":15},{"76":15,"77":[15,61],"78":[15,61,78],"79":15,"80":[15,39],"81":[15,39],"82":[15,39],"83":15,"84":15,"97":[15,39],"100":15,"101":15},{"76":4,"77":4,"78":4,"79":4,"80":4,"81":4,"82":4,"83":4,"84":4,"97":4,"100":4,"101":4,"109":4,"110":4,"123":4,"144":4,"145":4},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32,"109":4,"110":4,"123":4,"144":4,"145":4},{"76":76,"77":77,"78":78,"79":79,"80":80,"81":81,"82":82,"83":83,"84":84,"97":97,"100":100,"101":101,"109":4,"110":4,"123":4,"144":4,"145":4},{"76":76,"77":77,"78":78,"79":79,"80":80,"81":81,"82":82,"83":83,"84":84,"97":97,"100":100,"101":101,"109":4,"110":4,"123":4,"144":4,"145":4},{"76":4,"77":4,"78":4,"79":4,"80":4,"81":4,"82":4,"83":4,"84":4,"97":4,"100":4,"101":4,"109":4,"110":4,"123":4,"144":4,"145":4},{"76":4,"77":4,"78":4,"79":4,"80":4,"81":4,"82":4,"83":4,"84":4,"97":4,"100":4,"101":4,"109":4,"110":4,"123":4,"144":4,"145":4},{"76":18,"77":77,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"76":2,"77":2,"78":2,"79":2,"80":2,"81":2,"82":2,"83":2,"84":2,"97":2,"100":2,"101":2,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"76":2,"77":2,"78":2,"79":2,"80":2,"81":2,"82":2,"83":2,"84":2,"97":2,"100":2,"101":2,"107":2,"108":2,"109":2,"110":2,"111":2,"112":2,"113":2,"114":2,"115":2,"116":2,"117":2,"123":2,"144":2,"145":2},{"76":2,"77":2,"78":2,"79":2,"80":2,"81":2,"82":2,"83":2,"84":2,"97":2,"100":2,"101":2,"107":2,"108":2,"109":2,"110":2,"111":2,"112":2,"113":2,"114":2,"115":2,"116":2,"117":2,"123":2,"144":2,"145":2},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"89":42,"97":18,"100":18,"101":18,"107":42,"108":42,"109":2,"110":2,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42,"123":2,"144":2,"145":2},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":77,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"89":42,"97":18,"100":18,"101":18,"107":42,"108":42,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42},{"76":18,"77":77,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":77,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":77,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":100,"101":18},{"76":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"83":18,"84":18,"97":18,"100":18,"101":18},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"89":42,"97":32,"100":32,"101":32,"107":42,"108":42,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":100,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":80,"81":39,"82":39,"83":32,"84":32,"97":97,"100":32,"101":32},{"76":76,"77":[32,77],"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":76,"77":77,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":100,"101":32},{"76":52,"77":52,"78":52,"79":52,"101":101},{"76":76,"101":101},{"76":76,"77":77,"78":78,"79":79},{"76":76,"77":77,"78":78,"79":79},{"76":76},{"76":76},{"77":77},{"77":77,"83":83},{"77":77},{"77":77},{"78":78,"89":89,"102":43,"103":43,"104":43,"105":105,"106":106,"107":107,"108":56,"111":111,"112":112,"116":56,"119":119,"120":120,"121":121,"122":122},{"80":39,"81":39,"82":39,"92":92,"97":39},{"80":[10,80],"81":10,"82":10,"92":10,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":39,"81":39,"82":39,"92":92,"97":39},{"80":80,"81":10,"82":10,"92":10,"97":10},{"80":39,"81":39,"82":39,"92":10,"97":39},{"80":10,"81":10,"82":10,"92":92,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":10,"81":10,"82":10,"92":10,"97":10},{"80":[10,80],"81":10,"82":10,"92":10,"97":10},{"80":80,"81":39,"82":39,"97":39},{"80":39,"81":39,"82":39,"92":92,"97":39},{"80":39,"81":39,"82":39,"97":39},{"80":80},{"80":80},{"81":81,"83":83,"84":84,"90":90,"100":100,"141":141},{"83":83,"84":84},{"84":84},{"85":85,"86":86,"107":107,"122":122},{"85":85,"86":86,"107":107,"122":122},{"87":87},{"87":87},{"87":87},{"87":87},{"87":87},{"87":87},{"87":87},{"87":87},{"87":87},{"87":87},{"89":42,"107":42,"108":56,"111":42,"112":42,"113":42,"114":42,"115":42,"116":56,"117":42,"118":42,"119":42,"120":42,"121":121,"122":42},{"89":42,"107":42,"108":42,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42},{"89":42,"107":42,"108":42,"111":42,"112":42,"113":113,"114":42,"115":42,"116":42,"117":117,"118":42,"119":42,"120":42,"121":42,"122":42,"123":123},{"89":42,"107":42,"108":42,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42},{"89":42,"107":42,"108":42,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42},{"89":42,"107":42,"108":42,"111":42,"112":42,"113":42,"114":42,"115":42,"116":42,"117":42,"118":42,"119":42,"120":42,"121":42,"122":42},{"90":90},{"90":90},{"90":90},{"90":90},{"90":90},{"91":91},{"91":91},{"91":91},{"92":92},{"92":92},{"92":92},{"92":92},{"93":93},{"100":16},{"100":100},{"101":101},{"102":7,"103":7,"104":7},{"102":43,"103":43,"104":43,"105":105},{"102":43,"103":43,"104":43},{"102":43,"103":43,"104":43},{"104":104},{"105":105},{"105":105},{"105":105},{"105":105},{"105":105},{"106":41,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"106":41},{"106":41},{"106":41},{"106":106},{"106":106,"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":107,"108":54,"109":54,"110":110,"111":54,"112":54,"113":113,"114":54,"115":115,"116":116,"117":117,"123":54,"144":110,"145":110},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":54,"108":54,"109":54,"110":54,"111":54,"112":54,"113":54,"114":54,"115":54,"116":54,"117":54,"123":54,"144":54,"145":54},{"107":107,"122":122},{"107":107},{"107":107},{"110":110,"144":110,"145":110},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"142":142,"143":49},{"124":47,"125":47,"126":47,"127":47,"128":47,"129":47,"130":47,"131":47,"132":47,"133":47,"134":47,"135":47,"136":47,"137":47,"138":47,"139":47,"140":47,"141":47,"142":142,"143":47},{"124":47,"125":47,"126":47,"127":47,"128":47,"129":47,"130":47,"131":47,"132":47,"133":47,"134":47,"135":47,"136":47,"137":47,"138":47,"139":47,"140":47,"141":47,"142":47,"143":47},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49},{"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"143":49}],methodNames:["isReattchable","isPageChildInstance","getInitializedTargetConnections","shouldBeWithLayoutOnMobile","getLoadingRequirements","disableStyleProperties","isFillHorizontal","isFillVertical","wasEditedInMode","setAsEditedInMode","hasHorizontalLayout","hasVerticalLayout","addElementToPage","isForTemplateUse","refreshCursor","isInDesignMode","isInMobileMode","isTemplateItemContent","getTemplateItemContent","setTemplateItemContent","isDataListItem","getBorderBox","getPaddingBox","changeElementSize","getPositionBox","getElementSizeBox","getBackgroundTarget","getBorderTarget","getMainBox","getVisibilityTargets","getDataItemId","getContentLayer","showParents","setToCurrentMode","setToPreview","isInPreview","shouldInitInstanceOnPageChange","showElement","hideElement","shouldBeDisplayed","performWhenVisible","stopVisibilityAnimations","getStructureMetaData","shouldReferToStateValue","onBeforePageLeave","getCalculatedPropertyValue","setCalculatedPropertyValue","canPush","hasBindingToFields","setSkinInstanceBox","getSkinInstanceBox","getMainSkinInstance","getStyleFieldData","setStyleBindingId","getStyleBindingId","applyDelegatedPropertiesOnInstance","applyDelegatedPropertyOnInstance","getPrioritizedStates","isPropertyBoundToStyleField","isPropertyBoundToPropertyField","getStyleFieldsNames","refreshStyleBinding","getNoneContentSize","refreshFixedState","getLayoutAffectedInstances","calculateActualOffset","calculateActualSize","getLastResizingSize","calcualateLastResizingSize","setLastResizingSize","hasHeight","hasWidth","isRelativePositioned","toggleRelativePosition","getRelativePosition","getMinSize","getMaxSize","toggleVisibilityInMode","isVisibleInMode","setContentSize","getShadowTarget","refreshTracking","handleContentSizeChange","isFixed","isRootInstance","isAttachedToVisibleNode","getStaticMargin","isSupportsMobile","toggleMobileSupport","renderElement","renderElementChildren","renderElementContent","isConvertedToMobile","isUpdatedToViewPort","shouldBeHiddenInMode","getAutoLayoutProperties","shouldDisplayOnMobile","shouldBeBlockElementInMobile","isBlock","addToCellItem","removeElementFromCellItem","reAttachElementToContainer","getCellItem","setCellItem","refreshCellHorizontalAlignment","updateCellItemData","getCellItemData","removeCellItem","setNeverSelectedInClick","isUserSelected","userSelect","getDisplayName","isConnectedToField","getContentBindingDisplayName","setBindingValueToProperty","setBindingValuesToProperties","isBoundToProperty","setBinding","refreshBinding","updateBinding","isInRefreshing","isBound","getBindingFields","createBindingFieldsToProperties","onUpdateBindingReady","hasBinding","hasButtonBehaviour","removeUrl","markSelection","unMarkSelection","canSelect","canBeSelected","canBeSelectedInAreaSelection","isChildsCanBeSelectedInAreaSelection","toggleSelectable","handleBackgroundUpdate","getForeGroundPropertyName","useImageLayer","getImageLayerTemplate","forceImageBoxCreation","getImageBox","handleImageBoxBorderWidthChange","setImageBoxViewport","autoCalculateBackgroundViewPort","toggleVisibility","isVerticallyDocked","getParentContentSize","hasPadding","hasVerticalAlign","hasHorizontalAlign","alignHorizontal","alignVertical","alignContentHorizontal","hasContentVerticalAlign","hasContentHorizontalAlign","getElementDataContentSize","calculateSizeContent","getNewContentSize","calculateNewContentSize","adjustSizeToContent","getElementDataContent","whenInstanceContentHeightChanged","calculateNormalizedHeight","refreshTextLayout","getTextElements","calculateFontSize","calculateDecimalLineHeight","startEditing","finishEditing","isEditing","editingEnabled","onEditingDisable","canRotate","setRotation","creationFunction","startEditingOnClick","getSkin","updateSkin","normalizeSize","refreshContentSize","getScrollable","getTextContentElement","getBindingType","findUsedTextStyles","findUsedFonts","useRichTextEditor","getRichContentFormatting","setOverFlow","canDuplicate","isUnique","isMandatory","addRowToContainer","removeRowFromContainer","getRowsFromContainer","hasRowsFromContainer","selectBeforeChildren","getContextChildren","hasBoundaries","adjustSizeAndPositionToChilds","append","reorderChildElements","addChildElement","canContainerRows","getChildrenCollection","accept","isDroppable","canDelete","getHandlePosition","refreshPageMetaData","getContentArea","attachPage","getFooterInstanceHeight","getHeaderInstanceHeight","getFooterInstance","getHeaderInstance","setFooterInstance","setHeaderInstance","getPageContentInstancesMap","getPageContentInstances","addPageContentInstance","removePageContentInstance","getCanvas","getShape","createContent","createShape","disableGroup","enableGroup","startGroupUpdating","finishGroupUpdating","refreshGroupArea","isGroupDisabled","calculateDiffHeight","reArrangeTheTemplates","requestArrangement","addArrangementRequest","getArrangementRequestName","getArrangementOptions","getDataSource","getAllItemsIds","getDataSourceName","getDataSourceDefinition","onItemChanged","getItemFieldsToRequest","getSkinBinding","getSkinId","getStyleObject","getStyleFieldsMetaData","isMobileOnlyStyle","getInstanceForEditTemplate","getInstanceForStatePreview","getFirstDisplayedListItem","updateSkinBindingFromEditingTemplate","shouldRefreshTemplates","refreshTemplates","refreshTemplatesSize","resetItemTemplateSize","getDefaultFieldName","getDefaultTemplate","getFieldsTemplates","getDataItemInstanceId","getTemplateInstance","getInstanceController","getItemsInstances","getItemsControllers","getPcTemplateSize","adjustDataListToMobile","calculateItemSizeOnMobile","updateDataListToMobile","removeDataListFromMobile","shouldRequestArrangementFromSizeChange","setContentSizeChangeBinding","refreshSelectedItem","unSelectAll","onItemSet","getPotentialSelectedMenuItemId","isConnectedToNavigatable","getNavigableInstance","isNavigationButton","getManageTitle","getNavigationButtonTemplate","swapItemsIndex","canRedropTo","navigateTo","navigateToTabIndex","navigate","showItem","getUrlAddressForPage","getNavigatableInstances","getAutoNavigationDuration","getItemsCollection","getFieldsCollection","getItemsInformation","getFieldsInformation","startAutoNavigation","stopAutoNavigation","getCurrentPageIndex","shouldMaintainHeightInPreview","getCurrentItem","changeCurrentItem","isPrimary","togglePrimary","getEmptyTemplateInfo","supportsEditContent","getManageItemsTitle","clear","getValue","getMapController","refreshMapPosition","getMarkersCollection","moveToMarker","updateMarkerPosition","setMarkerIcon","updateMarker","addMarker","removeMarker","clearAllMarkers","hasEditingBehaviour","getDataItem","getFieldName","setDataItemId","getItemMainParent","setTemplateStructure","hidePreviewImage","play","stop","pause","isAutoPlay","getImageSizeInLayout","hideImageLoadingOverlay","showImageLoadingOverlay","addItem","addCustomItem","removeCurrentItem","removeItem","getContextInstances","showArrangementSettingsPanel","mainTypeChange","getDefaultStructure","getResizingGrip","isArrangeable","isFirstSection","isLastSection","getPageContentInstance","getPageContentElement","addSectionElement","removeSectionElement","getSectionsByPage","getVisibleSectionsByPage","getFieldsMap","getInstancesByField","submitChildToField","removeChildFromField","getStyleStateAffectedInstances","getInstancesBindingsByField","initiailizeDelegatedContentBinding","setSkinInstanceControllerFromBinding","getSkinInstance","getSkinSupportedStates","getSkinFieldsValues","getSkinStatesAnimations","extendDataSourceOptionsWith","setStructureProcessor","getInputField","getInputTitle","refreshFormInput","getDelegatedContentInstance","getIFrameUrl","isScrollableIFrame","reloadIFrame","setDocumentSize","setAppSize","setAppContentSize","createCallInfo","getAppDefinition","getAppSettingPrefix","getAppSettings","getAppSettingValue","setAppSettingValue","isQueryParamSetting","getApiManager","reloadApp","bindAppSettingProperty"],aggregated:[{"63":[46,12,14,19,29,63],"64":null,"65":null,"66":[46,12,14,29,19,66],"67":[19,46,12,14,29],"68":[46,12,14,29,19,66],"69":[46,26,12,14,69],"70":[46,29],"71":46,"72":[46,72],"73":46,"74":[46,12,14,29],"75":[46,26],"76":[46,12,14,29,15,26,2,32,52,76],"77":[46,12,14,29,15,26,2,32,52,61,77],"78":[46,12,14,29,15,26,2,32,52,61,78],"79":[46,12,14,29,15,26,2,32,52],"80":[46,12,14,29,15,26,2,32,10,39,80],"81":[46,12,14,29,15,26,2,32,10,39],"82":[46,12,14,29,15,26,2,32,10,39],"83":[46,12,14,29,15,26,2,32],"84":[46,12,14,29,15,26,2,32],"85":[46,12,14,19,29,85],"86":[46,12,14,19,29,86],"87":[46,29,87],"88":[46,12,14,26,29],"89":[46,12,14,26,29],"90":[46,12,14,29,90],"91":[46,12,29],"92":[46,26,29,10,92],"93":[46,26,29,12,14,93],"94":[46,12,14,29,26],"95":[46,12,14,29],"96":[46,12,14,29],"97":[46,12,14,29,15,26,2,32,10,39],"98":[46,12,14,29,26],"99":[46,12,14,29,26],"100":[46,12,14,29,15,26,2,32,16],"101":[46,12,14,29,15,26,2,32],"102":[46,12,14,26,7,43,29,102],"103":[46,12,14,26,7,43,29,103],"104":[46,12,14,26,7,43,29,104],"105":[46,12,14,26,29,105],"106":[46,41,12,14,26,29,106],"107":[46,26,2],"108":[46,26,2],"109":[46,26,2],"110":[46,26,2],"111":[46,26,2],"112":[46,26,2],"113":[46,26,2],"114":[46,26,2],"115":[46,26,2],"116":[46,26,2],"117":[46,26,2],"118":[46,12,14,26,29],"119":[46,12,14,26,29],"120":[46,12,14,26,29],"121":[46,12,14,26,29],"122":[46,12,14,26,29],"123":[46,26,2,53],"124":[46,12,14,49],"125":[46,12,14,49],"126":[46,12,14,49],"127":[46,12,14,49],"128":[46,12,14,49],"129":[46,12,14,49],"130":[46,12,14,49],"131":[46,12,14,49],"132":[46,12,14,49],"133":[46,12,14,49],"134":[46,12,14,49],"135":[46,12,14,29,49],"136":[46,12,14,29,49],"137":[46,12,14,49],"138":[46,12,14,49],"139":[46,12,14,49],"140":[46,12,14,29,49],"141":[46,12,14,29,49,141],"142":[46,29],"143":[46,12,14,49],"144":[46,26,2],"145":[46,26,2]},{"63":[5,44,23,11,28,20],"64":null,"65":null,"66":[5,44,11,28,20,23,58,66],"67":[5,44,11,28,20,23,58,67],"68":[5,44,11,28,20,23,58,66],"69":[5,44,11],"70":[5,44,11,20,23,28,70],"71":[5,44,11,20,28,23],"72":[5,44,11,20,28,23,38],"73":[5,44,11,20,28,23,38],"74":[5,44,11,20,23,28],"75":[5,44,11,23,20,28,75],"76":[5,44,11,20,28,4,76],"77":[5,44,11,20,28,4,77],"78":[5,44,11,20,28,4],"79":[5,44,11,20,28,4],"80":[5,44,11,20,28,4],"81":[5,44,11,20,28,4],"82":[5,44,11,20,28,4],"83":[5,44,11,20,28,4],"84":[5,44,11,20,28,4],"85":[5,44,11,23,28,20,36],"86":[5,44,11,23,28,20,36],"87":[5,44,28,23,11,20,87],"88":[5,44,11,20,23,28],"89":[5,44,11,20,23,28,42],"90":[5,44,11,23,20,28,90],"91":[5,44,11,28,20,23,91],"92":[5,44,11,20,23,28],"93":[5,44],"94":[5,44,11,23,20,28],"95":[5,44,11,20,23,28],"96":[5,44,11,20,23,28],"97":[5,44,11,20,28,4],"98":[5,44,11,23,20,28],"99":[5,44,11,23,20,28],"100":[5,44,11,20,36,28,4],"101":[5,44,11,20,28,4],"102":[5,44,11,20,43],"103":[5,44,11,20,43],"104":[5,44,11,20,43],"105":[5,44,11,20,28],"106":[5,44,36,11,23,28],"107":[5,44,42,11,20,23,28,55,107],"108":[5,44,42,11,20,23,28,55],"109":[5,44,4,11,20,23,28],"110":[5,44,4,23,58,62,11,20,28,110],"111":[5,44,42,11,20,23,28,55],"112":[5,44,42,11,20,23,28,55],"113":[5,44,42,11,20,23,28,55],"114":[5,44,42,11,20,23,28,55],"115":[5,44,42,11,20,23,28],"116":[5,44,42,11,20,23,28,55],"117":[5,44,42,11,20,23,28,55],"118":[5,44,11,23,28,42],"119":[5,44,11,23,28,42],"120":[5,44,11,23,28,42],"121":[5,44,11,23,28,42],"122":[5,44,11,23,28,36,42,122],"123":[5,44,4,11,20,23,28],"124":[5,44,11,20,28],"125":[5,44,11,20,28],"126":[5,44,11,20,28],"127":[5,44,11,20,28],"128":[5,44,11,20,28],"129":[5,44,11,20,28],"130":[5,44,11,20,28],"131":[5,44,11,20,28],"132":[5,44,11,20,28],"133":[5,44,11,20,28],"134":[5,44,11,20,28],"135":[5,44,11,20,28],"136":[5,44,11,20,28],"137":[5,44,11,20,28],"138":[5,44,11,20,28],"139":[5,44,11,20,28],"140":[5,44,11,20,28],"141":[5,44,11,20,28],"142":[5,44,11,20,28],"143":[5,44,11,20,28],"144":[5,44,4,23,58,62,11,20,28,110],"145":[5,44,4,23,58,62,11,20,28,110]},{"63":[1,5,46,23,11,12,28,25],"64":1,"65":1,"66":[1,5,46,11,12,28,25,23,58],"67":[1,57,5,46,11,12,28,25,23,58],"68":[1,5,46,11,12,28,25,23,58,68],"69":[1,5,46,11,26,27,12,69],"70":[1,5,46,11,23,28],"71":[1,5,46,11,28,23],"72":[1,5,46,11,28,23],"73":[1,5,46,11,28,23],"74":[1,5,46,11,12,23,28],"75":[1,5,46,11,23,26,27,28,75],"76":[1,5,46,11,12,28,15,4,26,27,18,31,32],"77":[1,5,46,11,12,28,15,4,26,27,18,31,32],"78":[1,5,46,11,12,28,15,4,26,27,18,31,32],"79":[1,5,46,11,12,28,15,4,26,27,18,31,32],"80":[1,5,46,11,12,28,15,4,26,27,18,31,32,10],"81":[1,5,46,11,12,28,15,4,26,27,18,31,32,10],"82":[1,5,46,11,12,28,15,4,26,27,18,31,32,10],"83":[1,5,46,11,12,28,15,4,26,27,18,31,32],"84":[1,5,46,11,12,28,15,4,26,27,18,31,32],"85":[1,5,46,11,12,23,28],"86":[1,5,46,11,23,12,28],"87":[1,5,46,28,23,11,25,87],"88":[1,5,46,11,12,26,27,23,28],"89":[1,5,46,11,12,26,27,23,28],"90":[1,5,46,11,23,12,28,31,90],"91":[1,5,46,11,28,23,12],"92":[1,5,46,11,26,27,23,28,10],"93":[1,5,46,26,27,12],"94":[1,5,46,11,23,12,28,26,27],"95":[1,5,46,11,12,23,28],"96":[1,5,46,11,12,23,28],"97":[1,5,46,11,12,28,15,4,26,27,18,31,32,10],"98":[1,5,46,11,23,12,28,26,27],"99":[1,5,46,11,23,12,28,26,27],"100":[1,5,46,11,12,28,15,4,26,27,18,31,32],"101":[1,5,46,11,12,28,15,4,26,27,18,31,32],"102":[1,5,46,11,12,26,27],"103":[1,5,46,11,12,26,27],"104":[1,5,46,11,12,26,27],"105":[1,5,46,11,12,26,27,28,105],"106":[1,5,46,41,11,12,26,27,23,28],"107":[1,5,46,26,27,54,11,23,28],"108":[1,5,46,26,27,54,11,23,28],"109":[1,5,46,4,26,27,54,11,23,28],"110":[1,5,46,4,25,23,58,26,27,54,11,28],"111":[1,5,46,26,27,54,11,23,28],"112":[1,5,46,26,27,54,11,23,28],"113":[1,5,46,26,27,54,11,23,28],"114":[1,5,46,26,27,54,11,23,28],"115":[1,5,46,26,27,54,11,23,28],"116":[1,5,46,26,27,54,11,23,28],"117":[1,5,46,26,27,54,11,23,28],"118":[1,5,46,11,12,26,27,23,28],"119":[1,5,46,11,12,26,27,23,28],"120":[1,5,46,11,12,26,27,23,28],"121":[1,5,46,11,12,26,27,23,28],"122":[1,5,46,11,12,26,27,23,28],"123":[1,5,46,4,26,27,54,11,23,28],"124":[1,5,46,11,12,28,49],"125":[1,5,46,11,12,28,49],"126":[1,5,46,11,12,28,49],"127":[1,5,46,11,12,28,49],"128":[1,5,46,11,12,28,49],"129":[1,5,46,11,12,28,49],"130":[1,5,46,11,12,28,49],"131":[1,5,46,11,12,28,49],"132":[1,5,46,11,12,28,49],"133":[1,5,46,11,12,28,49],"134":[1,5,46,11,12,28,49],"135":[1,5,46,11,12,28,49],"136":[1,5,46,11,12,28,49],"137":[1,5,46,11,12,28,49],"138":[1,5,46,11,12,28,49],"139":[1,5,46,11,12,28,49],"140":[1,5,46,11,12,28,49],"141":[1,5,46,11,12,28,49,31],"142":[1,5,46,11,28,31],"143":[1,5,46,11,12,28,49],"144":[1,5,46,4,25,23,58,26,27,54,11,28],"145":[1,5,46,4,25,23,58,26,27,54,11,28]},{"63":null,"64":null,"65":null,"66":null,"67":null,"68":null,"69":null,"70":null,"71":null,"72":null,"73":null,"74":null,"75":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":null,"86":null,"87":null,"88":null,"89":null,"90":null,"91":null,"92":null,"93":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":43,"103":43,"104":43,"105":105,"106":null,"107":null,"108":null,"109":null,"110":null,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"124":null,"125":null,"126":null,"127":null,"128":null,"129":null,"130":null,"131":null,"132":null,"133":null,"134":null,"135":null,"136":null,"137":null,"138":null,"139":null,"140":null,"141":null,"142":null,"143":null,"144":null,"145":null},{"63":null,"64":null,"65":null,"66":null,"67":null,"68":null,"69":null,"70":null,"71":null,"72":null,"73":null,"74":null,"75":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":null,"86":null,"87":null,"88":null,"89":null,"90":null,"91":null,"92":null,"93":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":null,"103":null,"104":null,"105":null,"106":null,"107":null,"108":null,"109":null,"110":null,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"124":null,"125":null,"126":null,"127":null,"128":null,"129":null,"130":null,"131":null,"132":null,"133":null,"134":null,"135":null,"136":null,"137":null,"138":null,"139":null,"140":null,"141":null,"142":null,"143":null,"144":null,"145":null},{"63":[22,28],"64":null,"65":null,"66":[28,22],"67":[28,22],"68":[28,22],"69":null,"70":[22,28],"71":[28,22],"72":[28,22],"73":[28,22],"74":[22,28],"75":[22,28],"76":28,"77":28,"78":28,"79":28,"80":28,"81":28,"82":28,"83":28,"84":28,"85":[22,28],"86":[22,28],"87":[28,22],"88":[22,28],"89":[22,28],"90":[22,28],"91":[28,22],"92":[22,28],"93":null,"94":[22,28],"95":[22,28],"96":[22,28],"97":28,"98":[22,28],"99":[22,28],"100":28,"101":28,"102":null,"103":null,"104":null,"105":28,"106":[22,28],"107":[22,28],"108":[22,28],"109":[22,28],"110":[22,28],"111":[22,28],"112":[22,28],"113":[22,28],"114":[22,28],"115":[22,28],"116":[22,28],"117":[22,28],"118":[22,28],"119":[22,28],"120":[22,28],"121":[22,28],"122":[22,28],"123":[22,28],"124":28,"125":28,"126":28,"127":28,"128":28,"129":28,"130":28,"131":28,"132":28,"133":28,"134":28,"135":28,"136":28,"137":28,"138":28,"139":28,"140":28,"141":28,"142":28,"143":28,"144":[22,28],"145":[22,28]},{"63":[46,20],"64":null,"65":null,"66":[46,20,66],"67":[46,20],"68":[46,20,66],"69":46,"70":[46,20],"71":[46,20],"72":[46,20],"73":[46,20],"74":[46,20],"75":[46,20,75],"76":[46,20,32],"77":[46,20,32,77],"78":[46,20,32],"79":[46,20,32],"80":[46,20,32,39],"81":[46,20,32,39],"82":[46,20,32,39],"83":[46,20,32],"84":[46,20,32],"85":[46,20],"86":[46,20],"87":[46,20,87],"88":[46,20,88],"89":[46,20],"90":[46,20],"91":[46,20],"92":[46,20],"93":46,"94":[46,20],"95":[46,20],"96":[46,20],"97":[46,20,32,39],"98":[46,20],"99":[46,20],"100":[46,20,32],"101":[46,20,32],"102":[46,20,43],"103":[46,20,43],"104":[46,20,43],"105":[46,20],"106":46,"107":[46,54,20],"108":[46,54,20],"109":[46,54,20],"110":[46,54,20,110],"111":[46,54,20],"112":[46,54,20],"113":[46,54,20],"114":[46,54,20],"115":[46,54,20],"116":[46,54,20],"117":[46,54,20],"118":46,"119":46,"120":46,"121":46,"122":46,"123":[46,54,20],"124":[46,20,49],"125":[46,20,49],"126":[46,20,49],"127":[46,20,49],"128":[46,20,49],"129":[46,20,49],"130":[46,20,49],"131":[46,20,49],"132":[46,20,49],"133":[46,20,49],"134":[46,20,49],"135":[46,20,49],"136":[46,20,49],"137":[46,20,49],"138":[46,20,49],"139":[46,20,49],"140":[46,20,49],"141":[46,20,49],"142":[46,20],"143":[46,20,49],"144":[46,54,20,110],"145":[46,54,20,110]},{"63":46,"64":null,"65":null,"66":[46,66],"67":46,"68":[46,66],"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":[46,75],"76":[46,32],"77":[46,32,77],"78":[46,32],"79":[46,32],"80":[46,32,39],"81":[46,32,39],"82":[46,32,39],"83":[46,32],"84":[46,32],"85":46,"86":46,"87":[46,87],"88":[46,88],"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":[46,32,39],"98":46,"99":46,"100":[46,32],"101":[46,32],"102":[46,43],"103":[46,43],"104":[46,43],"105":46,"106":46,"107":[46,54],"108":[46,54],"109":[46,54],"110":[46,54,110],"111":[46,54],"112":[46,54],"113":[46,54],"114":[46,54],"115":[46,54],"116":[46,54],"117":[46,54],"118":46,"119":46,"120":46,"121":46,"122":46,"123":[46,54],"124":[46,49],"125":[46,49],"126":[46,49],"127":[46,49],"128":[46,49],"129":[46,49],"130":[46,49],"131":[46,49],"132":[46,49],"133":[46,49],"134":[46,49],"135":[46,49],"136":[46,49],"137":[46,49],"138":[46,49],"139":[46,49],"140":[46,49],"141":[46,49],"142":46,"143":[46,49],"144":[46,54,110],"145":[46,54,110]},{"63":[46,20],"64":null,"65":null,"66":[46,20],"67":[46,20],"68":[46,20],"69":46,"70":[46,20,70],"71":[46,20],"72":[46,20],"73":[46,20],"74":[46,20],"75":[46,20],"76":[46,20,32,76],"77":[46,20,32,77],"78":[46,20,32],"79":[46,20,32],"80":[46,20,32,39],"81":[46,20,32,39],"82":[46,20,32,39],"83":[46,20,32],"84":[46,20,32],"85":[46,20],"86":[46,20],"87":[46,20],"88":[46,20],"89":[46,20],"90":[46,20],"91":[46,20,91],"92":[46,20],"93":46,"94":[46,20],"95":[46,20],"96":[46,20],"97":[46,20,32,39],"98":[46,20],"99":[46,20],"100":[46,20,32],"101":[46,20,32,101],"102":[46,20],"103":[46,20],"104":[46,20],"105":[46,20,105],"106":46,"107":[46,20],"108":[46,20],"109":[46,20],"110":[46,20],"111":[46,20],"112":[46,20],"113":[46,20],"114":[46,20],"115":[46,20],"116":[46,20],"117":[46,20],"118":46,"119":46,"120":46,"121":46,"122":46,"123":[46,20],"124":[46,20],"125":[46,20],"126":[46,20],"127":[46,20],"128":[46,20],"129":[46,20],"130":[46,20],"131":[46,20],"132":[46,20],"133":[46,20],"134":[46,20],"135":[46,20],"136":[46,20],"137":[46,20],"138":[46,20],"139":[46,20],"140":[46,20],"141":[46,20],"142":[46,20],"143":[46,20],"144":[46,20],"145":[46,20]},{"63":[1,9,5,22,24],"64":1,"65":1,"66":[1,9,5,22,24,66],"67":[1,9,5,22,24],"68":[1,9,5,22,24,66],"69":[1,9,5,69],"70":[1,9,5,22,24],"71":[1,9,5,22,24],"72":[1,9,5,22,24],"73":[1,9,5,22,24],"74":[1,9,5,22,24],"75":[1,9,5,22,24,75],"76":[1,9,5],"77":[1,9,5,61],"78":[1,9,5,61,78],"79":[1,9,5],"80":[1,9,5,10],"81":[1,9,5,10],"82":[1,9,5,10,82],"83":[1,9,5],"84":[1,9,5,84],"85":[1,9,5,22,24],"86":[1,9,5,22,24],"87":[1,9,5,22,24,87],"88":[1,9,5,22,24],"89":[1,9,5,22,24],"90":[1,9,5,22,24],"91":[1,9,5,22,24],"92":[1,9,5,22,24,10,92],"93":[1,9,5],"94":[1,9,5,22,24],"95":[1,9,5,22,24],"96":[1,9,5,22,24],"97":[1,9,5,10],"98":[1,9,5,22,24,59],"99":[1,9,5,22,24,60],"100":[1,9,5],"101":[1,9,5,101],"102":[1,9,5,7],"103":[1,9,5,7],"104":[1,9,5,7,104],"105":[1,9,5,105],"106":[1,9,5,22,24],"107":[1,9,5,22,24],"108":[1,9,5,22,24],"109":[1,9,5,22,24],"110":[1,9,5,22,24,110],"111":[1,9,5,22,24],"112":[1,9,5,22,24],"113":[1,9,5,22,24],"114":[1,9,5,22,24],"115":[1,9,5,22,24],"116":[1,9,5,22,24],"117":[1,9,5,22,24,117],"118":[1,9,5,22,24],"119":[1,9,5,22,24],"120":[1,9,5,22,24],"121":[1,9,5,22,24],"122":[1,9,5,22,24],"123":[1,9,5,22,24,53],"124":[1,9,5,49],"125":[1,9,5,49],"126":[1,9,5,49],"127":[1,9,5,49],"128":[1,9,5,49],"129":[1,9,5,49],"130":[1,9,5,49],"131":[1,9,5,49],"132":[1,9,5,49],"133":[1,9,5,49],"134":[1,9,5,49],"135":[1,9,5,49],"136":[1,9,5,49],"137":[1,9,5,49],"138":[1,9,5,49],"139":[1,9,5,49],"140":[1,9,5,49],"141":[1,9,5,49],"142":[1,9,5],"143":[1,9,5,49],"144":[1,9,5,22,24,110,59],"145":[1,9,5,22,24,110,60]},{"63":[9,22,28],"64":null,"65":null,"66":[9,28,22,66],"67":[9,28,22],"68":[9,28,22,66],"69":9,"70":[9,22,28],"71":[9,28,22],"72":[9,28,22],"73":[9,28,22],"74":[9,22,28],"75":[9,22,28,75],"76":[9,28,18],"77":[9,28,18,61],"78":[9,28,18,61],"79":[9,28,18],"80":[9,28,18,10],"81":[9,28,18,10],"82":[9,28,18,10],"83":[9,28,18],"84":[9,28,18,84],"85":[9,22,28,85],"86":[9,22,28,86],"87":[9,28,22,87],"88":[9,22,28],"89":[9,22,28],"90":[9,22,28,90],"91":[9,28,22],"92":[9,22,28,10,92],"93":9,"94":[9,22,28],"95":[9,22,28],"96":[9,22,28,96],"97":[9,28,18,10],"98":[9,22,28,59],"99":[9,22,28,60],"100":[9,28,18],"101":[9,28,18,101],"102":[9,7],"103":[9,7],"104":[9,7,104],"105":[9,28,105],"106":[9,22,28],"107":[9,22,28],"108":[9,22,28],"109":[9,22,28],"110":[9,22,28,110],"111":[9,22,28],"112":[9,22,28],"113":[9,22,28],"114":[9,22,28],"115":[9,22,28],"116":[9,22,28],"117":[9,22,28,117],"118":[9,22,28],"119":[9,22,28],"120":[9,22,28],"121":[9,22,28],"122":[9,22,28],"123":[9,22,28,53],"124":[9,28,49],"125":[9,28,49],"126":[9,28,49],"127":[9,28,49],"128":[9,28,49],"129":[9,28,49],"130":[9,28,49],"131":[9,28,49],"132":[9,28,49],"133":[9,28,49],"134":[9,28,49],"135":[9,28,49],"136":[9,28,49],"137":[9,28,49],"138":[9,28,49],"139":[9,28,49],"140":[9,28,49],"141":[9,28,49],"142":[9,28],"143":[9,28,49],"144":[9,22,28,110,59],"145":[9,22,28,110,60]},{"63":23,"64":null,"65":null,"66":23,"67":23,"68":23,"69":null,"70":23,"71":23,"72":23,"73":23,"74":23,"75":[23,75],"76":[4,52,76],"77":[4,52],"78":[4,52],"79":[4,52],"80":4,"81":4,"82":4,"83":4,"84":4,"85":23,"86":23,"87":23,"88":23,"89":23,"90":[23,90],"91":23,"92":[23,92],"93":null,"94":23,"95":23,"96":23,"97":4,"98":23,"99":23,"100":4,"101":4,"102":[7,43,102],"103":[7,43,103],"104":[7,43,104],"105":105,"106":23,"107":23,"108":23,"109":[4,23],"110":[4,23],"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":[4,23,53],"124":49,"125":49,"126":49,"127":49,"128":49,"129":49,"130":49,"131":49,"132":49,"133":49,"134":49,"135":49,"136":49,"137":49,"138":49,"139":49,"140":49,"141":49,"142":null,"143":49,"144":[4,23],"145":[4,23]},{"63":null,"64":null,"65":null,"66":null,"67":null,"68":null,"69":69,"70":null,"71":71,"72":[38,72],"73":38,"74":null,"75":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":null,"86":null,"87":null,"88":null,"89":null,"90":null,"91":null,"92":null,"93":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":null,"103":null,"104":null,"105":null,"106":null,"107":null,"108":null,"109":null,"110":null,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"124":null,"125":null,"126":null,"127":null,"128":null,"129":null,"130":null,"131":null,"132":null,"133":null,"134":null,"135":null,"136":null,"137":null,"138":null,"139":null,"140":null,"141":null,"142":null,"143":null,"144":null,"145":null},{"63":[5,12,63],"64":null,"65":null,"66":[5,12,66],"67":[5,12],"68":[5,12,66],"69":[5,12],"70":5,"71":5,"72":5,"73":5,"74":[5,12],"75":5,"76":[5,12,15,32,76],"77":[5,12,15,32],"78":[5,12,15,32],"79":[5,12,15,32],"80":[5,12,15,32,39],"81":[5,12,15,32,39],"82":[5,12,15,32,39],"83":[5,12,15,32],"84":[5,12,15,32],"85":[5,12],"86":[5,12],"87":5,"88":[5,12],"89":[5,12],"90":[5,12,90],"91":[5,12],"92":5,"93":[5,12],"94":[5,12],"95":[5,12],"96":[5,12],"97":[5,12,15,32,39],"98":[5,12],"99":[5,12],"100":[5,12,15,32],"101":[5,12,15,32],"102":[5,12],"103":[5,12],"104":[5,12],"105":[5,12],"106":[5,12],"107":5,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":5,"118":[5,12],"119":[5,12],"120":[5,12],"121":[5,12],"122":[5,12],"123":5,"124":[5,12],"125":[5,12],"126":[5,12],"127":[5,12],"128":[5,12],"129":[5,12],"130":[5,12],"131":[5,12],"132":[5,12],"133":[5,12],"134":[5,12],"135":[5,12],"136":[5,12],"137":[5,12],"138":[5,12],"139":[5,12],"140":[5,12],"141":[5,12],"142":5,"143":[5,12],"144":5,"145":5},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":[46,2],"77":[46,2],"78":[46,2],"79":[46,2],"80":[46,2],"81":[46,2],"82":[46,2],"83":[46,2],"84":[46,2],"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":[46,2],"98":46,"99":46,"100":[46,2],"101":[46,2],"102":46,"103":46,"104":46,"105":46,"106":46,"107":[46,2],"108":[46,2],"109":[46,2],"110":[46,2],"111":[46,2],"112":[46,2],"113":[46,2],"114":[46,2],"115":[46,2],"116":[46,2],"117":[46,2],"118":46,"119":46,"120":46,"121":46,"122":46,"123":[46,2],"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":[46,2],"145":[46,2]},{"63":null,"66":null,"67":null,"68":null,"69":null,"70":null,"71":null,"72":null,"73":null,"74":null,"75":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":85,"86":null,"87":null,"88":null,"89":null,"90":null,"91":null,"92":null,"93":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":null,"103":null,"104":null,"105":null,"106":null,"107":null,"108":null,"109":null,"110":null,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"124":null,"125":null,"126":null,"127":null,"128":null,"129":null,"130":null,"131":null,"132":null,"133":null,"134":null,"135":null,"136":null,"137":null,"138":null,"139":null,"140":null,"141":null,"142":null,"143":null,"144":null,"145":null},{"63":null,"66":null,"67":null,"68":null,"69":null,"70":null,"71":null,"72":null,"73":null,"74":null,"75":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":null,"86":null,"87":null,"88":null,"89":null,"90":null,"91":null,"92":null,"93":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":null,"103":null,"104":null,"105":105,"106":null,"107":null,"108":null,"109":null,"110":null,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"124":null,"125":null,"126":null,"127":null,"128":null,"129":null,"130":null,"131":null,"132":null,"133":null,"134":null,"135":null,"136":null,"137":null,"138":null,"139":null,"140":null,"141":null,"142":null,"143":null,"144":null,"145":null},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":[46,102],"103":[46,103],"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":46,"66":46,"67":46,"68":46,"69":46,"70":46,"71":46,"72":46,"73":46,"74":46,"75":46,"76":46,"77":46,"78":46,"79":46,"80":46,"81":46,"82":46,"83":46,"84":46,"85":46,"86":46,"87":46,"88":46,"89":46,"90":46,"91":46,"92":46,"93":46,"94":46,"95":46,"96":46,"97":46,"98":46,"99":46,"100":46,"101":46,"102":[46,102],"103":[46,103],"104":46,"105":46,"106":46,"107":46,"108":46,"109":46,"110":46,"111":46,"112":46,"113":46,"114":46,"115":46,"116":46,"117":46,"118":46,"119":46,"120":46,"121":46,"122":46,"123":46,"124":46,"125":46,"126":46,"127":46,"128":46,"129":46,"130":46,"131":46,"132":46,"133":46,"134":46,"135":46,"136":46,"137":46,"138":46,"139":46,"140":46,"141":46,"142":46,"143":46,"144":46,"145":46},{"63":null,"66":58,"67":58,"68":58,"69":null,"70":null,"71":null,"72":null,"73":null,"74":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":null,"86":null,"87":null,"88":null,"89":null,"90":null,"91":null,"92":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":null,"103":null,"104":null,"105":null,"106":null,"107":null,"108":null,"109":null,"110":58,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"129":null,"130":null,"131":null,"132":null,"133":null,"136":null,"137":null,"139":null,"140":null,"141":null,"142":null,"143":null,"144":58,"145":58},{"63":63,"66":66,"67":null,"68":[66,68],"70":70,"71":null,"72":null,"73":null,"74":null,"75":null,"85":null,"86":null,"87":null,"88":null,"89":null,"90":90,"91":91,"92":null,"94":null,"95":null,"96":null,"98":null,"99":null,"106":null,"107":null,"108":null,"109":null,"110":null,"111":null,"112":null,"113":null,"114":null,"115":null,"116":null,"117":null,"118":null,"119":null,"120":null,"121":null,"122":null,"123":null,"144":null,"145":null},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":[24,63],"66":[24,66],"67":[24,67],"68":[24,66,68],"70":[24,70],"71":24,"72":24,"73":24,"74":24,"75":24,"85":24,"86":24,"87":24,"88":24,"89":24,"90":[24,90],"91":[24,91],"92":24,"94":24,"95":24,"96":24,"98":[24,59],"99":24,"106":24,"107":24,"108":24,"109":24,"110":24,"111":24,"112":24,"113":24,"114":24,"115":24,"116":24,"117":24,"118":24,"119":24,"120":24,"121":24,"122":24,"123":24,"144":[24,59],"145":24},{"63":23,"66":23,"67":23,"68":23,"70":23,"71":23,"72":23,"73":23,"74":23,"75":23,"85":23,"86":23,"87":23,"88":23,"89":23,"90":23,"91":23,"92":23,"94":23,"95":23,"96":23,"98":23,"99":23,"106":23,"107":23,"108":23,"109":23,"110":23,"111":23,"112":23,"113":23,"114":23,"115":23,"116":23,"117":23,"118":23,"119":23,"120":23,"121":23,"122":23,"123":23,"144":23,"145":23},{"63":null,"66":null,"67":null,"68":null,"69":null,"74":null,"76":null,"77":null,"78":null,"79":null,"80":null,"81":null,"82":null,"83":null,"84":null,"85":null,"86":null,"88":null,"89":null,"90":null,"91":91,"93":null,"94":null,"95":null,"96":null,"97":null,"98":null,"99":null,"100":null,"101":null,"102":null,"103":null,"104":null,"105":null,"106":null,"118":null,"119":null,"120":null,"121":null,"122":null,"124":null,"125":null,"126":null,"127":null,"128":null,"129":null,"130":null,"131":null,"132":null,"133":null,"134":null,"135":null,"136":null,"137":null,"138":null,"139":null,"140":null,"141":null,"143":null},{"63":[25,63],"66":[25,66],"67":25,"68":[25,66],"87":[25,87],"110":25,"144":25,"145":25},{"63":[25,63],"66":[25,66],"67":25,"68":[25,66],"87":[25,87],"110":25,"144":25,"145":25},{"69":[27,69],"75":[27,75],"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":[27,92],"93":27,"94":27,"97":27,"98":27,"99":27,"100":[27,100],"101":27,"102":[27,43],"103":[27,43],"104":[27,43],"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"69":[27,69],"75":[27,75],"76":27,"77":27,"78":27,"79":27,"80":27,"81":27,"82":27,"83":27,"84":27,"88":27,"89":27,"92":[27,92],"93":27,"94":27,"97":27,"98":27,"99":27,"100":[27,100],"101":27,"102":[27,43],"103":[27,43],"104":[27,43],"105":27,"106":27,"107":27,"108":27,"109":27,"110":27,"111":27,"112":27,"113":27,"114":27,"115":27,"116":27,"117":27,"118":27,"119":27,"120":27,"121":27,"122":27,"123":27,"144":27,"145":27},{"76":32,"77":32,"78":32,"79":32,"80":32,"81":32,"82":32,"83":32,"84":32,"97":32,"100":32,"101":32,"109":null,"110":null,"123":null,"144":null,"145":null},{"76":52,"77":52,"78":52,"79":52,"80":null,"81":null,"82":82,"83":83,"84":null,"97":97,"100":null,"101":101},{"102":43,"103":43,"104":43}],aggregatedNames:["onInitializing","onInitialized","onCreation","onDetached","onAttached","onBeforePageOpen","updateInstanceToViewPort","removeInstanceFromViewPort","adjustInstanceToViewPort","switchToPreview","switchToDesign","onRemove","onPropertyChange","onPropertiesChanged","changeMobileSupportState","onContentSizeChange","onElementAddedToContainer","addFixeState","removeFixedState","adjustResizing","onContentTypeChanged","onDataReady","onBoundValueReady","onDataError","onImageBoxCreated","onStartEditing","onFinishEditing","onChildElementRemoved","onChildElementAdded","onDataSourceRefresh","setItem","initializeResizingGrip"]}}